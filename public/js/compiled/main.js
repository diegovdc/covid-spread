var $jscomp = {};
var shadow$provide = {};
(function(){
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(G){var w=0;return function(){return w<G.length?{done:!1,value:G[w++]}:{done:!0}}};$jscomp.arrayIterator=function(G){return{next:$jscomp.arrayIteratorImpl(G)}};$jscomp.makeIterator=function(G){var w="undefined"!=typeof Symbol&&Symbol.iterator&&G[Symbol.iterator];return w?w.call(G):$jscomp.arrayIterator(G)};
$jscomp.getGlobal=function(G){return"undefined"!=typeof window&&window===G?G:"undefined"!=typeof global&&null!=global?global:G};$jscomp.global=$jscomp.getGlobal(this);$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(G,w,I){G!=Array.prototype&&G!=Object.prototype&&(G[w]=I.value)};
$jscomp.polyfill=function(G,w,I,u){if(w){I=$jscomp.global;G=G.split(".");for(u=0;u<G.length-1;u++){var a=G[u];a in I||(I[a]={});I=I[a]}G=G[G.length-1];u=I[G];w=w(u);w!=u&&null!=w&&$jscomp.defineProperty(I,G,{configurable:!0,writable:!0,value:w})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(G){function w(){this.batch_=null}function I(b){return b instanceof a?b:new a(function(a,e){a(b)})}if(G&&!$jscomp.FORCE_POLYFILL_PROMISE)return G;w.prototype.asyncExecute=function(a){if(null==this.batch_){this.batch_=[];var b=this;this.asyncExecuteFunction(function(){b.executeBatch_()})}this.batch_.push(a)};var u=$jscomp.global.setTimeout;w.prototype.asyncExecuteFunction=function(a){u(a,0)};w.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=
this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var Sa=a[b];a[b]=null;try{Sa()}catch(t){this.asyncThrow_(t)}}}this.batch_=null};w.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var a=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(Sa){b.reject(Sa)}};a.prototype.createResolveAndReject_=function(){function a(a){return function(e){Sa||(Sa=!0,a.call(b,e))}}var b=this,
Sa=!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};a.prototype.resolveTo_=function(b){if(b===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof a)this.settleSameAsPromise_(b);else{a:switch(typeof b){case "object":var e=null!=b;break a;case "function":e=!0;break a;default:e=!1}e?this.resolveToNonPromiseObj_(b):this.fulfill_(b)}};a.prototype.resolveToNonPromiseObj_=function(a){var b=void 0;try{b=a.then}catch(Sa){this.reject_(Sa);return}"function"==
typeof b?this.settleSameAsThenable_(b,a):this.fulfill_(a)};a.prototype.reject_=function(a){this.settle_(2,a)};a.prototype.fulfill_=function(a){this.settle_(1,a)};a.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};a.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=0;a<this.onSettledCallbacks_.length;++a)b.asyncExecute(this.onSettledCallbacks_[a]);
this.onSettledCallbacks_=null}};var b=new w;a.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};a.prototype.settleSameAsThenable_=function(a,b){var e=this.createResolveAndReject_();try{a.call(b,e.resolve,e.reject)}catch(t){e.reject(t)}};a.prototype.then=function(b,H){function e(a,b){return"function"==typeof a?function(b){try{t(a(b))}catch(F){C(F)}}:b}var t,C,u=new a(function(a,b){t=a;C=b});this.callWhenSettled_(e(b,t),e(H,C));return u};
a.prototype.catch=function(a){return this.then(void 0,a)};a.prototype.callWhenSettled_=function(a,H){function e(){switch(t.state_){case 1:a(t.result_);break;case 2:H(t.result_);break;default:throw Error("Unexpected state: "+t.state_);}}var t=this;null==this.onSettledCallbacks_?b.asyncExecute(e):this.onSettledCallbacks_.push(e)};a.resolve=I;a.reject=function(b){return new a(function(a,e){e(b)})};a.race=function(b){return new a(function(a,e){for(var t=$jscomp.makeIterator(b),H=t.next();!H.done;H=t.next())I(H.value).callWhenSettled_(a,
e)})};a.all=function(b){var e=$jscomp.makeIterator(b),Sa=e.next();return Sa.done?I([]):new a(function(a,b){function t(b){return function(e){H[b]=e;C--;0==C&&a(H)}}var H=[],C=0;do H.push(void 0),C++,I(Sa.value).callWhenSettled_(t(H.length-1),b),Sa=e.next();while(!Sa.done)})};return a},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(G,w){this.$jscomp$symbol$id_=G;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:w})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function G(I){if(this instanceof G)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(I||"")+"_"+w++,I)}var w=0;return G}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var G=$jscomp.global.Symbol.iterator;G||(G=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[G]&&$jscomp.defineProperty(Array.prototype,G,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var G=$jscomp.global.Symbol.asyncIterator;G||(G=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(G){$jscomp.initSymbolIterator();G={next:G};G[$jscomp.global.Symbol.iterator]=function(){return this};return G};$jscomp.underscoreProtoCanBeSet=function(){var G={a:!0},w={};try{return w.__proto__=G,w.a}catch(I){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(G,w){G.__proto__=w;if(G.__proto__!==w)throw new TypeError(G+" is not extensible");return G}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(G){if(!(G instanceof Object))throw new TypeError("Iterator result "+G+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(G){this.yieldResult=G};$jscomp.generator.Context.prototype.throw_=function(G){this.abruptCompletion_={exception:G,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(G){this.abruptCompletion_={return:G};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(G){this.abruptCompletion_={jumpTo:G};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(G,w){this.nextAddress=w;return{value:G}};$jscomp.generator.Context.prototype.yieldAll=function(G,w){G=$jscomp.makeIterator(G);var I=G.next();$jscomp.generator.ensureIteratorResultIsObject_(I);if(I.done)this.yieldResult=I.value,this.nextAddress=w;else return this.yieldAllIterator_=G,this.yield(I.value,w)};
$jscomp.generator.Context.prototype.jumpTo=function(G){this.nextAddress=G};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(G,w){this.catchAddress_=G;void 0!=w&&(this.finallyAddress_=w)};$jscomp.generator.Context.prototype.setFinallyBlock=function(G){this.catchAddress_=0;this.finallyAddress_=G||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(G,w){this.nextAddress=G;this.catchAddress_=w||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(G){this.catchAddress_=G||0;G=this.abruptCompletion_.exception;this.abruptCompletion_=null;return G};$jscomp.generator.Context.prototype.enterFinallyBlock=function(G,w,I){I?this.finallyContexts_[I]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=G||0;this.finallyAddress_=w||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(G,w){w=this.finallyContexts_.splice(w||0)[0];if(w=this.abruptCompletion_=this.abruptCompletion_||w){if(w.isException)return this.jumpToErrorHandler_();void 0!=w.jumpTo&&this.finallyAddress_<w.jumpTo?(this.nextAddress=w.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=G};$jscomp.generator.Context.prototype.forIn=function(G){return new $jscomp.generator.Context.PropertyIterator(G)};
$jscomp.generator.Context.PropertyIterator=function(G){this.object_=G;this.properties_=[];for(var w in G)this.properties_.push(w);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var G=this.properties_.pop();if(G in this.object_)return G}return null};$jscomp.generator.Engine_=function(G){this.context_=new $jscomp.generator.Context;this.program_=G};
$jscomp.generator.Engine_.prototype.next_=function(G){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,G,this.context_.next_);this.context_.next_(G);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(G){this.context_.start_();var w=this.context_.yieldAllIterator_;if(w)return this.yieldAllStep_("return"in w?w["return"]:function(w){return{value:w,done:!0}},G,this.context_.return);this.context_.return(G);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(G){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],G,this.context_.next_);this.context_.throw_(G);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(G,w,I){try{var u=G.call(this.context_.yieldAllIterator_,w);$jscomp.generator.ensureIteratorResultIsObject_(u);if(!u.done)return this.context_.stop_(),u;var a=u.value}catch(b){return this.context_.yieldAllIterator_=null,this.context_.throw_(b),this.nextStep_()}this.context_.yieldAllIterator_=null;I.call(this.context_,a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var G=this.program_(this.context_);if(G)return this.context_.stop_(),{value:G.value,done:!1}}catch(w){this.context_.yieldResult=void 0,this.context_.throw_(w)}this.context_.stop_();if(this.context_.abruptCompletion_){G=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(G.isException)throw G.exception;return{value:G.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(G){this.next=function(w){return G.next_(w)};this.throw=function(w){return G.throw_(w)};this.return=function(w){return G.return_(w)};$jscomp.initSymbolIterator();this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(G,w){w=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(w));$jscomp.setPrototypeOf&&$jscomp.setPrototypeOf(w,G.prototype);return w};
$jscomp.asyncExecutePromiseGenerator=function(G){function w(u){return G.next(u)}function I(u){return G.throw(u)}return new Promise(function(u,a){function b(e){e.done?u(e.value):Promise.resolve(e.value).then(w,I).then(b,a)}b(G.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(G){return $jscomp.asyncExecutePromiseGenerator(G())};$jscomp.asyncExecutePromiseGeneratorProgram=function(G){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(G)))};
shadow$provide[0]=function(G,w,I,u){var a=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable;I.exports=function(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;var b={};for(a=0;10>a;a++)b["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var e={};"abcdefghijklmnopqrst".split("").forEach(function(a){e[a]=
a});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},e)).join("")?!1:!0}catch(C){return!1}}()?Object.assign:function(H,Sa){if(null===H||void 0===H)throw new TypeError("Object.assign cannot be called with null or undefined");var t=Object(H);for(var C,u=1;u<arguments.length;u++){var P=Object(arguments[u]);for(var ea in P)b.call(P,ea)&&(t[ea]=P[ea]);if(a){C=a(P);for(var T=0;T<C.length;T++)e.call(P,C[T])&&(t[C[T]]=P[C[T]])}}return t}};
shadow$provide[1]=function(G,w,I,u){function a(a){for(var b="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+a,d=1;d<arguments.length;d++)b+="\x26args[]\x3d"+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function b(a,b,d){this.props=a;this.context=b;this.refs=va;this.updater=d||ia}function e(){}function H(a,b,d){this.props=a;this.context=b;this.refs=
va;this.updater=d||ia}function Sa(a,b,c){var M,Q={},ha=null,la=null;if(null!=b)for(M in void 0!==b.ref&&(la=b.ref),void 0!==b.key&&(ha=""+b.key),b)g.call(b,M)&&!d.hasOwnProperty(M)&&(Q[M]=b[M]);var h=arguments.length-2;if(1===h)Q.children=c;else if(1<h){for(var U=Array(h),e=0;e<h;e++)U[e]=arguments[e+2];Q.children=U}if(a&&a.defaultProps)for(M in h=a.defaultProps,h)void 0===Q[M]&&(Q[M]=h[M]);return{$$typeof:N,type:a,key:ha,ref:la,props:Q,_owner:qa.current}}function t(a,b){return{$$typeof:N,type:a.type,
key:b,ref:a.ref,props:a.props,_owner:a._owner}}function C(a){return"object"===typeof a&&null!==a&&a.$$typeof===N}function cc(a){var b={"\x3d":"\x3d0",":":"\x3d2"};return"$"+(""+a).replace(/[=:]/g,function(a){return b[a]})}function P(a,b,d,g){if(Q.length){var c=Q.pop();c.result=a;c.keyPrefix=b;c.func=d;c.context=g;c.count=0;return c}return{result:a,keyPrefix:b,func:d,context:g,count:0}}function ea(a){a.result=null;a.keyPrefix=null;a.func=null;a.context=null;a.count=0;10>Q.length&&Q.push(a)}function T(b,
d,g,c){var M=typeof b;if("undefined"===M||"boolean"===M)b=null;var Q=!1;if(null===b)Q=!0;else switch(M){case "string":case "number":Q=!0;break;case "object":switch(b.$$typeof){case N:case D:Q=!0}}if(Q)return g(c,b,""===d?"."+W(b,0):d),1;Q=0;d=""===d?".":d+":";if(Array.isArray(b))for(var la=0;la<b.length;la++){M=b[la];var ha=d+W(M,la);Q+=T(M,ha,g,c)}else if(null===b||"object"!==typeof b?ha=null:(ha=B&&b[B]||b["@@iterator"],ha="function"===typeof ha?ha:null),"function"===typeof ha)for(b=ha.call(b),
la=0;!(M=b.next()).done;)M=M.value,ha=d+W(M,la++),Q+=T(M,ha,g,c);else if("object"===M)throw g=""+b,Error(a(31,"[object Object]"===g?"object with keys {"+Object.keys(b).join(", ")+"}":g,""));return Q}function F(a,b,d){return null==a?0:T(a,"",b,d)}function W(a,b){return"object"===typeof a&&null!==a&&null!=a.key?cc(a.key):b.toString(36)}function r(a,b){a.func.call(a.context,b,a.count++)}function S(a,b,d){var g=a.result,c=a.keyPrefix;a=a.func.call(a.context,b,a.count++);Array.isArray(a)?z(a,g,d,function(a){return a}):
null!=a&&(C(a)&&(a=t(a,c+(!a.key||b&&b.key===a.key?"":(""+a.key).replace(M,"$\x26/")+"/")+d)),g.push(a))}function z(a,b,d,g,c){var Q="";null!=d&&(Q=(""+d).replace(M,"$\x26/")+"/");b=P(b,Q,g,c);F(a,S,b);ea(b)}function J(){var b=la.current;if(null===b)throw Error(a(321));return b}var p=w(0),k="function"===typeof Symbol&&Symbol.for,N=k?Symbol.for("react.element"):60103,D=k?Symbol.for("react.portal"):60106;G=k?Symbol.for("react.fragment"):60107;w=k?Symbol.for("react.strict_mode"):60108;I=k?Symbol.for("react.profiler"):
60114;var O=k?Symbol.for("react.provider"):60109,c=k?Symbol.for("react.context"):60110,h=k?Symbol.for("react.forward_ref"):60112,ba=k?Symbol.for("react.suspense"):60113,L=k?Symbol.for("react.memo"):60115,ma=k?Symbol.for("react.lazy"):60116,B="function"===typeof Symbol&&Symbol.iterator,ia={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},va={};b.prototype.isReactComponent={};b.prototype.setState=function(b,d){if("object"!==
typeof b&&"function"!==typeof b&&null!=b)throw Error(a(85));this.updater.enqueueSetState(this,b,d,"setState")};b.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};e.prototype=b.prototype;k=H.prototype=new e;k.constructor=H;p(k,b.prototype);k.isPureReactComponent=!0;var qa={current:null},g=Object.prototype.hasOwnProperty,d={key:!0,ref:!0,__self:!0,__source:!0},M=/\/+/g,Q=[],la={current:null};k={ReactCurrentDispatcher:la,ReactCurrentBatchConfig:{suspense:null},
ReactCurrentOwner:qa,IsSomeRendererActing:{current:!1},assign:p};u.Children={map:function(a,b,d){if(null==a)return a;var g=[];z(a,g,null,b,d);return g},forEach:function(a,b,d){if(null==a)return a;b=P(null,null,b,d);F(a,r,b);ea(b)},count:function(a){return F(a,function(){return null},null)},toArray:function(a){var b=[];z(a,b,null,function(a){return a});return b},only:function(b){if(!C(b))throw Error(a(143));return b}};u.Component=b;u.Fragment=G;u.Profiler=I;u.PureComponent=H;u.StrictMode=w;u.Suspense=
ba;u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k;u.cloneElement=function(b,c,M){if(null===b||void 0===b)throw Error(a(267,b));var Q=p({},b.props),la=b.key,h=b.ref,Ea=b._owner;if(null!=c){void 0!==c.ref&&(h=c.ref,Ea=qa.current);void 0!==c.key&&(la=""+c.key);if(b.type&&b.type.defaultProps)var ha=b.type.defaultProps;for(U in c)g.call(c,U)&&!d.hasOwnProperty(U)&&(Q[U]=void 0===c[U]&&void 0!==ha?ha[U]:c[U])}var U=arguments.length-2;if(1===U)Q.children=M;else if(1<U){ha=Array(U);for(var e=0;e<
U;e++)ha[e]=arguments[e+2];Q.children=ha}return{$$typeof:N,type:b.type,key:la,ref:h,props:Q,_owner:Ea}};u.createContext=function(a,b){void 0===b&&(b=null);a={$$typeof:c,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:O,_context:a};return a.Consumer=a};u.createElement=Sa;u.createFactory=function(a){var b=Sa.bind(null,a);b.type=a;return b};u.createRef=function(){return{current:null}};u.forwardRef=function(a){return{$$typeof:h,
render:a}};u.isValidElement=C;u.lazy=function(a){return{$$typeof:ma,_ctor:a,_status:-1,_result:null}};u.memo=function(a,b){return{$$typeof:L,type:a,compare:void 0===b?null:b}};u.useCallback=function(a,b){return J().useCallback(a,b)};u.useContext=function(a,b){return J().useContext(a,b)};u.useDebugValue=function(){};u.useEffect=function(a,b){return J().useEffect(a,b)};u.useImperativeHandle=function(a,b,d){return J().useImperativeHandle(a,b,d)};u.useLayoutEffect=function(a,b){return J().useLayoutEffect(a,
b)};u.useMemo=function(a,b){return J().useMemo(a,b)};u.useReducer=function(a,b,d){return J().useReducer(a,b,d)};u.useRef=function(a){return J().useRef(a)};u.useState=function(a){return J().useState(a)};u.version="16.13.1"};
shadow$provide[5]=function(G,w,I,u){I.exports=w(1)};
shadow$provide[6]=function(G,w,I,u){I.exports={}};
shadow$provide[7]=function(G,w,I,u){I.exports=function(a,b,e,H,u,t,C,w){if(!a){if(void 0===b)a=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var P=[e,H,u,t,C,w],ea=0;a=Error(b.replace(/%s/g,function(){return P[ea++]}));a.name="Invariant Violation"}a.framesToPop=1;throw a;}}};
shadow$provide[10]=function(G,w,I,u){var a=w(0),b=w(6),e=w(7);I.exports=function(H,u,t){function C(a,b){if(b){e("function"!==typeof b,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object.");e(!u(b),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var k=a.prototype,p=k.__reactAutoBindPairs;b.hasOwnProperty("mixins")&&r.mixins(a,b.mixins);for(var c in b)if(b.hasOwnProperty(c)&&"mixins"!==
c){var h=b[c],ba=k.hasOwnProperty(c),L=ba,N=c,B=F.hasOwnProperty(N)?F[N]:null;J.hasOwnProperty(N)&&e("OVERRIDE_BASE"===B,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",N);L&&e("DEFINE_MANY"===B||"DEFINE_MANY_MERGED"===B,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",N);if(r.hasOwnProperty(c))r[c](a,h);else L=F.hasOwnProperty(c),
"function"!==typeof h||L||ba||!1===b.autobind?ba?(ba=F[c],e(L&&("DEFINE_MANY_MERGED"===ba||"DEFINE_MANY"===ba),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",ba,c),"DEFINE_MANY_MERGED"===ba?k[c]=P(k[c],h):"DEFINE_MANY"===ba&&(k[c]=ea(k[c],h))):k[c]=h:(p.push(c,h),k[c]=h)}}}function Sa(a,b){e(a&&b&&"object"===typeof a&&"object"===typeof b,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var k in b)b.hasOwnProperty(k)&&(e(void 0===a[k],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",
k),a[k]=b[k]);return a}function P(a,b){return function(){var e=a.apply(this,arguments),k=b.apply(this,arguments);if(null==e)return k;if(null==k)return e;var c={};Sa(c,e);Sa(c,k);return c}}function ea(a,b){return function(){a.apply(this,arguments);b.apply(this,arguments)}}var T=[],F={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",
render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},W={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},r={displayName:function(a,
b){a.displayName=b},mixins:function(a,b){if(b)for(var e=0;e<b.length;e++)C(a,b[e])},childContextTypes:function(b,e){b.childContextTypes=a({},b.childContextTypes,e)},contextTypes:function(b,e){b.contextTypes=a({},b.contextTypes,e)},getDefaultProps:function(a,b){a.getDefaultProps=a.getDefaultProps?P(a.getDefaultProps,b):b},propTypes:function(b,e){b.propTypes=a({},b.propTypes,e)},statics:function(a,b){a:if(b)for(var k in b){var p=b[k];if(b.hasOwnProperty(k)){e(!(k in r),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',
k);if(k in a){b=W.hasOwnProperty(k)?W[k]:null;e("DEFINE_MANY_MERGED"===b,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",k);a[k]=P(a[k],p);break a}a[k]=p}}},autobind:function(){}},S={componentDidMount:function(){this.__isMounted=!0}},z={componentWillUnmount:function(){this.__isMounted=!1}},J={replaceState:function(a,b){this.updater.enqueueReplaceState(this,a,b)},isMounted:function(){return!!this.__isMounted}},p=function(){};a(p.prototype,
H.prototype,J);return function(a){var k=function(a,c,h){if(this.__reactAutoBindPairs.length)for(var p=this.__reactAutoBindPairs,O=0;O<p.length;O+=2){var r=p[O];var B=p[O+1].bind(this);this[r]=B}this.props=a;this.context=c;this.refs=b;this.updater=h||t;this.state=null;a=this.getInitialState?this.getInitialState():null;e("object"===typeof a&&!Array.isArray(a),"%s.getInitialState(): must return an object or null",k.displayName||"ReactCompositeComponent");this.state=a};k.prototype=new p;k.prototype.constructor=
k;k.prototype.__reactAutoBindPairs=[];T.forEach(C.bind(null,k));C(k,S);C(k,a);C(k,z);k.getDefaultProps&&(k.defaultProps=k.getDefaultProps());e(k.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var r in F)k.prototype[r]||(k.prototype[r]=null);return k}}};
shadow$provide[11]=function(G,w,I,u){G=w(5);w=w(10);if("undefined"===typeof G)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");u=(new G.Component).updater;I.exports=w(G.Component,G.isValidElement,u)};
shadow$provide[12]=function(G,w,I,u){function a(a,b){var d=a.length;a.push(b);a:for(;;){var g=d-1>>>1,c=a[g];if(void 0!==c&&0<H(c,b))a[g]=b,a[d]=c,d=g;else break a}}function b(a){a=a[0];return void 0===a?null:a}function e(a){var b=a[0];if(void 0!==b){var d=a.pop();if(d!==b){a[0]=d;var g=0,c=a.length;a:for(;g<c;){var M=2*(g+1)-1,Q=a[M],la=M+1,h=a[la];if(void 0!==Q&&0>H(Q,d))void 0!==h&&0>H(h,Q)?(a[g]=h,a[la]=d,g=la):(a[g]=Q,a[M]=d,g=M);else if(void 0!==h&&0>H(h,d))a[g]=h,a[la]=d,g=la;else break a}}return b}return null}
function H(a,b){var d=a.sortIndex-b.sortIndex;return 0!==d?d:a.id-b.id}function Sa(d){for(var g=b(ia);null!==g;){if(null===g.callback)e(ia);else if(g.startTime<=d)e(ia),g.sortIndex=g.expirationTime,a(B,g);else break;g=b(ia)}}function t(a){Q=!1;Sa(a);if(!M)if(null!==b(B))M=!0,W(C);else{var d=b(ia);null!==d&&r(t,d.startTime-a)}}function C(a,c){M=!1;Q&&(Q=!1,S());d=!0;var la=g;try{Sa(c);for(qa=b(B);null!==qa&&(!(qa.expirationTime>c)||a&&!z());){var h=qa.callback;if(null!==h){qa.callback=null;g=qa.priorityLevel;
var k=h(qa.expirationTime<=c);c=u.unstable_now();"function"===typeof k?qa.callback=k:qa===b(B)&&e(B);Sa(c)}else e(B);qa=b(B)}if(null!==qa)var p=!0;else{var O=b(ia);null!==O&&r(t,O.startTime-c);p=!1}return p}finally{qa=null,g=la,d=!1}}function cc(a){switch(a){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1E4;default:return 5E3}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var P=null,ea=null,T=function(){if(null!==P)try{var a=u.unstable_now();P(!0,a);
P=null}catch(Wb){throw setTimeout(T,0),Wb;}},F=Date.now();u.unstable_now=function(){return Date.now()-F};var W=function(a){null!==P?setTimeout(W,0,a):(P=a,setTimeout(T,0))};var r=function(a,b){ea=setTimeout(a,b)};var S=function(){clearTimeout(ea)};var z=function(){return!1};G=u.unstable_forceFrameRate=function(){}}else{var J=window.performance,p=window.Date,k=window.setTimeout,N=window.clearTimeout;"undefined"!==typeof console&&(G=window.cancelAnimationFrame,"function"!==typeof window.requestAnimationFrame&&
console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof G&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));if("object"===typeof J&&"function"===typeof J.now)u.unstable_now=function(){return J.now()};else{var D=p.now();u.unstable_now=function(){return p.now()-D}}var O=!1,c=null,h=
-1,ba=5,L=0;z=function(){return u.unstable_now()>=L};G=function(){};u.unstable_forceFrameRate=function(a){0>a||125<a?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):ba=0<a?Math.floor(1E3/a):5};w=new MessageChannel;var ma=w.port2;w.port1.onmessage=function(){if(null!==c){var a=u.unstable_now();L=a+ba;try{c(!0,a)?ma.postMessage(null):(O=!1,c=null)}catch(Wb){throw ma.postMessage(null),Wb;}}else O=!1};W=function(a){c=a;
O||(O=!0,ma.postMessage(null))};r=function(a,b){h=k(function(){a(u.unstable_now())},b)};S=function(){N(h);h=-1}}var B=[],ia=[],va=1,qa=null,g=3,d=!1,M=!1,Q=!1;u.unstable_IdlePriority=5;u.unstable_ImmediatePriority=1;u.unstable_LowPriority=4;u.unstable_NormalPriority=3;u.unstable_Profiling=null;u.unstable_UserBlockingPriority=2;u.unstable_cancelCallback=function(a){a.callback=null};u.unstable_continueExecution=function(){M||d||(M=!0,W(C))};u.unstable_getCurrentPriorityLevel=function(){return g};u.unstable_getFirstCallbackNode=
function(){return b(B)};u.unstable_next=function(a){switch(g){case 1:case 2:case 3:var b=3;break;default:b=g}var d=g;g=b;try{return a()}finally{g=d}};u.unstable_pauseExecution=function(){};u.unstable_requestPaint=G;u.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var d=g;g=a;try{return b()}finally{g=d}};u.unstable_scheduleCallback=function(g,c,h){var e=u.unstable_now();if("object"===typeof h&&null!==h){var la=h.delay;la="number"===typeof la&&
0<la?e+la:e;h="number"===typeof h.timeout?h.timeout:cc(g)}else h=cc(g),la=e;h=la+h;g={id:va++,callback:c,priorityLevel:g,startTime:la,expirationTime:h,sortIndex:-1};la>e?(g.sortIndex=la,a(ia,g),null===b(B)&&g===b(ia)&&(Q?S():Q=!0,r(t,la-e))):(g.sortIndex=h,a(B,g),M||d||(M=!0,W(C)));return g};u.unstable_shouldYield=function(){var a=u.unstable_now();Sa(a);var d=b(B);return d!==qa&&null!==qa&&null!==d&&null!==d.callback&&d.startTime<=a&&d.expirationTime<qa.expirationTime||z()};u.unstable_wrapCallback=
function(a){var b=g;return function(){var d=g;g=b;try{return a.apply(this,arguments)}finally{g=d}}}};
shadow$provide[14]=function(G,w,I,u){I.exports=w(12)};
shadow$provide[15]=function(G,w,I,u){function a(q){for(var f="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+q,a=1;a<arguments.length;a++)f+="\x26args[]\x3d"+encodeURIComponent(arguments[a]);return"Minified React error #"+q+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function b(q,f,a,n,b,y,d,g,m){var R=Array.prototype.slice.call(arguments,3);try{f.apply(a,R)}catch(Hj){this.onError(Hj)}}function e(q,f,a,n,
y,d,g,m,l){ng=!1;og=null;b.apply(Li,arguments)}function H(q,f,n,b,y,d,g,m,l){e.apply(this,arguments);if(ng){if(ng){var R=og;ng=!1;og=null}else throw Error(a(198));pg||(pg=!0,Sh=R)}}function Sa(q,f,a){var R=q.type||"unknown-event";q.currentTarget=Mi(a);H(R,f,void 0,q);q.currentTarget=null}function t(){if(qg)for(var q in Tf){var f=Tf[q],n=qg.indexOf(q);if(!(-1<n))throw Error(a(96,q));if(!Uf[n]){if(!f.extractEvents)throw Error(a(97,q));Uf[n]=f;n=f.eventTypes;for(var b in n){var y=void 0,d=n[b],g=f,m=
b;if(ah.hasOwnProperty(m))throw Error(a(99,m));ah[m]=d;var l=d.phasedRegistrationNames;if(l){for(y in l)l.hasOwnProperty(y)&&C(l[y],g,m);y=!0}else d.registrationName?(C(d.registrationName,g,m),y=!0):y=!1;if(!y)throw Error(a(98,b,q));}}}}function C(q,f,n){if(ff[q])throw Error(a(100,q));ff[q]=f;rg[q]=f.eventTypes[n].dependencies}function cc(q){var f=!1,n;for(n in q)if(q.hasOwnProperty(n)){var b=q[n];if(!Tf.hasOwnProperty(n)||Tf[n]!==b){if(Tf[n])throw Error(a(102,n));Tf[n]=b;f=!0}}f&&t()}function P(q){if(q=
Ni(q)){if("function"!==typeof Th)throw Error(a(280));var f=q.stateNode;f&&(f=bh(f),Th(q.stateNode,q.type,f))}}function ea(q){Vf?Wf?Wf.push(q):Wf=[q]:Vf=q}function T(){if(Vf){var q=Vf,f=Wf;Wf=Vf=null;P(q);if(f)for(q=0;q<f.length;q++)P(f[q])}}function F(q,f){return q(f)}function W(q,f,a,n,b){return q(f,a,n,b)}function r(){}function S(){if(null!==Vf||null!==Wf)r(),T()}function z(q,f,a){if(ch)return q(f,a);ch=!0;try{return Oi(q,f,a)}finally{ch=!1,S()}}function J(q){if(Pi.call(Uh,q))return!0;if(Pi.call(te,
q))return!1;if(gf.test(q))return Uh[q]=!0;te[q]=!0;return!1}function p(q,f,a,n){if(null!==a&&0===a.type)return!1;switch(typeof f){case "function":case "symbol":return!0;case "boolean":if(n)return!1;if(null!==a)return!a.acceptsBooleans;q=q.toLowerCase().slice(0,5);return"data-"!==q&&"aria-"!==q;default:return!1}}function k(q,f,a,n){if(null===f||"undefined"===typeof f||p(q,f,a,n))return!0;if(n)return!1;if(null!==a)switch(a.type){case 3:return!f;case 4:return!1===f;case 5:return isNaN(f);case 6:return isNaN(f)||
1>f}return!1}function N(q,f,a,n,b,y){this.acceptsBooleans=2===f||3===f||4===f;this.attributeName=n;this.attributeNamespace=b;this.mustUseProperty=a;this.propertyName=q;this.type=f;this.sanitizeURL=y}function D(q){return q[1].toUpperCase()}function O(q,f,a,n){var R=fd.hasOwnProperty(f)?fd[f]:null;(null!==R?0===R.type:n?0:2<f.length&&("o"===f[0]||"O"===f[0])&&("n"===f[1]||"N"===f[1]))||(k(f,a,R,n)&&(a=null),n||null===R?J(f)&&(null===a?q.removeAttribute(f):q.setAttribute(f,""+a)):R.mustUseProperty?q[R.propertyName]=
null===a?3===R.type?!1:"":a:(f=R.attributeName,n=R.attributeNamespace,null===a?q.removeAttribute(f):(R=R.type,a=3===R||4===R&&!0===a?"":""+a,n?q.setAttributeNS(n,f,a):q.setAttribute(f,a))))}function c(q){if(null===q||"object"!==typeof q)return null;q=Qi&&q[Qi]||q["@@iterator"];return"function"===typeof q?q:null}function h(q){if(-1===q._status){q._status=0;var f=q._ctor;f=f();q._result=f;f.then(function(f){0===q._status&&(f=f.default,q._status=1,q._result=f)},function(f){0===q._status&&(q._status=
2,q._result=f)})}}function ba(q){if(null==q)return null;if("function"===typeof q)return q.displayName||q.name||null;if("string"===typeof q)return q;switch(q){case hf:return"Fragment";case Xf:return"Portal";case dh:return"Profiler";case eh:return"StrictMode";case sg:return"Suspense";case Vh:return"SuspenseList"}if("object"===typeof q)switch(q.$$typeof){case tg:return"Context.Consumer";case fh:return"Context.Provider";case gh:var f=q.render;f=f.displayName||f.name||"";return q.displayName||(""!==f?
"ForwardRef("+f+")":"ForwardRef");case Wh:return ba(q.type);case Ri:return ba(q.render);case Si:if(q=1===q._status?q._result:null)return ba(q)}return null}function L(q){var f="";do{a:switch(q.tag){case 3:case 4:case 6:case 7:case 10:case 9:var a="";break a;default:var n=q._debugOwner,b=q._debugSource,y=ba(q.type);a=null;n&&(a=ba(n.type));n=y;y="";b?y=" (at "+b.fileName.replace(Ij,"")+":"+b.lineNumber+")":a&&(y=" (created by "+a+")");a="\n    in "+(n||"Unknown")+y}f+=a;q=q.return}while(q);return f}
function ma(q){switch(typeof q){case "boolean":case "number":case "object":case "string":case "undefined":return q;default:return""}}function B(q){var f=q.type;return(q=q.nodeName)&&"input"===q.toLowerCase()&&("checkbox"===f||"radio"===f)}function ia(q){var f=B(q)?"checked":"value",a=Object.getOwnPropertyDescriptor(q.constructor.prototype,f),n=""+q[f];if(!q.hasOwnProperty(f)&&"undefined"!==typeof a&&"function"===typeof a.get&&"function"===typeof a.set){var b=a.get,y=a.set;Object.defineProperty(q,
f,{configurable:!0,get:function(){return b.call(this)},set:function(q){n=""+q;y.call(this,q)}});Object.defineProperty(q,f,{enumerable:a.enumerable});return{getValue:function(){return n},setValue:function(q){n=""+q},stopTracking:function(){q._valueTracker=null;delete q[f]}}}}function va(q){q._valueTracker||(q._valueTracker=ia(q))}function qa(q){if(!q)return!1;var f=q._valueTracker;if(!f)return!0;var a=f.getValue(),n="";q&&(n=B(q)?q.checked?"true":"false":q.value);q=n;return q!==a?(f.setValue(q),!0):
!1}function g(q,f){var a=f.checked;return Fd({},f,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=a?a:q._wrapperState.initialChecked})}function d(q,f){var a=null==f.defaultValue?"":f.defaultValue,R=null!=f.checked?f.checked:f.defaultChecked;a=ma(null!=f.value?f.value:a);q._wrapperState={initialChecked:R,initialValue:a,controlled:"checkbox"===f.type||"radio"===f.type?null!=f.checked:null!=f.value}}function M(q,f){f=f.checked;null!=f&&O(q,"checked",f,!1)}function Q(q,f){M(q,f);
var a=ma(f.value),R=f.type;if(null!=a)if("number"===R){if(0===a&&""===q.value||q.value!=a)q.value=""+a}else q.value!==""+a&&(q.value=""+a);else if("submit"===R||"reset"===R){q.removeAttribute("value");return}f.hasOwnProperty("value")?Wb(q,f.type,a):f.hasOwnProperty("defaultValue")&&Wb(q,f.type,ma(f.defaultValue));null==f.checked&&null!=f.defaultChecked&&(q.defaultChecked=!!f.defaultChecked)}function la(q,f,a){if(f.hasOwnProperty("value")||f.hasOwnProperty("defaultValue")){var R=f.type;if(!("submit"!==
R&&"reset"!==R||void 0!==f.value&&null!==f.value))return;f=""+q._wrapperState.initialValue;a||f===q.value||(q.value=f);q.defaultValue=f}a=q.name;""!==a&&(q.name="");q.defaultChecked=!!q._wrapperState.initialChecked;""!==a&&(q.name=a)}function Wb(q,f,a){if("number"!==f||q.ownerDocument.activeElement!==q)null==a?q.defaultValue=""+q._wrapperState.initialValue:q.defaultValue!==""+a&&(q.defaultValue=""+a)}function ha(q){var f="";hh.Children.forEach(q,function(q){null!=q&&(f+=q)});return f}function aa(q,
f){q=Fd({children:void 0},f);if(f=ha(f.children))q.children=f;return q}function sa(q,f,a,n){q=q.options;if(f){f={};for(var R=0;R<a.length;R++)f["$"+a[R]]=!0;for(a=0;a<q.length;a++)R=f.hasOwnProperty("$"+q[a].value),q[a].selected!==R&&(q[a].selected=R),R&&n&&(q[a].defaultSelected=!0)}else{a=""+ma(a);f=null;for(R=0;R<q.length;R++){if(q[R].value===a){q[R].selected=!0;n&&(q[R].defaultSelected=!0);return}null!==f||q[R].disabled||(f=q[R])}null!==f&&(f.selected=!0)}}function ya(q,f){if(null!=f.dangerouslySetInnerHTML)throw Error(a(91));
return Fd({},f,{value:void 0,defaultValue:void 0,children:""+q._wrapperState.initialValue})}function Na(q,f){var R=f.value;if(null==R){R=f.children;f=f.defaultValue;if(null!=R){if(null!=f)throw Error(a(92));if(Array.isArray(R)){if(!(1>=R.length))throw Error(a(93));R=R[0]}f=R}null==f&&(f="");R=f}q._wrapperState={initialValue:ma(R)}}function Ea(q,f){var a=ma(f.value),R=ma(f.defaultValue);null!=a&&(a=""+a,a!==q.value&&(q.value=a),null==f.defaultValue&&q.defaultValue!==a&&(q.defaultValue=a));null!=R&&
(q.defaultValue=""+R)}function Ma(q){var f=q.textContent;f===q._wrapperState.initialValue&&""!==f&&null!==f&&(q.value=f)}function U(q){switch(q){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ba(q,f){return null==q||"http://www.w3.org/1999/xhtml"===q?U(f):"http://www.w3.org/2000/svg"===q&&"foreignObject"===f?"http://www.w3.org/1999/xhtml":q}function l(q,f){if(f){var a=q.firstChild;if(a&&a===
q.lastChild&&3===a.nodeType){a.nodeValue=f;return}}q.textContent=f}function v(q,f){var a={};a[q.toLowerCase()]=f.toLowerCase();a["Webkit"+q]="webkit"+f;a["Moz"+q]="moz"+f;return a}function x(q){if(Xh[q])return Xh[q];if(!Yf[q])return q;var f=Yf[q],a;for(a in f)if(f.hasOwnProperty(a)&&a in Yh)return Xh[q]=f[a];return q}function m(q){var f=Ti.get(q);void 0===f&&(f=new Map,Ti.set(q,f));return f}function E(q){var f=q,a=q;if(q.alternate)for(;f.return;)f=f.return;else{q=f;do f=q,0!==(f.effectTag&1026)&&
(a=f.return),q=f.return;while(q)}return 3===f.tag?a:null}function Ua(q){if(13===q.tag){var f=q.memoizedState;null===f&&(q=q.alternate,null!==q&&(f=q.memoizedState));if(null!==f)return f.dehydrated}return null}function da(q){if(E(q)!==q)throw Error(a(188));}function oa(q){var f=q.alternate;if(!f){f=E(q);if(null===f)throw Error(a(188));return f!==q?null:q}for(var n=q,b=f;;){var y=n.return;if(null===y)break;var d=y.alternate;if(null===d){b=y.return;if(null!==b){n=b;continue}break}if(y.child===d.child){for(d=
y.child;d;){if(d===n)return da(y),q;if(d===b)return da(y),f;d=d.sibling}throw Error(a(188));}if(n.return!==b.return)n=y,b=d;else{for(var g=!1,m=y.child;m;){if(m===n){g=!0;n=y;b=d;break}if(m===b){g=!0;b=y;n=d;break}m=m.sibling}if(!g){for(m=d.child;m;){if(m===n){g=!0;n=d;b=y;break}if(m===b){g=!0;b=d;n=y;break}m=m.sibling}if(!g)throw Error(a(189));}}if(n.alternate!==b)throw Error(a(190));}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?q:f}function Wa(q){q=oa(q);if(!q)return null;for(var f=
q;;){if(5===f.tag||6===f.tag)return f;if(f.child)f.child.return=f,f=f.child;else{if(f===q)break;for(;!f.sibling;){if(!f.return||f.return===q)return null;f=f.return}f.sibling.return=f.return;f=f.sibling}}return null}function Qa(q,f){if(null==f)throw Error(a(30));if(null==q)return f;if(Array.isArray(q)){if(Array.isArray(f))return q.push.apply(q,f),q;q.push(f);return q}return Array.isArray(f)?[q].concat(f):[q,f]}function wa(q,f,a){Array.isArray(q)?q.forEach(f,a):q&&f.call(a,q)}function fa(q){if(q){var f=
q._dispatchListeners,a=q._dispatchInstances;if(Array.isArray(f))for(var n=0;n<f.length&&!q.isPropagationStopped();n++)Sa(q,f[n],a[n]);else f&&Sa(q,f,a);q._dispatchListeners=null;q._dispatchInstances=null;q.isPersistent()||q.constructor.release(q)}}function cb(q){null!==q&&(Hc=Qa(Hc,q));q=Hc;Hc=null;if(q){wa(q,fa);if(Hc)throw Error(a(95));if(pg)throw q=Sh,pg=!1,Sh=null,q;}}function kb(q){q=q.target||q.srcElement||window;q.correspondingUseElement&&(q=q.correspondingUseElement);return 3===q.nodeType?
q.parentNode:q}function fb(q){if(!Re)return!1;q="on"+q;var f=q in document;f||(f=document.createElement("div"),f.setAttribute(q,"return;"),f="function"===typeof f[q]);return f}function qb(q){q.topLevelType=null;q.nativeEvent=null;q.targetInst=null;q.ancestors.length=0;10>Sd.length&&Sd.push(q)}function Ja(q,f,a,n){if(Sd.length){var R=Sd.pop();R.topLevelType=q;R.eventSystemFlags=n;R.nativeEvent=f;R.targetInst=a;return R}return{topLevelType:q,eventSystemFlags:n,nativeEvent:f,targetInst:a,ancestors:[]}}
function pa(q){var f=q.targetInst,a=f;do{if(!a){q.ancestors.push(a);break}var n=a;if(3===n.tag)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo}if(!n)break;f=a.tag;5!==f&&6!==f||q.ancestors.push(a);a=Kb(n)}while(a);for(a=0;a<q.ancestors.length;a++){f=q.ancestors[a];var b=kb(q.nativeEvent);n=q.topLevelType;var y=q.nativeEvent,d=q.eventSystemFlags;0===a&&(d|=64);for(var g=null,m=0;m<Uf.length;m++){var l=Uf[m];l&&(l=l.extractEvents(n,f,y,b,d))&&(g=
Qa(g,l))}cb(g)}}function ub(q,f,a){if(!a.has(q)){switch(q){case "scroll":xa(f,"scroll",!0);break;case "focus":case "blur":xa(f,"focus",!0);xa(f,"blur",!0);a.set("blur",null);a.set("focus",null);break;case "cancel":case "close":fb(q)&&xa(f,q,!0);break;case "invalid":case "submit":case "reset":break;default:-1===ug.indexOf(q)&&Xa(q,f)}a.set(q,null)}}function Rb(q,f){var a=m(f);vg.forEach(function(q){ub(q,f,a)});Ui.forEach(function(q){ub(q,f,a)})}function Va(q,f,a,n,b){return{blockedOn:q,topLevelType:f,
eventSystemFlags:a|32,nativeEvent:b,container:n}}function Bb(q,f){switch(q){case "focus":case "blur":jf=null;break;case "dragenter":case "dragleave":kf=null;break;case "mouseover":case "mouseout":Se=null;break;case "pointerover":case "pointerout":Zf.delete(f.pointerId);break;case "gotpointercapture":case "lostpointercapture":$f.delete(f.pointerId)}}function ka(q,f,a,n,b,y){if(null===q||q.nativeEvent!==y)return q=Va(f,a,n,b,y),null!==f&&(f=$b(f),null!==f&&Df(f)),q;q.eventSystemFlags|=n;return q}function Cb(q,
f,a,n,b){switch(f){case "focus":return jf=ka(jf,q,f,a,n,b),!0;case "dragenter":return kf=ka(kf,q,f,a,n,b),!0;case "mouseover":return Se=ka(Se,q,f,a,n,b),!0;case "pointerover":var R=b.pointerId;Zf.set(R,ka(Zf.get(R)||null,q,f,a,n,b));return!0;case "gotpointercapture":return R=b.pointerId,$f.set(R,ka($f.get(R)||null,q,f,a,n,b)),!0}return!1}function Db(q){var f=Kb(q.target);if(null!==f){var a=E(f);if(null!==a)if(f=a.tag,13===f){if(f=Ua(a),null!==f){q.blockedOn=f;jd.unstable_runWithPriority(q.priority,
function(){ih(a)});return}}else if(3===f&&a.stateNode.hydrate){q.blockedOn=3===a.tag?a.stateNode.containerInfo:null;return}}q.blockedOn=null}function $a(q){if(null!==q.blockedOn)return!1;var f=ab(q.topLevelType,q.eventSystemFlags,q.container,q.nativeEvent);if(null!==f){var a=$b(f);null!==a&&Df(a);q.blockedOn=f;return!1}return!0}function Lb(q,f,a){$a(q)&&a.delete(f)}function tc(){for(Te=!1;0<ue.length;){var q=ue[0];if(null!==q.blockedOn){q=$b(q.blockedOn);null!==q&&Ue(q);break}var f=ab(q.topLevelType,
q.eventSystemFlags,q.container,q.nativeEvent);null!==f?q.blockedOn=f:ue.shift()}null!==jf&&$a(jf)&&(jf=null);null!==kf&&$a(kf)&&(kf=null);null!==Se&&$a(Se)&&(Se=null);Zf.forEach(Lb);$f.forEach(Lb)}function rb(q,f){q.blockedOn===f&&(q.blockedOn=null,Te||(Te=!0,jd.unstable_scheduleCallback(jd.unstable_NormalPriority,tc)))}function Tb(q){function f(f){return rb(f,q)}if(0<ue.length){rb(ue[0],q);for(var a=1;a<ue.length;a++){var n=ue[a];n.blockedOn===q&&(n.blockedOn=null)}}null!==jf&&rb(jf,q);null!==kf&&
rb(kf,q);null!==Se&&rb(Se,q);Zf.forEach(f);$f.forEach(f);for(a=0;a<Ef.length;a++)n=Ef[a],n.blockedOn===q&&(n.blockedOn=null);for(;0<Ef.length&&(a=Ef[0],null===a.blockedOn);)Db(a),null===a.blockedOn&&Ef.shift()}function Eb(q,f){for(var a=0;a<q.length;a+=2){var R=q[a],n=q[a+1],b="on"+(n[0].toUpperCase()+n.slice(1));b={phasedRegistrationNames:{bubbled:b,captured:b+"Capture"},dependencies:[R],eventPriority:f};jh.set(R,f);kh.set(R,b);Zh[n]=b}}function Xa(q,f){xa(f,q,!1)}function xa(q,f,a){var R=jh.get(f);
switch(void 0===R?2:R){case 0:R=Fb.bind(null,f,1,q);break;case 1:R=qc.bind(null,f,1,q);break;default:R=Sb.bind(null,f,1,q)}a?q.addEventListener(f,R,!0):q.addEventListener(f,R,!1)}function Fb(q,f,a,n){Ve||r();var R=Sb,b=Ve;Ve=!0;try{W(R,q,f,a,n)}finally{(Ve=b)||S()}}function qc(q,f,a,n){lh(Jj,Sb.bind(null,q,f,a,n))}function Sb(q,f,a,n){if(mh)if(0<ue.length&&-1<vg.indexOf(q))q=Va(null,q,f,a,n),ue.push(q);else{var R=ab(q,f,a,n);if(null===R)Bb(q,n);else if(-1<vg.indexOf(q))q=Va(R,q,f,a,n),ue.push(q);
else if(!Cb(R,q,f,a,n)){Bb(q,n);q=Ja(q,n,null,f);try{z(pa,q)}finally{qb(q)}}}}function ab(q,f,a,n){a=kb(n);a=Kb(a);if(null!==a){var R=E(a);if(null===R)a=null;else{var b=R.tag;if(13===b){a=Ua(R);if(null!==a)return a;a=null}else if(3===b){if(R.stateNode.hydrate)return 3===R.tag?R.stateNode.containerInfo:null;a=null}else R!==a&&(a=null)}}q=Ja(q,n,a,f);try{z(pa,q)}finally{qb(q)}return null}function fc(q,f,a){return null==f||"boolean"===typeof f||""===f?"":a||"number"!==typeof f||0===f||wg.hasOwnProperty(q)&&
wg[q]?(""+f).trim():f+"px"}function sb(q,f){q=q.style;for(var a in f)if(f.hasOwnProperty(a)){var n=0===a.indexOf("--"),R=fc(a,f[a],n);"float"===a&&(a="cssFloat");n?q.setProperty(a,R):q[a]=R}}function ac(q,f){if(f){if(Vi[q]&&(null!=f.children||null!=f.dangerouslySetInnerHTML))throw Error(a(137,q,""));if(null!=f.dangerouslySetInnerHTML){if(null!=f.children)throw Error(a(60));if(!("object"===typeof f.dangerouslySetInnerHTML&&"__html"in f.dangerouslySetInnerHTML))throw Error(a(61));}if(null!=f.style&&
"object"!==typeof f.style)throw Error(a(62,""));}}function gb(q,f){if(-1===q.indexOf("-"))return"string"===typeof f.is;switch(q){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;default:return!0}}function db(q,f){q=9===q.nodeType||11===q.nodeType?q:q.ownerDocument;var a=m(q);f=rg[f];for(var n=0;n<f.length;n++)ub(f[n],q,a)}function Ob(){}function gc(q){q=q||("undefined"!==
typeof document?document:void 0);if("undefined"===typeof q)return null;try{return q.activeElement||q.body}catch(R){return q.body}}function jc(q){for(;q&&q.firstChild;)q=q.firstChild;return q}function Ic(q,f){var a=jc(q);q=0;for(var n;a;){if(3===a.nodeType){n=q+a.textContent.length;if(q<=f&&n>=f)return{node:a,offset:f-q};q=n}a:{for(;a;){if(a.nextSibling){a=a.nextSibling;break a}a=a.parentNode}a=void 0}a=jc(a)}}function td(q,f){return q&&f?q===f?!0:q&&3===q.nodeType?!1:f&&3===f.nodeType?td(q,f.parentNode):
"contains"in q?q.contains(f):q.compareDocumentPosition?!!(q.compareDocumentPosition(f)&16):!1:!1}function kc(){for(var q=window,f=gc();f instanceof q.HTMLIFrameElement;){try{var a="string"===typeof f.contentWindow.location.href}catch(Qh){a=!1}if(a)q=f.contentWindow;else break;f=gc(q.document)}return f}function Vc(q){var f=q&&q.nodeName&&q.nodeName.toLowerCase();return f&&("input"===f&&("text"===q.type||"search"===q.type||"tel"===q.type||"url"===q.type||"password"===q.type)||"textarea"===f||"true"===
q.contentEditable)}function Nc(q,f){switch(q){case "button":case "input":case "select":case "textarea":return!!f.autoFocus}return!1}function Cc(q,f){return"textarea"===q||"option"===q||"noscript"===q||"string"===typeof f.children||"number"===typeof f.children||"object"===typeof f.dangerouslySetInnerHTML&&null!==f.dangerouslySetInnerHTML&&null!=f.dangerouslySetInnerHTML.__html}function rc(q){for(;null!=q;q=q.nextSibling){var f=q.nodeType;if(1===f||3===f)break}return q}function dc(f){f=f.previousSibling;
for(var q=0;f;){if(8===f.nodeType){var a=f.data;if(a===Wi||a===ag||a===$h){if(0===q)return f;q--}else a===Xi&&q++}f=f.previousSibling}return null}function Kb(f){var q=f[We];if(q)return q;for(var a=f.parentNode;a;){if(q=a[lf]||a[We]){a=q.alternate;if(null!==q.child||null!==a&&null!==a.child)for(f=dc(f);null!==f;){if(a=f[We])return a;f=dc(f)}return q}f=a;a=f.parentNode}return null}function $b(f){f=f[We]||f[lf];return!f||5!==f.tag&&6!==f.tag&&13!==f.tag&&3!==f.tag?null:f}function hc(f){if(5===f.tag||
6===f.tag)return f.stateNode;throw Error(a(33));}function lc(f){return f[nh]||null}function mc(f){do f=f.return;while(f&&5!==f.tag);return f?f:null}function uc(f,n){var q=f.stateNode;if(!q)return null;var R=bh(q);if(!R)return null;q=R[n];a:switch(n){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(R=!R.disabled)||
(f=f.type,R=!("button"===f||"input"===f||"select"===f||"textarea"===f));f=!R;break a;default:f=!1}if(f)return null;if(q&&"function"!==typeof q)throw Error(a(231,n,typeof q));return q}function ud(f,a,n){if(a=uc(f,n.dispatchConfig.phasedRegistrationNames[a]))n._dispatchListeners=Qa(n._dispatchListeners,a),n._dispatchInstances=Qa(n._dispatchInstances,f)}function Td(f){if(f&&f.dispatchConfig.phasedRegistrationNames){for(var q=f._targetInst,a=[];q;)a.push(q),q=mc(q);for(q=a.length;0<q--;)ud(a[q],"captured",
f);for(q=0;q<a.length;q++)ud(a[q],"bubbled",f)}}function ae(f,a,n){f&&n&&n.dispatchConfig.registrationName&&(a=uc(f,n.dispatchConfig.registrationName))&&(n._dispatchListeners=Qa(n._dispatchListeners,a),n._dispatchInstances=Qa(n._dispatchInstances,f))}function Oc(f){f&&f.dispatchConfig.registrationName&&ae(f._targetInst,null,f)}function vc(f){wa(f,Td)}function kd(){if(mf)return mf;var f,a=Ra,n=a.length,b,y="value"in nf?nf.value:nf.textContent,d=y.length;for(f=0;f<n&&a[f]===y[f];f++);var g=n-f;for(b=
1;b<=g&&a[n-b]===y[d-b];b++);return mf=y.slice(f,1<b?1-b:void 0)}function $c(){return!0}function Mb(){return!1}function lb(f,a,n,b){this.dispatchConfig=f;this._targetInst=a;this.nativeEvent=n;f=this.constructor.Interface;for(var q in f)f.hasOwnProperty(q)&&((a=f[q])?this[q]=a(n):"target"===q?this.target=b:this[q]=n[q]);this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?$c:Mb;this.isPropagationStopped=Mb;return this}function ld(f,a,n,b){if(this.eventPool.length){var q=
this.eventPool.pop();this.call(q,f,a,n,b);return q}return new this(f,a,n,b)}function ke(f){if(!(f instanceof this))throw Error(a(279));f.destructor();10>this.eventPool.length&&this.eventPool.push(f)}function Gd(f){f.eventPool=[];f.getPooled=ld;f.release=ke}function Hd(f,a){switch(f){case "keyup":return-1!==Yi.indexOf(a.keyCode);case "keydown":return 229!==a.keyCode;case "keypress":case "mousedown":case "blur":return!0;default:return!1}}function ic(f){f=f.detail;return"object"===typeof f&&"data"in
f?f.data:null}function gd(f,a){switch(f){case "compositionend":return ic(a);case "keypress":if(32!==a.which)return null;ua=!0;return ec;case "textInput":return f=a.data,f===ec&&ua?null:f;default:return null}}function Id(f,a){if(bg)return"compositionend"===f||!oh&&Hd(f,a)?(f=kd(),mf=Ra=nf=null,bg=!1,f):null;switch(f){case "paste":return null;case "keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;
case "compositionend":return Zi&&"ko"!==a.locale?null:a.data;default:return null}}function vd(f){var q=f&&f.nodeName&&f.nodeName.toLowerCase();return"input"===q?!!Kj[f.type]:"textarea"===q?!0:!1}function md(f,a,n){f=lb.getPooled(ai.change,f,a,n);f.type="change";ea(n);vc(f);return f}function Jd(f){cb(f)}function Pc(f){var q=hc(f);if(qa(q))return f}function Kd(f,a){if("change"===f)return a}function wd(){of&&(of.detachEvent("onpropertychange",xd),xg=of=null)}function xd(f){if("value"===f.propertyName&&
Pc(xg))if(f=md(xg,f,kb(f)),Ve)cb(f);else{Ve=!0;try{F(Jd,f)}finally{Ve=!1,S()}}}function Ld(f,a,n){"focus"===f?(wd(),of=a,xg=n,of.attachEvent("onpropertychange",xd)):"blur"===f&&wd()}function Md(f){if("selectionchange"===f||"keyup"===f||"keydown"===f)return Pc(xg)}function Nd(f,a){if("click"===f)return Pc(a)}function nb(f,a){if("input"===f||"change"===f)return Pc(a)}function hb(f){var q=this.nativeEvent;return q.getModifierState?q.getModifierState(f):(f=bi[f])?!!q[f]:!1}function vb(){return hb}function yd(f,
a){return f===a&&(0!==f||1/f===1/a)||f!==f&&a!==a}function bc(f,a){if(Xe(f,a))return!0;if("object"!==typeof f||null===f||"object"!==typeof a||null===a)return!1;var q=Object.keys(f),n=Object.keys(a);if(q.length!==n.length)return!1;for(n=0;n<q.length;n++)if(!Lj.call(a,q[n])||!Xe(f[q[n]],a[q[n]]))return!1;return!0}function Gb(f,a){var q=a.window===a?a.document:9===a.nodeType?a:a.ownerDocument;if(cg||null==Ff||Ff!==gc(q))return null;q=Ff;"selectionStart"in q&&Vc(q)?q={start:q.selectionStart,end:q.selectionEnd}:
(q=(q.ownerDocument&&q.ownerDocument.defaultView||window).getSelection(),q={anchorNode:q.anchorNode,anchorOffset:q.anchorOffset,focusNode:q.focusNode,focusOffset:q.focusOffset});return le&&bc(le,q)?null:(le=q,f=lb.getPooled(Gf.select,ci,f,a),f.type="select",f.target=Ff,vc(f),f)}function Ia(f){var q=f.keyCode;"charCode"in f?(f=f.charCode,0===f&&13===q&&(f=13)):f=q;10===f&&(f=13);return 32<=f||13===f?f:0}function Ha(f){0>dg||(f.current=ph[dg],ph[dg]=null,dg--)}function eb(f,a){dg++;ph[dg]=f.current;
f.current=a}function Nb(f,a){var q=f.type.contextTypes;if(!q)return pf;var n=f.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===a)return n.__reactInternalMemoizedMaskedChildContext;var b={},R;for(R in q)b[R]=a[R];n&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=a,f.__reactInternalMemoizedMaskedChildContext=b);return b}function V(f){f=f.childContextTypes;return null!==f&&void 0!==f}function wb(){Ha(nd);Ha(od)}function ib(f,n,b){if(od.current!==pf)throw Error(a(168));eb(od,
n);eb(nd,b)}function X(f,n,b){var q=f.stateNode;f=n.childContextTypes;if("function"!==typeof q.getChildContext)return b;q=q.getChildContext();for(var R in q)if(!(R in f))throw Error(a(108,ba(n)||"Unknown",R));return Fd({},b,{},q)}function zc(f){f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||pf;me=od.current;eb(od,f);eb(nd,nd.current);return!0}function Ca(f,n,b){var q=f.stateNode;if(!q)throw Error(a(169));b?(f=X(f,n,me),q.__reactInternalMemoizedMergedChildContext=f,Ha(nd),Ha(od),eb(od,
f)):Ha(nd);eb(nd,b)}function Hb(){switch(Mj()){case yg:return 99;case di:return 98;case $i:return 97;case ei:return 96;case aj:return 95;default:throw Error(a(332));}}function xb(f){switch(f){case 99:return yg;case 98:return di;case 97:return $i;case 96:return ei;case 95:return aj;default:throw Error(a(332));}}function tb(f,a){f=xb(f);return Nj(f,a)}function Dc(f,a,n){f=xb(f);return fi(f,a,n)}function Ud(f){null===ve?(ve=[f],qh=fi(yg,ca)):ve.push(f);return bj}function Ka(){if(null!==qh){var f=qh;
qh=null;cj(f)}ca()}function ca(){if(!rh&&null!==ve){rh=!0;var f=0;try{var a=ve;tb(99,function(){for(;f<a.length;f++){var q=a[f];do q=q(!0);while(null!==q)}});ve=null}catch(Qe){throw null!==ve&&(ve=ve.slice(f+1)),fi(yg,Ka),Qe;}finally{rh=!1}}}function Za(f,a,n){n/=10;return 1073741821-(((1073741821-f+a/10)/n|0)+1)*n}function Y(f,a){if(f&&f.defaultProps){a=Fd({},a);f=f.defaultProps;for(var q in f)void 0===a[q]&&(a[q]=f[q])}return a}function ra(f){var a=eg.current;Ha(eg);f.type._context._currentValue=
a}function Pb(f,a){for(;null!==f;){var q=f.alternate;if(f.childExpirationTime<a)f.childExpirationTime=a,null!==q&&q.childExpirationTime<a&&(q.childExpirationTime=a);else if(null!==q&&q.childExpirationTime<a)q.childExpirationTime=a;else break;f=f.return}}function Ub(f,a){fg=f;ad=pd=null;f=f.dependencies;null!==f&&null!==f.firstContext&&(f.expirationTime>=a&&(De=!0),f.firstContext=null)}function La(f,n){if(ad!==f&&!1!==n&&0!==n){if("number"!==typeof n||1073741823===n)ad=f,n=1073741823;n={context:f,
observedBits:n,next:null};if(null===pd){if(null===fg)throw Error(a(308));pd=n;fg.dependencies={expirationTime:0,firstContext:n,responders:null}}else pd=pd.next=n}return f._currentValue}function Fa(f){f.updateQueue={baseState:f.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function bb(f,a){f=f.updateQueue;a.updateQueue===f&&(a.updateQueue={baseState:f.baseState,baseQueue:f.baseQueue,shared:f.shared,effects:f.effects})}function Ga(f,a){f={expirationTime:f,suspenseConfig:a,tag:0,payload:null,
callback:null,next:null};return f.next=f}function Aa(f,a){f=f.updateQueue;if(null!==f){f=f.shared;var q=f.pending;null===q?a.next=a:(a.next=q.next,q.next=a);f.pending=a}}function Ec(f,a){var q=f.alternate;null!==q&&bb(q,f);f=f.updateQueue;q=f.baseQueue;null===q?(f.baseQueue=a.next=a,a.next=a):(a.next=q.next,q.next=a)}function Od(f,a,n,b){var q=f.updateQueue;Ye=!1;var R=q.baseQueue,y=q.shared.pending;if(null!==y){if(null!==R){var d=R.next;R.next=y.next;y.next=d}R=y;q.shared.pending=null;d=f.alternate;
null!==d&&(d=d.updateQueue,null!==d&&(d.baseQueue=y))}if(null!==R){d=R.next;var g=q.baseState,m=0,l=null,A=null,K=null;if(null!==d){var c=d;do{y=c.expirationTime;if(y<b){var v={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===K?(A=K=v,l=g):K=K.next=v;y>m&&(m=y)}else{null!==K&&(K=K.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,tag:c.tag,payload:c.payload,callback:c.callback,next:null});sh(y,c.suspenseConfig);
a:{var Jb=f,Z=c;y=a;v=n;switch(Z.tag){case 1:Jb=Z.payload;if("function"===typeof Jb){g=Jb.call(v,g,y);break a}g=Jb;break a;case 3:Jb.effectTag=Jb.effectTag&-4097|64;case 0:Jb=Z.payload;y="function"===typeof Jb?Jb.call(v,g,y):Jb;if(null===y||void 0===y)break a;g=Fd({},g,y);break a;case 2:Ye=!0}}null!==c.callback&&(f.effectTag|=32,y=q.effects,null===y?q.effects=[c]:y.push(c))}c=c.next;if(null===c||c===d)if(y=q.shared.pending,null===y)break;else c=R.next=y.next,y.next=d,q.baseQueue=R=y,q.shared.pending=
null}while(1)}null===K?l=g:K.next=A;q.baseState=l;q.baseQueue=K;zg(m);f.expirationTime=m;f.memoizedState=g}}function Qc(f,n,b){f=n.effects;n.effects=null;if(null!==f)for(n=0;n<f.length;n++){var q=f[n],R=q.callback;if(null!==R){q.callback=null;q=R;R=b;if("function"!==typeof q)throw Error(a(191,q));q.call(R)}}}function Rc(f,a,n,b){a=f.memoizedState;n=n(b,a);n=null===n||void 0===n?a:Fd({},a,n);f.memoizedState=n;0===f.expirationTime&&(f.updateQueue.baseState=n)}function wc(f,a,n,b,y,d,g){f=f.stateNode;
return"function"===typeof f.shouldComponentUpdate?f.shouldComponentUpdate(b,d,g):a.prototype&&a.prototype.isPureReactComponent?!bc(n,b)||!bc(y,d):!0}function Ta(f,a,n){var q=!1,b=pf,R=a.contextType;"object"===typeof R&&null!==R?R=La(R):(b=V(a)?me:od.current,q=a.contextTypes,R=(q=null!==q&&void 0!==q)?Nb(f,b):pf);a=new a(n,R);f.memoizedState=null!==a.state&&void 0!==a.state?a.state:null;a.updater=th;f.stateNode=a;a._reactInternalFiber=f;q&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=
b,f.__reactInternalMemoizedMaskedChildContext=R);return a}function Z(f,a,n,b){f=a.state;"function"===typeof a.componentWillReceiveProps&&a.componentWillReceiveProps(n,b);"function"===typeof a.UNSAFE_componentWillReceiveProps&&a.UNSAFE_componentWillReceiveProps(n,b);a.state!==f&&th.enqueueReplaceState(a,a.state,null)}function Da(f,a,n,b){var q=f.stateNode;q.props=n;q.state=f.memoizedState;q.refs=dj;Fa(f);var R=a.contextType;"object"===typeof R&&null!==R?q.context=La(R):(R=V(a)?me:od.current,q.context=
Nb(f,R));Od(f,n,q,b);q.state=f.memoizedState;R=a.getDerivedStateFromProps;"function"===typeof R&&(Rc(f,a,R,n),q.state=f.memoizedState);"function"===typeof a.getDerivedStateFromProps||"function"===typeof q.getSnapshotBeforeUpdate||"function"!==typeof q.UNSAFE_componentWillMount&&"function"!==typeof q.componentWillMount||(a=q.state,"function"===typeof q.componentWillMount&&q.componentWillMount(),"function"===typeof q.UNSAFE_componentWillMount&&q.UNSAFE_componentWillMount(),a!==q.state&&th.enqueueReplaceState(q,
q.state,null),Od(f,n,q,b),q.state=f.memoizedState);"function"===typeof q.componentDidMount&&(f.effectTag|=4)}function qd(f,n,b){f=b.ref;if(null!==f&&"function"!==typeof f&&"object"!==typeof f){if(b._owner){if(b=b._owner){if(1!==b.tag)throw Error(a(309));var q=b.stateNode}if(!q)throw Error(a(147,f));var R=""+f;if(null!==n&&null!==n.ref&&"function"===typeof n.ref&&n.ref._stringRef===R)return n.ref;n=function(f){var a=q.refs;a===dj&&(a=q.refs={});null===f?delete a[R]:a[R]=f};n._stringRef=R;return n}if("string"!==
typeof f)throw Error(a(284));if(!b._owner)throw Error(a(290,f));}return f}function Ac(f,n){if("textarea"!==f.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(n)?"object with keys {"+Object.keys(n).join(", ")+"}":n,""));}function ne(f){function q(a,q){if(f){var n=a.lastEffect;null!==n?(n.nextEffect=q,a.lastEffect=q):a.firstEffect=a.lastEffect=q;q.nextEffect=null;q.effectTag=8}}function n(a,n){if(!f)return null;for(;null!==n;)q(a,n),n=n.sibling;return null}function b(f,a){for(f=
new Map;null!==a;)null!==a.key?f.set(a.key,a):f.set(a.index,a),a=a.sibling;return f}function y(f,a){f=Ee(f,a);f.index=0;f.sibling=null;return f}function d(a,q,n){a.index=n;if(!f)return q;n=a.alternate;if(null!==n)return n=n.index,n<q?(a.effectTag=2,q):n;a.effectTag=2;return q}function g(a){f&&null===a.alternate&&(a.effectTag=2);return a}function m(f,a,q,n){if(null===a||6!==a.tag)return a=Ag(q,f.mode,n),a.return=f,a;a=y(a,q);a.return=f;return a}function l(f,a,q,n){if(null!==a&&a.elementType===q.type)return n=
y(a,q.props),n.ref=qd(f,a,q),n.return=f,n;n=Hf(q.type,q.key,q.props,null,f.mode,n);n.ref=qd(f,a,q);n.return=f;return n}function K(f,a,q,n){if(null===a||4!==a.tag||a.stateNode.containerInfo!==q.containerInfo||a.stateNode.implementation!==q.implementation)return a=If(q,f.mode,n),a.return=f,a;a=y(a,q.children||[]);a.return=f;return a}function A(f,a,q,n,b){if(null===a||7!==a.tag)return a=Ze(q,f.mode,n,b),a.return=f,a;a=y(a,q);a.return=f;return a}function v(f,a,q){if("string"===typeof a||"number"===typeof a)return a=
Ag(""+a,f.mode,q),a.return=f,a;if("object"===typeof a&&null!==a){switch(a.$$typeof){case Bg:return q=Hf(a.type,a.key,a.props,null,f.mode,q),q.ref=qd(f,null,a),q.return=f,q;case Xf:return a=If(a,f.mode,q),a.return=f,a}if(uh(a)||c(a))return a=Ze(a,f.mode,q,null),a.return=f,a;Ac(f,a)}return null}function Jb(f,a,q,n){var b=null!==a?a.key:null;if("string"===typeof q||"number"===typeof q)return null!==b?null:m(f,a,""+q,n);if("object"===typeof q&&null!==q){switch(q.$$typeof){case Bg:return q.key===b?q.type===
hf?A(f,a,q.props.children,n,b):l(f,a,q,n):null;case Xf:return q.key===b?K(f,a,q,n):null}if(uh(q)||c(q))return null!==b?null:A(f,a,q,n,null);Ac(f,q)}return null}function Z(f,a,q,n,b){if("string"===typeof n||"number"===typeof n)return f=f.get(q)||null,m(a,f,""+n,b);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Bg:return f=f.get(null===n.key?q:n.key)||null,n.type===hf?A(a,f,n.props.children,b,n.key):l(a,f,n,b);case Xf:return f=f.get(null===n.key?q:n.key)||null,K(a,f,n,b)}if(uh(n)||c(n))return f=
f.get(q)||null,A(a,f,n,b,null);Ac(a,n)}return null}function M(a,R,y,g){for(var m=null,l=null,K=R,A=R=0,c=null;null!==K&&A<y.length;A++){K.index>A?(c=K,K=null):c=K.sibling;var M=Jb(a,K,y[A],g);if(null===M){null===K&&(K=c);break}f&&K&&null===M.alternate&&q(a,K);R=d(M,R,A);null===l?m=M:l.sibling=M;l=M;K=c}if(A===y.length)return n(a,K),m;if(null===K){for(;A<y.length;A++)K=v(a,y[A],g),null!==K&&(R=d(K,R,A),null===l?m=K:l.sibling=K,l=K);return m}for(K=b(a,K);A<y.length;A++)c=Z(K,a,A,y[A],g),null!==c&&(f&&
null!==c.alternate&&K.delete(null===c.key?A:c.key),R=d(c,R,A),null===l?m=c:l.sibling=c,l=c);f&&K.forEach(function(f){return q(a,f)});return m}function E(R,y,g,m){var l=c(g);if("function"!==typeof l)throw Error(a(150));g=l.call(g);if(null==g)throw Error(a(151));for(var K=l=null,A=y,M=y=0,E=null,x=g.next();null!==A&&!x.done;M++,x=g.next()){A.index>M?(E=A,A=null):E=A.sibling;var sc=Jb(R,A,x.value,m);if(null===sc){null===A&&(A=E);break}f&&A&&null===sc.alternate&&q(R,A);y=d(sc,y,M);null===K?l=sc:K.sibling=
sc;K=sc;A=E}if(x.done)return n(R,A),l;if(null===A){for(;!x.done;M++,x=g.next())x=v(R,x.value,m),null!==x&&(y=d(x,y,M),null===K?l=x:K.sibling=x,K=x);return l}for(A=b(R,A);!x.done;M++,x=g.next())x=Z(A,R,M,x.value,m),null!==x&&(f&&null!==x.alternate&&A.delete(null===x.key?M:x.key),y=d(x,y,M),null===K?l=x:K.sibling=x,K=x);f&&A.forEach(function(f){return q(R,f)});return l}return function(f,b,R,d){var m="object"===typeof R&&null!==R&&R.type===hf&&null===R.key;m&&(R=R.props.children);var l="object"===typeof R&&
null!==R;if(l)switch(R.$$typeof){case Bg:a:{l=R.key;for(m=b;null!==m;){if(m.key===l){switch(m.tag){case 7:if(R.type===hf){n(f,m.sibling);b=y(m,R.props.children);b.return=f;f=b;break a}break;default:if(m.elementType===R.type){n(f,m.sibling);b=y(m,R.props);b.ref=qd(f,m,R);b.return=f;f=b;break a}}n(f,m);break}else q(f,m);m=m.sibling}R.type===hf?(b=Ze(R.props.children,f.mode,d,R.key),b.return=f,f=b):(d=Hf(R.type,R.key,R.props,null,f.mode,d),d.ref=qd(f,b,R),d.return=f,f=d)}return g(f);case Xf:a:{for(m=
R.key;null!==b;){if(b.key===m)if(4===b.tag&&b.stateNode.containerInfo===R.containerInfo&&b.stateNode.implementation===R.implementation){n(f,b.sibling);b=y(b,R.children||[]);b.return=f;f=b;break a}else{n(f,b);break}else q(f,b);b=b.sibling}b=If(R,f.mode,d);b.return=f;f=b}return g(f)}if("string"===typeof R||"number"===typeof R)return R=""+R,null!==b&&6===b.tag?(n(f,b.sibling),b=y(b,R),b.return=f,f=b):(n(f,b),b=Ag(R,f.mode,d),b.return=f,f=b),g(f);if(uh(R))return M(f,b,R,d);if(c(R))return E(f,b,R,d);l&&
Ac(f,R);if("undefined"===typeof R&&!m)switch(f.tag){case 1:case 0:throw f=f.type,Error(a(152,f.displayName||f.name||"Component"));}return n(f,b)}}function Jc(f){if(f===Cg)throw Error(a(174));return f}function Kc(f,a){eb(Dg,a);eb(Eg,f);eb(we,Cg);f=a.nodeType;switch(f){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ba(null,"");break;default:f=8===f?a.parentNode:a,a=f.namespaceURI||null,f=f.tagName,a=Ba(a,f)}Ha(we);eb(we,a)}function hd(){Ha(we);Ha(Eg);Ha(Dg)}function Wc(f){Jc(Dg.current);var a=
Jc(we.current),q=Ba(a,f.type);a!==q&&(eb(Eg,f),eb(we,q))}function zd(f){Eg.current===f&&(Ha(we),Ha(Eg))}function Xc(f){for(var a=f;null!==a;){if(13===a.tag){var q=a.memoizedState;if(null!==q&&(q=q.dehydrated,null===q||q.data===$h||q.data===ag))return a}else if(19===a.tag&&void 0!==a.memoizedProps.revealOrder){if(0!==(a.effectTag&64))return a}else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===f)break;for(;null===a.sibling;){if(null===a.return||a.return===f)return null;a=a.return}a.sibling.return=
a.return;a=a.sibling}return null}function Vd(f,a){return{responder:f,props:a}}function Lc(){throw Error(a(321));}function Bc(f,a){if(null===a)return!1;for(var q=0;q<a.length&&q<f.length;q++)if(!Xe(f[q],a[q]))return!1;return!0}function oe(f,n,b,y,d,g){rf=g;Sc=n;n.memoizedState=null;n.updateQueue=null;n.expirationTime=0;xh.current=null===f||null===f.memoizedState?fj:Sj;f=b(y,d);if(n.expirationTime===rf){g=0;do{n.expirationTime=0;if(!(25>g))throw Error(a(301));g+=1;Ad=Bd=null;n.updateQueue=null;xh.current=
Tj;f=b(y,d)}while(n.expirationTime===rf)}xh.current=yh;n=null!==Bd&&null!==Bd.next;rf=0;Ad=Bd=Sc=null;Fg=!1;if(n)throw Error(a(300));return f}function nc(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===Ad?Sc.memoizedState=Ad=f:Ad=Ad.next=f;return Ad}function oc(){if(null===Bd){var f=Sc.alternate;f=null!==f?f.memoizedState:null}else f=Bd.next;var n=null===Ad?Sc.memoizedState:Ad.next;if(null!==n)Ad=n,Bd=f;else{if(null===f)throw Error(a(310));Bd=f;f={memoizedState:Bd.memoizedState,
baseState:Bd.baseState,baseQueue:Bd.baseQueue,queue:Bd.queue,next:null};null===Ad?Sc.memoizedState=Ad=f:Ad=Ad.next=f}return Ad}function Ib(f,a){return"function"===typeof a?a(f):a}function Xb(f){var q=oc(),n=q.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=f;var b=Bd,y=b.baseQueue,d=n.pending;if(null!==d){if(null!==y){var g=y.next;y.next=d.next;d.next=g}b.baseQueue=y=d;n.pending=null}if(null!==y){y=y.next;b=b.baseState;var m=g=d=null,l=y;do{var K=l.expirationTime;if(K<rf){var A={expirationTime:l.expirationTime,
suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===m?(g=m=A,d=b):m=m.next=A;K>Sc.expirationTime&&(Sc.expirationTime=K,zg(K))}else null!==m&&(m=m.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),sh(K,l.suspenseConfig),b=l.eagerReducer===f?l.eagerState:f(b,l.action);l=l.next}while(null!==l&&l!==y);null===m?d=b:m.next=g;Xe(b,q.memoizedState)||
(De=!0);q.memoizedState=b;q.baseState=d;q.baseQueue=m;n.lastRenderedState=b}return[q.memoizedState,n.dispatch]}function jb(f){var q=oc(),n=q.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=f;var b=n.dispatch,y=n.pending,d=q.memoizedState;if(null!==y){n.pending=null;var g=y=y.next;do d=f(d,g.action),g=g.next;while(g!==y);Xe(d,q.memoizedState)||(De=!0);q.memoizedState=d;null===q.baseQueue&&(q.baseState=d);n.lastRenderedState=d}return[d,b]}function Pd(f){var a=nc();"function"===typeof f&&
(f=f());a.memoizedState=a.baseState=f;f=a.queue={pending:null,dispatch:null,lastRenderedReducer:Ib,lastRenderedState:f};f=f.dispatch=A.bind(null,Sc,f);return[a.memoizedState,f]}function bd(f,a,n,b){f={tag:f,create:a,destroy:n,deps:b,next:null};a=Sc.updateQueue;null===a?(a={lastEffect:null},Sc.updateQueue=a,a.lastEffect=f.next=f):(n=a.lastEffect,null===n?a.lastEffect=f.next=f:(b=n.next,n.next=f,f.next=b,a.lastEffect=f));return f}function be(){return oc().memoizedState}function rd(f,a,n,b){var q=nc();
Sc.effectTag|=f;q.memoizedState=bd(1|a,n,void 0,void 0===b?null:b)}function cd(f,a,n,b){var q=oc();b=void 0===b?null:b;var R=void 0;if(null!==Bd){var y=Bd.memoizedState;R=y.destroy;if(null!==b&&Bc(b,y.deps)){bd(a,n,R,b);return}}Sc.effectTag|=f;q.memoizedState=bd(1|a,n,R,b)}function dd(f,a){return rd(516,4,f,a)}function Ya(f,a){return cd(516,4,f,a)}function Fc(f,a){return cd(4,2,f,a)}function yb(f,a){if("function"===typeof a)return f=f(),a(f),function(){a(null)};if(null!==a&&void 0!==a)return f=f(),
a.current=f,function(){a.current=null}}function mb(f,a,n){n=null!==n&&void 0!==n?n.concat([f]):null;return cd(4,2,yb.bind(null,a,f),n)}function Cd(){}function Yb(f,a){nc().memoizedState=[f,void 0===a?null:a];return f}function pc(f,a){var q=oc();a=void 0===a?null:a;var n=q.memoizedState;if(null!==n&&null!==a&&Bc(a,n[1]))return n[0];q.memoizedState=[f,a];return f}function ce(f,a){var q=oc();a=void 0===a?null:a;var n=q.memoizedState;if(null!==n&&null!==a&&Bc(a,n[1]))return n[0];f=f();q.memoizedState=
[f,a];return f}function Tc(f,a,n){var q=Hb();tb(98>q?98:q,function(){f(!0)});tb(97<q?97:q,function(){var q=pe.suspense;pe.suspense=void 0===a?null:a;try{f(!1),n()}finally{pe.suspense=q}})}function A(f,a,n){var q=Ge(),b=Gg.suspense;q=sf(q,f,b);b={expirationTime:q,suspenseConfig:b,action:n,eagerReducer:null,eagerState:null,next:null};var R=a.pending;null===R?b.next=b:(b.next=R.next,R.next=b);a.pending=b;R=f.alternate;if(f===Sc||null!==R&&R===Sc)Fg=!0,b.expirationTime=rf,Sc.expirationTime=rf;else{if(0===
f.expirationTime&&(null===R||0===R.expirationTime)&&(R=a.lastRenderedReducer,null!==R))try{var y=a.lastRenderedState,d=R(y,n);b.eagerReducer=R;b.eagerState=d;if(Xe(d,y))return}catch(jk){}finally{}tf(f,q)}}function K(f,a){var q=xe(5,null,null,0);q.elementType="DELETED";q.type="DELETED";q.stateNode=a;q.return=f;q.effectTag=8;null!==f.lastEffect?(f.lastEffect.nextEffect=q,f.lastEffect=q):f.firstEffect=f.lastEffect=q}function ta(f,a){switch(f.tag){case 5:var q=f.type;a=1!==a.nodeType||q.toLowerCase()!==
a.nodeName.toLowerCase()?null:a;return null!==a?(f.stateNode=a,!0):!1;case 6:return a=""===f.pendingProps||3!==a.nodeType?null:a,null!==a?(f.stateNode=a,!0):!1;case 13:return!1;default:return!1}}function ob(f){if(He){var a=ye;if(a){var q=a;if(!ta(f,a)){a=rc(q.nextSibling);if(!a||!ta(f,a)){f.effectTag=f.effectTag&-1025|2;He=!1;qe=f;return}K(qe,q)}qe=f;ye=rc(a.firstChild)}else f.effectTag=f.effectTag&-1025|2,He=!1,qe=f}}function f(f){for(f=f.return;null!==f&&5!==f.tag&&3!==f.tag&&13!==f.tag;)f=f.return;
qe=f}function n(q){if(q!==qe)return!1;if(!He)return f(q),He=!0,!1;var n=q.type;if(5!==q.tag||"head"!==n&&"body"!==n&&!Cc(n,q.memoizedProps))for(n=ye;n;)K(q,n),n=rc(n.nextSibling);f(q);if(13===q.tag){q=q.memoizedState;q=null!==q?q.dehydrated:null;if(!q)throw Error(a(317));a:{q=q.nextSibling;for(n=0;q;){if(8===q.nodeType){var b=q.data;if(b===Xi){if(0===n){ye=rc(q.nextSibling);break a}n--}else b!==Wi&&b!==ag&&b!==$h||n++}q=q.nextSibling}ye=null}}else ye=qe?rc(q.stateNode.nextSibling):null;return!0}function y(f,
a,n,b){a.child=null===f?hi(a,null,n,b):gg(a,f.child,n,b)}function Jb(f,a,n,b,d){n=n.render;var q=a.ref;Ub(a,d);b=oe(f,a,n,b,q,d);if(null!==f&&!De)return a.updateQueue=f.updateQueue,a.effectTag&=-517,f.expirationTime<=d&&(f.expirationTime=0),Uc(f,a,d);a.effectTag|=1;y(f,a,b,d);return a.child}function sc(f,a,n,b,y,d){if(null===f){var q=n.type;if("function"===typeof q&&!ii(q)&&void 0===q.defaultProps&&null===n.compare&&void 0===n.defaultProps)return a.tag=15,a.type=q,ze(f,a,q,b,y,d);f=Hf(n.type,null,
b,null,a.mode,d);f.ref=a.ref;f.return=a;return a.child=f}q=f.child;if(y<d&&(y=q.memoizedProps,n=n.compare,n=null!==n?n:bc,n(y,b)&&f.ref===a.ref))return Uc(f,a,d);a.effectTag|=1;f=Ee(q,b);f.ref=a.ref;f.return=a;return a.child=f}function ze(f,a,n,b,y,d){return null!==f&&bc(f.memoizedProps,b)&&f.ref===a.ref&&(De=!1,y<d)?(a.expirationTime=f.expirationTime,Uc(f,a,d)):$e(f,a,n,b,d)}function Jf(f,a){var q=a.ref;if(null===f&&null!==q||null!==f&&f.ref!==q)a.effectTag|=128}function $e(f,a,n,b,d){var q=V(n)?
me:od.current;q=Nb(a,q);Ub(a,d);n=oe(f,a,n,b,q,d);if(null!==f&&!De)return a.updateQueue=f.updateQueue,a.effectTag&=-517,f.expirationTime<=d&&(f.expirationTime=0),Uc(f,a,d);a.effectTag|=1;y(f,a,n,d);return a.child}function Ie(f,a,n,b,y){if(V(n)){var q=!0;zc(a)}else q=!1;Ub(a,y);if(null===a.stateNode)null!==f&&(f.alternate=null,a.alternate=null,a.effectTag|=2),Ta(a,n,b),Da(a,n,b,y),b=!0;else if(null===f){var d=a.stateNode,R=a.memoizedProps;d.props=R;var g=d.context,m=n.contextType;"object"===typeof m&&
null!==m?m=La(m):(m=V(n)?me:od.current,m=Nb(a,m));var l=n.getDerivedStateFromProps,K="function"===typeof l||"function"===typeof d.getSnapshotBeforeUpdate;K||"function"!==typeof d.UNSAFE_componentWillReceiveProps&&"function"!==typeof d.componentWillReceiveProps||(R!==b||g!==m)&&Z(a,d,b,m);Ye=!1;var A=a.memoizedState;d.state=A;Od(a,b,d,y);g=a.memoizedState;R!==b||A!==g||nd.current||Ye?("function"===typeof l&&(Rc(a,n,l,b),g=a.memoizedState),(R=Ye||wc(a,n,R,b,A,g,m))?(K||"function"!==typeof d.UNSAFE_componentWillMount&&
"function"!==typeof d.componentWillMount||("function"===typeof d.componentWillMount&&d.componentWillMount(),"function"===typeof d.UNSAFE_componentWillMount&&d.UNSAFE_componentWillMount()),"function"===typeof d.componentDidMount&&(a.effectTag|=4)):("function"===typeof d.componentDidMount&&(a.effectTag|=4),a.memoizedProps=b,a.memoizedState=g),d.props=b,d.state=g,d.context=m,b=R):("function"===typeof d.componentDidMount&&(a.effectTag|=4),b=!1)}else d=a.stateNode,bb(f,a),R=a.memoizedProps,d.props=a.type===
a.elementType?R:Y(a.type,R),g=d.context,m=n.contextType,"object"===typeof m&&null!==m?m=La(m):(m=V(n)?me:od.current,m=Nb(a,m)),l=n.getDerivedStateFromProps,(K="function"===typeof l||"function"===typeof d.getSnapshotBeforeUpdate)||"function"!==typeof d.UNSAFE_componentWillReceiveProps&&"function"!==typeof d.componentWillReceiveProps||(R!==b||g!==m)&&Z(a,d,b,m),Ye=!1,g=a.memoizedState,d.state=g,Od(a,b,d,y),A=a.memoizedState,R!==b||g!==A||nd.current||Ye?("function"===typeof l&&(Rc(a,n,l,b),A=a.memoizedState),
(l=Ye||wc(a,n,R,b,g,A,m))?(K||"function"!==typeof d.UNSAFE_componentWillUpdate&&"function"!==typeof d.componentWillUpdate||("function"===typeof d.componentWillUpdate&&d.componentWillUpdate(b,A,m),"function"===typeof d.UNSAFE_componentWillUpdate&&d.UNSAFE_componentWillUpdate(b,A,m)),"function"===typeof d.componentDidUpdate&&(a.effectTag|=4),"function"===typeof d.getSnapshotBeforeUpdate&&(a.effectTag|=256)):("function"!==typeof d.componentDidUpdate||R===f.memoizedProps&&g===f.memoizedState||(a.effectTag|=
4),"function"!==typeof d.getSnapshotBeforeUpdate||R===f.memoizedProps&&g===f.memoizedState||(a.effectTag|=256),a.memoizedProps=b,a.memoizedState=A),d.props=b,d.state=A,d.context=m,b=l):("function"!==typeof d.componentDidUpdate||R===f.memoizedProps&&g===f.memoizedState||(a.effectTag|=4),"function"!==typeof d.getSnapshotBeforeUpdate||R===f.memoizedProps&&g===f.memoizedState||(a.effectTag|=256),b=!1);return Kf(f,a,n,b,q,y)}function Kf(f,a,n,b,d,m){Jf(f,a);var q=0!==(a.effectTag&64);if(!b&&!q)return d&&
Ca(a,n,!1),Uc(f,a,m);b=a.stateNode;Uj.current=a;var R=q&&"function"!==typeof n.getDerivedStateFromError?null:b.render();a.effectTag|=1;null!==f&&q?(a.child=gg(a,f.child,null,m),a.child=gg(a,null,R,m)):y(f,a,R,m);a.memoizedState=b.state;d&&Ca(a,n,!0);return a.child}function hg(f){var a=f.stateNode;a.pendingContext?ib(f,a.pendingContext,a.pendingContext!==a.context):a.context&&ib(f,a.context,!1);Kc(f,a.containerInfo)}function Je(f,a,n){var q=a.mode,b=a.pendingProps,y=Mc.current,d=!1,m;(m=0!==(a.effectTag&
64))||(m=0!==(y&2)&&(null===f||null!==f.memoizedState));m?(d=!0,a.effectTag&=-65):null!==f&&null===f.memoizedState||void 0===b.fallback||!0===b.unstable_avoidThisFallback||(y|=1);eb(Mc,y&1);if(null===f){void 0!==b.fallback&&ob(a);if(d){d=b.fallback;b=Ze(null,q,0,null);b.return=a;if(0===(a.mode&2))for(f=null!==a.memoizedState?a.child.child:a.child,b.child=f;null!==f;)f.return=b,f=f.sibling;n=Ze(d,q,n,null);n.return=a;b.sibling=n;a.memoizedState=xc;a.child=b;return n}q=b.children;a.memoizedState=null;
return a.child=hi(a,null,q,n)}if(null!==f.memoizedState){f=f.child;q=f.sibling;if(d){b=b.fallback;n=Ee(f,f.pendingProps);n.return=a;if(0===(a.mode&2)&&(d=null!==a.memoizedState?a.child.child:a.child,d!==f.child))for(n.child=d;null!==d;)d.return=n,d=d.sibling;q=Ee(q,b);q.return=a;n.sibling=q;n.childExpirationTime=0;a.memoizedState=xc;a.child=n;return q}n=gg(a,f.child,b.children,n);a.memoizedState=null;return a.child=n}f=f.child;if(d){d=b.fallback;b=Ze(null,q,0,null);b.return=a;b.child=f;null!==f&&
(f.return=b);if(0===(a.mode&2))for(f=null!==a.memoizedState?a.child.child:a.child,b.child=f;null!==f;)f.return=b,f=f.sibling;n=Ze(d,q,n,null);n.return=a;b.sibling=n;n.effectTag|=2;b.childExpirationTime=0;a.memoizedState=xc;a.child=b;return n}a.memoizedState=null;return a.child=gg(a,f,b.children,n)}function Hg(f,a){f.expirationTime<a&&(f.expirationTime=a);var q=f.alternate;null!==q&&q.expirationTime<a&&(q.expirationTime=a);Pb(f.return,a)}function Lf(f,a,n,b,y,d){var q=f.memoizedState;null===q?f.memoizedState=
{isBackwards:a,rendering:null,renderingStartTime:0,last:b,tail:n,tailExpiration:0,tailMode:y,lastEffect:d}:(q.isBackwards=a,q.rendering=null,q.renderingStartTime=0,q.last=b,q.tail=n,q.tailExpiration=0,q.tailMode=y,q.lastEffect=d)}function Qd(f,a,n){var q=a.pendingProps,b=q.revealOrder,d=q.tail;y(f,a,q.children,n);q=Mc.current;if(0!==(q&2))q=q&1|2,a.effectTag|=64;else{if(null!==f&&0!==(f.effectTag&64))a:for(f=a.child;null!==f;){if(13===f.tag)null!==f.memoizedState&&Hg(f,n);else if(19===f.tag)Hg(f,
n);else if(null!==f.child){f.child.return=f;f=f.child;continue}if(f===a)break a;for(;null===f.sibling;){if(null===f.return||f.return===a)break a;f=f.return}f.sibling.return=f.return;f=f.sibling}q&=1}eb(Mc,q);if(0===(a.mode&2))a.memoizedState=null;else switch(b){case "forwards":n=a.child;for(b=null;null!==n;)f=n.alternate,null!==f&&null===Xc(f)&&(b=n),n=n.sibling;n=b;null===n?(b=a.child,a.child=null):(b=n.sibling,n.sibling=null);Lf(a,!1,b,n,d,a.lastEffect);break;case "backwards":n=null;b=a.child;for(a.child=
null;null!==b;){f=b.alternate;if(null!==f&&null===Xc(f)){a.child=b;break}f=b.sibling;b.sibling=n;n=b;b=f}Lf(a,!0,n,null,d,a.lastEffect);break;case "together":Lf(a,!1,null,null,void 0,a.lastEffect);break;default:a.memoizedState=null}return a.child}function Uc(f,n,b){null!==f&&(n.dependencies=f.dependencies);var q=n.expirationTime;0!==q&&zg(q);if(n.childExpirationTime<b)return null;if(null!==f&&n.child!==f.child)throw Error(a(153));if(null!==n.child){f=n.child;b=Ee(f,f.pendingProps);n.child=b;for(b.return=
n;null!==f.sibling;)f=f.sibling,b=b.sibling=Ee(f,f.pendingProps),b.return=n;b.sibling=null}return n.child}function id(f,a){switch(f.tailMode){case "hidden":a=f.tail;for(var n=null;null!==a;)null!==a.alternate&&(n=a),a=a.sibling;null===n?f.tail=null:n.sibling=null;break;case "collapsed":n=f.tail;for(var q=null;null!==n;)null!==n.alternate&&(q=n),n=n.sibling;null===q?a||null===f.tail?f.tail=null:f.tail.sibling=null:q.sibling=null}}function af(f,b,y){var q=b.pendingProps;switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;
case 1:return V(b.type)&&wb(),null;case 3:return hd(),Ha(nd),Ha(od),y=b.stateNode,y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),null!==f&&null!==f.child||!n(b)||(b.effectTag|=4),Oa(b),null;case 5:zd(b);y=Jc(Dg.current);var m=b.type;if(null!==f&&null!=b.stateNode)na(f,b,m,q,y),f.ref!==b.ref&&(b.effectTag|=128);else{if(!q){if(null===b.stateNode)throw Error(a(166));return null}f=Jc(we.current);if(n(b)){q=b.stateNode;m=b.type;var A=b.memoizedProps;q[We]=b;q[nh]=A;switch(m){case "iframe":case "object":case "embed":Xa("load",
q);break;case "video":case "audio":for(f=0;f<ug.length;f++)Xa(ug[f],q);break;case "source":Xa("error",q);break;case "img":case "image":case "link":Xa("error",q);Xa("load",q);break;case "form":Xa("reset",q);Xa("submit",q);break;case "details":Xa("toggle",q);break;case "input":d(q,A);Xa("invalid",q);db(y,"onChange");break;case "select":q._wrapperState={wasMultiple:!!A.multiple};Xa("invalid",q);db(y,"onChange");break;case "textarea":Na(q,A),Xa("invalid",q),db(y,"onChange")}ac(m,A);f=null;for(var K in A)if(A.hasOwnProperty(K)){var c=
A[K];"children"===K?"string"===typeof c?q.textContent!==c&&(f=["children",c]):"number"===typeof c&&q.textContent!==""+c&&(f=["children",""+c]):ff.hasOwnProperty(K)&&null!=c&&db(y,K)}switch(m){case "input":va(q);la(q,A,!0);break;case "textarea":va(q);Ma(q);break;case "select":case "option":break;default:"function"===typeof A.onClick&&(q.onclick=Ob)}y=f;b.updateQueue=y;null!==y&&(b.effectTag|=4)}else{K=9===y.nodeType?y:y.ownerDocument;"http://www.w3.org/1999/xhtml"===f&&(f=U(m));"http://www.w3.org/1999/xhtml"===
f?"script"===m?(f=K.createElement("div"),f.innerHTML="\x3cscript\x3e\x3c/script\x3e",f=f.removeChild(f.firstChild)):"string"===typeof q.is?f=K.createElement(m,{is:q.is}):(f=K.createElement(m),"select"===m&&(K=f,q.multiple?K.multiple=!0:q.size&&(K.size=q.size))):f=K.createElementNS(f,m);f[We]=b;f[nh]=q;Wd(f,b,!1,!1);b.stateNode=f;K=gb(m,q);switch(m){case "iframe":case "object":case "embed":Xa("load",f);c=q;break;case "video":case "audio":for(c=0;c<ug.length;c++)Xa(ug[c],f);c=q;break;case "source":Xa("error",
f);c=q;break;case "img":case "image":case "link":Xa("error",f);Xa("load",f);c=q;break;case "form":Xa("reset",f);Xa("submit",f);c=q;break;case "details":Xa("toggle",f);c=q;break;case "input":d(f,q);c=g(f,q);Xa("invalid",f);db(y,"onChange");break;case "option":c=aa(f,q);break;case "select":f._wrapperState={wasMultiple:!!q.multiple};c=Fd({},q,{value:void 0});Xa("invalid",f);db(y,"onChange");break;case "textarea":Na(f,q);c=ya(f,q);Xa("invalid",f);db(y,"onChange");break;default:c=q}ac(m,c);var R=c;for(A in R)if(R.hasOwnProperty(A)){var v=
R[A];"style"===A?sb(f,v):"dangerouslySetInnerHTML"===A?(v=v?v.__html:void 0,null!=v&&ji(f,v)):"children"===A?"string"===typeof v?("textarea"!==m||""!==v)&&l(f,v):"number"===typeof v&&l(f,""+v):"suppressContentEditableWarning"!==A&&"suppressHydrationWarning"!==A&&"autoFocus"!==A&&(ff.hasOwnProperty(A)?null!=v&&db(y,A):null!=v&&O(f,A,v,K))}switch(m){case "input":va(f);la(f,q,!1);break;case "textarea":va(f);Ma(f);break;case "option":null!=q.value&&f.setAttribute("value",""+ma(q.value));break;case "select":f.multiple=
!!q.multiple;y=q.value;null!=y?sa(f,!!q.multiple,y,!1):null!=q.defaultValue&&sa(f,!!q.multiple,q.defaultValue,!0);break;default:"function"===typeof c.onClick&&(f.onclick=Ob)}Nc(m,q)&&(b.effectTag|=4)}null!==b.ref&&(b.effectTag|=128)}return null;case 6:if(f&&null!=b.stateNode)Dd(f,b,f.memoizedProps,q);else{if("string"!==typeof q&&null===b.stateNode)throw Error(a(166));y=Jc(Dg.current);Jc(we.current);n(b)?(y=b.stateNode,q=b.memoizedProps,y[We]=b,y.nodeValue!==q&&(b.effectTag|=4)):(y=(9===y.nodeType?
y:y.ownerDocument).createTextNode(q),y[We]=b,b.stateNode=y)}return null;case 13:Ha(Mc);q=b.memoizedState;if(0!==(b.effectTag&64))return b.expirationTime=y,b;y=null!==q;q=!1;null===f?void 0!==b.memoizedProps.fallback&&n(b):(m=f.memoizedState,q=null!==m,y||null===m||(m=f.child.sibling,null!==m&&(A=b.firstEffect,null!==A?(b.firstEffect=m,m.nextEffect=A):(b.firstEffect=b.lastEffect=m,m.nextEffect=null),m.effectTag=8)));if(y&&!q&&0!==(b.mode&2))if(null===f&&!0!==b.memoizedProps.unstable_avoidThisFallback||
0!==(Mc.current&1))ed===Mf&&(ed=Ig);else{if(ed===Mf||ed===Ig)ed=Jg;0!==Kg&&null!==de&&(Ke(de,Xd),bf(de,Kg))}if(y||q)b.effectTag|=4;return null;case 4:return hd(),Oa(b),null;case 10:return ra(b),null;case 17:return V(b.type)&&wb(),null;case 19:Ha(Mc);q=b.memoizedState;if(null===q)return null;m=0!==(b.effectTag&64);A=q.rendering;if(null===A)if(m)id(q,!1);else{if(ed!==Mf||null!==f&&0!==(f.effectTag&64))for(A=b.child;null!==A;){f=Xc(A);if(null!==f){b.effectTag|=64;id(q,!1);m=f.updateQueue;null!==m&&(b.updateQueue=
m,b.effectTag|=4);null===q.lastEffect&&(b.firstEffect=null);b.lastEffect=q.lastEffect;for(q=b.child;null!==q;)m=q,A=y,m.effectTag&=2,m.nextEffect=null,m.firstEffect=null,m.lastEffect=null,f=m.alternate,null===f?(m.childExpirationTime=0,m.expirationTime=A,m.child=null,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null):(m.childExpirationTime=f.childExpirationTime,m.expirationTime=f.expirationTime,m.child=f.child,m.memoizedProps=f.memoizedProps,m.memoizedState=f.memoizedState,
m.updateQueue=f.updateQueue,A=f.dependencies,m.dependencies=null===A?null:{expirationTime:A.expirationTime,firstContext:A.firstContext,responders:A.responders}),q=q.sibling;eb(Mc,Mc.current&1|2);return b.child}A=A.sibling}}else{if(!m)if(f=Xc(A),null!==f){if(b.effectTag|=64,m=!0,y=f.updateQueue,null!==y&&(b.updateQueue=y,b.effectTag|=4),id(q,!0),null===q.tail&&"hidden"===q.tailMode&&!A.alternate)return b=b.lastEffect=q.lastEffect,null!==b&&(b.nextEffect=null),null}else 2*Yc()-q.renderingStartTime>
q.tailExpiration&&1<y&&(b.effectTag|=64,m=!0,id(q,!1),b.expirationTime=b.childExpirationTime=y-1);q.isBackwards?(A.sibling=b.child,b.child=A):(y=q.last,null!==y?y.sibling=A:b.child=A,q.last=A)}return null!==q.tail?(0===q.tailExpiration&&(q.tailExpiration=Yc()+500),y=q.tail,q.rendering=y,q.tail=y.sibling,q.lastEffect=b.lastEffect,q.renderingStartTime=Yc(),y.sibling=null,b=Mc.current,eb(Mc,m?b&1|2:b&1),y):null}throw Error(a(156,b.tag));}function cf(f){switch(f.tag){case 1:V(f.type)&&wb();var n=f.effectTag;
return n&4096?(f.effectTag=n&-4097|64,f):null;case 3:hd();Ha(nd);Ha(od);n=f.effectTag;if(0!==(n&64))throw Error(a(285));f.effectTag=n&-4097|64;return f;case 5:return zd(f),null;case 13:return Ha(Mc),n=f.effectTag,n&4096?(f.effectTag=n&-4097|64,f):null;case 19:return Ha(Mc),null;case 4:return hd(),null;case 10:return ra(f),null;default:return null}}function Nf(f,a){return{value:f,source:a,stack:L(a)}}function uf(f,a){var n=a.source,q=a.stack;null===q&&null!==n&&(q=L(n));null!==n&&ba(n.type);a=a.value;
null!==f&&1===f.tag&&ba(f.type);try{console.error(a)}catch(mg){setTimeout(function(){throw mg;})}}function Of(f,a){try{a.props=f.memoizedProps,a.state=f.memoizedState,a.componentWillUnmount()}catch(Qe){vf(f,Qe)}}function wf(f){var a=f.ref;if(null!==a)if("function"===typeof a)try{a(null)}catch(Qe){vf(f,Qe)}else a.current=null}function xf(f,n){switch(n.tag){case 0:case 11:case 15:case 22:return;case 1:if(n.effectTag&256&&null!==f){var q=f.memoizedProps,b=f.memoizedState;f=n.stateNode;n=f.getSnapshotBeforeUpdate(n.elementType===
n.type?q:Y(n.type,q),b);f.__reactInternalSnapshotBeforeUpdate=n}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163));}function Lg(f,a){a=a.updateQueue;a=null!==a?a.lastEffect:null;if(null!==a){var n=a=a.next;do{if((n.tag&f)===f){var q=n.destroy;n.destroy=void 0;void 0!==q&&q()}n=n.next}while(n!==a)}}function yf(f,a){a=a.updateQueue;a=null!==a?a.lastEffect:null;if(null!==a){var n=a=a.next;do{if((n.tag&f)===f){var q=n.create;n.destroy=q()}n=n.next}while(n!==a)}}function ee(f,n,b){switch(b.tag){case 0:case 11:case 15:case 22:yf(3,
b);return;case 1:f=b.stateNode;if(b.effectTag&4)if(null===n)f.componentDidMount();else{var q=b.elementType===b.type?n.memoizedProps:Y(b.type,n.memoizedProps);f.componentDidUpdate(q,n.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}n=b.updateQueue;null!==n&&Qc(b,n,f);return;case 3:n=b.updateQueue;if(null!==n){f=null;if(null!==b.child)switch(b.child.tag){case 5:f=b.child.stateNode;break;case 1:f=b.child.stateNode}Qc(b,n,f)}return;case 5:f=b.stateNode;null===n&&b.effectTag&4&&Nc(b.type,b.memoizedProps)&&
f.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===b.memoizedState&&(b=b.alternate,null!==b&&(b=b.memoizedState,null!==b&&(b=b.dehydrated,null!==b&&Tb(b))));return;case 19:case 17:case 20:case 21:return}throw Error(a(163));}function zf(f,a,n){"function"===typeof zh&&zh(a);switch(a.tag){case 0:case 11:case 14:case 15:case 22:f=a.updateQueue;if(null!==f&&(f=f.lastEffect,null!==f)){var q=f.next;tb(97<n?97:n,function(){var f=q;do{var n=f.destroy;if(void 0!==n){var b=a;try{n()}catch(Rh){vf(b,
Rh)}}f=f.next}while(f!==q)})}break;case 1:wf(a);n=a.stateNode;"function"===typeof n.componentWillUnmount&&Of(a,n);break;case 5:wf(a);break;case 4:gj(f,a,n)}}function Af(f){var a=f.alternate;f.return=null;f.child=null;f.memoizedState=null;f.updateQueue=null;f.dependencies=null;f.alternate=null;f.firstEffect=null;f.lastEffect=null;f.pendingProps=null;f.memoizedProps=null;f.stateNode=null;null!==a&&Af(a)}function ki(f){return 5===f.tag||3===f.tag||4===f.tag}function Mg(f){a:{for(var n=f.return;null!==
n;){if(ki(n)){var b=n;break a}n=n.return}throw Error(a(160));}n=b.stateNode;switch(b.tag){case 5:var q=!1;break;case 3:n=n.containerInfo;q=!0;break;case 4:n=n.containerInfo;q=!0;break;default:throw Error(a(161));}b.effectTag&16&&(l(n,""),b.effectTag&=-17);b=f;a:b:for(;;){for(;null===b.sibling;){if(null===b.return||ki(b.return)){b=null;break a}b=b.return}b.sibling.return=b.return;for(b=b.sibling;5!==b.tag&&6!==b.tag&&18!==b.tag;){if(b.effectTag&2)continue b;if(null===b.child||4===b.tag)continue b;
else b.child.return=b,b=b.child}if(!(b.effectTag&2)){b=b.stateNode;break a}}q?Pf(f,b,n):Ah(f,b,n)}function Pf(f,a,n){var b=f.tag,q=5===b||6===b;if(q)f=q?f.stateNode:f.stateNode.instance,a?8===n.nodeType?n.parentNode.insertBefore(f,a):n.insertBefore(f,a):(8===n.nodeType?(a=n.parentNode,a.insertBefore(f,n)):(a=n,a.appendChild(f)),n=n._reactRootContainer,null!==n&&void 0!==n||null!==a.onclick||(a.onclick=Ob));else if(4!==b&&(f=f.child,null!==f))for(Pf(f,a,n),f=f.sibling;null!==f;)Pf(f,a,n),f=f.sibling}
function Ah(f,a,n){var b=f.tag,q=5===b||6===b;if(q)f=q?f.stateNode:f.stateNode.instance,a?n.insertBefore(f,a):n.appendChild(f);else if(4!==b&&(f=f.child,null!==f))for(Ah(f,a,n),f=f.sibling;null!==f;)Ah(f,a,n),f=f.sibling}function gj(f,n,b){for(var q=n,y=!1,d,m;;){if(!y){y=q.return;a:for(;;){if(null===y)throw Error(a(160));d=y.stateNode;switch(y.tag){case 5:m=!1;break a;case 3:d=d.containerInfo;m=!0;break a;case 4:d=d.containerInfo;m=!0;break a}y=y.return}y=!0}if(5===q.tag||6===q.tag){var g=f,l=q,
A=b,K=l;a:for(;;)if(zf(g,K,A),null!==K.child&&4!==K.tag)K.child.return=K,K=K.child;else{if(K===l)break a;for(;null===K.sibling;){if(null===K.return||K.return===l)break a;K=K.return}K.sibling.return=K.return;K=K.sibling}m?(g=d,l=q.stateNode,8===g.nodeType?g.parentNode.removeChild(l):g.removeChild(l)):d.removeChild(q.stateNode)}else if(4===q.tag){if(null!==q.child){d=q.stateNode.containerInfo;m=!0;q.child.return=q;q=q.child;continue}}else if(zf(f,q,b),null!==q.child){q.child.return=q;q=q.child;continue}if(q===
n)break;for(;null===q.sibling;){if(null===q.return||q.return===n)return;q=q.return;4===q.tag&&(y=!1)}q.sibling.return=q.return;q=q.sibling}}function li(f,n){switch(n.tag){case 0:case 11:case 14:case 15:case 22:Lg(3,n);return;case 1:return;case 5:var b=n.stateNode;if(null!=b){var q=n.memoizedProps,y=null!==f?f.memoizedProps:q;f=n.type;var d=n.updateQueue;n.updateQueue=null;if(null!==d){b[nh]=q;"input"===f&&"radio"===q.type&&null!=q.name&&M(b,q);gb(f,y);n=gb(f,q);for(y=0;y<d.length;y+=2){var m=d[y],
g=d[y+1];"style"===m?sb(b,g):"dangerouslySetInnerHTML"===m?ji(b,g):"children"===m?l(b,g):O(b,m,g,n)}switch(f){case "input":Q(b,q);break;case "textarea":Ea(b,q);break;case "select":n=b._wrapperState.wasMultiple,b._wrapperState.wasMultiple=!!q.multiple,f=q.value,null!=f?sa(b,!!q.multiple,f,!1):n!==!!q.multiple&&(null!=q.defaultValue?sa(b,!!q.multiple,q.defaultValue,!0):sa(b,!!q.multiple,q.multiple?[]:"",!1))}}}return;case 6:if(null===n.stateNode)throw Error(a(162));n.stateNode.nodeValue=n.memoizedProps;
return;case 3:n=n.stateNode;n.hydrate&&(n.hydrate=!1,Tb(n.containerInfo));return;case 12:return;case 13:b=n;null===n.memoizedState?q=!1:(q=!0,b=n.child,Bh=Yc());if(null!==b)a:for(f=b;;){if(5===f.tag)d=f.stateNode,q?(d=d.style,"function"===typeof d.setProperty?d.setProperty("display","none","important"):d.display="none"):(d=f.stateNode,y=f.memoizedProps.style,y=void 0!==y&&null!==y&&y.hasOwnProperty("display")?y.display:null,d.style.display=fc("display",y));else if(6===f.tag)f.stateNode.nodeValue=
q?"":f.memoizedProps;else if(13===f.tag&&null!==f.memoizedState&&null===f.memoizedState.dehydrated){d=f.child.sibling;d.return=f;f=d;continue}else if(null!==f.child){f.child.return=f;f=f.child;continue}if(f===b)break;for(;null===f.sibling;){if(null===f.return||f.return===b)break a;f=f.return}f.sibling.return=f.return;f=f.sibling}hj(n);return;case 19:hj(n);return;case 17:return}throw Error(a(163));}function hj(f){var a=f.updateQueue;if(null!==a){f.updateQueue=null;var n=f.stateNode;null===n&&(n=f.stateNode=
new Vb);a.forEach(function(a){var b=sd.bind(null,f,a);n.has(a)||(n.add(a),a.then(b,b))})}}function ij(f,a,n){n=Ga(n,null);n.tag=3;n.payload={element:null};var b=a.value;n.callback=function(){Ch||(Ch=!0,Le=b);uf(f,a)};return n}function mi(f,a,n){n=Ga(n,null);n.tag=3;var b=f.type.getDerivedStateFromError;if("function"===typeof b){var q=a.value;n.payload=function(){uf(f,a);return b(q)}}var y=f.stateNode;null!==y&&"function"===typeof y.componentDidCatch&&(n.callback=function(){"function"!==typeof b&&
(null===Bf?Bf=new Set([this]):Bf.add(this),uf(f,a));var n=a.stack;this.componentDidCatch(a.value,{componentStack:null!==n?n:""})});return n}function Ge(){return(pb&(fe|Me))!==Gc?1073741821-(Yc()/10|0):0!==Qf?Qf:Qf=1073741821-(Yc()/10|0)}function sf(f,n,b){n=n.mode;if(0===(n&2))return 1073741823;var q=Hb();if(0===(n&4))return 99===q?1073741823:1073741822;if((pb&fe)!==Gc)return Xd;if(null!==b)f=Za(f,b.timeoutMs|0||5E3,250);else switch(q){case 99:f=1073741823;break;case 98:f=Za(f,150,100);break;case 97:case 96:f=
Za(f,5E3,250);break;case 95:f=2;break;default:throw Error(a(326));}null!==de&&f===Xd&&--f;return f}function tf(f,n){if(50<Ne)throw Ne=0,ig=null,Error(a(185));f=Ng(f,n);if(null!==f){var b=Hb();1073741823===n?(pb&Og)!==Gc&&(pb&(fe|Me))===Gc?ni(f):(Yd(f),pb===Gc&&Ka()):Yd(f);(pb&4)===Gc||98!==b&&99!==b||(null===Rd?Rd=new Map([[f,n]]):(b=Rd.get(f),(void 0===b||b>n)&&Rd.set(f,n)))}}function Ng(f,a){f.expirationTime<a&&(f.expirationTime=a);var n=f.alternate;null!==n&&n.expirationTime<a&&(n.expirationTime=
a);var b=f.return,q=null;if(null===b&&3===f.tag)q=f.stateNode;else for(;null!==b;){n=b.alternate;b.childExpirationTime<a&&(b.childExpirationTime=a);null!==n&&n.childExpirationTime<a&&(n.childExpirationTime=a);if(null===b.return&&3===b.tag){q=b.stateNode;break}b=b.return}null!==q&&(de===q&&(zg(a),ed===Jg&&Ke(q,Xd)),bf(q,a));return q}function Pg(f){var a=f.lastExpiredTime;if(0!==a)return a;a=f.firstPendingTime;if(!oi(f,a))return a;var n=f.lastPingedTime;f=f.nextKnownPendingLevel;f=n>f?n:f;return 2>=
f&&a!==f?0:f}function Yd(f){if(0!==f.lastExpiredTime)f.callbackExpirationTime=1073741823,f.callbackPriority=99,f.callbackNode=Ud(ni.bind(null,f));else{var a=Pg(f),n=f.callbackNode;if(0===a)null!==n&&(f.callbackNode=null,f.callbackExpirationTime=0,f.callbackPriority=90);else{var b=Ge();1073741823===a?b=99:1===a||2===a?b=95:(b=10*(1073741821-a)-10*(1073741821-b),b=0>=b?99:250>=b?98:5250>=b?97:95);if(null!==n){var q=f.callbackPriority;if(f.callbackExpirationTime===a&&q>=b)return;n!==bj&&cj(n)}f.callbackExpirationTime=
a;f.callbackPriority=b;a=1073741823===a?Ud(ni.bind(null,f)):Dc(b,pi.bind(null,f),{timeout:10*(1073741821-a)-Yc()});f.callbackNode=a}}}function pi(f,n){Qf=0;if(n)return n=Ge(),Dh(f,n),Yd(f),null;var b=Pg(f);if(0!==b){n=f.callbackNode;if((pb&(fe|Me))!==Gc)throw Error(a(327));Rf();f===de&&b===Xd||Cf(f,b);if(null!==zb){var q=pb;pb|=fe;var y=qi();do try{for(;null!==zb&&!Vj();)zb=Eh(zb);break}catch(Rh){ri(f,Rh)}while(1);ad=pd=fg=null;pb=q;Fh.current=y;if(ed===Sf)throw n=Qg,Cf(f,b),Ke(f,b),Yd(f),n;if(null===
zb)switch(y=f.finishedWork=f.current.alternate,f.finishedExpirationTime=b,q=ed,de=null,q){case Mf:case Sf:throw Error(a(345));case Rg:Dh(f,2<b?2:b);break;case Ig:Ke(f,b);q=f.lastSuspendedTime;b===q&&(f.nextKnownPendingLevel=Gh(y));if(1073741823===df&&(y=Bh+si-Yc(),10<y)){if(Hh){var d=f.lastPingedTime;if(0===d||d>=b){f.lastPingedTime=b;Cf(f,b);break}}d=Pg(f);if(0!==d&&d!==b)break;if(0!==q&&q!==b){f.lastPingedTime=q;break}f.timeoutHandle=ti(Oe.bind(null,f),y);break}Oe(f);break;case Jg:Ke(f,b);q=f.lastSuspendedTime;
b===q&&(f.nextKnownPendingLevel=Gh(y));if(Hh&&(y=f.lastPingedTime,0===y||y>=b)){f.lastPingedTime=b;Cf(f,b);break}y=Pg(f);if(0!==y&&y!==b)break;if(0!==q&&q!==b){f.lastPingedTime=q;break}1073741823!==ge?q=10*(1073741821-ge)-Yc():1073741823===df?q=0:(q=10*(1073741821-df)-5E3,y=Yc(),b=10*(1073741821-b)-y,q=y-q,0>q&&(q=0),q=(120>q?120:480>q?480:1080>q?1080:1920>q?1920:3E3>q?3E3:4320>q?4320:1960*Wj(q/1960))-q,b<q&&(q=b));if(10<q){f.timeoutHandle=ti(Oe.bind(null,f),q);break}Oe(f);break;case ui:if(1073741823!==
df&&null!==re){d=df;var m=re;q=m.busyMinDurationMs|0;0>=q?q=0:(y=m.busyDelayMs|0,d=Yc()-(10*(1073741821-d)-(m.timeoutMs|0||5E3)),q=d<=y?0:y+q-d);if(10<q){Ke(f,b);f.timeoutHandle=ti(Oe.bind(null,f),q);break}}Oe(f);break;default:throw Error(a(329));}Yd(f);if(f.callbackNode===n)return pi.bind(null,f)}}return null}function ni(f){var n=f.lastExpiredTime;n=0!==n?n:1073741823;if((pb&(fe|Me))!==Gc)throw Error(a(327));Rf();f===de&&n===Xd||Cf(f,n);if(null!==zb){var b=pb;pb|=fe;var q=qi();do try{for(;null!==
zb;)zb=Eh(zb);break}catch(mg){ri(f,mg)}while(1);ad=pd=fg=null;pb=b;Fh.current=q;if(ed===Sf)throw b=Qg,Cf(f,n),Ke(f,n),Yd(f),b;if(null!==zb)throw Error(a(261));f.finishedWork=f.current.alternate;f.finishedExpirationTime=n;de=null;Oe(f);Yd(f)}return null}function jj(){if(null!==Rd){var f=Rd;Rd=null;f.forEach(function(f,a){Dh(a,f);Yd(a)});Ka()}}function vi(f,a){var n=pb;pb|=1;try{return f(a)}finally{pb=n,pb===Gc&&Ka()}}function he(f,a){var n=pb;pb&=-2;pb|=Og;try{return f(a)}finally{pb=n,pb===Gc&&Ka()}}
function Cf(f,a){f.finishedWork=null;f.finishedExpirationTime=0;var n=f.timeoutHandle;-1!==n&&(f.timeoutHandle=-1,Xj(n));if(null!==zb)for(n=zb.return;null!==n;){var b=n;switch(b.tag){case 1:b=b.type.childContextTypes;null!==b&&void 0!==b&&wb();break;case 3:hd();Ha(nd);Ha(od);break;case 5:zd(b);break;case 4:hd();break;case 13:Ha(Mc);break;case 19:Ha(Mc);break;case 10:ra(b)}n=n.return}de=f;zb=Ee(f.current,null);Xd=a;ed=Mf;Qg=null;ge=df=1073741823;re=null;Kg=0;Hh=!1}function ri(f,a){do{try{ad=pd=fg=
null;xh.current=yh;if(Fg)for(var n=Sc.memoizedState;null!==n;){var b=n.queue;null!==b&&(b.pending=null);n=n.next}rf=0;Ad=Bd=Sc=null;Fg=!1;if(null===zb||null===zb.return)return ed=Sf,Qg=a,zb=null;a:{var q=f,y=zb.return,d=zb,m=a;a=Xd;d.effectTag|=2048;d.firstEffect=d.lastEffect=null;if(null!==m&&"object"===typeof m&&"function"===typeof m.then){var g=m;if(0===(d.mode&2)){var l=d.alternate;l?(d.updateQueue=l.updateQueue,d.memoizedState=l.memoizedState,d.expirationTime=l.expirationTime):(d.updateQueue=
null,d.memoizedState=null)}var A=0!==(Mc.current&1),K=y;do{var c;if(c=13===K.tag){var v=K.memoizedState;if(null!==v)c=null!==v.dehydrated?!0:!1;else{var Jb=K.memoizedProps;c=void 0===Jb.fallback?!1:!0!==Jb.unstable_avoidThisFallback?!0:A?!1:!0}}if(c){var Z=K.updateQueue;if(null===Z){var M=new Set;M.add(g);K.updateQueue=M}else Z.add(g);if(0===(K.mode&2)){K.effectTag|=64;d.effectTag&=-2981;if(1===d.tag)if(null===d.alternate)d.tag=17;else{var E=Ga(1073741823,null);E.tag=2;Aa(d,E)}d.expirationTime=1073741823;
break a}m=void 0;d=a;var x=q.pingCache;null===x?(x=q.pingCache=new Yj,m=new Set,x.set(g,m)):(m=x.get(g),void 0===m&&(m=new Set,x.set(g,m)));if(!m.has(d)){m.add(d);var sc=wi.bind(null,q,g,d);g.then(sc,sc)}K.effectTag|=4096;K.expirationTime=a;break a}K=K.return}while(null!==K);m=Error((ba(d.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a \x3cSuspense fallback\x3d...\x3e component higher in the tree to provide a loading indicator or placeholder to display."+
L(d))}ed!==ui&&(ed=Rg);m=Nf(m,d);K=y;do{switch(K.tag){case 3:g=m;K.effectTag|=4096;K.expirationTime=a;var Q=ij(K,g,a);Ec(K,Q);break a;case 1:g=m;var ta=K.type,da=K.stateNode;if(0===(K.effectTag&64)&&("function"===typeof ta.getDerivedStateFromError||null!==da&&"function"===typeof da.componentDidCatch&&(null===Bf||!Bf.has(da)))){K.effectTag|=4096;K.expirationTime=a;var U=mi(K,g,a);Ec(K,U);break a}}K=K.return}while(null!==K)}zb=Zd(zb)}catch(vh){a=vh;continue}break}while(1)}function qi(){var f=Fh.current;
Fh.current=yh;return null===f?yh:f}function sh(f,a){f<df&&2<f&&(df=f);null!==a&&f<ge&&2<f&&(ge=f,re=a)}function zg(f){f>Kg&&(Kg=f)}function Eh(f){var a=kj(f.alternate,f,Xd);f.memoizedProps=f.pendingProps;null===a&&(a=Zd(f));lj.current=null;return a}function Zd(f){zb=f;do{var a=zb.alternate;f=zb.return;if(0===(zb.effectTag&2048)){a=af(a,zb,Xd);if(1===Xd||1!==zb.childExpirationTime){for(var n=0,b=zb.child;null!==b;){var q=b.expirationTime,y=b.childExpirationTime;q>n&&(n=q);y>n&&(n=y);b=b.sibling}zb.childExpirationTime=
n}if(null!==a)return a;null!==f&&0===(f.effectTag&2048)&&(null===f.firstEffect&&(f.firstEffect=zb.firstEffect),null!==zb.lastEffect&&(null!==f.lastEffect&&(f.lastEffect.nextEffect=zb.firstEffect),f.lastEffect=zb.lastEffect),1<zb.effectTag&&(null!==f.lastEffect?f.lastEffect.nextEffect=zb:f.firstEffect=zb,f.lastEffect=zb))}else{a=cf(zb);if(null!==a)return a.effectTag&=2047,a;null!==f&&(f.firstEffect=f.lastEffect=null,f.effectTag|=2048)}a=zb.sibling;if(null!==a)return a;zb=f}while(null!==zb);ed===Mf&&
(ed=ui);return null}function Gh(f){var a=f.expirationTime;f=f.childExpirationTime;return a>f?a:f}function Oe(f){var a=Hb();tb(99,mj.bind(null,f,a));return null}function mj(f,n){do Rf();while(null!==Sg);if((pb&(fe|Me))!==Gc)throw Error(a(327));var b=f.finishedWork,q=f.finishedExpirationTime;if(null===b)return null;f.finishedWork=null;f.finishedExpirationTime=0;if(b===f.current)throw Error(a(177));f.callbackNode=null;f.callbackExpirationTime=0;f.callbackPriority=90;f.nextKnownPendingLevel=0;var y=Gh(b);
f.firstPendingTime=y;q<=f.lastSuspendedTime?f.firstSuspendedTime=f.lastSuspendedTime=f.nextKnownPendingLevel=0:q<=f.firstSuspendedTime&&(f.firstSuspendedTime=q-1);q<=f.lastPingedTime&&(f.lastPingedTime=0);q<=f.lastExpiredTime&&(f.lastExpiredTime=0);f===de&&(zb=de=null,Xd=0);1<b.effectTag?null!==b.lastEffect?(b.lastEffect.nextEffect=b,y=b.firstEffect):y=b:y=b.firstEffect;if(null!==y){var d=pb;pb|=Me;lj.current=null;Ih=mh;var m=kc();if(Vc(m)){if("selectionStart"in m)var g={start:m.selectionStart,end:m.selectionEnd};
else a:{g=(g=m.ownerDocument)&&g.defaultView||window;var K=g.getSelection&&g.getSelection();if(K&&0!==K.rangeCount){g=K.anchorNode;var A=K.anchorOffset,c=K.focusNode;K=K.focusOffset;try{g.nodeType,c.nodeType}catch(Fe){g=null;break a}var v=0,Jb=-1,Z=-1,M=0,E=0,x=m,sc=null;b:for(;;){for(var Q;;){x!==g||0!==A&&3!==x.nodeType||(Jb=v+A);x!==c||0!==K&&3!==x.nodeType||(Z=v+K);3===x.nodeType&&(v+=x.nodeValue.length);if(null===(Q=x.firstChild))break;sc=x;x=Q}for(;;){if(x===m)break b;sc===g&&++M===A&&(Jb=v);
sc===c&&++E===K&&(Z=v);if(null!==(Q=x.nextSibling))break;x=sc;sc=x.parentNode}x=Q}g=-1===Jb||-1===Z?null:{start:Jb,end:Z}}else g=null}g=g||{start:0,end:0}}else g=null;Tg={activeElementDetached:null,focusedElem:m,selectionRange:g};mh=!1;Pa=y;do try{Pe()}catch(Fe){if(null===Pa)throw Error(a(330));vf(Pa,Fe);Pa=Pa.nextEffect}while(null!==Pa);Pa=y;do try{for(m=f,g=n;null!==Pa;){var ta=Pa.effectTag;ta&16&&l(Pa.stateNode,"");if(ta&128){var da=Pa.alternate;if(null!==da){var U=da.ref;null!==U&&("function"===
typeof U?U(null):U.current=null)}}switch(ta&1038){case 2:Mg(Pa);Pa.effectTag&=-3;break;case 6:Mg(Pa);Pa.effectTag&=-3;li(Pa.alternate,Pa);break;case 1024:Pa.effectTag&=-1025;break;case 1028:Pa.effectTag&=-1025;li(Pa.alternate,Pa);break;case 4:li(Pa.alternate,Pa);break;case 8:A=Pa,gj(m,A,g),Af(A)}Pa=Pa.nextEffect}}catch(Fe){if(null===Pa)throw Error(a(330));vf(Pa,Fe);Pa=Pa.nextEffect}while(null!==Pa);U=Tg;da=kc();ta=U.focusedElem;g=U.selectionRange;if(da!==ta&&ta&&ta.ownerDocument&&td(ta.ownerDocument.documentElement,
ta)){null!==g&&Vc(ta)&&(da=g.start,U=g.end,void 0===U&&(U=da),"selectionStart"in ta?(ta.selectionStart=da,ta.selectionEnd=Math.min(U,ta.value.length)):(U=(da=ta.ownerDocument||document)&&da.defaultView||window,U.getSelection&&(U=U.getSelection(),A=ta.textContent.length,m=Math.min(g.start,A),g=void 0===g.end?m:Math.min(g.end,A),!U.extend&&m>g&&(A=g,g=m,m=A),A=Ic(ta,m),c=Ic(ta,g),A&&c&&(1!==U.rangeCount||U.anchorNode!==A.node||U.anchorOffset!==A.offset||U.focusNode!==c.node||U.focusOffset!==c.offset)&&
(da=da.createRange(),da.setStart(A.node,A.offset),U.removeAllRanges(),m>g?(U.addRange(da),U.extend(c.node,c.offset)):(da.setEnd(c.node,c.offset),U.addRange(da))))));da=[];for(U=ta;U=U.parentNode;)1===U.nodeType&&da.push({element:U,left:U.scrollLeft,top:U.scrollTop});"function"===typeof ta.focus&&ta.focus();for(ta=0;ta<da.length;ta++)U=da[ta],U.element.scrollLeft=U.left,U.element.scrollTop=U.top}mh=!!Ih;Tg=Ih=null;f.current=b;Pa=y;do try{for(ta=f;null!==Pa;){var h=Pa.effectTag;h&36&&ee(ta,Pa.alternate,
Pa);if(h&128){da=void 0;var ob=Pa.ref;if(null!==ob){var Ea=Pa.stateNode;switch(Pa.tag){case 5:da=Ea;break;default:da=Ea}"function"===typeof ob?ob(da):ob.current=da}}Pa=Pa.nextEffect}}catch(Fe){if(null===Pa)throw Error(a(330));vf(Pa,Fe);Pa=Pa.nextEffect}while(null!==Pa);Pa=null;yc();pb=d}else f.current=b;if(Ug)Ug=!1,Sg=f,jg=n;else for(Pa=y;null!==Pa;)n=Pa.nextEffect,Pa.nextEffect=null,Pa=n;n=f.firstPendingTime;0===n&&(Bf=null);1073741823===n?f===ig?Ne++:(Ne=0,ig=f):Ne=0;"function"===typeof Ae&&Ae(b.stateNode,
q);Yd(f);if(Ch)throw Ch=!1,f=Le,Le=null,f;if((pb&Og)!==Gc)return null;Ka();return null}function Pe(){for(;null!==Pa;){var f=Pa.effectTag;0!==(f&256)&&xf(Pa.alternate,Pa);0===(f&512)||Ug||(Ug=!0,Dc(97,function(){Rf();return null}));Pa=Pa.nextEffect}}function Rf(){if(90!==jg){var f=97<jg?97:jg;jg=90;return tb(f,Zj)}}function Zj(){if(null===Sg)return!1;var f=Sg;Sg=null;if((pb&(fe|Me))!==Gc)throw Error(a(331));var n=pb;pb|=Me;for(f=f.current.firstEffect;null!==f;){try{var b=f;if(0!==(b.effectTag&512))switch(b.tag){case 0:case 11:case 15:case 22:Lg(5,
b),yf(5,b)}}catch(Qh){if(null===f)throw Error(a(330));vf(f,Qh)}b=f.nextEffect;f.nextEffect=null;f=b}pb=n;Ka();return!0}function xi(f,a,n){a=Nf(n,a);a=ij(f,a,1073741823);Aa(f,a);f=Ng(f,1073741823);null!==f&&Yd(f)}function vf(f,a){if(3===f.tag)xi(f,f,a);else for(var n=f.return;null!==n;){if(3===n.tag){xi(n,f,a);break}else if(1===n.tag){var b=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof b.componentDidCatch&&(null===Bf||!Bf.has(b))){f=Nf(a,f);f=mi(n,f,1073741823);
Aa(n,f);n=Ng(n,1073741823);null!==n&&Yd(n);break}}n=n.return}}function wi(f,a,n){var b=f.pingCache;null!==b&&b.delete(a);de===f&&Xd===n?ed===Jg||ed===Ig&&1073741823===df&&Yc()-Bh<si?Cf(f,Xd):Hh=!0:oi(f,n)&&(a=f.lastPingedTime,0!==a&&a<n||(f.lastPingedTime=n,Yd(f)))}function sd(f,a){var n=f.stateNode;null!==n&&n.delete(a);a=0;0===a&&(a=Ge(),a=sf(a,f,null));f=Ng(f,a);null!==f&&Yd(f)}function Jh(f){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(a.isDisabled||
!a.supportsFiber)return!0;try{var n=a.inject(f);Ae=function(f){try{a.onCommitFiberRoot(n,f,void 0,64===(f.current.effectTag&64))}catch(mg){}};zh=function(f){try{a.onCommitFiberUnmount(n,f)}catch(mg){}}}catch(Qh){}return!0}function nj(f,a,n,b){this.tag=f;this.key=n;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=a;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=b;this.effectTag=0;
this.lastEffect=this.firstEffect=this.nextEffect=null;this.childExpirationTime=this.expirationTime=0;this.alternate=null}function xe(f,a,n,b){return new nj(f,a,n,b)}function ii(f){f=f.prototype;return!(!f||!f.isReactComponent)}function Ed(f){if("function"===typeof f)return ii(f)?1:0;if(void 0!==f&&null!==f){f=f.$$typeof;if(f===gh)return 11;if(f===Wh)return 14}return 2}function Ee(f,a){var n=f.alternate;null===n?(n=xe(f.tag,a,f.key,f.mode),n.elementType=f.elementType,n.type=f.type,n.stateNode=f.stateNode,
n.alternate=f,f.alternate=n):(n.pendingProps=a,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null);n.childExpirationTime=f.childExpirationTime;n.expirationTime=f.expirationTime;n.child=f.child;n.memoizedProps=f.memoizedProps;n.memoizedState=f.memoizedState;n.updateQueue=f.updateQueue;a=f.dependencies;n.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders};n.sibling=f.sibling;n.index=f.index;n.ref=f.ref;return n}function Hf(f,
n,b,y,d,m){var q=2;y=f;if("function"===typeof f)ii(f)&&(q=1);else if("string"===typeof f)q=5;else a:switch(f){case hf:return Ze(b.children,d,m,n);case oj:q=8;d|=7;break;case eh:q=8;d|=1;break;case dh:return f=xe(12,b,n,d|8),f.elementType=dh,f.type=dh,f.expirationTime=m,f;case sg:return f=xe(13,b,n,d),f.type=sg,f.elementType=sg,f.expirationTime=m,f;case Vh:return f=xe(19,b,n,d),f.elementType=Vh,f.expirationTime=m,f;default:if("object"===typeof f&&null!==f)switch(f.$$typeof){case fh:q=10;break a;case tg:q=
9;break a;case gh:q=11;break a;case Wh:q=14;break a;case Si:q=16;y=null;break a;case Ri:q=22;break a}throw Error(a(130,null==f?f:typeof f,""));}n=xe(q,b,n,d);n.elementType=f;n.type=y;n.expirationTime=m;return n}function Ze(f,a,n,b){f=xe(7,f,b,a);f.expirationTime=n;return f}function Ag(f,a,n){f=xe(6,f,null,a);f.expirationTime=n;return f}function If(f,a,n){a=xe(4,null!==f.children?f.children:[],f.key,a);a.expirationTime=n;a.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation};
return a}function Be(f,a,n){this.tag=a;this.current=null;this.containerInfo=f;this.pingCache=this.pendingChildren=null;this.finishedExpirationTime=0;this.finishedWork=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=n;this.callbackNode=null;this.callbackPriority=90;this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function oi(f,a){var n=f.firstSuspendedTime;f=f.lastSuspendedTime;return 0!==
n&&n>=a&&f<=a}function Ke(f,a){var n=f.firstSuspendedTime,b=f.lastSuspendedTime;n<a&&(f.firstSuspendedTime=a);if(b>a||0===n)f.lastSuspendedTime=a;a<=f.lastPingedTime&&(f.lastPingedTime=0);a<=f.lastExpiredTime&&(f.lastExpiredTime=0)}function bf(f,a){a>f.firstPendingTime&&(f.firstPendingTime=a);var n=f.firstSuspendedTime;0!==n&&(a>=n?f.firstSuspendedTime=f.lastSuspendedTime=f.nextKnownPendingLevel=0:a>=f.lastSuspendedTime&&(f.lastSuspendedTime=a+1),a>f.nextKnownPendingLevel&&(f.nextKnownPendingLevel=
a))}function Dh(f,a){var n=f.lastExpiredTime;if(0===n||n>a)f.lastExpiredTime=a}function Vg(f,n,b,y){var q=n.current,d=Ge(),m=Gg.suspense;d=sf(d,q,m);a:if(b){b=b._reactInternalFiber;b:{if(E(b)!==b||1!==b.tag)throw Error(a(170));var g=b;do{switch(g.tag){case 3:g=g.stateNode.context;break b;case 1:if(V(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break b}}g=g.return}while(null!==g);throw Error(a(171));}if(1===b.tag){var K=b.type;if(V(K)){b=X(b,K,g);break a}}b=g}else b=pf;null===n.context?
n.context=b:n.pendingContext=b;n=Ga(d,m);n.payload={element:f};y=void 0===y?null:y;null!==y&&(n.callback=y);Aa(q,n);tf(q,d);return d}function Kh(f){f=f.current;if(!f.child)return null;switch(f.child.tag){case 5:return f.child.stateNode;default:return f.child.stateNode}}function pj(f,a){f=f.memoizedState;null!==f&&null!==f.dehydrated&&f.retryTime<a&&(f.retryTime=a)}function Lh(f,a){pj(f,a);(f=f.alternate)&&pj(f,a)}function Mh(f,a,n){n=null!=n&&!0===n.hydrate;var b=new Be(f,a,n),q=xe(3,null,null,2===
a?7:1===a?3:0);b.current=q;q.stateNode=b;Fa(q);f[lf]=b.current;n&&0!==a&&Rb(f,9===f.nodeType?f:f.ownerDocument);this._internalRoot=b}function kg(f){return!(!f||1!==f.nodeType&&9!==f.nodeType&&11!==f.nodeType&&(8!==f.nodeType||" react-mount-point-unstable "!==f.nodeValue))}function Nh(f,a){a||(a=f?9===f.nodeType?f.documentElement:f.firstChild:null,a=!(!a||1!==a.nodeType||!a.hasAttribute("data-reactroot")));if(!a)for(var n;n=f.lastChild;)f.removeChild(n);return new Mh(f,0,a?{hydrate:!0}:void 0)}function Wg(f,
a,n,b,y){var q=n._reactRootContainer;if(q){var d=q._internalRoot;if("function"===typeof y){var m=y;y=function(){var f=Kh(d);m.call(f)}}Vg(a,d,f,y)}else{q=n._reactRootContainer=Nh(n,b);d=q._internalRoot;if("function"===typeof y){var g=y;y=function(){var f=Kh(d);g.call(f)}}he(function(){Vg(a,d,f,y)})}return Kh(d)}function qj(f,a,n){var b=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Xf,key:null==b?null:""+b,children:f,containerInfo:a,implementation:n}}function rj(f,n){var b=
2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!kg(n))throw Error(a(200));return qj(f,n,null,b)}var hh=w(5),Fd=w(0),jd=w(14);if(!hh)throw Error(a(227));var ng=!1,og=null,pg=!1,Sh=null,Li={onError:function(f){ng=!0;og=f}},bh=null,Ni=null,Mi=null,qg=null,Tf={},Uf=[],ah={},ff={},rg={},Re=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Th=null,Vf=null,Wf=null,Oi=F,Ve=!1,ch=!1,gf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
Pi=Object.prototype.hasOwnProperty,te={},Uh={},fd={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(f){fd[f]=new N(f,0,!1,f,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(f){var a=f[0];fd[a]=new N(a,1,!1,f[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(f){fd[f]=new N(f,
2,!1,f.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(f){fd[f]=new N(f,2,!1,f,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(f){fd[f]=new N(f,3,!1,f.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(f){fd[f]=
new N(f,3,!0,f,null,!1)});["capture","download"].forEach(function(f){fd[f]=new N(f,4,!1,f,null,!1)});["cols","rows","size","span"].forEach(function(f){fd[f]=new N(f,6,!1,f,null,!1)});["rowSpan","start"].forEach(function(f){fd[f]=new N(f,5,!1,f.toLowerCase(),null,!1)});var yi=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(f){var a=
f.replace(yi,D);fd[a]=new N(a,1,!1,f,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(f){var a=f.replace(yi,D);fd[a]=new N(a,1,!1,f,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(f){var a=f.replace(yi,D);fd[a]=new N(a,1,!1,f,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(f){fd[f]=new N(f,1,!1,f.toLowerCase(),null,!1)});fd.xlinkHref=new N("xlinkHref",
1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(f){fd[f]=new N(f,1,!1,f.toLowerCase(),null,!0)});var Ce=hh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Ce.hasOwnProperty("ReactCurrentDispatcher")||(Ce.ReactCurrentDispatcher={current:null});Ce.hasOwnProperty("ReactCurrentBatchConfig")||(Ce.ReactCurrentBatchConfig={suspense:null});var Ij=/^(.*)[\\\/]/,Zc="function"===typeof Symbol&&Symbol.for,Bg=Zc?Symbol.for("react.element"):60103,Xf=
Zc?Symbol.for("react.portal"):60106,hf=Zc?Symbol.for("react.fragment"):60107,eh=Zc?Symbol.for("react.strict_mode"):60108,dh=Zc?Symbol.for("react.profiler"):60114,fh=Zc?Symbol.for("react.provider"):60109,tg=Zc?Symbol.for("react.context"):60110,oj=Zc?Symbol.for("react.concurrent_mode"):60111,gh=Zc?Symbol.for("react.forward_ref"):60112,sg=Zc?Symbol.for("react.suspense"):60113,Vh=Zc?Symbol.for("react.suspense_list"):60120,Wh=Zc?Symbol.for("react.memo"):60115,Si=Zc?Symbol.for("react.lazy"):60116,Ri=Zc?
Symbol.for("react.block"):60121,Qi="function"===typeof Symbol&&Symbol.iterator,Xg,ji=function(f){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(a,n,b,q){MSApp.execUnsafeLocalFunction(function(){return f(a,n,b,q)})}:f}(function(f,a){if("http://www.w3.org/2000/svg"!==f.namespaceURI||"innerHTML"in f)f.innerHTML=a;else{Xg=Xg||document.createElement("div");Xg.innerHTML="\x3csvg\x3e"+a.valueOf().toString()+"\x3c/svg\x3e";for(a=Xg.firstChild;f.firstChild;)f.removeChild(f.firstChild);
for(;a.firstChild;)f.appendChild(a.firstChild)}}),Yf={animationend:v("Animation","AnimationEnd"),animationiteration:v("Animation","AnimationIteration"),animationstart:v("Animation","AnimationStart"),transitionend:v("Transition","TransitionEnd")},Xh={},Yh={};Re&&(Yh=document.createElement("div").style,"AnimationEvent"in window||(delete Yf.animationend.animation,delete Yf.animationiteration.animation,delete Yf.animationstart.animation),"TransitionEvent"in window||delete Yf.transitionend.transition);
var zi=x("animationend"),sj=x("animationiteration"),tj=x("animationstart"),Ai=x("transitionend"),ug="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ti=new ("function"===typeof WeakMap?WeakMap:Map),Hc=null,Sd=[],Te=!1,ue=[],jf=null,kf=null,Se=null,Zf=new Map,$f=new Map,Ef=[],vg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),
Ui="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" "),Zh={},kh=new Map,jh=new Map,uj=["abort","abort",zi,"animationEnd",sj,"animationIteration",tj,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata",
"loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ai,"transitionEnd","waiting","waiting"];Eb("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),
0);Eb("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Eb(uj,2);for(var Oh="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ph=0;Ph<Oh.length;Ph++)jh.set(Oh[Ph],0);var Jj=jd.unstable_UserBlockingPriority,lh=jd.unstable_runWithPriority,
mh=!0,wg={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,
floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ak=["Webkit","ms","Moz","O"];Object.keys(wg).forEach(function(f){ak.forEach(function(a){a=a+f.charAt(0).toUpperCase()+f.substring(1);wg[a]=wg[f]})});var Vi=Fd({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Wi="$",Xi="/$",$h="$?",ag="$!",Ih=null,Tg=null,ti="function"===typeof setTimeout?
setTimeout:void 0,Xj="function"===typeof clearTimeout?clearTimeout:void 0,Bi=Math.random().toString(36).slice(2),We="__reactInternalInstance$"+Bi,nh="__reactEventHandlers$"+Bi,lf="__reactContainere$"+Bi,nf=null,Ra=null,mf=null;Fd(lb.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():"unknown"!==typeof f.returnValue&&(f.returnValue=!1),this.isDefaultPrevented=$c)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?
f.stopPropagation():"unknown"!==typeof f.cancelBubble&&(f.cancelBubble=!0),this.isPropagationStopped=$c)},persist:function(){this.isPersistent=$c},isPersistent:Mb,destructor:function(){var f=this.constructor.Interface,a;for(a in f)this[a]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null;this.isPropagationStopped=this.isDefaultPrevented=Mb;this._dispatchInstances=this._dispatchListeners=null}});lb.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,
bubbles:null,cancelable:null,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};lb.extend=function(f){function a(){}function n(){return b.apply(this,arguments)}var b=this;a.prototype=b.prototype;var q=new a;Fd(q,n.prototype);n.prototype=q;n.prototype.constructor=n;n.Interface=Fd({},b.Interface,f);n.extend=b.extend;Gd(n);return n};Gd(lb);var bk=lb.extend({data:null}),ck=lb.extend({data:null}),Yi=[9,13,27,32],oh=Re&&"CompositionEvent"in window,Yg=null;Re&&"documentMode"in
document&&(Yg=document.documentMode);var Ci=Re&&"TextEvent"in window&&!Yg,Zi=Re&&(!oh||Yg&&8<Yg&&11>=Yg),ec=String.fromCharCode(32),Qb={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",
captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ua=!1,bg=!1,vj={eventTypes:Qb,extractEvents:function(f,a,n,b){var q;if(oh)a:{switch(f){case "compositionstart":var y=Qb.compositionStart;break a;case "compositionend":y=Qb.compositionEnd;
break a;case "compositionupdate":y=Qb.compositionUpdate;break a}y=void 0}else bg?Hd(f,n)&&(y=Qb.compositionEnd):"keydown"===f&&229===n.keyCode&&(y=Qb.compositionStart);y?(Zi&&"ko"!==n.locale&&(bg||y!==Qb.compositionStart?y===Qb.compositionEnd&&bg&&(q=kd()):(nf=b,Ra="value"in nf?nf.value:nf.textContent,bg=!0)),y=bk.getPooled(y,a,n,b),q?y.data=q:(q=ic(n),null!==q&&(y.data=q)),vc(y),q=y):q=null;(f=Ci?gd(f,n):Id(f,n))?(a=ck.getPooled(Qb.beforeInput,a,n,b),a.data=f,vc(a)):a=null;return null===q?a:null===
a?q:[q,a]}},Kj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},ai={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},of=null,xg=null,Di=!1;Re&&(Di=fb("input")&&(!document.documentMode||9<document.documentMode));var dk={eventTypes:ai,_isInputEventSupported:Di,extractEvents:function(f,
a,n,b){var q=a?hc(a):window,y=q.nodeName&&q.nodeName.toLowerCase();if("select"===y||"input"===y&&"file"===q.type)var d=Kd;else if(vd(q))if(Di)d=nb;else{d=Md;var m=Ld}else(y=q.nodeName)&&"input"===y.toLowerCase()&&("checkbox"===q.type||"radio"===q.type)&&(d=Nd);if(d&&(d=d(f,a)))return md(d,n,b);m&&m(f,q,a);"blur"===f&&(f=q._wrapperState)&&f.controlled&&"number"===q.type&&Wb(q,"number",q.value)}},Zg=lb.extend({view:null,detail:null}),bi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},
wj=0,Ei=0,Fi=!1,se=!1,ef=Zg.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:vb,button:null,buttons:null,relatedTarget:function(f){return f.relatedTarget||(f.fromElement===f.srcElement?f.toElement:f.fromElement)},movementX:function(f){if("movementX"in f)return f.movementX;var a=wj;wj=f.screenX;return Fi?"mousemove"===f.type?f.screenX-a:0:(Fi=!0,0)},movementY:function(f){if("movementY"in f)return f.movementY;
var a=Ei;Ei=f.screenY;return se?"mousemove"===f.type?f.screenY-a:0:(se=!0,0)}}),Gi=ef.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),$g={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",
dependencies:["pointerout","pointerover"]}},ek={eventTypes:$g,extractEvents:function(f,a,n,b,y){var q="mouseover"===f||"pointerover"===f,d="mouseout"===f||"pointerout"===f;if(q&&0===(y&32)&&(n.relatedTarget||n.fromElement)||!d&&!q)return null;q=b.window===b?b:(q=b.ownerDocument)?q.defaultView||q.parentWindow:window;if(d){if(d=a,a=(a=n.relatedTarget||n.toElement)?Kb(a):null,null!==a){var m=E(a);if(a!==m||5!==a.tag&&6!==a.tag)a=null}}else d=null;if(d===a)return null;if("mouseout"===f||"mouseover"===
f)var g=ef,K=$g.mouseLeave,A=$g.mouseEnter,l="mouse";else if("pointerout"===f||"pointerover"===f)g=Gi,K=$g.pointerLeave,A=$g.pointerEnter,l="pointer";f=null==d?q:hc(d);q=null==a?q:hc(a);K=g.getPooled(K,d,n,b);K.type=l+"leave";K.target=f;K.relatedTarget=q;n=g.getPooled(A,a,n,b);n.type=l+"enter";n.target=q;n.relatedTarget=f;b=d;l=a;if(b&&l)a:{g=b;A=l;d=0;for(f=g;f;f=mc(f))d++;f=0;for(a=A;a;a=mc(a))f++;for(;0<d-f;)g=mc(g),d--;for(;0<f-d;)A=mc(A),f--;for(;d--;){if(g===A||g===A.alternate)break a;g=mc(g);
A=mc(A)}g=null}else g=null;A=g;for(g=[];b&&b!==A;){d=b.alternate;if(null!==d&&d===A)break;g.push(b);b=mc(b)}for(b=[];l&&l!==A;){d=l.alternate;if(null!==d&&d===A)break;b.push(l);l=mc(l)}for(l=0;l<g.length;l++)ae(g[l],"bubbled",K);for(l=b.length;0<l--;)ae(b[l],"captured",n);return 0===(y&64)?[K]:[K,n]}},Xe="function"===typeof Object.is?Object.is:yd,Lj=Object.prototype.hasOwnProperty,xj=Re&&"documentMode"in document&&11>=document.documentMode,Gf={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},
dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Ff=null,ci=null,le=null,cg=!1,yj={eventTypes:Gf,extractEvents:function(f,a,n,b,y,d){y=d||(b.window===b?b.document:9===b.nodeType?b:b.ownerDocument);if(!(d=!y)){a:{y=m(y);d=rg.onSelect;for(var q=0;q<d.length;q++)if(!y.has(d[q])){y=!1;break a}y=!0}d=!y}if(d)return null;y=a?hc(a):window;switch(f){case "focus":if(vd(y)||"true"===y.contentEditable)Ff=y,ci=a,le=null;break;case "blur":le=ci=Ff=null;
break;case "mousedown":cg=!0;break;case "contextmenu":case "mouseup":case "dragend":return cg=!1,Gb(n,b);case "selectionchange":if(xj)break;case "keydown":case "keyup":return Gb(n,b)}return null}},fk=lb.extend({animationName:null,elapsedTime:null,pseudoElement:null}),za=lb.extend({clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),zj=Zg.extend({relatedTarget:null}),lg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",
Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Aj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",
224:"Meta"},gk=Zg.extend({key:function(f){if(f.key){var a=lg[f.key]||f.key;if("Unidentified"!==a)return a}return"keypress"===f.type?(f=Ia(f),13===f?"Enter":String.fromCharCode(f)):"keydown"===f.type||"keyup"===f.type?Aj[f.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:vb,charCode:function(f){return"keypress"===f.type?Ia(f):0},keyCode:function(f){return"keydown"===f.type||"keyup"===f.type?f.keyCode:0},which:function(f){return"keypress"===
f.type?Ia(f):"keydown"===f.type||"keyup"===f.type?f.keyCode:0}}),Bj=ef.extend({dataTransfer:null}),hk=Zg.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:vb}),ie=lb.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Hi=ef.extend({deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?
-f.wheelDelta:0},deltaZ:null,deltaMode:null}),Cj={eventTypes:Zh,extractEvents:function(f,a,n,b){var y=kh.get(f);if(!y)return null;switch(f){case "keypress":if(0===Ia(n))return null;case "keydown":case "keyup":f=gk;break;case "blur":case "focus":f=zj;break;case "click":if(2===n.button)return null;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":f=ef;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":f=
Bj;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":f=hk;break;case zi:case sj:case tj:f=fk;break;case Ai:f=ie;break;case "scroll":f=Zg;break;case "wheel":f=Hi;break;case "copy":case "cut":case "paste":f=za;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":f=Gi;break;default:f=lb}a=f.getPooled(y,a,n,b);vc(a);return a}};if(qg)throw Error(a(101));qg=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));
t();var Ii=$b;bh=lc;Ni=Ii;Mi=hc;cc({SimpleEventPlugin:Cj,EnterLeaveEventPlugin:ek,ChangeEventPlugin:dk,SelectEventPlugin:yj,BeforeInputEventPlugin:vj});var ph=[],dg=-1,pf={},od={current:pf},nd={current:!1},me=pf,Nj=jd.unstable_runWithPriority,fi=jd.unstable_scheduleCallback,cj=jd.unstable_cancelCallback,Dj=jd.unstable_requestPaint,Ji=jd.unstable_now,Mj=jd.unstable_getCurrentPriorityLevel,yg=jd.unstable_ImmediatePriority,di=jd.unstable_UserBlockingPriority,$i=jd.unstable_NormalPriority,ei=jd.unstable_LowPriority,
aj=jd.unstable_IdlePriority,bj={},Vj=jd.unstable_shouldYield,yc=void 0!==Dj?Dj:function(){},ve=null,qh=null,rh=!1,Ki=Ji(),Yc=1E4>Ki?Ji:function(){return Ji()-Ki},eg={current:null},fg=null,pd=null,ad=null,Ye=!1,Gg=Ce.ReactCurrentBatchConfig,dj=(new hh.Component).refs,th={isMounted:function(f){return(f=f._reactInternalFiber)?E(f)===f:!1},enqueueSetState:function(f,a,n){f=f._reactInternalFiber;var b=Ge(),y=Gg.suspense;b=sf(b,f,y);y=Ga(b,y);y.payload=a;void 0!==n&&null!==n&&(y.callback=n);Aa(f,y);tf(f,
b)},enqueueReplaceState:function(f,a,n){f=f._reactInternalFiber;var b=Ge(),y=Gg.suspense;b=sf(b,f,y);y=Ga(b,y);y.tag=1;y.payload=a;void 0!==n&&null!==n&&(y.callback=n);Aa(f,y);tf(f,b)},enqueueForceUpdate:function(f,a){f=f._reactInternalFiber;var n=Ge(),b=Gg.suspense;n=sf(n,f,b);b=Ga(n,b);b.tag=2;void 0!==a&&null!==a&&(b.callback=a);Aa(f,b);tf(f,n)}},uh=Array.isArray,gg=ne(!0),hi=ne(!1),Cg={},we={current:Cg},Eg={current:Cg},Dg={current:Cg},Mc={current:0},xh=Ce.ReactCurrentDispatcher,pe=Ce.ReactCurrentBatchConfig,
rf=0,Sc=null,Bd=null,Ad=null,Fg=!1,yh={readContext:La,useCallback:Lc,useContext:Lc,useEffect:Lc,useImperativeHandle:Lc,useLayoutEffect:Lc,useMemo:Lc,useReducer:Lc,useRef:Lc,useState:Lc,useDebugValue:Lc,useResponder:Lc,useDeferredValue:Lc,useTransition:Lc},fj={readContext:La,useCallback:Yb,useContext:La,useEffect:dd,useImperativeHandle:function(f,a,n){n=null!==n&&void 0!==n?n.concat([f]):null;return rd(4,2,yb.bind(null,a,f),n)},useLayoutEffect:function(f,a){return rd(4,2,f,a)},useMemo:function(f,a){var n=
nc();a=void 0===a?null:a;f=f();n.memoizedState=[f,a];return f},useReducer:function(f,a,n){var b=nc();a=void 0!==n?n(a):a;b.memoizedState=b.baseState=a;f=b.queue={pending:null,dispatch:null,lastRenderedReducer:f,lastRenderedState:a};f=f.dispatch=A.bind(null,Sc,f);return[b.memoizedState,f]},useRef:function(f){var a=nc();f={current:f};return a.memoizedState=f},useState:Pd,useDebugValue:Cd,useResponder:Vd,useDeferredValue:function(f,a){var n=Pd(f),b=n[0],y=n[1];dd(function(){var n=pe.suspense;pe.suspense=
void 0===a?null:a;try{y(f)}finally{pe.suspense=n}},[f,a]);return b},useTransition:function(f){var a=Pd(!1),n=a[0];a=a[1];return[Yb(Tc.bind(null,a,f),[a,f]),n]}},Sj={readContext:La,useCallback:pc,useContext:La,useEffect:Ya,useImperativeHandle:mb,useLayoutEffect:Fc,useMemo:ce,useReducer:Xb,useRef:be,useState:function(){return Xb(Ib)},useDebugValue:Cd,useResponder:Vd,useDeferredValue:function(f,a){var n=Xb(Ib),b=n[0],y=n[1];Ya(function(){var n=pe.suspense;pe.suspense=void 0===a?null:a;try{y(f)}finally{pe.suspense=
n}},[f,a]);return b},useTransition:function(f){var a=Xb(Ib),n=a[0];a=a[1];return[pc(Tc.bind(null,a,f),[a,f]),n]}},Tj={readContext:La,useCallback:pc,useContext:La,useEffect:Ya,useImperativeHandle:mb,useLayoutEffect:Fc,useMemo:ce,useReducer:jb,useRef:be,useState:function(){return jb(Ib)},useDebugValue:Cd,useResponder:Vd,useDeferredValue:function(f,a){var n=jb(Ib),b=n[0],y=n[1];Ya(function(){var n=pe.suspense;pe.suspense=void 0===a?null:a;try{y(f)}finally{pe.suspense=n}},[f,a]);return b},useTransition:function(f){var a=
jb(Ib),n=a[0];a=a[1];return[pc(Tc.bind(null,a,f),[a,f]),n]}},qe=null,ye=null,He=!1,Uj=Ce.ReactCurrentOwner,De=!1,xc={dehydrated:null,retryTime:0};var Wd=function(f,a){for(var n=a.child;null!==n;){if(5===n.tag||6===n.tag)f.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n;n=n.child;continue}if(n===a)break;for(;null===n.sibling;){if(null===n.return||n.return===a)return;n=n.return}n.sibling.return=n.return;n=n.sibling}};var Oa=function(){};var na=function(f,a,n,b,y){var d=
f.memoizedProps;if(d!==b){var q=a.stateNode;Jc(we.current);f=null;switch(n){case "input":d=g(q,d);b=g(q,b);f=[];break;case "option":d=aa(q,d);b=aa(q,b);f=[];break;case "select":d=Fd({},d,{value:void 0});b=Fd({},b,{value:void 0});f=[];break;case "textarea":d=ya(q,d);b=ya(q,b);f=[];break;default:"function"!==typeof d.onClick&&"function"===typeof b.onClick&&(q.onclick=Ob)}ac(n,b);var m,K;n=null;for(m in d)if(!b.hasOwnProperty(m)&&d.hasOwnProperty(m)&&null!=d[m])if("style"===m)for(K in q=d[m],q)q.hasOwnProperty(K)&&
(n||(n={}),n[K]="");else"dangerouslySetInnerHTML"!==m&&"children"!==m&&"suppressContentEditableWarning"!==m&&"suppressHydrationWarning"!==m&&"autoFocus"!==m&&(ff.hasOwnProperty(m)?f||(f=[]):(f=f||[]).push(m,null));for(m in b){var l=b[m];q=null!=d?d[m]:void 0;if(b.hasOwnProperty(m)&&l!==q&&(null!=l||null!=q))if("style"===m)if(q){for(K in q)!q.hasOwnProperty(K)||l&&l.hasOwnProperty(K)||(n||(n={}),n[K]="");for(K in l)l.hasOwnProperty(K)&&q[K]!==l[K]&&(n||(n={}),n[K]=l[K])}else n||(f||(f=[]),f.push(m,
n)),n=l;else"dangerouslySetInnerHTML"===m?(l=l?l.__html:void 0,q=q?q.__html:void 0,null!=l&&q!==l&&(f=f||[]).push(m,l)):"children"===m?q===l||"string"!==typeof l&&"number"!==typeof l||(f=f||[]).push(m,""+l):"suppressContentEditableWarning"!==m&&"suppressHydrationWarning"!==m&&(ff.hasOwnProperty(m)?(null!=l&&db(y,m),f||q===l||(f=[])):(f=f||[]).push(m,l))}n&&(f=f||[]).push("style",n);if(a.updateQueue=f)a.effectTag|=4}};var Dd=function(f,a,n,b){n!==b&&(a.effectTag|=4)};var Vb="function"===typeof WeakSet?
WeakSet:Set,Yj="function"===typeof WeakMap?WeakMap:Map,Wj=Math.ceil,Fh=Ce.ReactCurrentDispatcher,lj=Ce.ReactCurrentOwner,Gc=0,Og=8,fe=16,Me=32,Mf=0,Sf=1,Rg=2,Ig=3,Jg=4,ui=5,pb=Gc,de=null,zb=null,Xd=0,ed=Mf,Qg=null,df=1073741823,ge=1073741823,re=null,Kg=0,Hh=!1,Bh=0,si=500,Pa=null,Ch=!1,Le=null,Bf=null,Ug=!1,Sg=null,jg=90,Rd=null,Ne=0,ig=null,Qf=0;var kj=function(f,n,b){var d=n.expirationTime;if(null!==f){var q=n.pendingProps;if(f.memoizedProps!==q||nd.current)De=!0;else{if(d<b){De=!1;switch(n.tag){case 3:hg(n);
ye=qe=null;He=!1;break;case 5:Wc(n);if(n.mode&4&&1!==b&&q.hidden)return n.expirationTime=n.childExpirationTime=1,null;break;case 1:V(n.type)&&zc(n);break;case 4:Kc(n,n.stateNode.containerInfo);break;case 10:d=n.memoizedProps.value;q=n.type._context;eb(eg,q._currentValue);q._currentValue=d;break;case 13:if(null!==n.memoizedState){d=n.child.childExpirationTime;if(0!==d&&d>=b)return Je(f,n,b);eb(Mc,Mc.current&1);n=Uc(f,n,b);return null!==n?n.sibling:null}eb(Mc,Mc.current&1);break;case 19:d=n.childExpirationTime>=
b;if(0!==(f.effectTag&64)){if(d)return Qd(f,n,b);n.effectTag|=64}q=n.memoizedState;null!==q&&(q.rendering=null,q.tail=null);eb(Mc,Mc.current);if(!d)return null}return Uc(f,n,b)}De=!1}}else De=!1;n.expirationTime=0;switch(n.tag){case 2:d=n.type;null!==f&&(f.alternate=null,n.alternate=null,n.effectTag|=2);f=n.pendingProps;q=Nb(n,od.current);Ub(n,b);q=oe(null,n,d,f,q,b);n.effectTag|=1;if("object"===typeof q&&null!==q&&"function"===typeof q.render&&void 0===q.$$typeof){n.tag=1;n.memoizedState=null;n.updateQueue=
null;if(V(d)){var m=!0;zc(n)}else m=!1;n.memoizedState=null!==q.state&&void 0!==q.state?q.state:null;Fa(n);var g=d.getDerivedStateFromProps;"function"===typeof g&&Rc(n,d,g,f);q.updater=th;n.stateNode=q;q._reactInternalFiber=n;Da(n,d,f,b);n=Kf(null,n,d,!0,m,b)}else n.tag=0,y(null,n,q,b),n=n.child;return n;case 16:a:{q=n.elementType;null!==f&&(f.alternate=null,n.alternate=null,n.effectTag|=2);f=n.pendingProps;h(q);if(1!==q._status)throw q._result;q=q._result;n.type=q;m=n.tag=Ed(q);f=Y(q,f);switch(m){case 0:n=
$e(null,n,q,f,b);break a;case 1:n=Ie(null,n,q,f,b);break a;case 11:n=Jb(null,n,q,f,b);break a;case 14:n=sc(null,n,q,Y(q.type,f),d,b);break a}throw Error(a(306,q,""));}return n;case 0:return d=n.type,q=n.pendingProps,q=n.elementType===d?q:Y(d,q),$e(f,n,d,q,b);case 1:return d=n.type,q=n.pendingProps,q=n.elementType===d?q:Y(d,q),Ie(f,n,d,q,b);case 3:hg(n);d=n.updateQueue;if(null===f||null===d)throw Error(a(282));d=n.pendingProps;q=n.memoizedState;q=null!==q?q.element:null;bb(f,n);Od(n,d,null,b);d=n.memoizedState.element;
if(d===q)ye=qe=null,He=!1,n=Uc(f,n,b);else{if(q=n.stateNode.hydrate)ye=rc(n.stateNode.containerInfo.firstChild),qe=n,q=He=!0;if(q)for(b=hi(n,null,d,b),n.child=b;b;)b.effectTag=b.effectTag&-3|1024,b=b.sibling;else y(f,n,d,b),ye=qe=null,He=!1;n=n.child}return n;case 5:return Wc(n),null===f&&ob(n),d=n.type,q=n.pendingProps,m=null!==f?f.memoizedProps:null,g=q.children,Cc(d,q)?g=null:null!==m&&Cc(d,m)&&(n.effectTag|=16),Jf(f,n),n.mode&4&&1!==b&&q.hidden?(n.expirationTime=n.childExpirationTime=1,n=null):
(y(f,n,g,b),n=n.child),n;case 6:return null===f&&ob(n),null;case 13:return Je(f,n,b);case 4:return Kc(n,n.stateNode.containerInfo),d=n.pendingProps,null===f?n.child=gg(n,null,d,b):y(f,n,d,b),n.child;case 11:return d=n.type,q=n.pendingProps,q=n.elementType===d?q:Y(d,q),Jb(f,n,d,q,b);case 7:return y(f,n,n.pendingProps,b),n.child;case 8:return y(f,n,n.pendingProps.children,b),n.child;case 12:return y(f,n,n.pendingProps.children,b),n.child;case 10:a:{d=n.type._context;q=n.pendingProps;g=n.memoizedProps;
m=q.value;var l=n.type._context;eb(eg,l._currentValue);l._currentValue=m;if(null!==g)if(l=g.value,m=Xe(l,m)?0:("function"===typeof d._calculateChangedBits?d._calculateChangedBits(l,m):1073741823)|0,0===m){if(g.children===q.children&&!nd.current){n=Uc(f,n,b);break a}}else for(l=n.child,null!==l&&(l.return=n);null!==l;){var K=l.dependencies;if(null!==K){g=l.child;for(var A=K.firstContext;null!==A;){if(A.context===d&&0!==(A.observedBits&m)){1===l.tag&&(A=Ga(b,null),A.tag=2,Aa(l,A));l.expirationTime<
b&&(l.expirationTime=b);A=l.alternate;null!==A&&A.expirationTime<b&&(A.expirationTime=b);Pb(l.return,b);K.expirationTime<b&&(K.expirationTime=b);break}A=A.next}}else g=10===l.tag?l.type===n.type?null:l.child:l.child;if(null!==g)g.return=l;else for(g=l;null!==g;){if(g===n){g=null;break}l=g.sibling;if(null!==l){l.return=g.return;g=l;break}g=g.return}l=g}y(f,n,q.children,b);n=n.child}return n;case 9:return q=n.type,m=n.pendingProps,d=m.children,Ub(n,b),q=La(q,m.unstable_observedBits),d=d(q),n.effectTag|=
1,y(f,n,d,b),n.child;case 14:return q=n.type,m=Y(q,n.pendingProps),m=Y(q.type,m),sc(f,n,q,m,d,b);case 15:return ze(f,n,n.type,n.pendingProps,d,b);case 17:return d=n.type,q=n.pendingProps,q=n.elementType===d?q:Y(d,q),null!==f&&(f.alternate=null,n.alternate=null,n.effectTag|=2),n.tag=1,V(d)?(f=!0,zc(n)):f=!1,Ub(n,b),Ta(n,d,q),Da(n,d,q,b),Kf(null,n,d,!0,f,b);case 19:return Qd(f,n,b)}throw Error(a(156,n.tag));};var Ae=null,zh=null;Mh.prototype.render=function(f){Vg(f,this._internalRoot,null,null)};Mh.prototype.unmount=
function(){var f=this._internalRoot,a=f.containerInfo;Vg(null,f,null,function(){a[lf]=null})};var Ue=function(f){if(13===f.tag){var a=Za(Ge(),150,100);tf(f,a);Lh(f,a)}};var Df=function(f){13===f.tag&&(tf(f,3),Lh(f,3))};var ih=function(f){if(13===f.tag){var a=Ge();a=sf(a,f,null);tf(f,a);Lh(f,a)}};Th=function(f,n,b){switch(n){case "input":Q(f,b);n=b.name;if("radio"===b.type&&null!=n){for(b=f;b.parentNode;)b=b.parentNode;b=b.querySelectorAll("input[name\x3d"+JSON.stringify(""+n)+'][type\x3d"radio"]');
for(n=0;n<b.length;n++){var y=b[n];if(y!==f&&y.form===f.form){var d=lc(y);if(!d)throw Error(a(90));qa(y);Q(y,d)}}}break;case "textarea":Ea(f,b);break;case "select":n=b.value,null!=n&&sa(f,!!b.multiple,n,!1)}};F=vi;W=function(f,a,n,b,y){var d=pb;pb|=4;try{return tb(98,f.bind(null,a,n,b,y))}finally{pb=d,pb===Gc&&Ka()}};r=function(){(pb&(1|fe|Me))===Gc&&(jj(),Rf())};Oi=function(f,a){var n=pb;pb|=2;try{return f(a)}finally{pb=n,pb===Gc&&Ka()}};var $d={Events:[$b,hc,lc,cc,ah,vc,function(f){wa(f,Oc)},ea,
T,Sb,cb,Rf,{current:!1}]};(function(f){var a=f.findFiberByHostInstance;return Jh(Fd({},f,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ce.ReactCurrentDispatcher,findHostInstanceByFiber:function(f){f=Wa(f);return null===f?null:f.stateNode},findFiberByHostInstance:function(f){return a?a(f):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:Kb,
bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"});u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$d;u.createPortal=rj;u.findDOMNode=function(f){if(null==f)return null;if(1===f.nodeType)return f;var n=f._reactInternalFiber;if(void 0===n){if("function"===typeof f.render)throw Error(a(188));throw Error(a(268,Object.keys(f)));}f=Wa(n);return f=null===f?null:f.stateNode};u.flushSync=function(f,n){if((pb&(fe|Me))!==Gc)throw Error(a(187));var b=pb;pb|=1;try{return tb(99,f.bind(null,
n))}finally{pb=b,Ka()}};u.hydrate=function(f,n,b){if(!kg(n))throw Error(a(200));return Wg(null,f,n,!0,b)};u.render=function(f,n,b){if(!kg(n))throw Error(a(200));return Wg(null,f,n,!1,b)};u.unmountComponentAtNode=function(f){if(!kg(f))throw Error(a(40));return f._reactRootContainer?(he(function(){Wg(null,null,f,!1,function(){f._reactRootContainer=null;f[lf]=null})}),!0):!1};u.unstable_batchedUpdates=vi;u.unstable_createPortal=function(f,a){return rj(f,a,2<arguments.length&&void 0!==arguments[2]?arguments[2]:
null)};u.unstable_renderSubtreeIntoContainer=function(f,n,b,y){if(!kg(b))throw Error(a(200));if(null==f||void 0===f._reactInternalFiber)throw Error(a(38));return Wg(f,n,b,!1,y)};u.version="16.13.1"};
shadow$provide[20]=function(G,w,I,u){function a(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(b){console.error(b)}}a();I.exports=w(15)};
shadow$provide[21]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.vega={}))})(this,function(a){function b(a,b,d){a.fields=b||[];a.fname=d;return a}function e(a){return null==a?null:a.fields}function H(a){throw Error(a);}function u(a){function b(){d.push(Q+a.substring(U,h));Q="";U=h+1}var d=[],g=null,c=0,M=a.length,Q="",U,h;a+="";for(U=h=0;h<M;++h){var l=a[h];"\\"===l?(Q+=a.substring(U,h),
Q+=a.substring(++h,++h),U=h):l===g?(b(),g=null,c=-1):g||(U===c&&'"'===l?(U=h+1,g=l):U===c&&"'"===l?(U=h+1,g=l):"."!==l||c?"["===l?(h>U&&b(),c=U=h+1):"]"===l&&(c||H("Access path missing open bracket: "+a),0<c&&b(),c=0,U=h+1):h>U?b():U=h+1)}c&&H("Access path missing closing bracket: "+a);g&&H("Access path missing closing quote: "+a);h>U&&(h++,b());return d}function t(a){return a===Object(a)}function C(a){return"string"===typeof a}function w(a){return ia(a)?"["+a.map(w)+"]":t(a)||C(a)?JSON.stringify(a).replace("\u2028",
"\\u2028").replace("\u2029","\\u2029"):a}function P(a,d){var g=u(a),c="return _["+g.map(w).join("][")+"];";return b(Function("_",c),[a=1===g.length?g[0]:a],d||a)}function ea(a,b,d){b=[b].concat([].slice.call(d));console[a].apply(console,b)}function T(a,b,d,g){if("__proto__"!==b){var c;if(t(d)&&!ia(d))for(c in a=t(a[b])?a[b]:a[b]={},d)g&&(!0===g||g[c])?T(a,c,d[c]):"__proto__"!==c&&(a[c]=d[c]);else a[b]=d}}function F(a,b){function d(a){g[a.name]||(g[a.name]=1,c.push(a))}if(null==a)return b;const g=
{},c=[];b.forEach(d);a.forEach(d);return c}function W(a){return a[a.length-1]}function r(a){return null==a||""===a?null:+a}function S(a){return function(b){return a*Math.exp(b)}}function z(a){return function(b){return Math.log(a*b)}}function J(a){return function(b){return Math.sign(b)*Math.log1p(Math.abs(b/a))}}function p(a){return function(b){return Math.sign(b)*Math.expm1(Math.abs(b))*a}}function k(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function N(a,b,d,g){var c=d(a[0]);
a=d(W(a));b*=a-c;return[g(c-b),g(a-b)]}function D(a,b,d,g,c){var M=g(a[0]);a=g(W(a));b=null!=b?g(b):(M+a)/2;return[c(b+(M-b)*d),c(b+(a-b)*d)]}function O(a){return null!=a?ia(a)?a:[a]:[]}function c(a){return"function"===typeof a}function h(a,b){return la.call(a,b)}function ba(a){return"[object Date]"===Object.prototype.toString.call(a)}function L(a){return"number"===typeof a}function ma(a,b){for(var d="";0<=--b;)d+=a;return d}function B(a){return L(a)?a:ba(a)?a:Date.parse(a)}var ia=Array.isArray,va=
[],qa=P("id"),g=b(function(a){return a},va,"identity"),d=b(function(){return 0},va,"zero"),M=b(function(){return 1},va,"one"),Q=b(function(){return!0},va,"true");va=b(function(){return!1},va,"false");const la=Object.prototype.hasOwnProperty;var Wb={};a.Debug=4;a.Error=1;a.Info=3;a.None=0;a.Warn=2;a.accessor=b;a.accessorFields=e;a.accessorName=function(a){return null==a?null:a.fname};a.array=O;a.clampRange=function(a,b,d){var g=a[0];a=a[1];if(a<g){var c=a;a=g;g=c}c=a-g;return c>=d-b?[b,d]:[g=Math.min(Math.max(g,
b),d-c),g+c]};a.compare=function(a,d){var g=[],M=(a=O(a)).map(function(a,b){if(null==a)return null;g.push(b);return c(a)?a:u(a).map(w).join("][")}),Q=g.length-1;d=O(d);var h="var u,v;return ",la,U;if(0>Q)return null;for(la=0;la<=Q;++la){var k=g[la];var l=M[k];if(c(l)){var v="f"+k;var x="(u\x3dthis."+v+"(a))";var m="(v\x3dthis."+v+"(b))";(U=U||{})[v]=l}else x="(u\x3da["+l+"])",m="(v\x3db["+l+"])";v="((v\x3dv instanceof Date?+v:v),(u\x3du instanceof Date?+u:u))";if("descending"!==d[k]){var E=1;l=-1}else E=
-1,l=1;h+="("+x+"\x3c"+m+"||u\x3d\x3dnull)\x26\x26v!\x3dnull?"+l+":(u\x3ev||v\x3d\x3dnull)\x26\x26u!\x3dnull?"+E+":"+v+"!\x3d\x3du\x26\x26v\x3d\x3d\x3dv?"+l+":v!\x3d\x3dv\x26\x26u\x3d\x3d\x3du?"+E+(k<Q?":":":0")}l=Function("a","b",h+";");U&&(l=l.bind(U));a=a.reduce(function(a,b){c(b)?(e(b)||[]).forEach(function(b){a[b]=1}):null!=b&&(a[b+""]=1);return a},{});return b(l,Object.keys(a))};a.constant=function(a){return c(a)?a:function(){return a}};a.debounce=function(a,b){function d(){b(c);g=c=null}var g,
c;return function(b){c=b;g&&clearTimeout(g);g=setTimeout(d,a)}};a.error=H;a.extend=function(a){for(var b,d,g=1,c=arguments.length;g<c;++g)for(d in b=arguments[g],b)a[d]=b[d];return a};a.extent=function(a,b){var d=0,g,c,M,Q;if(a&&(g=a.length))if(null==b){for(c=a[d];d<g&&(null==c||c!==c);c=a[++d]);for(M=Q=c;d<g;++d)c=a[d],null!=c&&(c<M&&(M=c),c>Q&&(Q=c))}else{for(c=b(a[d]);d<g&&(null==c||c!==c);c=b(a[++d]));for(M=Q=c;d<g;++d)c=b(a[d]),null!=c&&(c<M&&(M=c),c>Q&&(Q=c))}return[M,Q]};a.extentIndex=function(a,
b){var d=-1,g=a.length,c,M,Q;if(null==b){for(;++d<g;){var U=a[d];if(null!=U&&U>=U){var h=c=U;break}}if(d===g)return[-1,-1];for(M=Q=d;++d<g;)U=a[d],null!=U&&(h>U&&(h=U,M=d),c<U&&(c=U,Q=d))}else{for(;++d<g;)if(U=b(a[d],d,a),null!=U&&U>=U){h=c=U;break}if(d===g)return[-1,-1];for(M=Q=d;++d<g;)U=b(a[d],d,a),null!=U&&(h>U&&(h=U,M=d),c<U&&(c=U,Q=d))}return[M,Q]};a.falsy=va;a.fastmap=function(a){function b(a){return h(d,a)&&d[a]!==Wb}var d={},g;var c={size:0,empty:0,object:d,has:b,get:function(a){return b(a)?
d[a]:void 0},set:function(a,g){b(a)||(++c.size,d[a]===Wb&&--c.empty);d[a]=g;return this},delete:function(a){b(a)&&(--c.size,++c.empty,d[a]=Wb);return this},clear:function(){c.size=c.empty=0;c.object=d={}},test:function(a){return arguments.length?(g=a,c):g},clean:function(){var a={},b=0,M;for(M in d){var Q=d[M];Q===Wb||g&&g(Q)||(a[M]=Q,++b)}c.size=b;c.empty=0;c.object=d=a}};a&&Object.keys(a).forEach(function(b){c.set(b,a[b])});return c};a.field=P;a.flush=function(a,b,d,g,c,M){if(!d&&0!==d)return M;
var Q=a[0];a=W(a);d=+d;if(a<Q){var U=Q;Q=a;a=U}U=Math.abs(b-Q);b=Math.abs(a-b);return U<b&&U<=d?g:b<=d?c:M};a.hasOwnProperty=h;a.id=qa;a.identity=g;a.inherits=function(a,b){b=a.prototype=Object.create(b.prototype);b.constructor=a;return b};a.inrange=function(a,b,d,g){var c=b[0];b=b[b.length-1];if(c>b){var M=c;c=b;b=M}return(void 0===d||d?c<=a:c<a)&&(void 0===g||g?a<=b:a<b)};a.isArray=ia;a.isBoolean=function(a){return"boolean"===typeof a};a.isDate=ba;a.isFunction=c;a.isNumber=L;a.isObject=t;a.isRegExp=
function(a){return"[object RegExp]"===Object.prototype.toString.call(a)};a.isString=C;a.key=function(a,d){a&&(a=d?O(a).map(function(a){return a.replace(/\\(.)/g,"$1")}):O(a));var g=a&&a.length?Function("_","return ''+"+a.map(function(a){return"_["+(d?w(a):u(a).map(w).join("]["))+"]"}).join("+'|'+")+";"):function(){return""};return b(g,a,"key")};a.lerp=function(a,b){const d=a[0];a=W(a);return(b=+b)?1===b?a:d+b*(a-d):d};a.logger=function(a,b){var d=a||0;return{level:function(a){return arguments.length?
(d=+a,this):d},error:function(){1<=d&&ea(b||"error","ERROR",arguments);return this},warn:function(){2<=d&&ea(b||"warn","WARN",arguments);return this},info:function(){3<=d&&ea(b||"log","INFO",arguments);return this},debug:function(){4<=d&&ea(b||"log","DEBUG",arguments);return this}}};a.lruCache=function(a){a=+a||1E4;let b,d,g;const c=()=>{b={};d={};g=0},M=(c,M)=>{++g>a&&(d=b,b={},g=1);return b[c]=M};c();return{clear:c,has:a=>h(b,a)||h(d,a),get:a=>h(b,a)?b[a]:h(d,a)?M(a,d[a]):void 0,set:(a,d)=>h(b,
a)?b[a]=d:M(a,d)}};a.merge=function(a,b,d,g){var c=b.length,M=d.length;if(!M)return b;if(!c)return d;g=g||new b.constructor(c+M);for(var Q=0,U=0,h=0;Q<c&&U<M;++h)g[h]=0<a(b[Q],d[U])?d[U++]:b[Q++];for(;Q<c;++Q,++h)g[h]=b[Q];for(;U<M;++U,++h)g[h]=d[U];return g};a.mergeConfig=function(...a){return a.reduce((a,b)=>{for(var d in b)"signals"===d?a.signals=F(a.signals,b.signals):T(a,d,b[d],"legend"===d?{layout:1}:"style"===d?!0:null);return a},{})};a.one=M;a.pad=function(a,b,d,g){d=d||" ";a+="";b-=a.length;
return 0>=b?a:"left"===g?ma(d,b)+a:"center"===g?ma(d,~~(b/2))+a+ma(d,Math.ceil(b/2)):a+ma(d,b)};a.panLinear=function(a,b){return N(a,b,r,g)};a.panLog=function(a,b){var d=Math.sign(a[0]);return N(a,b,z(d),S(d))};a.panPow=function(a,b,d){return N(a,b,k(d),k(1/d))};a.panSymlog=function(a,b,d){return N(a,b,J(d),p(d))};a.peek=W;a.quarter=function(a){return 1+~~((new Date(a)).getMonth()/3)};a.repeat=ma;a.span=function(a){return a&&W(a)-a[0]||0};a.splitAccessPath=u;a.stringValue=w;a.toBoolean=function(a){return null==
a||""===a?null:a&&"false"!==a&&"0"!==a?!!a:!1};a.toDate=function(a,b){b=b||B;return null==a||""===a?null:b(a)};a.toNumber=r;a.toSet=function(a){for(var b={},d=0,g=a.length;d<g;++d)b[a[d]]=!0;return b};a.toString=function(a){return null==a||""===a?null:a+""};a.truncate=function(a,b,d,g){g=null!=g?g:"…";a+="";var c=a.length,M=Math.max(0,b-g.length);return c<=b?a:"left"===d?g+a.slice(c-M):"center"===d?a.slice(0,Math.ceil(M/2))+g+a.slice(c-~~(M/2)):a.slice(0,M)+g};a.truthy=Q;a.utcquarter=function(a){return 1+
~~((new Date(a)).getUTCMonth()/3)};a.visitArray=function(a,b,d){if(a){var g=0,c=a.length,M;if(b)for(;g<c;++g)(M=b(a[g]))&&d(M,g,a);else a.forEach(d)}};a.writeConfig=T;a.zero=d;a.zoomLinear=function(a,b,d){return D(a,b,d,r,g)};a.zoomLog=function(a,b,d){var g=Math.sign(a[0]);return D(a,b,d,z(g),S(g))};a.zoomPow=function(a,b,d,g){return D(a,b,d,k(g),k(1/g))};a.zoomSymlog=function(a,b,d,g){return D(a,b,d,J(g),p(g))};Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[22]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.d3=a.d3||{}))})(this,function(a){function b(a){return new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+'] || ""'}).join(",")+"}")}function e(a,c){var h=b(a);return function(b,e){return c(h(b),e,a)}}function H(a){var b=Object.create(null),c=[];a.forEach(function(a){for(var h in a)h in b||c.push(b[h]=
h)});return c}function u(a,b){a+="";var c=a.length;return c<b?Array(b-c+1).join(0)+a:a}function t(a){function c(a,b){function d(){if(p)return w;if(O)return O=!1,C;var b,d=h,g;if(34===a.charCodeAt(d)){for(;h++<c&&34!==a.charCodeAt(h)||34===a.charCodeAt(++h););(b=h)>=c?p=!0:10===(g=a.charCodeAt(h++))?O=!0:13===g&&(O=!0,10===a.charCodeAt(h)&&++h);return a.slice(d+1,b-1).replace(/""/g,'"')}for(;h<c;){if(10===(g=a.charCodeAt(b=h++)))O=!0;else if(13===g)O=!0,10===a.charCodeAt(h)&&++h;else if(g!==r)continue;
return a.slice(d,b)}return p=!0,a.slice(d,c)}var g=[],c=a.length,h=0,e=0,k,p=0>=c,O=!1;10===a.charCodeAt(c-1)&&--c;for(13===a.charCodeAt(c-1)&&--c;(k=d())!==w;){for(var B=[];k!==C&&k!==w;)B.push(k),k=d();b&&null==(B=b(B,e++))||g.push(B)}return g}function h(b,g){return b.map(function(b){return g.map(function(a){return p(b[a])}).join(a)})}function k(b){return b.map(p).join(a)}function p(a){if(null==a)a="";else{if(a instanceof Date){var b=a.getUTCHours();var d=a.getUTCMinutes(),c=a.getUTCSeconds(),Q=
a.getUTCMilliseconds();if(isNaN(a))a="Invalid Date";else{var h=a.getUTCFullYear();a=(0>h?"-"+u(-h,6):9999<h?"+"+u(h,6):u(h,4))+"-"+u(a.getUTCMonth()+1,2)+"-"+u(a.getUTCDate(),2)+(Q?"T"+u(b,2)+":"+u(d,2)+":"+u(c,2)+"."+u(Q,3)+"Z":c?"T"+u(b,2)+":"+u(d,2)+":"+u(c,2)+"Z":d||b?"T"+u(b,2)+":"+u(d,2)+"Z":"")}b=a}else b=O.test(a+="")?'"'+a.replace(/"/g,'""')+'"':a;a=b}return a}var O=new RegExp('["'+a+"\n\r]"),r=a.charCodeAt(0);return{parse:function(a,g){var d,M;a=c(a,function(a,c){if(d)return d(a,c-1);M=
a;d=g?e(a,g):b(a)});a.columns=M||[];return a},parseRows:c,format:function(b,g){null==g&&(g=H(b));return[g.map(p).join(a)].concat(h(b,g)).join("\n")},formatBody:function(a,b){null==b&&(b=H(a));return h(a,b).join("\n")},formatRows:function(a){return a.map(k).join("\n")},formatRow:k,formatValue:p}}var C={},w={},P=t(","),ea=P.parse,T=P.parseRows,F=P.format,W=P.formatBody,r=P.formatRows,S=P.formatRow;P=P.formatValue;var z=t("\t"),J=z.parse,p=z.parseRows,k=z.format,N=z.formatBody,D=z.formatRows,O=z.formatRow;
z=z.formatValue;var c=(new Date("2019-01-01T00:00")).getHours()||(new Date("2019-07-01T00:00")).getHours();a.autoType=function(a){for(var b in a){var h=a[b].trim(),e;if(h)if("true"===h)h=!0;else if("false"===h)h=!1;else if("NaN"===h)h=NaN;else if(isNaN(e=+h))if(e=h.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))c&&e[4]&&!e[7]&&(h=h.replace(/-/g,"/").replace(/T/," ")),h=new Date(h);else continue;else h=e;else h=null;a[b]=h}return a};a.csvFormat=
F;a.csvFormatBody=W;a.csvFormatRow=S;a.csvFormatRows=r;a.csvFormatValue=P;a.csvParse=ea;a.csvParseRows=T;a.dsvFormat=t;a.tsvFormat=k;a.tsvFormatBody=N;a.tsvFormatRow=O;a.tsvFormatRows=D;a.tsvFormatValue=z;a.tsvParse=J;a.tsvParseRows=p;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[23]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.topojson=a.topojson||{}))})(this,function(a){function b(a){return a}function e(a){if(null==a)return b;var e,t,z=a.scale[0],J=a.scale[1],p=a.translate[0],k=a.translate[1];return function(a,b){b||(e=t=0);b=2;var O=a.length,c=Array(O);c[0]=(e+=a[0])*z+p;for(c[1]=(t+=a[1])*J+k;b<O;)c[b]=a[b],++b;return c}}function H(a){function b(a){a=
z(a);a[0]<p&&(p=a[0]);a[0]>N&&(N=a[0]);a[1]<k&&(k=a[1]);a[1]>D&&(D=a[1])}function t(a){switch(a.type){case "GeometryCollection":a.geometries.forEach(t);break;case "Point":b(a.coordinates);break;case "MultiPoint":a.coordinates.forEach(b)}}var z=e(a.transform),J,p=Infinity,k=p,N=-p,D=-p;a.arcs.forEach(function(a){for(var b=-1,h=a.length,e;++b<h;)e=z(a[b],b),e[0]<p&&(p=e[0]),e[0]>N&&(N=e[0]),e[1]<k&&(k=e[1]),e[1]>D&&(D=e[1])});for(J in a.objects)t(a.objects[J]);return[p,k,N,D]}function u(a,b){var e=
b.id,r=b.bbox,J=null==b.properties?{}:b.properties;a=t(a,b);return null==e&&null==r?{type:"Feature",properties:J,geometry:a}:null==r?{type:"Feature",id:e,properties:J,geometry:a}:{type:"Feature",id:e,bbox:r,properties:J,geometry:a}}function t(a,b){function r(a){return N(a)}function z(a){for(var b=[],h=0,e=a.length;h<e;++h){var k=a[h],p=b;p.length&&p.pop();for(var B=D[0>k?~k:k],O=0,r=B.length;O<r;++O)p.push(N(B[O],O));if(0>k)for(k=p,p=k.length,B=p-r;B<--p;)r=k[B],k[B++]=k[p],k[p]=r}2>b.length&&b.push(b[0]);
return b}function t(a){for(a=z(a);4>a.length;)a.push(a[0]);return a}function p(a){return a.map(t)}function k(a){var b=a.type;switch(b){case "GeometryCollection":return{type:b,geometries:a.geometries.map(k)};case "Point":a=N(a.coordinates);break;case "MultiPoint":a=a.coordinates.map(r);break;case "LineString":a=z(a.arcs);break;case "MultiLineString":a=a.arcs.map(z);break;case "Polygon":a=p(a.arcs);break;case "MultiPolygon":a=a.arcs.map(p);break;default:return null}return{type:b,coordinates:a}}var N=
e(a.transform),D=a.arcs;return k(b)}function C(a,b){function e(b){var c=a.arcs[0>b?~b:b],h=c[0];if(a.transform){var e=[0,0];c.forEach(function(a){e[0]+=a[0];e[1]+=a[1]})}else e=c[c.length-1];return 0>b?[e,h]:[h,e]}function r(a,b){for(var c in a){var e=a[c];delete b[e.start];delete e.start;delete e.end;e.forEach(function(a){t[0>a?~a:a]=1});N.push(e)}}var t={},p={},k={},N=[],D=-1;b.forEach(function(e,c){var h=a.arcs[0>e?~e:e];3>h.length&&!h[1][0]&&!h[1][1]&&(h=b[++D],b[D]=e,b[c]=h)});b.forEach(function(a){var b=
e(a),h=b[0],r=b[1];(b=k[h])?(delete k[b.end],b.push(a),b.end=r,(a=p[r])?(delete p[a.start],h=a===b?b:b.concat(a),p[h.start=b.start]=k[h.end=a.end]=h):p[b.start]=k[b.end]=b):(b=p[r])?(delete p[b.start],b.unshift(a),b.start=h,(a=k[h])?(delete k[a.end],h=a===b?b:a.concat(b),p[h.start=a.start]=k[h.end=b.end]=h):p[b.start]=k[b.end]=b):(b=[a],p[b.start=h]=k[b.end=r]=b)});r(k,p);r(p,k);b.forEach(function(a){t[0>a?~a:a]||N.push([a])});return N}function w(a,b,e){var r;if(1<arguments.length)var t=P(a,b,e);
else{var p=0;for(t=Array(r=a.arcs.length);p<r;++p)t[p]=p}return{type:"MultiLineString",arcs:C(a,t)}}function P(a,b,e){function r(a){var b=0>a?~a:a;(D[b]||(D[b]=[])).push({i:a,g:O})}function t(a){a.forEach(r)}function p(a){a.forEach(t)}function k(a){switch(O=a,a.type){case "GeometryCollection":a.geometries.forEach(k);break;case "LineString":t(a.arcs);break;case "MultiLineString":case "Polygon":p(a.arcs);break;case "MultiPolygon":a.arcs.forEach(p)}}var N=[],D=[],O;k(b);D.forEach(null==e?function(a){N.push(a[0].i)}:
function(a){e(a[0].g,a[a.length-1].g)&&N.push(a[0].i)});return N}function ea(a,b){function e(a){switch(a.type){case "GeometryCollection":a.geometries.forEach(e);break;case "Polygon":r(a.arcs);break;case "MultiPolygon":a.arcs.forEach(r)}}function r(a){a.forEach(function(b){b.forEach(function(b){(p[b=0>b?~b:b]||(p[b]=[])).push(a)})});k.push(a)}function J(b){b=t(a,{type:"Polygon",arcs:[b]}).coordinates[0];for(var e=-1,c=b.length,h,k=b[c-1],p=0;++e<c;)h=k,k=b[e],p+=h[0]*k[1]-h[1]*k[0];return Math.abs(p)}
var p={},k=[],N=[];b.forEach(e);k.forEach(function(a){if(!a._){var b=[],c=[a];a._=1;for(N.push(b);a=c.pop();)b.push(a),a.forEach(function(a){a.forEach(function(a){p[0>a?~a:a].forEach(function(a){a._||(a._=1,c.push(a))})})})}});k.forEach(function(a){delete a._});return{type:"MultiPolygon",arcs:N.map(function(b){var e=[];b.forEach(function(a){a.forEach(function(a){a.forEach(function(a){2>p[0>a?~a:a].length&&e.push(a)})})});e=C(a,e);if(1<(b=e.length))for(var c=1,h=J(e[0]),k;c<b;++c)(k=J(e[c]))>h&&(h=
e[0],e[0]=e[c],e[c]=h,h=k);return e}).filter(function(a){return 0<a.length})}}function T(a,b){for(var e=0,r=a.length;e<r;){var t=e+r>>>1;a[t]<b?e=t+1:r=t}return e}function F(a){if(null==a)return b;var e,t,z=a.scale[0],J=a.scale[1],p=a.translate[0],k=a.translate[1];return function(a,b){b||(e=t=0);b=2;var r=a.length,c=Array(r),h=Math.round((a[0]-p)/z),ba=Math.round((a[1]-k)/J);c[0]=h-e;e=h;c[1]=ba-t;for(t=ba;b<r;)c[b]=a[b],++b;return c}}a.bbox=H;a.feature=function(a,b){"string"===typeof b&&(b=a.objects[b]);
return"GeometryCollection"===b.type?{type:"FeatureCollection",features:b.geometries.map(function(b){return u(a,b)})}:u(a,b)};a.merge=function(a){return t(a,ea.apply(this,arguments))};a.mergeArcs=ea;a.mesh=function(a){return t(a,w.apply(this,arguments))};a.meshArcs=w;a.neighbors=function(a){function b(a,b){a.forEach(function(a){0>a&&(a=~a);var c=J[a];c?c.push(b):J[a]=[b]})}function e(a,c){a.forEach(function(a){b(a,c)})}function t(a,b){if("GeometryCollection"===a.type)a.geometries.forEach(function(a){t(a,
b)});else if(a.type in k)k[a.type](a.arcs,b)}var J={},p=a.map(function(){return[]}),k={LineString:b,MultiLineString:e,Polygon:e,MultiPolygon:function(a,b){a.forEach(function(a){e(a,b)})}};a.forEach(t);for(var N in J){a=J[N];for(var F=a.length,O=0;O<F;++O)for(var c=O+1;c<F;++c){var h=a[O],ba=a[c],L;(L=p[h])[N=T(L,ba)]!==ba&&L.splice(N,0,ba);(L=p[ba])[N=T(L,h)]!==h&&L.splice(N,0,h)}}return p};a.quantize=function(a,b){function e(a){return O(a)}function r(a){switch(a.type){case "GeometryCollection":var b=
{type:"GeometryCollection",geometries:a.geometries.map(r)};break;case "Point":b={type:"Point",coordinates:O(a.coordinates)};break;case "MultiPoint":b={type:"MultiPoint",coordinates:a.coordinates.map(e)};break;default:return a}null!=a.id&&(b.id=a.id);null!=a.bbox&&(b.bbox=a.bbox);null!=a.properties&&(b.properties=a.properties);return b}if(a.transform)throw Error("already quantized");if(b&&b.scale)var t=a.bbox;else{if(!(2<=(D=Math.floor(b))))throw Error("n must be ≥2");t=a.bbox||H(a);b=t[0];var p=t[1],
k=t[2],N=t[3],D;b={scale:[k-b?(k-b)/(D-1):1,N-p?(N-p)/(D-1):1],translate:[b,p]}}var O=F(b),c;p=a.objects;k={};for(c in p)k[c]=r(p[c]);return{type:"Topology",bbox:t,transform:b,objects:k,arcs:a.arcs.map(function(a){var b=0,c=1,e=a.length,h,k=Array(e);for(k[0]=O(a[0],0);++b<e;)if((h=O(a[b],b))[0]||h[1])k[c++]=h;1===c&&(k[c++]=[0,0]);k.length=c;return k})}};a.transform=e;a.untransform=F;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[24]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.d3=a.d3||{}))})(this,function(a){function b(a,d,g,m){function l(b){return a(b=0===arguments.length?new Date:new Date(+b)),b}l.floor=function(b){return a(b=new Date(+b)),b};l.ceil=function(b){return a(b=new Date(b-1)),d(b,1),a(b),b};l.round=function(a){var b=l(a),d=l.ceil(a);return a-b<d-a?b:d};l.offset=function(a,b){return d(a=
new Date(+a),null==b?1:Math.floor(b)),a};l.range=function(b,g,m){var c=[],v;b=l.ceil(b);m=null==m?1:Math.floor(m);if(!(b<g&&0<m))return c;do c.push(v=new Date(+b)),d(b,m),a(b);while(v<b&&b<g);return c};l.filter=function(g){return b(function(b){if(b>=b)for(;a(b),!g(b);)b.setTime(b-1)},function(a,b){if(a>=a)if(0>b)for(;0>=++b;)for(;d(a,-1),!g(a););else for(;0<=--b;)for(;d(a,1),!g(a););})};g&&(l.count=function(b,d){u.setTime(+b);t.setTime(+d);a(u);a(t);return Math.floor(g(u,t))},l.every=function(a){a=
Math.floor(a);return isFinite(a)&&0<a?1<a?l.filter(m?function(b){return 0===m(b)%a}:function(b){return 0===l.count(0,b)%a}):l:null});return l}function e(a){return b(function(b){b.setDate(b.getDate()-(b.getDay()+7-a)%7);b.setHours(0,0,0,0)},function(a,b){a.setDate(a.getDate()+7*b)},function(a,b){return(b-a-6E4*(b.getTimezoneOffset()-a.getTimezoneOffset()))/6048E5})}function H(a){return b(function(b){b.setUTCDate(b.getUTCDate()-(b.getUTCDay()+7-a)%7);b.setUTCHours(0,0,0,0)},function(a,b){a.setUTCDate(a.getUTCDate()+
7*b)},function(a,b){return(b-a)/6048E5})}var u=new Date,t=new Date,C=b(function(){},function(a,b){a.setTime(+a+b)},function(a,b){return b-a});C.every=function(a){a=Math.floor(a);return isFinite(a)&&0<a?1<a?b(function(b){b.setTime(Math.floor(b/a)*a)},function(b,d){b.setTime(+b+d*a)},function(b,d){return(d-b)/a}):C:null};var w=C.range,P=b(function(a){a.setTime(a-a.getMilliseconds())},function(a,b){a.setTime(+a+1E3*b)},function(a,b){return(b-a)/1E3},function(a){return a.getUTCSeconds()}),ea=P.range,
T=b(function(a){a.setTime(a-a.getMilliseconds()-1E3*a.getSeconds())},function(a,b){a.setTime(+a+6E4*b)},function(a,b){return(b-a)/6E4},function(a){return a.getMinutes()}),F=T.range,W=b(function(a){a.setTime(a-a.getMilliseconds()-1E3*a.getSeconds()-6E4*a.getMinutes())},function(a,b){a.setTime(+a+36E5*b)},function(a,b){return(b-a)/36E5},function(a){return a.getHours()}),r=W.range,S=b(function(a){a.setHours(0,0,0,0)},function(a,b){a.setDate(a.getDate()+b)},function(a,b){return(b-a-6E4*(b.getTimezoneOffset()-
a.getTimezoneOffset()))/864E5},function(a){return a.getDate()-1}),z=S.range,J=e(0),p=e(1),k=e(2),N=e(3),D=e(4),O=e(5),c=e(6),h=J.range,ba=p.range,L=k.range,ma=N.range,B=D.range,ia=O.range,va=c.range,qa=b(function(a){a.setDate(1);a.setHours(0,0,0,0)},function(a,b){a.setMonth(a.getMonth()+b)},function(a,b){return b.getMonth()-a.getMonth()+12*(b.getFullYear()-a.getFullYear())},function(a){return a.getMonth()}),g=qa.range,d=b(function(a){a.setMonth(0,1);a.setHours(0,0,0,0)},function(a,b){a.setFullYear(a.getFullYear()+
b)},function(a,b){return b.getFullYear()-a.getFullYear()},function(a){return a.getFullYear()});d.every=function(a){return isFinite(a=Math.floor(a))&&0<a?b(function(b){b.setFullYear(Math.floor(b.getFullYear()/a)*a);b.setMonth(0,1);b.setHours(0,0,0,0)},function(b,d){b.setFullYear(b.getFullYear()+d*a)}):null};var M=d.range,Q=b(function(a){a.setUTCSeconds(0,0)},function(a,b){a.setTime(+a+6E4*b)},function(a,b){return(b-a)/6E4},function(a){return a.getUTCMinutes()}),la=Q.range,Wb=b(function(a){a.setUTCMinutes(0,
0,0)},function(a,b){a.setTime(+a+36E5*b)},function(a,b){return(b-a)/36E5},function(a){return a.getUTCHours()}),ha=Wb.range,aa=b(function(a){a.setUTCHours(0,0,0,0)},function(a,b){a.setUTCDate(a.getUTCDate()+b)},function(a,b){return(b-a)/864E5},function(a){return a.getUTCDate()-1}),sa=aa.range,ya=H(0),Na=H(1),Ea=H(2),Ma=H(3),U=H(4),Ba=H(5),l=H(6),v=ya.range,x=Na.range,m=Ea.range,E=Ma.range,Ua=U.range,da=Ba.range,oa=l.range,Wa=b(function(a){a.setUTCDate(1);a.setUTCHours(0,0,0,0)},function(a,b){a.setUTCMonth(a.getUTCMonth()+
b)},function(a,b){return b.getUTCMonth()-a.getUTCMonth()+12*(b.getUTCFullYear()-a.getUTCFullYear())},function(a){return a.getUTCMonth()}),Qa=Wa.range,wa=b(function(a){a.setUTCMonth(0,1);a.setUTCHours(0,0,0,0)},function(a,b){a.setUTCFullYear(a.getUTCFullYear()+b)},function(a,b){return b.getUTCFullYear()-a.getUTCFullYear()},function(a){return a.getUTCFullYear()});wa.every=function(a){return isFinite(a=Math.floor(a))&&0<a?b(function(b){b.setUTCFullYear(Math.floor(b.getUTCFullYear()/a)*a);b.setUTCMonth(0,
1);b.setUTCHours(0,0,0,0)},function(b,d){b.setUTCFullYear(b.getUTCFullYear()+d*a)}):null};var fa=wa.range;a.timeDay=S;a.timeDays=z;a.timeFriday=O;a.timeFridays=ia;a.timeHour=W;a.timeHours=r;a.timeInterval=b;a.timeMillisecond=C;a.timeMilliseconds=w;a.timeMinute=T;a.timeMinutes=F;a.timeMonday=p;a.timeMondays=ba;a.timeMonth=qa;a.timeMonths=g;a.timeSaturday=c;a.timeSaturdays=va;a.timeSecond=P;a.timeSeconds=ea;a.timeSunday=J;a.timeSundays=h;a.timeThursday=D;a.timeThursdays=B;a.timeTuesday=k;a.timeTuesdays=
L;a.timeWednesday=N;a.timeWednesdays=ma;a.timeWeek=J;a.timeWeeks=h;a.timeYear=d;a.timeYears=M;a.utcDay=aa;a.utcDays=sa;a.utcFriday=Ba;a.utcFridays=da;a.utcHour=Wb;a.utcHours=ha;a.utcMillisecond=C;a.utcMilliseconds=w;a.utcMinute=Q;a.utcMinutes=la;a.utcMonday=Na;a.utcMondays=x;a.utcMonth=Wa;a.utcMonths=Qa;a.utcSaturday=l;a.utcSaturdays=oa;a.utcSecond=P;a.utcSeconds=ea;a.utcSunday=ya;a.utcSundays=v;a.utcThursday=U;a.utcThursdays=Ua;a.utcTuesday=Ea;a.utcTuesdays=m;a.utcWednesday=Ma;a.utcWednesdays=E;
a.utcWeek=ya;a.utcWeeks=v;a.utcYear=wa;a.utcYears=fa;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[25]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(24)):"function"===typeof define&&define.amd?define(["exports","d3-time"],b):(a=a||self,b(a.d3=a.d3||{},a.d3))})(this,function(a,b){function e(a){if(0<=a.y&&100>a.y){var b=new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);b.setFullYear(a.y);return b}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}function H(a){if(0<=a.y&&100>a.y){var b=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));b.setUTCFullYear(a.y);return b}return new Date(Date.UTC(a.y,
a.m,a.d,a.H,a.M,a.S,a.L))}function u(a,b,d){return{y:a,m:b,d,H:0,M:0,S:0,L:0}}function t(a){function t(a,b){return function(d){var g=[],m=-1,l=0,c=a.length,v,M;for(d instanceof Date||(d=new Date(+d));++m<c;)if(37===a.charCodeAt(m)){g.push(a.slice(l,m));null!=(l=Db[v=a.charAt(++m)])?v=a.charAt(++m):l="e"===v?" ":"0";if(M=b[v])v=M(d,l);g.push(v);l=m+1}g.push(a.slice(l,m));return g.join("")}}function C(a,d){return function(g){var m=u(1900,void 0,1);if(ka(m,a,g+="",0)!=g.length)return null;if("Q"in m)return new Date(m.Q);
if("s"in m)return new Date(1E3*m.s+("L"in m?m.L:0));!d||"Z"in m||(m.Z=0);"p"in m&&(m.H=m.H%12+12*m.p);void 0===m.m&&(m.m="q"in m?m.q:0);if("V"in m){if(1>m.V||53<m.V)return null;"w"in m||(m.w=1);if("Z"in m){g=H(u(m.y,0,1));var l=g.getUTCDay();g=4<l||0===l?b.utcMonday.ceil(g):b.utcMonday(g);g=b.utcDay.offset(g,7*(m.V-1));m.y=g.getUTCFullYear();m.m=g.getUTCMonth();m.d=g.getUTCDate()+(m.w+6)%7}else g=e(u(m.y,0,1)),l=g.getDay(),g=4<l||0===l?b.timeMonday.ceil(g):b.timeMonday(g),g=b.timeDay.offset(g,7*(m.V-
1)),m.y=g.getFullYear(),m.m=g.getMonth(),m.d=g.getDate()+(m.w+6)%7}else if("W"in m||"U"in m)"w"in m||(m.w="u"in m?m.u%7:"W"in m?1:0),l="Z"in m?H(u(m.y,0,1)).getUTCDay():e(u(m.y,0,1)).getDay(),m.m=0,m.d="W"in m?(m.w+6)%7+7*m.W-(l+5)%7:m.w+7*m.U-(l+6)%7;return"Z"in m?(m.H+=m.Z/100|0,m.M+=m.Z%100,H(m)):e(m)}}function ka(a,b,d,m){for(var g=0,l=b.length,c=d.length,v;g<l;){if(m>=c)return-1;v=b.charCodeAt(g++);if(37===v){if(v=b.charAt(g++),v=hc[v in Db?b.charAt(g++):v],!v||0>(m=v(a,d,m)))return-1}else if(v!=
d.charCodeAt(m++))return-1}return m}var w=a.dateTime,Xa=a.date,Sa=a.time,Bb=a.periods,ac=a.days,gb=a.shortDays,db=a.months,Ob=a.shortMonths,gc=P(Bb),jc=ea(Bb),cc=P(ac),$a=ea(ac),kc=P(gb),Vc=ea(gb),Nc=P(db),Cc=ea(db),rc=P(Ob),dc=ea(Ob),Kb={a:function(a){return gb[a.getDay()]},A:function(a){return ac[a.getDay()]},b:function(a){return Ob[a.getMonth()]},B:function(a){return db[a.getMonth()]},c:null,d:qa,e:qa,f:la,H:g,I:d,j:M,L:Q,m:Wb,M:ha,p:function(a){return Bb[+(12<=a.getHours())]},q:function(a){return 1+
~~(a.getMonth()/3)},Q:I,s:Va,S:aa,u:sa,U:ya,V:Na,w:Ea,W:Ma,x:null,X:null,y:U,Y:Ba,Z:l,"%":G},$b={a:function(a){return gb[a.getUTCDay()]},A:function(a){return ac[a.getUTCDay()]},b:function(a){return Ob[a.getUTCMonth()]},B:function(a){return db[a.getUTCMonth()]},c:null,d:v,e:v,f:da,H:x,I:m,j:E,L:Ua,m:oa,M:Wa,p:function(a){return Bb[+(12<=a.getUTCHours())]},q:function(a){return 1+~~(a.getUTCMonth()/3)},Q:I,s:Va,S:Qa,u:wa,U:fa,V:cb,w:kb,W:fb,x:null,X:null,y:qb,Y:Ja,Z:pa,"%":G},hc={a:function(a,b,d){return(b=
kc.exec(b.slice(d)))?(a.w=Vc[b[0].toLowerCase()],d+b[0].length):-1},A:function(a,b,d){return(b=cc.exec(b.slice(d)))?(a.w=$a[b[0].toLowerCase()],d+b[0].length):-1},b:function(a,b,d){return(b=rc.exec(b.slice(d)))?(a.m=dc[b[0].toLowerCase()],d+b[0].length):-1},B:function(a,b,d){return(b=Nc.exec(b.slice(d)))?(a.m=Cc[b[0].toLowerCase()],d+b[0].length):-1},c:function(a,b,d){return ka(a,w,b,d)},d:D,e:D,f:ma,H:c,I:c,j:O,L,m:N,M:h,p:function(a,b,d){return(b=gc.exec(b.slice(d)))?(a.p=jc[b[0].toLowerCase()],
d+b[0].length):-1},q:k,Q:ia,s:va,S:ba,u:F,U:W,V:r,w:T,W:S,x:function(a,b,d){return ka(a,Xa,b,d)},X:function(a,b,d){return ka(a,Sa,b,d)},y:J,Y:z,Z:p,"%":B};Kb.x=t(Xa,Kb);Kb.X=t(Sa,Kb);Kb.c=t(w,Kb);$b.x=t(Xa,$b);$b.X=t(Sa,$b);$b.c=t(w,$b);return{format:function(a){var b=t(a+="",Kb);b.toString=function(){return a};return b},parse:function(a){var b=C(a+="",!1);b.toString=function(){return a};return b},utcFormat:function(a){var b=t(a+="",$b);b.toString=function(){return a};return b},utcParse:function(a){var b=
C(a+="",!0);b.toString=function(){return a};return b}}}function C(a,b,d){var m=0>a?"-":"";a=(m?-a:a)+"";var g=a.length;return m+(g<d?Array(d-g+1).join(b)+a:a)}function w(a){return a.replace(tc,"\\$\x26")}function P(a){return new RegExp("^(?:"+a.map(w).join("|")+")","i")}function ea(a){for(var b={},d=-1,m=a.length;++d<m;)b[a[d].toLowerCase()]=d;return b}function T(a,b,d){return(b=$a.exec(b.slice(d,d+1)))?(a.w=+b[0],d+b[0].length):-1}function F(a,b,d){return(b=$a.exec(b.slice(d,d+1)))?(a.u=+b[0],d+
b[0].length):-1}function W(a,b,d){return(b=$a.exec(b.slice(d,d+2)))?(a.U=+b[0],d+b[0].length):-1}function r(a,b,d){return(b=$a.exec(b.slice(d,d+2)))?(a.V=+b[0],d+b[0].length):-1}function S(a,b,d){return(b=$a.exec(b.slice(d,d+2)))?(a.W=+b[0],d+b[0].length):-1}function z(a,b,d){return(b=$a.exec(b.slice(d,d+4)))?(a.y=+b[0],d+b[0].length):-1}function J(a,b,d){return(b=$a.exec(b.slice(d,d+2)))?(a.y=+b[0]+(68<+b[0]?1900:2E3),d+b[0].length):-1}function p(a,b,d){return(b=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(b.slice(d,
d+6)))?(a.Z=b[1]?0:-(b[2]+(b[3]||"00")),d+b[0].length):-1}function k(a,b,d){return(b=$a.exec(b.slice(d,d+1)))?(a.q=3*b[0]-3,d+b[0].length):-1}function N(a,b,d){return(b=$a.exec(b.slice(d,d+2)))?(a.m=b[0]-1,d+b[0].length):-1}function D(a,b,d){return(b=$a.exec(b.slice(d,d+2)))?(a.d=+b[0],d+b[0].length):-1}function O(a,b,d){return(b=$a.exec(b.slice(d,d+3)))?(a.m=0,a.d=+b[0],d+b[0].length):-1}function c(a,b,d){return(b=$a.exec(b.slice(d,d+2)))?(a.H=+b[0],d+b[0].length):-1}function h(a,b,d){return(b=$a.exec(b.slice(d,
d+2)))?(a.M=+b[0],d+b[0].length):-1}function ba(a,b,d){return(b=$a.exec(b.slice(d,d+2)))?(a.S=+b[0],d+b[0].length):-1}function L(a,b,d){return(b=$a.exec(b.slice(d,d+3)))?(a.L=+b[0],d+b[0].length):-1}function ma(a,b,d){return(b=$a.exec(b.slice(d,d+6)))?(a.L=Math.floor(b[0]/1E3),d+b[0].length):-1}function B(a,b,d){return(a=Lb.exec(b.slice(d,d+1)))?d+a[0].length:-1}function ia(a,b,d){return(b=$a.exec(b.slice(d)))?(a.Q=+b[0],d+b[0].length):-1}function va(a,b,d){return(b=$a.exec(b.slice(d)))?(a.s=+b[0],
d+b[0].length):-1}function qa(a,b){return C(a.getDate(),b,2)}function g(a,b){return C(a.getHours(),b,2)}function d(a,b){return C(a.getHours()%12||12,b,2)}function M(a,d){return C(1+b.timeDay.count(b.timeYear(a),a),d,3)}function Q(a,b){return C(a.getMilliseconds(),b,3)}function la(a,b){return Q(a,b)+"000"}function Wb(a,b){return C(a.getMonth()+1,b,2)}function ha(a,b){return C(a.getMinutes(),b,2)}function aa(a,b){return C(a.getSeconds(),b,2)}function sa(a){a=a.getDay();return 0===a?7:a}function ya(a,
d){return C(b.timeSunday.count(b.timeYear(a)-1,a),d,2)}function Na(a,d){var m=a.getDay();a=4<=m||0===m?b.timeThursday(a):b.timeThursday.ceil(a);return C(b.timeThursday.count(b.timeYear(a),a)+(4===b.timeYear(a).getDay()),d,2)}function Ea(a){return a.getDay()}function Ma(a,d){return C(b.timeMonday.count(b.timeYear(a)-1,a),d,2)}function U(a,b){return C(a.getFullYear()%100,b,2)}function Ba(a,b){return C(a.getFullYear()%1E4,b,4)}function l(a){a=a.getTimezoneOffset();return(0<a?"-":(a*=-1,"+"))+C(a/60|
0,"0",2)+C(a%60,"0",2)}function v(a,b){return C(a.getUTCDate(),b,2)}function x(a,b){return C(a.getUTCHours(),b,2)}function m(a,b){return C(a.getUTCHours()%12||12,b,2)}function E(a,d){return C(1+b.utcDay.count(b.utcYear(a),a),d,3)}function Ua(a,b){return C(a.getUTCMilliseconds(),b,3)}function da(a,b){return Ua(a,b)+"000"}function oa(a,b){return C(a.getUTCMonth()+1,b,2)}function Wa(a,b){return C(a.getUTCMinutes(),b,2)}function Qa(a,b){return C(a.getUTCSeconds(),b,2)}function wa(a){a=a.getUTCDay();return 0===
a?7:a}function fa(a,d){return C(b.utcSunday.count(b.utcYear(a)-1,a),d,2)}function cb(a,d){var m=a.getUTCDay();a=4<=m||0===m?b.utcThursday(a):b.utcThursday.ceil(a);return C(b.utcThursday.count(b.utcYear(a),a)+(4===b.utcYear(a).getUTCDay()),d,2)}function kb(a){return a.getUTCDay()}function fb(a,d){return C(b.utcMonday.count(b.utcYear(a)-1,a),d,2)}function qb(a,b){return C(a.getUTCFullYear()%100,b,2)}function Ja(a,b){return C(a.getUTCFullYear()%1E4,b,4)}function pa(){return"+0000"}function G(){return"%"}
function I(a){return+a}function Va(a){return Math.floor(+a/1E3)}function Bb(b){rb=t(b);a.timeFormat=rb.format;a.timeParse=rb.parse;a.utcFormat=rb.utcFormat;a.utcParse=rb.utcParse;return rb}function ka(a){return a.toISOString()}function Cb(a){a=new Date(a);return isNaN(a)?null:a}var Db={"-":"",_:" ",0:"0"},$a=/^\s*\d+/,Lb=/^%/,tc=/[\\^$*+?|[\]().{}]/g,rb;Bb({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var Tb=Date.prototype.toISOString?ka:a.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),Eb=+new Date("2000-01-01T00:00:00.000Z")?Cb:a.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");a.isoFormat=Tb;a.isoParse=Eb;a.timeFormatDefaultLocale=Bb;a.timeFormatLocale=t;Object.defineProperty(a,"__esModule",
{value:!0})})};
shadow$provide[26]=function(G,w,I,u){function a(a){var b=a.length;if(0<b%4)throw Error("Invalid string. Length must be a multiple of 4");a=a.indexOf("\x3d");-1===a&&(a=b);return[a,a===b?0:4-a%4]}function b(a,b,H){for(var t=[],C=b;C<H;C+=3)b=(a[C]<<16&16711680)+(a[C+1]<<8&65280)+(a[C+2]&255),t.push(e[b>>18&63]+e[b>>12&63]+e[b>>6&63]+e[b&63]);return t.join("")}u.byteLength=function(b){b=a(b);var e=b[1];return 3*(b[0]+e)/4-e};u.toByteArray=function(b){var e=a(b);var t=e[0];e=e[1];var P=new Sa(3*(t+e)/
4-e),ea=0,T=0<e?t-4:t,F;for(F=0;F<T;F+=4)t=H[b.charCodeAt(F)]<<18|H[b.charCodeAt(F+1)]<<12|H[b.charCodeAt(F+2)]<<6|H[b.charCodeAt(F+3)],P[ea++]=t>>16&255,P[ea++]=t>>8&255,P[ea++]=t&255;2===e&&(t=H[b.charCodeAt(F)]<<2|H[b.charCodeAt(F+1)]>>4,P[ea++]=t&255);1===e&&(t=H[b.charCodeAt(F)]<<10|H[b.charCodeAt(F+1)]<<4|H[b.charCodeAt(F+2)]>>2,P[ea++]=t>>8&255,P[ea++]=t&255);return P};u.fromByteArray=function(a){for(var t=a.length,H=t%3,P=[],ea=0,T=t-H;ea<T;ea+=16383)P.push(b(a,ea,ea+16383>T?T:ea+16383));
1===H?(a=a[t-1],P.push(e[a>>2]+e[a<<4&63]+"\x3d\x3d")):2===H&&(a=(a[t-2]<<8)+a[t-1],P.push(e[a>>10]+e[a>>4&63]+e[a<<2&63]+"\x3d"));return P.join("")};var e=[],H=[],Sa="undefined"!==typeof Uint8Array?Uint8Array:Array;for(G=0;64>G;++G)e[G]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[G],H["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(G)]=G;H[45]=62;H[95]=63};
shadow$provide[27]=function(G,w,I,u){u.read=function(a,b,e,H,u){var t=8*u-H-1;var C=(1<<t)-1,w=C>>1,P=-7;u=e?u-1:0;var ea=e?-1:1,T=a[b+u];u+=ea;e=T&(1<<-P)-1;T>>=-P;for(P+=t;0<P;e=256*e+a[b+u],u+=ea,P-=8);t=e&(1<<-P)-1;e>>=-P;for(P+=H;0<P;t=256*t+a[b+u],u+=ea,P-=8);if(0===e)e=1-w;else{if(e===C)return t?NaN:Infinity*(T?-1:1);t+=Math.pow(2,H);e-=w}return(T?-1:1)*t*Math.pow(2,e-H)};u.write=function(a,b,e,H,u,t){var C,w=8*t-u-1,P=(1<<w)-1,ea=P>>1,T=23===u?Math.pow(2,-24)-Math.pow(2,-77):0;t=H?0:t-1;var F=
H?1:-1,W=0>b||0===b&&0>1/b?1:0;b=Math.abs(b);isNaN(b)||Infinity===b?(b=isNaN(b)?1:0,H=P):(H=Math.floor(Math.log(b)/Math.LN2),1>b*(C=Math.pow(2,-H))&&(H--,C*=2),b=1<=H+ea?b+T/C:b+T*Math.pow(2,1-ea),2<=b*C&&(H++,C/=2),H+ea>=P?(b=0,H=P):1<=H+ea?(b=(b*C-1)*Math.pow(2,u),H+=ea):(b=b*Math.pow(2,ea-1)*Math.pow(2,u),H=0));for(;8<=u;a[e+t]=b&255,t+=F,b/=256,u-=8);H=H<<u|b;for(w+=u;0<w;a[e+t]=H&255,t+=F,H/=256,w-=8);a[e+t-F]|=128*W}};
shadow$provide[28]=function(G,w,I,u){var a={}.toString;I.exports=Array.isArray||function(b){return"[object Array]"==a.call(b)}};
shadow$provide[29]=function(G,w,I,u){function a(){try{var a=new Uint8Array(1);a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===a.foo()&&"function"===typeof a.subarray&&0===a.subarray(1,1).byteLength}catch(d){return!1}}function b(a,b){if((e.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<b)throw new RangeError("Invalid typed array length");e.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(b),a.__proto__=e.prototype):(null===a&&(a=new e(b)),a.length=b);return a}function e(a,b,c){if(!(e.TYPED_ARRAY_SUPPORT||
this instanceof e))return new e(a,b,c);if("number"===typeof a){if("string"===typeof b)throw Error("If encoding is specified then the first argument must be a string");return t(this,a)}return H(this,a,b,c)}function H(a,d,c,Q){if("number"===typeof d)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&d instanceof ArrayBuffer){d.byteLength;if(0>c||d.byteLength<c)throw new RangeError("'offset' is out of bounds");if(d.byteLength<c+(Q||0))throw new RangeError("'length' is out of bounds");
d=void 0===c&&void 0===Q?new Uint8Array(d):void 0===Q?new Uint8Array(d,c):new Uint8Array(d,c,Q);e.TYPED_ARRAY_SUPPORT?(a=d,a.__proto__=e.prototype):a=C(a,d);return a}if("string"===typeof d){Q=a;a=c;if("string"!==typeof a||""===a)a="utf8";if(!e.isEncoding(a))throw new TypeError('"encoding" must be a valid string encoding');c=ea(d,a)|0;Q=b(Q,c);d=Q.write(d,a);d!==c&&(Q=Q.slice(0,d));return Q}return cc(a,d)}function Sa(a){if("number"!==typeof a)throw new TypeError('"size" argument must be a number');
if(0>a)throw new RangeError('"size" argument must not be negative');}function t(a,d){Sa(d);a=b(a,0>d?0:P(d)|0);if(!e.TYPED_ARRAY_SUPPORT)for(var g=0;g<d;++g)a[g]=0;return a}function C(a,d){var g=0>d.length?0:P(d.length)|0;a=b(a,g);for(var c=0;c<g;c+=1)a[c]=d[c]&255;return a}function cc(a,d){if(e.isBuffer(d)){var g=P(d.length)|0;a=b(a,g);if(0===a.length)return a;d.copy(a,0,0,g);return a}if(d){if("undefined"!==typeof ArrayBuffer&&d.buffer instanceof ArrayBuffer||"length"in d)return(g="number"!==typeof d.length)||
(g=d.length,g=g!==g),g?b(a,0):C(a,d);if("Buffer"===d.type&&ia(d.data))return C(a,d.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function P(a){if(a>=(e.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(e.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return a|0}function ea(a,b){if(e.isBuffer(a))return a.length;if("undefined"!==typeof ArrayBuffer&&
"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;"string"!==typeof a&&(a=""+a);var d=a.length;if(0===d)return 0;for(var g=!1;;)switch(b){case "ascii":case "latin1":case "binary":return d;case "utf8":case "utf-8":case void 0:return h(a).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*d;case "hex":return d>>>1;case "base64":return ma.toByteArray(c(a)).length;default:if(g)return h(a).length;b=(""+b).toLowerCase();g=
!0}}function T(a,b,c){var d=!1;if(void 0===b||0>b)b=0;if(b>this.length)return"";if(void 0===c||c>this.length)c=this.length;if(0>=c)return"";c>>>=0;b>>>=0;if(c<=b)return"";for(a||(a="utf8");;)switch(a){case "hex":a=b;b=c;c=this.length;if(!a||0>a)a=0;if(!b||0>b||b>c)b=c;d="";for(c=a;c<b;++c)a=d,d=this[c],d=16>d?"0"+d.toString(16):d.toString(16),d=a+d;return d;case "utf8":case "utf-8":return S(this,b,c);case "ascii":a="";for(c=Math.min(this.length,c);b<c;++b)a+=String.fromCharCode(this[b]&127);return a;
case "latin1":case "binary":a="";for(c=Math.min(this.length,c);b<c;++b)a+=String.fromCharCode(this[b]);return a;case "base64":return b=0===b&&c===this.length?ma.fromByteArray(this):ma.fromByteArray(this.slice(b,c)),b;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":b=this.slice(b,c);c="";for(a=0;a<b.length;a+=2)c+=String.fromCharCode(b[a]+256*b[a+1]);return c;default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase();d=!0}}function F(a,b,c){var d=a[b];a[b]=a[c];a[c]=d}
function W(a,b,c,Q,h){if(0===a.length)return-1;"string"===typeof c?(Q=c,c=0):2147483647<c?c=2147483647:-2147483648>c&&(c=-2147483648);c=+c;isNaN(c)&&(c=h?0:a.length-1);0>c&&(c=a.length+c);if(c>=a.length){if(h)return-1;c=a.length-1}else if(0>c)if(h)c=0;else return-1;"string"===typeof b&&(b=e.from(b,Q));if(e.isBuffer(b))return 0===b.length?-1:r(a,b,c,Q,h);if("number"===typeof b)return b&=255,e.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?h?Uint8Array.prototype.indexOf.call(a,
b,c):Uint8Array.prototype.lastIndexOf.call(a,b,c):r(a,[b],c,Q,h);throw new TypeError("val must be string, number or Buffer");}function r(a,b,c,e,h){function d(a,b){return 1===g?a[b]:a.readUInt16BE(b*g)}var g=1,M=a.length,Q=b.length;if(void 0!==e&&(e=String(e).toLowerCase(),"ucs2"===e||"ucs-2"===e||"utf16le"===e||"utf-16le"===e)){if(2>a.length||2>b.length)return-1;g=2;M/=2;Q/=2;c/=2}if(h)for(e=-1;c<M;c++)if(d(a,c)===d(b,-1===e?0:c-e)){if(-1===e&&(e=c),c-e+1===Q)return e*g}else-1!==e&&(c-=c-e),e=-1;
else for(c+Q>M&&(c=M-Q);0<=c;c--){M=!0;for(e=0;e<Q;e++)if(d(a,c+e)!==d(b,e)){M=!1;break}if(M)return c}return-1}function S(a,b,c){c=Math.min(a.length,c);for(var d=[];b<c;){var g=a[b],e=null,M=239<g?4:223<g?3:191<g?2:1;if(b+M<=c)switch(M){case 1:128>g&&(e=g);break;case 2:var h=a[b+1];128===(h&192)&&(g=(g&31)<<6|h&63,127<g&&(e=g));break;case 3:h=a[b+1];var k=a[b+2];128===(h&192)&&128===(k&192)&&(g=(g&15)<<12|(h&63)<<6|k&63,2047<g&&(55296>g||57343<g)&&(e=g));break;case 4:h=a[b+1];k=a[b+2];var p=a[b+3];
128===(h&192)&&128===(k&192)&&128===(p&192)&&(g=(g&15)<<18|(h&63)<<12|(k&63)<<6|p&63,65535<g&&1114112>g&&(e=g))}null===e?(e=65533,M=1):65535<e&&(e-=65536,d.push(e>>>10&1023|55296),e=56320|e&1023);d.push(e);b+=M}a=d.length;if(a<=va)d=String.fromCharCode.apply(String,d);else{c="";for(b=0;b<a;)c+=String.fromCharCode.apply(String,d.slice(b,b+=va));d=c}return d}function z(a,b,c){if(0!==a%1||0>a)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length");
}function J(a,b,c,h,k,p){if(!e.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>k||b<p)throw new RangeError('"value" argument is out of bounds');if(c+h>a.length)throw new RangeError("Index out of range");}function p(a,b,c,e){0>b&&(b=65535+b+1);for(var d=0,g=Math.min(a.length-c,2);d<g;++d)a[c+d]=(b&255<<8*(e?d:1-d))>>>8*(e?d:1-d)}function k(a,b,c,e){0>b&&(b=4294967295+b+1);for(var d=0,g=Math.min(a.length-c,4);d<g;++d)a[c+d]=b>>>8*(e?d:3-d)&255}function N(a,b,c,e,
h,k){if(c+e>a.length)throw new RangeError("Index out of range");if(0>c)throw new RangeError("Index out of range");}function D(a,b,c,e,h){h||N(a,b,c,4,3.4028234663852886E38,-3.4028234663852886E38);B.write(a,b,c,e,23,4);return c+4}function O(a,b,c,e,h){h||N(a,b,c,8,1.7976931348623157E308,-1.7976931348623157E308);B.write(a,b,c,e,52,8);return c+8}function c(a){a=a.trim?a.trim():a.replace(/^\s+|\s+$/g,"");a=a.replace(qa,"");if(2>a.length)return"";for(;0!==a.length%4;)a+="\x3d";return a}function h(a,b){b=
b||Infinity;for(var d,g=a.length,c=null,e=[],h=0;h<g;++h){d=a.charCodeAt(h);if(55295<d&&57344>d){if(!c){if(56319<d){-1<(b-=3)&&e.push(239,191,189);continue}else if(h+1===g){-1<(b-=3)&&e.push(239,191,189);continue}c=d;continue}if(56320>d){-1<(b-=3)&&e.push(239,191,189);c=d;continue}d=(c-55296<<10|d-56320)+65536}else c&&-1<(b-=3)&&e.push(239,191,189);c=null;if(128>d){if(0>--b)break;e.push(d)}else if(2048>d){if(0>(b-=2))break;e.push(d>>6|192,d&63|128)}else if(65536>d){if(0>(b-=3))break;e.push(d>>12|
224,d>>6&63|128,d&63|128)}else if(1114112>d){if(0>(b-=4))break;e.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw Error("Invalid code point");}return e}function ba(a){for(var b=[],g=0;g<a.length;++g)b.push(a.charCodeAt(g)&255);return b}function L(a,b,c,e){for(var d=0;d<e&&!(d+c>=b.length||d>=a.length);++d)b[d+c]=a[d];return d}var ma=w(26),B=w(27),ia=w(28);u.Buffer=e;u.SlowBuffer=function(a){+a!=a&&(a=0);return e.alloc(+a)};u.INSPECT_MAX_BYTES=50;e.TYPED_ARRAY_SUPPORT=void 0!==G.TYPED_ARRAY_SUPPORT?
G.TYPED_ARRAY_SUPPORT:a();u.kMaxLength=e.TYPED_ARRAY_SUPPORT?2147483647:1073741823;e.poolSize=8192;e._augment=function(a){a.__proto__=e.prototype;return a};e.from=function(a,b,c){return H(null,a,b,c)};e.TYPED_ARRAY_SUPPORT&&(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0}));e.alloc=function(a,d,c){Sa(a);a=0>=a?b(null,a):void 0!==d?"string"===typeof c?
b(null,a).fill(d,c):b(null,a).fill(d):b(null,a);return a};e.allocUnsafe=function(a){return t(null,a)};e.allocUnsafeSlow=function(a){return t(null,a)};e.isBuffer=function(a){return!(null==a||!a._isBuffer)};e.compare=function(a,b){if(!e.isBuffer(a)||!e.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var d=a.length,g=b.length,c=0,h=Math.min(d,g);c<h;++c)if(a[c]!==b[c]){d=a[c];g=b[c];break}return d<g?-1:g<d?1:0};e.isEncoding=function(a){switch(String(a).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;
default:return!1}};e.concat=function(a,b){if(!ia(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return e.alloc(0);var d;if(void 0===b)for(d=b=0;d<a.length;++d)b+=a[d].length;b=e.allocUnsafe(b);var c=0;for(d=0;d<a.length;++d){var g=a[d];if(!e.isBuffer(g))throw new TypeError('"list" argument must be an Array of Buffers');g.copy(b,c);c+=g.length}return b};e.byteLength=ea;e.prototype._isBuffer=!0;e.prototype.swap16=function(){var a=this.length;if(0!==a%2)throw new RangeError("Buffer size must be a multiple of 16-bits");
for(var b=0;b<a;b+=2)F(this,b,b+1);return this};e.prototype.swap32=function(){var a=this.length;if(0!==a%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<a;b+=4)F(this,b,b+3),F(this,b+1,b+2);return this};e.prototype.swap64=function(){var a=this.length;if(0!==a%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<a;b+=8)F(this,b,b+7),F(this,b+1,b+6),F(this,b+2,b+5),F(this,b+3,b+4);return this};e.prototype.toString=function(){var a=this.length|
0;return 0===a?"":0===arguments.length?S(this,0,a):T.apply(this,arguments)};e.prototype.equals=function(a){if(!e.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?!0:0===e.compare(this,a)};e.prototype.inspect=function(){var a="",b=u.INSPECT_MAX_BYTES;0<this.length&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... "));return"\x3cBuffer "+a+"\x3e"};e.prototype.compare=function(a,b,c,h,k){if(!e.isBuffer(a))throw new TypeError("Argument must be a Buffer");
void 0===b&&(b=0);void 0===c&&(c=a?a.length:0);void 0===h&&(h=0);void 0===k&&(k=this.length);if(0>b||c>a.length||0>h||k>this.length)throw new RangeError("out of range index");if(h>=k&&b>=c)return 0;if(h>=k)return-1;if(b>=c)return 1;b>>>=0;c>>>=0;h>>>=0;k>>>=0;if(this===a)return 0;var d=k-h,g=c-b,Q=Math.min(d,g);h=this.slice(h,k);a=a.slice(b,c);for(b=0;b<Q;++b)if(h[b]!==a[b]){d=h[b];g=a[b];break}return d<g?-1:g<d?1:0};e.prototype.includes=function(a,b,c){return-1!==this.indexOf(a,b,c)};e.prototype.indexOf=
function(a,b,c){return W(this,a,b,c,!0)};e.prototype.lastIndexOf=function(a,b,c){return W(this,a,b,c,!1)};e.prototype.write=function(a,b,e,Q){if(void 0===b)Q="utf8",e=this.length,b=0;else if(void 0===e&&"string"===typeof b)Q=b,e=this.length,b=0;else if(isFinite(b))b|=0,isFinite(e)?(e|=0,void 0===Q&&(Q="utf8")):(Q=e,e=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var d=this.length-b;if(void 0===e||e>d)e=d;if(0<a.length&&(0>e||0>b)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");
Q||(Q="utf8");for(d=!1;;)switch(Q){case "hex":a:{b=Number(b)||0;Q=this.length-b;e?(e=Number(e),e>Q&&(e=Q)):e=Q;Q=a.length;if(0!==Q%2)throw new TypeError("Invalid hex string");e>Q/2&&(e=Q/2);for(Q=0;Q<e;++Q){d=parseInt(a.substr(2*Q,2),16);if(isNaN(d)){a=Q;break a}this[b+Q]=d}a=Q}return a;case "utf8":case "utf-8":return L(h(a,this.length-b),this,b,e);case "ascii":return L(ba(a),this,b,e);case "latin1":case "binary":return L(ba(a),this,b,e);case "base64":return L(ma.toByteArray(c(a)),this,b,e);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":Q=
a;d=this.length-b;for(var g=[],k=0;k<Q.length&&!(0>(d-=2));++k){var M=Q.charCodeAt(k);a=M>>8;M%=256;g.push(M);g.push(a)}return L(g,this,b,e);default:if(d)throw new TypeError("Unknown encoding: "+Q);Q=(""+Q).toLowerCase();d=!0}};e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var va=4096;e.prototype.slice=function(a,b){var d=this.length;a=~~a;b=void 0===b?d:~~b;0>a?(a+=d,0>a&&(a=0)):a>d&&(a=d);0>b?(b+=d,0>b&&(b=0)):b>d&&(b=d);b<a&&(b=a);if(e.TYPED_ARRAY_SUPPORT)b=
this.subarray(a,b),b.__proto__=e.prototype;else{d=b-a;b=new e(d,void 0);for(var c=0;c<d;++c)b[c]=this[c+a]}return b};e.prototype.readUIntLE=function(a,b,c){a|=0;b|=0;c||z(a,b,this.length);c=this[a];for(var d=1,g=0;++g<b&&(d*=256);)c+=this[a+g]*d;return c};e.prototype.readUIntBE=function(a,b,c){a|=0;b|=0;c||z(a,b,this.length);c=this[a+--b];for(var d=1;0<b&&(d*=256);)c+=this[a+--b]*d;return c};e.prototype.readUInt8=function(a,b){b||z(a,1,this.length);return this[a]};e.prototype.readUInt16LE=function(a,
b){b||z(a,2,this.length);return this[a]|this[a+1]<<8};e.prototype.readUInt16BE=function(a,b){b||z(a,2,this.length);return this[a]<<8|this[a+1]};e.prototype.readUInt32LE=function(a,b){b||z(a,4,this.length);return(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]};e.prototype.readUInt32BE=function(a,b){b||z(a,4,this.length);return 16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])};e.prototype.readIntLE=function(a,b,c){a|=0;b|=0;c||z(a,b,this.length);c=this[a];for(var d=1,g=0;++g<b&&(d*=256);)c+=
this[a+g]*d;c>=128*d&&(c-=Math.pow(2,8*b));return c};e.prototype.readIntBE=function(a,b,c){a|=0;b|=0;c||z(a,b,this.length);c=b;for(var d=1,g=this[a+--c];0<c&&(d*=256);)g+=this[a+--c]*d;g>=128*d&&(g-=Math.pow(2,8*b));return g};e.prototype.readInt8=function(a,b){b||z(a,1,this.length);return this[a]&128?-1*(255-this[a]+1):this[a]};e.prototype.readInt16LE=function(a,b){b||z(a,2,this.length);a=this[a]|this[a+1]<<8;return a&32768?a|4294901760:a};e.prototype.readInt16BE=function(a,b){b||z(a,2,this.length);
a=this[a+1]|this[a]<<8;return a&32768?a|4294901760:a};e.prototype.readInt32LE=function(a,b){b||z(a,4,this.length);return this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24};e.prototype.readInt32BE=function(a,b){b||z(a,4,this.length);return this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]};e.prototype.readFloatLE=function(a,b){b||z(a,4,this.length);return B.read(this,a,!0,23,4)};e.prototype.readFloatBE=function(a,b){b||z(a,4,this.length);return B.read(this,a,!1,23,4)};e.prototype.readDoubleLE=function(a,
b){b||z(a,8,this.length);return B.read(this,a,!0,52,8)};e.prototype.readDoubleBE=function(a,b){b||z(a,8,this.length);return B.read(this,a,!1,52,8)};e.prototype.writeUIntLE=function(a,b,c,e){a=+a;b|=0;c|=0;e||J(this,a,b,c,Math.pow(2,8*c)-1,0);e=1;var d=0;for(this[b]=a&255;++d<c&&(e*=256);)this[b+d]=a/e&255;return b+c};e.prototype.writeUIntBE=function(a,b,c,e){a=+a;b|=0;c|=0;e||J(this,a,b,c,Math.pow(2,8*c)-1,0);e=c-1;var d=1;for(this[b+e]=a&255;0<=--e&&(d*=256);)this[b+e]=a/d&255;return b+c};e.prototype.writeUInt8=
function(a,b,c){a=+a;b|=0;c||J(this,a,b,1,255,0);e.TYPED_ARRAY_SUPPORT||(a=Math.floor(a));this[b]=a&255;return b+1};e.prototype.writeUInt16LE=function(a,b,c){a=+a;b|=0;c||J(this,a,b,2,65535,0);e.TYPED_ARRAY_SUPPORT?(this[b]=a&255,this[b+1]=a>>>8):p(this,a,b,!0);return b+2};e.prototype.writeUInt16BE=function(a,b,c){a=+a;b|=0;c||J(this,a,b,2,65535,0);e.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=a&255):p(this,a,b,!1);return b+2};e.prototype.writeUInt32LE=function(a,b,c){a=+a;b|=0;c||J(this,a,b,4,4294967295,
0);e.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=a&255):k(this,a,b,!0);return b+4};e.prototype.writeUInt32BE=function(a,b,c){a=+a;b|=0;c||J(this,a,b,4,4294967295,0);e.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=a&255):k(this,a,b,!1);return b+4};e.prototype.writeIntLE=function(a,b,c,e){a=+a;b|=0;e||(e=Math.pow(2,8*c-1),J(this,a,b,c,e-1,-e));e=0;var d=1,g=0;for(this[b]=a&255;++e<c&&(d*=256);)0>a&&0===g&&0!==this[b+e-1]&&(g=1),this[b+
e]=(a/d>>0)-g&255;return b+c};e.prototype.writeIntBE=function(a,b,c,e){a=+a;b|=0;e||(e=Math.pow(2,8*c-1),J(this,a,b,c,e-1,-e));e=c-1;var d=1,g=0;for(this[b+e]=a&255;0<=--e&&(d*=256);)0>a&&0===g&&0!==this[b+e+1]&&(g=1),this[b+e]=(a/d>>0)-g&255;return b+c};e.prototype.writeInt8=function(a,b,c){a=+a;b|=0;c||J(this,a,b,1,127,-128);e.TYPED_ARRAY_SUPPORT||(a=Math.floor(a));0>a&&(a=255+a+1);this[b]=a&255;return b+1};e.prototype.writeInt16LE=function(a,b,c){a=+a;b|=0;c||J(this,a,b,2,32767,-32768);e.TYPED_ARRAY_SUPPORT?
(this[b]=a&255,this[b+1]=a>>>8):p(this,a,b,!0);return b+2};e.prototype.writeInt16BE=function(a,b,c){a=+a;b|=0;c||J(this,a,b,2,32767,-32768);e.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=a&255):p(this,a,b,!1);return b+2};e.prototype.writeInt32LE=function(a,b,c){a=+a;b|=0;c||J(this,a,b,4,2147483647,-2147483648);e.TYPED_ARRAY_SUPPORT?(this[b]=a&255,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):k(this,a,b,!0);return b+4};e.prototype.writeInt32BE=function(a,b,c){a=+a;b|=0;c||J(this,a,b,4,2147483647,
-2147483648);0>a&&(a=4294967295+a+1);e.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=a&255):k(this,a,b,!1);return b+4};e.prototype.writeFloatLE=function(a,b,c){return D(this,a,b,!0,c)};e.prototype.writeFloatBE=function(a,b,c){return D(this,a,b,!1,c)};e.prototype.writeDoubleLE=function(a,b,c){return O(this,a,b,!0,c)};e.prototype.writeDoubleBE=function(a,b,c){return O(this,a,b,!1,c)};e.prototype.copy=function(a,b,c,h){c||(c=0);h||0===h||(h=this.length);b>=a.length&&
(b=a.length);b||(b=0);0<h&&h<c&&(h=c);if(h===c||0===a.length||0===this.length)return 0;if(0>b)throw new RangeError("targetStart out of bounds");if(0>c||c>=this.length)throw new RangeError("sourceStart out of bounds");if(0>h)throw new RangeError("sourceEnd out of bounds");h>this.length&&(h=this.length);a.length-b<h-c&&(h=a.length-b+c);var d=h-c;if(this===a&&c<b&&b<h)for(h=d-1;0<=h;--h)a[h+b]=this[h+c];else if(1E3>d||!e.TYPED_ARRAY_SUPPORT)for(h=0;h<d;++h)a[h+b]=this[h+c];else Uint8Array.prototype.set.call(a,
this.subarray(c,c+d),b);return d};e.prototype.fill=function(a,b,c,k){if("string"===typeof a){"string"===typeof b?(k=b,b=0,c=this.length):"string"===typeof c&&(k=c,c=this.length);if(1===a.length){var d=a.charCodeAt(0);256>d&&(a=d)}if(void 0!==k&&"string"!==typeof k)throw new TypeError("encoding must be a string");if("string"===typeof k&&!e.isEncoding(k))throw new TypeError("Unknown encoding: "+k);}else"number"===typeof a&&(a&=255);if(0>b||this.length<b||this.length<c)throw new RangeError("Out of range index");
if(c<=b)return this;b>>>=0;c=void 0===c?this.length:c>>>0;a||(a=0);if("number"===typeof a)for(k=b;k<c;++k)this[k]=a;else for(a=e.isBuffer(a)?a:h((new e(a,k)).toString()),d=a.length,k=0;k<c-b;++k)this[k+b]=a[k%d];return this};var qa=/[^+\/0-9A-Za-z-_]/g};
shadow$provide[30]=function(G,w,I,u){var a=w(29).Buffer;(function(a,e){"object"===typeof u&&"undefined"!==typeof I?e(u,w(21),w(22),w(23),w(25)):"function"===typeof define&&define.amd?define(["exports","vega-util","d3-dsv","topojson-client","d3-time-format"],e):(a=a||self,e(a.vega={},a.vega,a.d3,a.topojson,a.d3))})(this,function(b,e,H,u,t){function C(a,b){const d=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const c=yield d.sanitize(a,b),g=c.href;return c.localFile?d.file(g):
d.http(g,b)})}function w(a,b){const d=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){b=e.extend({},d.options,b);var g=d.fileAccess;const k={href:null};var p=c.test(a.replace(h,""));null!=a&&"string"===typeof a&&p||e.error("Sanitize failure, invalid URI: "+e.stringValue(a));const B=O.test(a);(p=b.baseURL)&&!B&&(a.startsWith("/")||"/"===p[p.length-1]||(a="/"+a),a=p+a);g=(p=a.startsWith("file://"))||"file"===b.mode||"http"!==b.mode&&!B&&g;p?a=a.slice(7):a.startsWith("//")&&("file"===
b.defaultProtocol?(a=a.slice(2),g=!0):a=(b.defaultProtocol||"http")+":"+a);Object.defineProperty(k,"localFile",{value:!!g});k.href=a;b.target&&(k.target=b.target+"");b.rel&&(k.rel=b.rel+"");"image"===b.context&&b.crossOrigin&&(k.crossOrigin=b.crossOrigin+"");return k})}function P(a){return a?function(b){return new Promise(function(d,c){a.readFile(b,function(a,b){a?c(a):d(b)})})}:ea}function ea(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){e.error("No file system access.")})}function T(a){return a?
function(b,d){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var g=e.extend({},c.options.http,d);const h=d&&d.response;g=yield a(b,g);return g.ok?e.isFunction(g[h])?g[h]():g.text():e.error(g.status+""+g.statusText)})}:F}function F(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){e.error("No HTTP fetch method available.")})}function W(a,b){if(!a||!a.length)return"unknown";var d,c=0,g=a.length,e=L.length,h=L.map(function(a,b){return b+1});var k=0;for(g=
a.length;k<g;++k){var p=b?a[k][b]:a[k];for(d=0;d<e;++d)if(h[d]&&null!=p&&p===p&&!L[d](p)&&(h[d]=0,++c,c===L.length))return"string"}c=h.reduce(function(a,b){return 0===a?b:a},0)-1;return ma[c]}function r(a,b){return b.reduce(function(b,c){b[c]=W(a,c);return b},{})}function S(a){return!Number.isNaN(+a)&&!(a instanceof Date)}function z(a){const b=function(b,c){const d={delimiter:a};return J(b,c?e.extend(c,d):d)};b.responseType="text";return b}function J(a,b){b.header&&(a=b.header.map(e.stringValue).join(b.delimiter)+
"\n"+a);return H.dsvFormat(b.delimiter).parse(a+"")}function p(b,c){c=c&&c.property?e.field(c.property):e.identity;var d;if(d=e.isObject(b))d=!("function"===typeof a&&e.isFunction(a.isBuffer)&&a.isBuffer(b));return d?c(b):c(JSON.parse(b))}function k(a,b){let d,c,g,h;a=p(a,b);b&&b.feature?(d=u.feature,g=b.feature):b&&b.mesh?(d=u.mesh,g=b.mesh,h=B[b.filter]):e.error("Missing TopoJSON feature or mesh parameter.");return(c=(c=a.objects[g])?d(a,c,h):e.error("Invalid TopoJSON object: "+g))&&c.features||
[c]}function N(a,b){return 1<arguments.length?(ia[a]=b,this):e.hasOwnProperty(ia,a)?ia[a]:null}function D(a,b,d){if(a.length){d=d||t.timeParse;var c=a.columns||Object.keys(a[0]),e,g;"auto"===b&&(b=r(a,c));c=Object.keys(b);var h=c.map(function(a){var c=b[a];if(c&&(0===c.indexOf("date:")||0===c.indexOf("utc:"))){a=c.split(/:(.+)?/,2);c=a[1];if("'"===c[0]&&"'"===c[c.length-1]||'"'===c[0]&&'"'===c[c.length-1])c=c.slice(1,-1);return"utc"===a[0]?t.utcParse(c):d(c)}if(!ba[c])throw Error("Illegal format pattern: "+
a+":"+c);return ba[c]});var k=0;var p=a.length;for(g=c.length;k<p;++k){var B=a[k];for(e=0;e<g;++e){var L=c[e];B[L]=h[e](B[L])}}}}const O=/^([A-Za-z]+:)?\/\//,c=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,h=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g;var ba={boolean:e.toBoolean,integer:e.toNumber,number:e.toNumber,date:e.toDate,string:e.toString,unknown:e.identity},L=[function(a){return"true"===a||"false"===a||!0===a||!1===a},
function(a){return S(a)&&Number.isInteger(+a)},S,function(a){return!Number.isNaN(Date.parse(a))}],ma=["boolean","integer","number","date"];J.responseType="text";p.responseType="json";const B={interior:(a,b)=>a!==b,exterior:(a,b)=>a===b};k.responseType="json";const ia={dsv:J,csv:z(","),tsv:z("\t"),json:p,topojson:k};var va=function(a,b){return function(d){return{options:d||{},sanitize:w,load:C,fileAccess:!!b,file:P(b),http:T(a)}}}("undefined"!==typeof fetch&&fetch,null);b.format=ia;b.formats=N;b.inferType=
W;b.inferTypes=r;b.loader=va;b.read=function(a,b,d){b=b||{};const c=N(b.type||"json");c||e.error("Unknown data format type: "+b.type);a=c(a,b);b.parse&&D(a,b.parse,d);e.hasOwnProperty(a,"columns")&&delete a.columns;return a};b.responseType=function(a){return(a=N(a))&&a.responseType||"text"};b.typeParsers=ba;Object.defineProperty(b,"__esModule",{value:!0})})};
shadow$provide[31]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(21),w(30)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader"],b):(a=a||self,b(a.vega={},a.vega,a.vega))})(this,function(a,b,e){function H(a){var d=a||b.identity,c=[],e={};c.add=function(a){var b=d(a);e[b]||(e[b]=1,c.push(a));return c};c.remove=function(a){var b=d(a),l;e[b]&&(e[b]=0,0<=(l=c.indexOf(a))&&c.splice(l,1));return c};return c}function u(a,b){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield b(a)}catch(U){a.error(U)}})}
function t(a){a=a===Object(a)?a:{data:a};if(!a[g]){var b=d++;a[g]=b}return a}function C(a,b){for(var d in a)b[d]=a[d];return b}function w(a){return a&&a.constructor===P}function P(){var a=[],d=[],c=[],e=[],l=[],v=!1;return{constructor:P,insert:function(d){d=b.array(d);for(var c=0,l=d.length;c<l;++c)a.push(d[c]);return this},remove:function(a){var c=b.isFunction(a)?e:d;a=b.array(a);for(var l=0,v=a.length;l<v;++l)c.push(a[l]);return this},modify:function(a,d,v){d={field:d,value:b.constant(v)};b.isFunction(a)?
(d.filter=a,l.push(d)):(d.tuple=a,c.push(d));return this},encode:function(a,d){b.isFunction(a)?l.push({filter:a,field:d}):c.push({tuple:a,field:d});return this},reflow:function(){v=!0;return this},pulse:function(b,m){function h(a,d,c){c?a[d]=c(a):b.encode=d;v||(da[a[g]]=a)}var x={},da={},k;var U=0;for(k=m.length;U<k;++U)x[m[U][g]]=1;U=0;for(k=d.length;U<k;++U){var p=d[U];x[p[g]]=-1}U=0;for(k=e.length;U<k;++U){var Q=e[U];m.forEach(function(a){Q(a)&&(x[a[g]]=-1)})}U=0;for(k=a.length;U<k;++U){p=a[U];
var fa=p[g];x[fa]?x[fa]=1:b.add.push(t(a[U]))}U=0;for(k=m.length;U<k;++U)p=m[U],0>x[p[g]]&&b.rem.push(p);U=0;for(k=c.length;U<k;++U){var Ea=c[U];p=Ea.tuple;Q=Ea.field;fa=x[p[g]];0<fa&&(h(p,Q,Ea.value),b.modifies(Q))}U=0;for(k=l.length;U<k;++U)Ea=l[U],Q=Ea.filter,m.forEach(function(a){Q(a)&&0<x[a[g]]&&h(a,Ea.field,Ea.value)}),b.modifies(Ea.field);if(v)b.mod=d.length||e.length?m.filter(function(a){return 0<x[a[g]]}):m.slice();else for(fa in da)b.mod.push(da[fa]);return b}}}function ea(){Object.defineProperty(this,
"_:mod:_",{writable:!0,value:{}})}function T(a,b,d,c){this.id=++Q;this.value=a;this.qrank=this.rank=this.stamp=-1;this.flags=0;b&&(this._update=b);d&&this.parameters(d,c)}function F(a){return function(b){var d=this.flags;if(0===arguments.length)return!!(d&a);this.flags=b?d|a:d&~a;return this}}function W(a,b,d){this.id=++Wb;this.value=null;d&&(this.receive=d);a&&(this._filter=a);b&&(this._apply=b)}function r(a,b,d){return new W(a,b,d)}function S(a){var b=new Promise(function(a){d=a}),d;b.requests=
0;b.done=function(){0===--b.requests&&(a._pending=null,d(a))};return a._pending=b}function z(a,d,c,e,l,v){var g=b.extend({},v,aa);b.isFunction(c)||(c=b.constant(c));if(void 0===e)l=b=>a.touch(c(b));else if(b.isFunction(e)){var m=new T(null,e,l,!1);l=b=>{m.evaluate(b);b=c(b);const d=m.value;w(d)?a.pulse(b,d,v):a.update(b,d,g)}}else l=b=>a.update(c(b),e,g);d.apply(l)}function J(a,b,d,c,l,v){void 0===c?b.targets().add(d):(v=v||{},c=new T(null,p(d,c),l,!1),c.modified(v.force),c.rank=b.rank,b.targets().add(c),
d&&(c.skip(!0),c.value=d.value,c.targets().add(d),a.connect(d,[c])))}function p(a,d){d=b.isFunction(d)?d:b.constant(d);return a?function(b,c){b=d(b,c);a.skip()||(a.skip(b!==this.value).value=b);return b}:d}function k(a,b,d){this.dataflow=a;this.stamp=null==b?-1:b;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=d||null}function N(a,b){return a?function(d,c){return a(d,c)&&b(d,c)}:b}function D(a,d){var c=[];b.visitArray(a,d,function(a){c.push(a)});return c}function O(a,b){var d={};
a.visit(b,function(a){d[a[g]]=1});return function(a){return d[a[g]]?null:a}}function c(a,b,d,c){var l=0,v,e;this.dataflow=a;this.stamp=b;this.fields=null;this.encode=c||null;this.pulses=d;var m=0;for(v=d.length;m<v;++m)if(a=d[m],a.stamp===b){if(a.fields)for(e in c=this.fields||(this.fields={}),a.fields)c[e]=1;a.changed(this.ADD)&&(l|=this.ADD);a.changed(this.REM)&&(l|=this.REM);a.changed(this.MOD)&&(l|=this.MOD)}this.changes=l}function h(a){a.error("Dataflow already running. Use runAsync() to chain invocations.");
return a}function ba(a,b){if(b&&b.stamp===a.stamp)return b;a=a.fork();b&&b!==sa&&(a.source=b.source);return a}function L(a){var b=[];return{clear:()=>b=[],size:()=>b.length,peek:()=>b[0],push:d=>{b.push(d);return ma(b,0,b.length-1,a)},pop:()=>{var d=b.pop();if(b.length){var c=b[0];b[0]=d;d=b;for(var l=0,v=l,e=d.length,m=d[l],g=(l<<1)+1,h;g<e;)h=g+1,h<e&&0<=a(d[g],d[h])&&(g=h),d[l]=d[g],l=g,g=(l<<1)+1;d[l]=m;ma(d,v,l,a)}else c=d;return c}}}function ma(a,b,d,c){var l;for(l=a[d];d>b;){var v=d-1>>1;var e=
a[v];if(0>c(l,e))a[d]=e,d=v;else break}return a[d]=l}function B(){this.logger(b.logger());this.logLevel(b.Error);this._rank=this._clock=0;try{this._loader=e.loader()}catch(Ea){}this._touched=H(b.id);this._input={};this._pulse=null;this._heap=L((a,b)=>a.qrank-b.qrank);this._postrun=[]}function ia(a){return function(){return this._log[a].apply(this,arguments)}}function va(a,b){T.call(this,a,null,b)}function qa(a){a=a&&a.toLowerCase();return b.hasOwnProperty(Na,a)?Na[a]:null}var g=Symbol("vega_id"),
d=1,M=ea.prototype;M.set=function(a,d,c,e){var l=this[a],v=this["_:mod:_"];if(null!=d&&0<=d){if(l[d]!==c||e)l[d]=c,v[d+":"+a]=-1,v[a]=-1}else if(l!==c||e)this[a]=c,v[a]=b.isArray(c)?1+c.length:-1;return this};M.modified=function(a,d){var c=this["_:mod:_"],e;if(!arguments.length){for(e in c)if(c[e])return!0;return!1}if(b.isArray(a)){for(e=0;e<a.length;++e)if(c[a[e]])return!0;return!1}return null!=d&&0<=d?d+1<c[a]||!!c[d+":"+a]:!!c[a]};M.clear=function(){this["_:mod:_"]={};return this};var Q=0,la=new ea;
M=T.prototype;M.targets=function(){return this._targets||(this._targets=H(b.id))};M.set=function(a){return this.value!==a?(this.value=a,1):0};M.skip=F(1);M.modified=F(2);M.parameters=function(a,d,c){function e(a,b,c){c instanceof T?(c!==l&&(d&&c.targets().add(l),m.push(c)),g.push({op:c,name:a,index:b})):v.set(a,b,c)}d=!1!==d;var l=this,v=l._argval=l._argval||new ea,g=l._argops=l._argops||[],m=[],h,k,da;for(h in a){var U=a[h];if("pulse"===h)b.array(U).forEach(function(a){a instanceof T?a!==l&&(a.targets().add(l),
m.push(a)):b.error("Pulse parameters must be operator instances.")}),l.source=U;else if(b.isArray(U))for(v.set(h,-1,Array(k=U.length)),da=0;da<k;++da)e(h,da,U[da]);else e(h,-1,U)}this.marshall().clear();c&&(g.initonly=!0);return m};M.marshall=function(a){var b=this._argval||la,d=this._argops,c;if(d){var l=0;for(c=d.length;l<c;++l){var e=d[l];var g=e.op;var m=g.modified()&&g.stamp===a;b.set(e.name,e.index,g.value,m)}if(d.initonly){for(l=0;l<c;++l)e=d[l],e.op.targets().remove(this);this._update=this._argops=
null}}return b};M.evaluate=function(a){var b=this._update;if(b){var d=this.marshall(a.stamp);b=b.call(this,d,a);d.clear();if(b!==this.value)this.value=b;else if(!this.modified())return a.StopPropagation}};M.run=function(a){if(a.stamp<this.stamp)return a.StopPropagation;if(this.skip()){this.skip(!1);var b=0}else b=this.evaluate(a);return this.pulse=b||a};var Wb=0;M=W.prototype;M._filter=b.truthy;M._apply=b.identity;M.targets=function(){return this._targets||(this._targets=H(b.id))};M.consume=function(a){if(!arguments.length)return!!this._consume;
this._consume=!!a;return this};M.receive=function(a){if(this._filter(a)){for(var b=this.value=this._apply(a),d=this._targets,c=d?d.length:0,l=0;l<c;++l)d[l].receive(b);this._consume&&(a.preventDefault(),a.stopPropagation())}};M.filter=function(a){a=r(a);this.targets().add(a);return a};M.apply=function(a){a=r(null,a);this.targets().add(a);return a};M.merge=function(){var a=r();this.targets().add(a);for(var b=0,d=arguments.length;b<d;++b)arguments[b].targets().add(a);return a};M.throttle=function(a){var b=
-1;return this.filter(function(){var d=Date.now();return d-b>a?(b=d,1):0})};M.debounce=function(a){var d=r();this.targets().add(r(null,null,b.debounce(a,function(a){var b=a.dataflow;d.receive(a);b&&b.run&&b.run()})));return d};M.between=function(a,b){var d=!1;a.targets().add(r(null,null,function(){d=!0}));b.targets().add(r(null,null,function(){d=!1}));return this.filter(function(){return d})};const ha=e.read;var aa={skip:!0},sa={};M=k.prototype;M.StopPropagation=sa;M.ADD=1;M.REM=2;M.MOD=4;M.ADD_REM=
3;M.ADD_MOD=5;M.ALL=7;M.REFLOW=8;M.SOURCE=16;M.NO_SOURCE=32;M.NO_FIELDS=64;M.fork=function(a){return(new k(this.dataflow)).init(this,a)};M.clone=function(){var a=this.fork(7);a.add=a.add.slice();a.rem=a.rem.slice();a.mod=a.mod.slice();a.source&&(a.source=a.source.slice());return a.materialize(23)};M.addAll=function(){var a=this;this.source&&this.source.length!==this.add.length&&(a=(new k(this.dataflow)).init(this),a.add=a.source);return a};M.init=function(a,b){this.stamp=a.stamp;this.encode=a.encode;
!a.fields||b&64||(this.fields=a.fields);b&1?(this.addF=a.addF,this.add=a.add):(this.addF=null,this.add=[]);b&2?(this.remF=a.remF,this.rem=a.rem):(this.remF=null,this.rem=[]);b&4?(this.modF=a.modF,this.mod=a.mod):(this.modF=null,this.mod=[]);b&32?this.source=this.srcF=null:(this.srcF=a.srcF,this.source=a.source);return this};M.runAfter=function(a){this.dataflow.runAfter(a)};M.changed=function(a){a=a||7;return a&1&&this.add.length||a&2&&this.rem.length||a&4&&this.mod.length};M.reflow=function(a){if(a)return this.fork(7).reflow();
a=this.add.length;var b=this.source&&this.source.length;b&&b!==a&&(this.mod=this.source,a&&this.filter(4,O(this,1)));return this};M.modifies=function(a){var d=this.fields||(this.fields={});b.isArray(a)?a.forEach(a=>d[a]=!0):d[a]=!0;return this};M.modified=function(a,d){var c=this.fields;return(d||this.mod.length)&&c?arguments.length?b.isArray(a)?a.some(function(a){return c[a]}):c[a]:!!c:!1};M.filter=function(a,b){a&1&&(this.addF=N(this.addF,b));a&2&&(this.remF=N(this.remF,b));a&4&&(this.modF=N(this.modF,
b));a&16&&(this.srcF=N(this.srcF,b));return this};M.materialize=function(a){a=a||7;a&1&&this.addF&&(this.add=D(this.add,this.addF),this.addF=null);a&2&&this.remF&&(this.rem=D(this.rem,this.remF),this.remF=null);a&4&&this.modF&&(this.mod=D(this.mod,this.modF),this.modF=null);a&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this};M.visit=function(a,d){var c;if(a&16)return b.visitArray(this.source,this.srcF,d),this;a&1&&b.visitArray(this.add,this.addF,d);a&2&&b.visitArray(this.rem,
this.remF,d);a&4&&b.visitArray(this.mod,this.modF,d);a&8&&(c=this.source)&&(a=this.add.length+this.mod.length,a!==c.length&&(a?b.visitArray(c,O(this,5),d):b.visitArray(c,this.srcF,d)));return this};M=b.inherits(c,k);M.fork=function(a){var b=(new k(this.dataflow)).init(this,a&this.NO_FIELDS);void 0!==a&&(a&b.ADD&&this.visit(b.ADD,function(a){return b.add.push(a)}),a&b.REM&&this.visit(b.REM,function(a){return b.rem.push(a)}),a&b.MOD&&this.visit(b.MOD,function(a){return b.mod.push(a)}));return b};M.changed=
function(a){return this.changes&a};M.modified=function(a){var d=this.fields;return d&&this.changes&this.MOD?b.isArray(a)?a.some(function(a){return d[a]}):d[a]:0};M.filter=function(){b.error("MultiPulse does not support filtering.")};M.materialize=function(){b.error("MultiPulse does not support materialization.")};M.visit=function(a,b){var d=this.pulses,c=d.length,l=0;if(a&this.SOURCE)for(;l<c;++l)d[l].visit(a,b);else for(;l<c;++l)d[l].stamp===this.stamp&&d[l].visit(a,b);return this};var ya={skip:!1,
force:!1};M=B.prototype;M.stamp=function(){return this._clock};M.loader=function(a){return arguments.length?(this._loader=a,this):this._loader};M.cleanThreshold=1E4;M.add=function(a,d,c,e){var l=1;a instanceof T||(a&&a.prototype instanceof T?a=new a:b.isFunction(a)?a=new T(null,a):(l=0,a=new T(a,d)));this.rank(a);l&&(e=c,c=d);c&&this.connect(a,a.parameters(c,e));this.touch(a);return a};M.connect=function(a,b){var d=a.rank,c;var l=0;for(c=b.length;l<c;++l)if(d<b[l].rank){this.rerank(a);break}};M.rank=
function(a){a.rank=++this._rank};M.rerank=function(a){for(var d=[a],c,e,l;d.length;)if(this.rank(c=d.pop()),e=c._targets)for(l=e.length;0<=--l;)d.push(c=e[l]),c===a&&b.error("Cycle detected in dataflow graph.")};M.pulse=function(a,b,d){this.touch(a,d||ya);d=new k(this,this._clock+(this._pulse?0:1));var c=a.pulse&&a.pulse.source||[];d.target=a;this._input[a.id]=b.pulse(d,c);return this};M.touch=function(a,b){b=b||ya;this._pulse?this._enqueue(a):this._touched.add(a);b.skip&&a.skip(!0);return this};
M.update=function(a,b,d){d=d||ya;(a.set(b)||d.force)&&this.touch(a,d);return this};M.changeset=P;M.ingest=function(a,b,d){return this.pulse(a,this.changeset().insert(ha(b,d)))};M.parse=ha;M.preload=function(a,d,c){const e=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const l=e._pending||S(e);l.requests+=1;const v=yield e.request(d,c);e.pulse(a,e.changeset().remove(b.truthy).insert(v.data||[]));l.done();return v})};M.request=function(a,b){const d=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let c=
0,l;try{l=yield d.loader().load(a,{context:"dataflow",response:e.responseType(b&&b.type)});try{l=ha(l,b)}catch(v){c=-2,d.warn("Data ingestion failed",a,v)}}catch(v){c=-1,d.warn("Loading failed",a,v)}return{data:l,status:c}})};M.events=function(a,d,c,e){var l=this,v=r(c,e);c=function(a){a.dataflow=l;try{v.receive(a)}catch(E){l.error(E)}finally{l.run()}};a="string"===typeof a&&"undefined"!==typeof document?document.querySelectorAll(a):b.array(a);e=0;for(var g=a.length;e<g;++e)a[e].addEventListener(d,
c);return v};M.on=function(a,b,d,c,l){(a instanceof T?J:z)(this,a,b,d,c,l);return this};M.evaluate=function(a,d,c){const e=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var l=e.logLevel();const v=[];if(e._pulse)return h(e);e._pending&&(yield e._pending);d&&(yield u(e,d));if(!e._touched.length)return e.info("Dataflow invoked, but nothing to do."),e;var g=++e._clock;let m=0,E,p,da,U;e._pulse=new k(e,g,a);l>=b.Info&&(da=Date.now(),e.debug("-- START PROPAGATION ("+g+") -----"));
e._touched.forEach(a=>e._enqueue(a,!0));e._touched=H(b.id);try{for(;0<e._heap.size();)E=e._heap.pop(),E.rank!==E.qrank?e._enqueue(E,!0):(p=E.run(e._getPulse(E,a)),p.then?p=yield p:p.async&&(v.push(p.async),p=sa),l>=b.Debug&&e.debug(E.id,p===sa?"STOP":p,E),p!==sa&&E._targets&&E._targets.forEach(a=>e._enqueue(a)),++m)}catch(Wa){e._heap.clear(),U=Wa}e._input={};e._pulse=null;l>=b.Info&&(da=Date.now()-da,e.info("\x3e Pulse "+g+": "+m+" operators; "+da+"ms"));U&&(e._postrun=[],e.error(U));if(e._postrun.length)for(l=
e._postrun.sort((a,b)=>b.priority-a.priority),e._postrun=[],g=0;g<l.length;++g)yield u(e,l[g].callback);c&&(yield u(e,c));v.length&&Promise.all(v).then(a=>e.runAsync(null,()=>{a.forEach(a=>{try{a(e)}catch(wa){e.error(wa)}})}));return e})};M.run=function(a,b,d){return this._pulse?h(this):(this.evaluate(a,b,d),this)};M.runAsync=function(a,b,d){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;c._running;)yield c._running;const l=()=>c._running=null;(c._running=c.evaluate(a,
b,d)).then(l,l);return c._running})};M.runAfter=function(a,b,d){if(this._pulse||b)this._postrun.push({priority:d||0,callback:a});else try{a(this)}catch(Ba){this.error(Ba)}};M._enqueue=function(a,b){var d=a.stamp<this._clock;d&&(a.stamp=this._clock);if(d||b)a.qrank=a.rank,this._heap.push(a)};M._getPulse=function(a,d){var e=a.source,g=this._clock;return e&&b.isArray(e)?new c(this,g,e.map(a=>a.pulse),d):this._input[a.id]||ba(this._pulse,e&&e.pulse)};M.logger=function(a){return arguments.length?(this._log=
a,this):this._log};M.error=ia("error");M.warn=ia("warn");M.info=ia("info");M.debug=ia("debug");M.logLevel=ia("level");M=b.inherits(va,T);M.run=function(a){if(a.stamp<this.stamp)return a.StopPropagation;var b;this.skip()?this.skip(!1):b=this.evaluate(a);b=b||a;b.then?b=b.then(a=>this.pulse=a):b!==a.StopPropagation&&(this.pulse=b);return b};M.evaluate=function(a){var b=this.marshall(a.stamp);a=this.transform(b,a);b.clear();return a};M.transform=function(){};var Na={};a.Dataflow=B;a.EventStream=W;a.MultiPulse=
c;a.Operator=T;a.Parameters=ea;a.Pulse=k;a.Transform=va;a.UniqueList=H;a.asyncCallback=u;a.changeset=P;a.definition=function(a){return(a=qa(a))&&a.Definition||null};a.derive=function(a){return C(a,t({}))};a.ingest=t;a.isChangeSet=w;a.isTuple=function(a){return!(!a||!a[g])};a.rederive=C;a.replace=function(a,b){b[g]=a[g];return b};a.stableCompare=function(a,b){return a?b?(d,c)=>a(d,c)||b(d)[g]-b(c)[g]:(b,d)=>a(b,d)||b[g]-d[g]:null};a.transform=qa;a.transforms=Na;a.tupleid=function(a){return a[g]};Object.defineProperty(a,
"__esModule",{value:!0})})};
shadow$provide[32]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.d3=a.d3||{}))})(this,function(a){function b(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function e(a){1===a.length&&(a=H(a));return{left:function(b,d,c,e){null==c&&(c=0);null==e&&(e=b.length);for(;c<e;){var g=c+e>>>1;0>a(b[g],d)?c=g+1:e=g}return c},right:function(b,d,c,e){null==c&&(c=0);null==e&&(e=b.length);for(;c<e;){var g=c+e>>>
1;0<a(b[g],d)?e=g:c=g+1}return c}}}function H(a){return function(d,c){return b(a(d),c)}}function u(a,b){let d=0;if(void 0===b)for(var c of a)null!=c&&(c=+c)>=c&&++d;else{c=-1;for(let e of a)null!=(e=b(e,++c,a))&&(e=+e)>=e&&++d}return d}function t(a){return a.length|0}function C(a){return!(0<a)}function w(a){return"object"!==typeof a||"length"in a?a:Array.from(a)}function P(a){return b=>a(...b)}function ea(a,b){let d=0,c,e=0,g=0;if(void 0===b)for(var l of a)null!=l&&(l=+l)>=l&&(c=l-e,e+=c/++d,g+=c*
(l-e));else{l=-1;for(let v of a)null!=(v=b(v,++l,a))&&(v=+v)>=v&&(c=v-e,e+=c/++d,g+=c*(v-e))}if(1<d)return g/(d-1)}function T(a,b){return(a=ea(a,b))?Math.sqrt(a):a}function F(a,b){let d,c;if(void 0===b)for(var e of a)null!=e&&(void 0===d?e>=e&&(d=c=e):(d>e&&(d=e),c<e&&(c=e)));else{e=-1;for(let g of a)null!=(g=b(g,++e,a))&&(void 0===d?g>=g&&(d=c=g):(d>g&&(d=g),c<g&&(c=g)))}return[d,c]}function W(a){return a}function r(a,b,d,c){return function v(a,l){if(l>=c.length)return d(a);const e=new Map,m=c[l++];
let g=-1;for(const b of a){const d=m(b,++g,a),c=e.get(d);c?c.push(b):e.set(d,[b])}for(const [a,b]of e)e.set(a,v(b,l));return b(e)}(a,0)}function S(a){return function(){return a}}function z(a,b,d){a=+a;b=+b;d=2>(e=arguments.length)?(b=a,a=0,1):3>e?1:+d;for(var c=-1,e=Math.max(0,Math.ceil((b-a)/d))|0,g=Array(e);++c<e;)g[c]=a+c*d;return g}function J(a,b,d){b=(b-a)/Math.max(0,d);a=Math.floor(Math.log(b)/Math.LN10);b/=Math.pow(10,a);return 0<=a?(b>=ha?10:b>=aa?5:b>=sa?2:1)*Math.pow(10,a):-Math.pow(10,
-a)/(b>=ha?10:b>=aa?5:b>=sa?2:1)}function p(a,b,d){var c=Math.abs(b-a)/Math.max(0,d);d=Math.pow(10,Math.floor(Math.log(c)/Math.LN10));c/=d;c>=ha?d*=10:c>=aa?d*=5:c>=sa&&(d*=2);return b<a?-d:d}function k(a){return Math.ceil(Math.log(u(a))/Math.LN2)+1}function N(){function a(a){Array.isArray(a)||(a=Array.from(a));var e,l=a.length,g=Array(l);for(e=0;e<l;++e)g[e]=b(a[e],e,a);e=d(g);var h=e[0],m=e[1],E=c(g,h,m);Array.isArray(E)||(E=p(h,m,E),E=z(Math.ceil(h/E)*E,m,E));for(var k=E.length;E[0]<=h;)E.shift(),
--k;for(;E[k-1]>m;)E.pop(),--k;var da=Array(k+1);for(e=0;e<=k;++e){var Q=da[e]=[];Q.x0=0<e?E[e-1]:h;Q.x1=e<k?E[e]:m}for(e=0;e<l;++e)Q=g[e],h<=Q&&Q<=m&&da[la(E,Q,0,k)].push(a[e]);return da}var b=W,d=F,c=k;a.value=function(d){return arguments.length?(b="function"===typeof d?d:S(d),a):b};a.domain=function(b){return arguments.length?(d="function"===typeof b?b:S([b[0],b[1]]),a):d};a.thresholds=function(b){return arguments.length?(c="function"===typeof b?b:Array.isArray(b)?S(Wb.call(b)):S(b),a):c};return a}
function D(a,b){let d;if(void 0===b)for(var c of a)null!=c&&(d<c||void 0===d&&c>=c)&&(d=c);else{c=-1;for(let e of a)null!=(e=b(e,++c,a))&&(d<e||void 0===d&&e>=e)&&(d=e)}return d}function O(a,b){let d;if(void 0===b)for(var c of a)null!=c&&(d>c||void 0===d&&c>=c)&&(d=c);else{c=-1;for(let e of a)null!=(e=b(e,++c,a))&&(d>e||void 0===d&&e>=e)&&(d=e)}return d}function c(a,d,e=0,g=a.length-1,k=b){for(;g>e;){if(600<g-e){var b=g-e+1,l=d-e+1,v=Math.log(b),x=.5*Math.exp(2*v/3);v=.5*Math.sqrt(v*x*(b-x)/b)*(0>
l-b/2?-1:1);c(a,d,Math.max(e,Math.floor(d-l*x/b+v)),Math.min(g,Math.floor(d+(b-l)*x/b+v)),k)}b=a[d];l=e;x=g;h(a,e,d);for(0<k(a[g],b)&&h(a,e,g);l<x;){h(a,l,x);++l;for(--x;0>k(a[l],b);)++l;for(;0<k(a[x],b);)--x}0===k(a[e],b)?h(a,e,x):(++x,h(a,x,g));x<=d&&(e=x+1);d<=x&&(g=x-1)}return a}function h(a,b,d){const c=a[b];a[b]=a[d];a[d]=c}function ba(a){return null===a?NaN:+a}function*L(a,b){if(void 0===b)for(var d of a)null!=d&&(d=+d)>=d&&(yield d);else{d=-1;for(let c of a)null!=(c=b(c,++d,a))&&(c=+c)>=c&&
(yield c)}}function ma(a,b,d){a=Float64Array.from(L(a,d));if(d=a.length){if(0>=(b=+b)||2>d)return O(a);if(1<=b)return D(a);b*=d-1;d=Math.floor(b);var e=D(c(a,d).subarray(0,d+1));a=O(a.subarray(d+1));return e+(a-e)*(b-d)}}function B(a,b){let d,c=-1,e=-1;if(void 0===b)for(const b of a)++e,null!=b&&(d<b||void 0===d&&b>=b)&&(d=b,c=e);else for(let g of a)null!=(g=b(g,++e,a))&&(d<g||void 0===d&&g>=g)&&(d=g,c=e);return c}function*ia(a){for(const b of a)yield*b}function va(a,b){let d,c=-1,e=-1;if(void 0===
b)for(const b of a)++e,null!=b&&(d>b||void 0===d&&b>=b)&&(d=b,c=e);else for(let g of a)null!=(g=b(g,++e,a))&&(d>g||void 0===d&&g>=g)&&(d=g,c=e);return c}function qa(a,b){return[a,b]}function g(a,d=b){if(1===d.length)return va(a,d);let b,c=-1,e=-1;for(const g of a)if(++e,0>c?0===d(g,g):0>d(g,b))b=g,c=e;return c}function d(a){if(!(g=a.length))return[];for(var b=-1,d=O(a,M),c=Array(d);++b<d;)for(var e=-1,g,l=c[b]=Array(g);++e<g;)l[e]=a[e][b];return c}function M(a){return a.length}var Q=e(b),la=Q.right;
Q=Q.left;var Wb=Array.prototype.slice,ha=Math.sqrt(50),aa=Math.sqrt(10),sa=Math.sqrt(2);a.ascending=b;a.bin=N;a.bisect=la;a.bisectLeft=Q;a.bisectRight=la;a.bisector=e;a.count=u;a.cross=function(...a){const b="function"===typeof a[a.length-1]&&P(a.pop());a=a.map(w);const d=a.map(t),c=a.length-1,e=Array(c+1).fill(0),g=[];if(0>c||d.some(C))return g;for(;;){g.push(e.map((b,d)=>a[d][b]));let l=c;for(;++e[l]===d[l];){if(0===l)return b?g.map(b):g;e[l--]=0}}};a.cumsum=function(a,b){var d=0,c=0;return Float64Array.from(a,
void 0===b?a=>d+=+a||0:e=>d+=+b(e,c++,a)||0)};a.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN};a.deviation=T;a.extent=F;a.greatest=function(a,d=b){let c,e=!1;if(1===d.length){let g;for(const h of a)if(a=d(h),e?0<b(a,g):0===b(a,a))c=h,g=a,e=!0}else for(const b of a)if(e?0<d(b,c):0===d(b,b))c=b,e=!0;return c};a.greatestIndex=function(a,d=b){if(1===d.length)return B(a,d);let b,c=-1,e=-1;for(const g of a)if(++e,0>c?0===d(g,g):0<d(g,b))b=g,c=e;return c};a.group=function(a,...b){return r(a,W,
W,b)};a.groups=function(a,...b){return r(a,Array.from,W,b)};a.histogram=N;a.least=function(a,d=b){let c,e=!1;if(1===d.length){let g;for(const h of a)if(a=d(h),e?0>b(a,g):0===b(a,a))c=h,g=a,e=!0}else for(const b of a)if(e?0>d(b,c):0===d(b,b))c=b,e=!0;return c};a.leastIndex=g;a.max=D;a.maxIndex=B;a.mean=function(a,b){let d=0,c=0;if(void 0===b)for(var e of a)null!=e&&(e=+e)>=e&&(++d,c+=e);else{e=-1;for(let g of a)null!=(g=b(g,++e,a))&&(g=+g)>=g&&(++d,c+=g)}if(d)return c/d};a.median=function(a,b){return ma(a,
.5,b)};a.merge=function(a){return Array.from(ia(a))};a.min=O;a.minIndex=va;a.pairs=function(a,b=qa){const d=[];let c,e=!1;for(const g of a)e&&d.push(b(c,g)),c=g,e=!0;return d};a.permute=function(a,b){return Array.from(b,b=>a[b])};a.quantile=ma;a.quantileSorted=function(a,b,d=ba){if(c=a.length){if(0>=(b=+b)||2>c)return+d(a[0],0,a);if(1<=b)return+d(a[c-1],c-1,a);var c;b*=c-1;c=Math.floor(b);var e=+d(a[c],c,a);a=+d(a[c+1],c+1,a);return e+(a-e)*(b-c)}};a.quickselect=c;a.range=z;a.rollup=function(a,b,
...d){return r(a,W,b,d)};a.rollups=function(a,b,...d){return r(a,Array.from,b,d)};a.scan=function(a,b){a=g(a,b);return 0>a?void 0:a};a.shuffle=function(a,b=0,d=a.length){d-=b=+b;for(var c,e;d;)e=Math.random()*d--|0,c=a[d+b],a[d+b]=a[e+b],a[e+b]=c;return a};a.sum=function(a,b){let d=0;if(void 0===b)for(var c of a){if(c=+c)d+=c}else{c=-1;for(let e of a)if(e=+b(e,++c,a))d+=e}return d};a.thresholdFreedmanDiaconis=function(a,b,d){return Math.ceil((d-b)/(2*(ma(a,.75)-ma(a,.25))*Math.pow(u(a),-1/3)))};a.thresholdScott=
function(a,b,d){return Math.ceil((d-b)/(3.5*T(a)*Math.pow(u(a),-1/3)))};a.thresholdSturges=k;a.tickIncrement=J;a.tickStep=p;a.ticks=function(a,b,d){var c,e=-1,g;b=+b;a=+a;d=+d;if(a===b&&0<d)return[a];if(c=b<a){var l=a;a=b;b=l}if(0===(g=J(a,b,d))||!isFinite(g))return[];if(0<g)for(a=Math.ceil(a/g),b=Math.floor(b/g),b=Array(l=Math.ceil(b-a+1));++e<l;)b[e]=(a+e)*g;else for(a=Math.floor(a*g),b=Math.ceil(b*g),b=Array(l=Math.ceil(a-b+1));++e<l;)b[e]=(a-e)/g;c&&b.reverse();return b};a.transpose=d;a.variance=
ea;a.zip=function(){return d(arguments)};Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[33]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(32)):"function"===typeof define&&define.amd?define(["exports","d3-array"],b):(a=a||self,b(a.vega={},a.d3))})(this,function(a,b){function*e(a,b){if(void 0===b)for(var d of a)null!=d&&(d=+d)>=d&&(yield d);else{d=-1;for(let c of a)null!=(c=b(c,++d,a))&&(c=+c)>=c&&(yield c)}}function H(a,c,g){var d=Float64Array.from(e(a,g));d.sort(b.ascending);return c.map(a=>b.quantileSorted(d,a))}function u(a,b){return H(a,
[.25,.5,.75],b)}function t(a,c){var d=a.length,e=b.deviation(a,c);a=u(a,c);e=Math.min(e,(a[2]-a[0])/1.34)||e||Math.abs(a[0])||1;return 1.06*e*Math.pow(d,-.2)}function C(a,b){let d=a.length,c=0,e=1,g,h;for(;a[c]===a[e];)++e;for(;e<d;){for(g=e+1;a[e]===a[g];)++g;if(a[e]-a[e-1]<b){for(h=e+(c+g-e-e>>1);h<e;)a[h++]=a[e];for(;h>e;)a[h--]=a[c]}c=e;e=g}return a}function w(b,c){b=b||0;c=null==c?1:c;let d,e;if(qa===qa)d=qa,qa=NaN;else{do{d=2*a.random()-1;e=2*a.random()-1;var g=d*d+e*e}while(0===g||1<g);g=Math.sqrt(-2*
Math.log(g)/g);d*=g;qa=e*g}return b+d*c}function P(a,b,c){c=null==c?1:c;a=(a-(b||0))/c;return Math.exp(-.5*a*a)/(c*ia)}function ea(a,b,c){a=(a-(b||0))/(null==c?1:c);b=Math.abs(a);37<b?c=0:(c=Math.exp(-b*b/2),7.07106781186547>b?(c*=(((((.0352624965998911*b+.700383064443688)*b+6.37396220353165)*b+33.912866078383)*b+112.079291497871)*b+221.213596169931)*b+220.206867912376,c/=((((((.0883883476483184*b+1.75566716318264)*b+16.064177579207)*b+86.7807322029461)*b+296.564248779674)*b+637.333633378831)*b+793.826512519948)*
b+440.413735824752):c=c/(b+1/(b+2/(b+3/(b+4/(b+.65)))))/2.506628274631);return 0<a?1-c:c}function T(a,b,c){if(0>a||1<a)return NaN;a=2*a-1;var d=-Math.log((1-a)*(1+a));6.25>d?(d-=3.125,d=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+(4.2347877827932404E-7+(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+
(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*d)*d)*d)*d)*d)*d)*d)*d)*d)*d)*d)*d)*d)*d)*d)*d)*d)*d)*d)*d)*d)*d):16>d?(d=Math.sqrt(d)-3.25,d=3.0838856104922208+(1.0052589676941592+(.005370914553590064+(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+
(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*d)*d)*d)*d)*d)*d)*d)*d)*d)*d)*d)*d)*d)*d)*d)*d)*d)*d):Number.isFinite(d)?(d=Math.sqrt(d)-5,d=4.849906401408584+(1.0103004648645344+(-1.3871931833623122E-4+(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+
(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*d)*d)*d)*d)*d)*d)*d)*d)*d)*d)*d)*d)*d)*d)*d)*d):d=Infinity;a*=d;return(b||0)+(null==c?1:c)*va*a}function F(a,b){var d,c,e={mean:function(a){return arguments.length?(d=a||0,e):d},stdev:function(a){return arguments.length?(c=null==a?1:a,e):c},sample:()=>w(d,c),pdf:a=>P(a,d,c),cdf:a=>ea(a,d,c),icdf:a=>T(a,d,c)};return e.mean(a).stdev(b)}function W(a,
b){b=null==b?1:b;return Math.exp((a||0)+w()*b)}function r(a,b,c){if(0>=a)return 0;c=null==c?1:c;b=(Math.log(a)-(b||0))/c;return Math.exp(-.5*b*b)/(c*ia*a)}function S(a,b,c){return ea(Math.log(a),b,c)}function z(a,b,c){return Math.exp(T(a,b,c))}function J(b,c){null==c&&(c=null==b?1:b,b=0);return b+(c-b)*a.random()}function p(a,b,c){null==c&&(c=null==b?1:b,b=0);return a>=b&&a<=c?1/(c-b):0}function k(a,b,c){null==c&&(c=null==b?1:b,b=0);return a<b?0:a>c?1:(a-b)/(c-b)}function N(a,b,c){null==c&&(c=null==
b?1:b,b=0);return 0<=a&&1>=a?b+a*(c-b):NaN}function D(a,b,c,e){e-=a*a;c=1E-24>Math.abs(e)?0:(c-a*b)/e;return[b-c*a,c]}function O(a,b,c,e){a=a.filter(a=>{let d=b(a);a=c(a);return null!=d&&(d=+d)>=d&&null!=a&&(a=+a)>=a});e&&a.sort((a,d)=>b(a)-b(d));e=a.length;const d=new Float64Array(e),g=new Float64Array(e);let h=0,k=0,p=0,B,Q;for(Q of a)d[h]=a=+b(Q),g[h]=B=+c(Q),++h,k+=(a-k)/h,p+=(B-p)/h;for(h=0;h<e;++h)d[h]-=k,g[h]-=p;return[d,g,k,p]}function c(a,b,c,e){let d=-1,g;for(let h of a)a=b(h),g=c(h),null!=
a&&(a=+a)>=a&&null!=g&&(g=+g)>=g&&e(a,g,++d)}function h(a,b,e,g,h){let d=0,k=0;c(a,b,e,(a,b)=>{a=b-h(a);b-=g;d+=a*a;k+=b*b});return 1-d/k}function ba(a,b,e){let d=0,g=0,k=0,p=0,B=0;c(a,b,e,(a,b)=>{++B;d+=(a-d)/B;g+=(b-g)/B;k+=(a*b-k)/B;p+=(a*a-p)/B});const Q=D(d,g,k,p),r=a=>Q[0]+Q[1]*a;return{coef:Q,predict:r,rSquared:h(a,b,e,g,r)}}function L(a,b,c){const [d,e,g,k]=O(a,b,c);var p=d.length,B=0;let Q=0;var r=0;let t=0,L=0,z,l,v,x;for(z=0;z<p;)l=d[z],v=e[z++],x=l*l,B+=(x-B)/z,Q+=(x*l-Q)/z,r+=(x*x-r)/
z,t+=(l*v-t)/z,L+=(x*v-L)/z;p=r-B*B;r=B*p-Q*Q;const m=(L*B-t*Q)/r,E=(t*p-L*Q)/r,Ua=-m*B;B=a=>{a-=g;return m*a*a+E*a+Ua+k};return{coef:[Ua-E*g+m*g*g+k,E-2*m*g,m],predict:B,rSquared:h(a,b,c,k,B)}}function ma(a,b,c,e){const d=Array(a);let g,h,k;for(g=0;g<a;++g)d[g]=0;for(g=a-1;0<=g;--g)for(h=b[g],k=1,d[g]+=h,a=1;a<=g;++a)k*=(g+1-a)/a,d[g-a]+=h*Math.pow(c,a)*k;d[0]+=e;return d}function B(a){const b=a.length-1,d=[];let c,e,g,h,k;for(c=0;c<b;++c){h=c;for(e=c+1;e<b;++e)Math.abs(a[c][e])>Math.abs(a[c][h])&&
(h=e);for(g=c;g<b+1;++g)k=a[g][c],a[g][c]=a[g][h],a[g][h]=k;for(e=c+1;e<b;++e)for(g=b;g>=c;g--)a[g][e]-=a[g][c]*a[c][e]/a[c][c]}for(e=b-1;0<=e;--e){k=0;for(g=e+1;g<b;++g)k+=a[g][e]*d[g];d[e]=(a[b][e]-k)/a[e][e]}return d}a.random=Math.random;const ia=Math.sqrt(2*Math.PI),va=Math.SQRT2;let qa=NaN;const g=.1*Math.PI/180;a.bandwidthNRD=t;a.bin=function(a){var b=a.maxbins||20,d=a.base||10,c=Math.log(d),e=a.divide||[5,2],g=a.extent[0],h=a.extent[1],k=a.span||h-g||Math.abs(g)||1,p;if(a.step)var B=a.step;
else if(a.steps){var r=k/b;var t=0;for(p=a.steps.length;t<p&&a.steps[t]<r;++t);B=a.steps[Math.max(0,t-1)]}else{B=Math.ceil(Math.log(b)/c);var L=a.minstep||0;for(B=Math.max(L,Math.pow(d,Math.round(Math.log(k)/c)-B));Math.ceil(k/B)>b;)B*=d;t=0;for(p=e.length;t<p;++t)r=B/e[t],r>=L&&k/r<=b&&(B=r)}r=Math.log(B);b=Math.pow(d,-(0<=r?0:~~(-r/c)+1)-1);if(a.nice||void 0===a.nice)r=Math.floor(g/B+b)*B,g=g<r?r-B:r,h=Math.ceil(h/B)*B;return{start:g,stop:h===g?g+B:h,step:B}};a.bootstrapCI=function(d,c,g,h){if(!d.length)return[void 0,
void 0];d=Float64Array.from(e(d,h));h=d.length;var k,p,B;var Q=0;for(B=Array(c);Q<c;++Q){for(p=k=0;p<h;++p)k+=d[~~(a.random()*h)];B[Q]=k/h}B.sort(b.ascending);return[b.quantile(B,g/2),b.quantile(B,1-g/2)]};a.cumulativeLogNormal=S;a.cumulativeNormal=ea;a.cumulativeUniform=k;a.densityLogNormal=r;a.densityNormal=P;a.densityUniform=p;a.dotbin=function(a,b,c,e){e=e||(a=>a);let d=0,g=1,h=a.length,k=new Float64Array(h),p=e(a[0]),B=p,Q=p+b,r;for(;g<h;++g){r=e(a[g]);if(r>=Q){for(B=(p+B)/2;d<g;++d)k[d]=B;Q=
r+b;p=r}B=r}for(B=(p+B)/2;d<g;++d)k[d]=B;return c?C(k,b+b/4):k};a.quantileLogNormal=z;a.quantileNormal=T;a.quantileUniform=N;a.quantiles=H;a.quartiles=u;a.randomInteger=function(b,c){null==c&&(c=b,b=0);var d={},e,g,h;d.min=function(a){return arguments.length?(e=a||0,h=g-e,d):e};d.max=function(a){return arguments.length?(g=a||0,h=g-e,d):g};d.sample=function(){return e+Math.floor(h*a.random())};d.pdf=function(a){return a===Math.floor(a)&&a>=e&&a<g?1/h:0};d.cdf=function(a){a=Math.floor(a);return a<e?
0:a>=g?1:(a-e+1)/h};d.icdf=function(a){return 0<=a&&1>=a?e-1+Math.floor(a*h):NaN};return d.min(b).max(c)};a.randomKDE=function(b,c){var d=F(),e={},g=0;e.data=function(a){return arguments.length?(g=(b=a)?a.length:0,e.bandwidth(c)):b};e.bandwidth=function(a){if(!arguments.length)return c;c=a;!c&&b&&(c=t(b));return e};e.sample=function(){return b[~~(a.random()*g)]+c*d.sample()};e.pdf=function(a){for(var e=0,h=0;h<g;++h)e+=d.pdf((a-b[h])/c);return e/c/g};e.cdf=function(a){for(var e=0,h=0;h<g;++h)e+=d.cdf((a-
b[h])/c);return e/g};e.icdf=function(){throw Error("KDE icdf not supported.");};return e.data(b)};a.randomLCG=function(a){return function(){a=(1103515245*a+12345)%2147483647;return a/2147483647}};a.randomLogNormal=function(a,b){var d,c,e={mean:function(a){return arguments.length?(d=a||0,e):d},stdev:function(a){return arguments.length?(c=null==a?1:a,e):c},sample:()=>W(d,c),pdf:a=>r(a,d,c),cdf:a=>S(a,d,c),icdf:a=>z(a,d,c)};return e.mean(a).stdev(b)};a.randomMixture=function(b,c){var d={},e=0,g;d.weights=
function(a){if(arguments.length){var b=c=a||[],h=[],k=0,p;for(p=0;p<e;++p)k+=h[p]=null==b[p]?1:+b[p];for(p=0;p<e;++p)h[p]/=k;g=h;return d}return c};d.distributions=function(a){return arguments.length?(a?(e=a.length,b=a):(e=0,b=[]),d.weights(c)):b};d.sample=function(){for(var d=a.random(),c=b[e-1],h=g[0],k=0;k<e-1;h+=g[++k])if(d<h){c=b[k];break}return c.sample()};d.pdf=function(a){for(var d=0,c=0;c<e;++c)d+=g[c]*b[c].pdf(a);return d};d.cdf=function(a){for(var d=0,c=0;c<e;++c)d+=g[c]*b[c].cdf(a);return d};
d.icdf=function(){throw Error("Mixture icdf not supported.");};return d.distributions(b).weights(c)};a.randomNormal=F;a.randomUniform=function(a,b){var d,c,e={min:function(a){return arguments.length?(d=a||0,e):d},max:function(a){return arguments.length?(c=null==a?1:a,e):c},sample:()=>J(d,c),pdf:a=>p(a,d,c),cdf:a=>k(a,d,c),icdf:a=>N(a,d,c)};null==b&&(b=null==a?1:a,a=0);return e.min(a).max(b)};a.regressionExp=function(a,b,e){const [d,,g,k]=O(a,b,e);let p=0,B=0,r=0,t=0,Q=0,L,z,ba;c(a,b,e,(a,b)=>{L=d[Q++];
z=Math.log(b);ba=L*b;p+=(b*z-p)/Q;B+=(ba-B)/Q;r+=(ba*z-r)/Q;t+=(L*ba-t)/Q});const [l,v]=D(B/k,p/k,r/k,t/k),x=a=>Math.exp(l+v*(a-g));return{coef:[Math.exp(l-v*g),v],predict:x,rSquared:h(a,b,e,k,x)}};a.regressionLinear=ba;a.regressionLoess=function(a,c,e,g){const [d,h,k,p]=O(a,c,e,!0);a=d.length;c=Math.max(2,~~(g*a));g=new Float64Array(a);e=new Float64Array(a);var B=(new Float64Array(a)).fill(1);for(var r=-1;2>=++r;){var t=[0,c-1];for(let b=0;b<a;++b){var L=d[b],Q=t[0],z=t[1],l=0,v=0,x=0,m=0;let a=
0,c=1/Math.abs(d[L-d[Q]>d[z]-L?Q:z]-L||1);for(;Q<=z;++Q){const b=d[Q],e=h[Q];var E=Math.abs(L-b)*c;const g=(E=1-E*E*E)*E*E*B[Q];E=b*g;l+=g;v+=E;x+=e*g;m+=e*E;a+=b*E}const [k,p]=D(v/l,x/l,m/l,a/l);g[b]=k+p*L;e[b]=Math.abs(h[b]-g[b]);L=d;z=b+1;l=t;v=L[z];x=l[0];m=l[1]+1;if(!(m>=L.length))for(;z>x&&L[m]-v<=v-L[x];)l[0]=++x,l[1]=m,++m}if(2===r)break;t=b.median(e);if(1E-12>Math.abs(t))break;for(let b=0,d,c;b<a;++b)d=e[b]/(6*t),B[b]=1<=d?1E-12:(c=1-d*d)*c}a=d.length;c=[];B=e=0;for(r=[];e<a;++e)t=d[e]+k,
r[0]===t?r[1]+=(g[e]-r[1])/++B:(B=0,r[1]+=p,r=[t,g[e]],c.push(r));r[1]+=p;return g=c};a.regressionLog=function(a,b,e){let d=0,g=0,k=0,p=0,B=0;c(a,b,e,(a,b)=>{++B;a=Math.log(a);d+=(a-d)/B;g+=(b-g)/B;k+=(a*b-k)/B;p+=(a*a-p)/B});const r=D(d,g,k,p),t=a=>r[0]+r[1]*Math.log(a);return{coef:r,predict:t,rSquared:h(a,b,e,g,t)}};a.regressionPoly=function(a,b,c,e){if(1===e)return ba(a,b,c);if(2===e)return L(a,b,c);const [d,g,k,p]=O(a,b,c);var r=d.length;const t=[],Q=[],z=e+1;let ia,N,l,v;for(ia=0;ia<z;++ia){for(l=
N=0;N<r;++N)l+=Math.pow(d[N],ia)*g[N];t.push(l);v=new Float64Array(z);for(e=0;e<z;++e){for(l=N=0;N<r;++N)l+=Math.pow(d[N],ia+e);v[e]=l}Q.push(v)}Q.push(t);const x=B(Q);r=a=>{a-=k;let b=p+x[0]+x[1]*a+x[2]*a*a;for(ia=3;ia<z;++ia)b+=x[ia]*Math.pow(a,ia);return b};return{coef:ma(z,x,-k,p),predict:r,rSquared:h(a,b,c,p,r)}};a.regressionPow=function(a,b,e){let d=0,g=0,k=0,p=0,B=0,r=0;c(a,b,e,(a,b)=>{a=Math.log(a);const c=Math.log(b);++r;d+=(a-d)/r;g+=(c-g)/r;k+=(a*c-k)/r;p+=(a*a-p)/r;B+=(b-B)/r});const t=
D(d,g,k,p),L=a=>t[0]*Math.pow(a,t[1]);t[0]=Math.exp(t[0]);return{coef:t,predict:L,rSquared:h(a,b,e,B,L)}};a.regressionQuad=L;a.sampleCurve=function(a,b,c,e){c=c||25;e=Math.max(c,e||200);var d=b=>[b,a(b)],h=b[0];const k=b[1],p=k-h;var B=p/e;b=[[h,a(h)]];const r=[];if(c===e){for(B=1;B<e;++B)b.push(d(h+B/c*p));b.push([k,a(k)]);return b}r.push([k,a(k)]);for(e=c;0<--e;)r.push(d(h+e/c*p));c=b[0];for(d=r[r.length-1];d;)h=(c[0]+d[0])/2,h=[h,a(h)],h[0]-c[0]>=B&&Math.abs(Math.atan2(d[1]-c[1],d[0]-c[0])-Math.atan2(h[1]-
c[1],h[0]-c[0]))>g?r.push(h):(c=d,b.push(d),r.pop()),d=r[r.length-1];return b};a.sampleLogNormal=W;a.sampleNormal=w;a.sampleUniform=J;a.setRandom=function(b){a.random=b};Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[34]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(21),w(24),w(25),w(32)):"function"===typeof define&&define.amd?define(["exports","vega-util","d3-time","d3-time-format","d3-array"],b):(a=a||self,b(a.vega={},a.vega,a.d3,a.d3,a.d3))})(this,function(a,b,e,H,u){function t(a){const d=b.array(a).slice(),c={};d.length||b.error("Missing time unit.");d.forEach(a=>{b.hasOwnProperty(N,a)?c[a]=1:b.error(`Invalid time unit: ${a}.`)});(c.week||c.day)&&(c.quarter||
c.month||c.date)&&b.error(`Incompatible time units: ${a}`);d.sort((a,b)=>N[a]-N[b]);return d}function C(a,d,c,e){const g=d||1,h=b.peek(a);d=(a,b,d)=>w(c[d||a],a===h&&g,b);const k=new Date;a=b.toSet(a);const p=a.year?d("year"):b.constant(2012),B=a.month?d("month"):a.quarter?d("quarter"):b.zero,r=a.week&&a.day?d("day",1,"weekday"):a.week?d("week",1):a.day?d("day",1):a.date?d("date",1):b.one,t=a.hours?d("hours"):b.zero,L=a.minutes?d("minutes"):b.zero,l=a.seconds?d("seconds"):b.zero,v=a.milliseconds?
d("milliseconds"):b.zero;return function(a){k.setTime(+a);a=p(k);return e(a,B(k),r(k,a),t(k),L(k),l(k),v(k))}}function w(a,b,d){return 1>=b?a:d?(c,e)=>d+b*Math.floor((a(c,e)-d)/b):(d,c)=>b*Math.floor(a(d,c)/b)}function P(a,b,d){return b+7*a-(d+6)%7}function ea(a){D.setFullYear(a);D.setMonth(0);D.setDate(1);D.setHours(0,0,0,0);return D}function T(a){return e.timeWeek.count(ea(a.getFullYear())-1,a)}function F(a,b,d,c,e,g,h){return 0<=a&&100>a?(b=new Date(-1,b,d,c,e,g,h),b.setFullYear(a),b):new Date(a,
b,d,c,e,g,h)}function W(a){const b=Date.UTC(a.getUTCFullYear(),0,1);return e.utcWeek.count(b-1,a)}function r(a){D.setTime(Date.UTC(a,0,1));return D.getUTCDay()}function S(a,b,d,c,e,g,h){return 0<=a&&100>a?(a=new Date(Date.UTC(-1,b,d,c,e,g,h)),a.setUTCFullYear(d.y),a):new Date(Date.UTC(a,b,d,c,e,g,h))}function z(a){return h[a]}function J(a){return ba[a]}function p(a,d,c){return b.isString(c)?a(c):k(a,d,c)}function k(a,d,c){c=c||{};b.isObject(c)||b.error(`Invalid time multi-format specifier: ${c}`);
const e=d("seconds"),g=d("minutes"),h=d("hours"),k=d("date"),p=d("week"),B=d("month"),r=d("quarter"),t=d("year"),L=a(c.milliseconds||".%L"),l=a(c.seconds||":%S"),v=a(c.minutes||"%I:%M"),x=a(c.hours||"%I %p"),m=a(c.date||c.day||"%a %d"),E=a(c.week||"%b %d"),Ua=a(c.month||"%B"),da=a(c.quarter||"%B"),oa=a(c.year||"%Y");return function(a){return(e(a)<a?L:g(a)<a?l:h(a)<a?v:k(a)<a?x:B(a)<a?p(a)<a?m:E:t(a)<a?r(a)<a?Ua:da:oa)(a)}}const N="year quarter month week date day hours minutes seconds milliseconds".split(" ").reduce((a,
b,d)=>(a[b]=1+d,a),{}),D=new Date,O={["year"]:a=>a.getFullYear(),["quarter"]:a=>3*~~(a.getMonth()/3),["month"]:a=>a.getMonth(),["date"]:a=>a.getDate(),["hours"]:a=>a.getHours(),["minutes"]:a=>a.getMinutes(),["seconds"]:a=>a.getSeconds(),["milliseconds"]:a=>a.getMilliseconds(),["day"]:(a,b)=>P(1,a.getDay(),ea(b).getDay()),["week"]:(a,b)=>P(T(a),0,ea(b).getDay()),["weekday"]:(a,b)=>P(T(a),a.getDay(),ea(b).getDay())},c={["year"]:a=>a.getUTCFullYear(),["quarter"]:a=>3*~~(a.getUTCMonth()/3),["month"]:a=>
a.getUTCMonth(),["date"]:a=>a.getUTCDate(),["hours"]:a=>a.getUTCHours(),["minutes"]:a=>a.getUTCMinutes(),["seconds"]:a=>a.getUTCSeconds(),["milliseconds"]:a=>a.getUTCMilliseconds(),["day"]:(a,b)=>P(1,a.getUTCDay(),r(b)),["week"]:(a,b)=>P(W(a),0,r(b)),["weekday"]:(a,b)=>P(W(a),a.getUTCDay(),r(b))},h={["year"]:e.timeYear,["quarter"]:e.timeMonth.every(3),["month"]:e.timeMonth,["week"]:e.timeWeek,["date"]:e.timeDay,["day"]:e.timeDay,["hours"]:e.timeHour,["minutes"]:e.timeMinute,["seconds"]:e.timeSecond,
["milliseconds"]:e.timeMillisecond},ba={["year"]:e.utcYear,["quarter"]:e.utcMonth.every(3),["month"]:e.utcMonth,["week"]:e.utcWeek,["date"]:e.utcDay,["day"]:e.utcDay,["hours"]:e.utcHour,["minutes"]:e.utcMinute,["seconds"]:e.utcSecond,["milliseconds"]:e.utcMillisecond},L={["year"]:"%Y ",["quarter"]:"Q%q ",["month"]:"%b ",["date"]:"%d ",["week"]:"W%U ",["day"]:"%a ",["hours"]:"%H:00",["minutes"]:"00:%M",["seconds"]:":%S",["milliseconds"]:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",
["hours-minutes"]:"%H:%M"},ma="year month date hours minutes seconds milliseconds".split(" "),B=ma.slice(0,-1),ia=B.slice(0,-1),va=ia.slice(0,-1),qa=va.slice(0,-1),g=["year","month"],d=["year"],M=[[B,1,1E3],[B,5,5E3],[B,15,15E3],[B,30,3E4],[ia,1,6E4],[ia,5,3E5],[ia,15,9E5],[ia,30,18E5],[va,1,36E5],[va,3,108E5],[va,6,216E5],[va,12,432E5],[qa,1,864E5],[["year","week"],1,6048E5],[g,1,2592E6],[g,3,7776E6],[d,1,31536E6]];a.timeBin=function(a){var c=a.extent;a=a.maxbins||40;var e=Math.abs(b.span(c))/a;
let g=u.bisector(a=>a[2]).right(M,e);g===M.length?(e=d,c=u.tickStep(c[0]/31536E6,c[1]/31536E6,a)):g?(g=M[e/M[g-1][2]<M[g][2]/e?g-1:g],e=g[0],c=g[1]):(e=ma,c=Math.max(u.tickStep(c[0],c[1],a),1));return{units:e,step:c}};a.timeFloor=function(a,b){return C(a,b||1,O,F)};a.timeFormat=function(a){return p(H.timeFormat,z,a)};a.timeInterval=z;a.timeOffset=function(a,b,d){return(a=h[a])?a.offset(b,d):void 0};a.timeSequence=function(a,b,d,c){return(a=h[a])?a.range(b,d,c):void 0};a.timeUnitSpecifier=function(a,
d){d=b.extend({},L,d);a=t(a);const c=a.length;let e="",g,h,k;for(g=0;g<c;)for(h=a.length;h>g;--h)if(k=a.slice(g,h).join("-"),null!=d[k]){e+=d[k];g=h;break}return e.trim()};a.timeUnits=t;a.utcFloor=function(a,b){return C(a,b||1,c,S)};a.utcFormat=function(a){return p(H.utcFormat,J,a)};a.utcInterval=J;a.utcOffset=function(a,b,d){return(a=ba[a])?a.offset(b,d):void 0};a.utcSequence=function(a,b,d,c){return(a=ba[a])?a.range(b,d,c):void 0};Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[35]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(21),w(31),w(33),w(32),w(34)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-statistics d3-array vega-time".split(" "),b):(a=a||self,b((a.vega=a.vega||{},a.vega.transforms={}),a.vega,a.vega,a.vega,a.d3,a.vega))})(this,function(a,b,e,H,u,t){function C(a){return function(b){for(var d=a.length,c=1,e=String(a[0](b));c<d;++c)e+="|"+a[c](b);return e}}function w(a){return a&&
a.length?1===a.length?a[0]:C(a):function(){return""}}function P(a){return function(d){var c=b.extend({init:"",add:"",rem:"",idx:0},a);c.out=d||a.name;return c}}function ea(a,b){return a.idx-b.idx}function T(a,b){function d(a,c){function e(b){a[b]||d(a,a[b]=Eb[b]())}c.req&&c.req.forEach(e);b&&c.str&&c.str.forEach(e);return a}a=a.reduce(d,a.reduce(function(a,b){a[b.name]=b;return a},{}));var c=[],e;for(e in a)c.push(a[e]);return c.sort(ea)}function F(a,d){d=d||b.identity;var c="var cell \x3d this.cell; this.valid \x3d 0; this.missing \x3d 0;",
e="this.cell \x3d cell; this.init();",m="if(v\x3d\x3dnull){++this.missing; return;} if(v!\x3d\x3dv) return; ++this.valid;",g="if(v\x3d\x3dnull){--this.missing; return;} if(v!\x3d\x3dv) return; --this.valid;",l="var cell \x3d this.cell;";T(a,!0).forEach(function(a){c+=a.init;m+=a.add;g+=a.rem});a.slice().sort(ea).forEach(function(a){l+="t["+b.stringValue(a.out)+"]\x3d"+a.set+";"});l+="return t;";e=Function("cell",e);e.prototype.init=Function(c);e.prototype.add=Function("v","t",m);e.prototype.rem=Function("v",
"t",g);e.prototype.set=Function("t",l);e.prototype.get=d;e.fields=a.map(function(a){return a.out});return e}function W(a){this._key=a?b.field(a):e.tupleid;this.reset()}function r(a){e.Transform.call(this,null,a);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function S(a){e.Transform.call(this,null,a)}function z(a,d,c){var e=d||[],m=c||[],g={},
l=0;return{add:function(a){m.push(a)},remove:function(b){g[a(b)]=++l},size:function(){return e.length},data:function(d,c){l&&(e=e.filter(function(b){return!g[a(b)]}),g={},l=0);c&&d&&e.sort(d);m.length&&(e=d?b.merge(d,e,m.sort(d)):e.concat(m),m=[]);return e}}}function J(a){e.Transform.call(this,[],a)}function p(a){e.Operator.call(this,null,k,a)}function k(a){return this.value&&!a.modified()?this.value:b.compare(a.fields,a.orders)}function N(a){e.Transform.call(this,null,a)}function D(a){e.Transform.call(this,
null,a)}function O(a,d){var c=a["function"];b.hasOwnProperty(Fb,c)||b.error("Unknown distribution function: "+c);c=Fb[c]();for(var e in a)if("field"===e)c.data((a.from||d()).map(a[e]));else if("distributions"===e)c[e](a[e].map(function(a){return O(a,d)}));else if("function"===typeof c[e])c[e](a[e]);return c}function c(a){e.Transform.call(this,null,a)}function h(a){return function(){return a.materialize(a.SOURCE).source}}function ba(a,d){return a?a.map(function(a,c){return d[c]||b.accessorName(a)}):
null}function L(a,b,d){var c=[],e=function(a){return a(h)},m;if(null==b)c.push(a.map(d));else{var g={};var l=0;for(m=a.length;l<m;++l){var h=a[l];var v=b.map(e);var k=g[v];k||(g[v]=k=[],k.dims=v,c.push(k));k.push(d(h))}}return c}function ma(a){e.Transform.call(this,null,a)}function B(a){e.Operator.call(this,null,ia,a);this.modified(!0)}function ia(a){var d=a.expr;return this.value&&!a.modified("expr")?this.value:b.accessor(b=>d(b,a),b.accessorFields(d),b.accessorName(d))}function va(a){e.Transform.call(this,
[void 0,void 0],a)}function qa(a,b){e.Operator.call(this,a);this.parent=b}function g(a){e.Transform.call(this,{},a);this._keys=b.fastmap();var d=this._targets=[];d.active=0;d.forEach=function(a){for(var b=0,c=d.active;b<c;++b)a(d[b],b,d)}}function d(a){e.Operator.call(this,null,M,a)}function M(a){return this.value&&!a.modified()?this.value:b.isArray(a.name)?b.array(a.name).map(function(a){return b.field(a)}):b.field(a.name,a.as)}function Q(a){e.Transform.call(this,b.fastmap(),a)}function la(a){e.Transform.call(this,
[],a)}function G(a){e.Transform.call(this,[],a)}function Sa(a){e.Transform.call(this,null,a)}function aa(a){e.Transform.call(this,[],a)}function sa(a){e.Transform.call(this,[],a)}function I(a){var d=a.method||qc.value;if(null==qc[d])b.error("Unrecognized imputation method: "+d);else{if(d===qc.value){var c=void 0!==a.value?a.value:0;return function(){return c}}return qc[d]}}function Na(a){var b=a.field;return function(a){return a?b(a):NaN}}function Ea(a,b,d,c){var e=function(a){return a(E)},m=[];c=
c?c.slice():[];var g={},l={},h,v;c.forEach(function(a,b){g[a]=b+1});var k=0;for(v=a.length;k<v;++k){var E=a[k];var x=d(E);var da=g[x]||(g[x]=c.push(x));var p=(x=b?b.map(e):Sb)+"";(h=l[p])||(h=l[p]=[],m.push(h),h.values=x);h[da-1]=E}m.domain=c;return m}function Ma(a){r.call(this,a)}function U(a){e.Transform.call(this,null,a)}function Ba(a){e.Operator.call(this,null,l,a)}function l(a){return this.value&&!a.modified()?this.value:b.key(a.fields,a.flat)}function v(a){e.Transform.call(this,[],a);this._pending=
null}function x(a){return a.modified("async")&&!(a.modified("values")||a.modified("url")||a.modified("format"))}function m(a,b,d){d.forEach(e.ingest);b=b.fork(b.NO_FIELDS&b.NO_SOURCE);b.rem=a.value;a.value=b.source=b.add=d;a._pending=null;return b}function E(a){e.Transform.call(this,{},a)}function Ua(a){e.Operator.call(this,null,da,a)}function da(a){if(this.value&&!a.modified())return this.value;var b=Infinity,d=-Infinity;a=a.extents;var c;var e=0;for(c=a.length;e<c;++e){var m=a[e];m[0]<b&&(b=m[0]);
m[1]>d&&(d=m[1])}return[b,d]}function oa(a){e.Operator.call(this,null,Wa,a)}function Wa(a){return this.value&&!a.modified()?this.value:a.values.reduce(function(a,b){return a.concat(b)},[])}function Qa(a){e.Transform.call(this,null,a)}function wa(a){r.call(this,a)}function fa(a,d){var c=a.field,e=a.value,m=("count"===a.op?"__count__":a.op)||"sum",g=b.accessorFields(c).concat(b.accessorFields(e)),l=kb(c,a.limit||0,d);d.changed()&&a.set("__pivot__",null,null,!0);return{key:a.key,groupby:a.groupby,ops:l.map(function(){return m}),
fields:l.map(function(a){return cb(a,c,e,g)}),as:l.map(function(a){return a+""}),modified:a.modified.bind(a)}}function cb(a,d,c,e){return b.accessor(function(b){return d(b)===a?c(b):NaN},e,a+"")}function kb(a,b,d){var c={},e=[];d.visit(d.SOURCE,function(b){b=a(b);c[b]||(c[b]=1,e.push(b))});e.sort(function(a,b){return(a<b||null==a)&&null!=b?-1:(a>b||null==b)&&null!=a?1:(b=b instanceof Date?+b:b,a=a instanceof Date?+a:a)!==a&&b===b?-1:b!==b&&a===a?1:0});return b?e.slice(0,b):e}function fb(a){g.call(this,
a)}function qb(a){e.Transform.call(this,null,a)}function Ja(a){e.Transform.call(this,null,a)}function pa(a){e.Transform.call(this,null,a)}function ub(a){e.Transform.call(this,null,a)}function Rb(a){e.Transform.call(this,[],a);this.count=0}function Va(a){e.Transform.call(this,null,a)}function Bb(a){e.Transform.call(this,null,a);this.modified(!0)}function ka(a){e.Transform.call(this,null,a)}function Cb(a){e.Transform.call(this,b.fastmap(),a)}function Db(a){e.Transform.call(this,null,a)}function $a(a,
d,c,e){let m=fc[a](d,c);return{init:m.init||b.zero,update:function(a,b){b[e]=m.next(a)}}}function Lb(a){function d(a){b.array(b.accessorFields(a)).forEach(a=>v[a]=1)}let c=b.array(a.ops),e=b.array(a.fields),m=b.array(a.params),g=b.array(a.as),l=this.outputs=[],h=this.windows=[],v={},k={},E=!0,x=[],da=[];d(a.sort);c.forEach(function(a,c){let v=e[c],p=b.accessorName(v),fa=g[c]||a+(p?"_"+p:"");d(v);l.push(fa);b.hasOwnProperty(fc,a)?h.push($a(a,e[c],m[c],fa)):(null==v&&"count"!==a&&b.error("Null aggregate field specified."),
"count"===a?x.push(fa):(E=!1,c=k[p],c||(c=k[p]=[],c.field=v,da.push(c)),c.push(Eb[a](fa))))});if(x.length||da.length)this.cell=tc(da,x,E);this.inputs=Object.keys(v)}function tc(a,b,d){a=a.map(a=>F(a,a.field));let c={num:0,agg:null,store:!1,count:b};if(!d)for(var e=a.length,m=c.agg=Array(e),g=0;g<e;++g)m[g]=new a[g](c);if(c.store)var l=c.data=new W;c.add=function(a){c.num+=1;if(!d){l&&l.add(a);for(let b=0;b<e;++b)m[b].add(m[b].get(a),a)}};c.rem=function(a){--c.num;if(!d){l&&l.rem(a);for(let b=0;b<
e;++b)m[b].rem(m[b].get(a),a)}};c.set=function(a){let e,g;l&&l.values();e=0;for(g=b.length;e<g;++e)a[b[e]]=c.num;if(!d)for(e=0,g=m.length;e<g;++e)m[e].set(a)};c.init=function(){c.num=0;l&&l.reset();for(let a=0;a<e;++a)m[a].init()};return c}function rb(a){e.Transform.call(this,{},a);this._mlen=0;this._mods=[]}function Tb(a,c,d,e){var m=e.sort,g=m&&!e.ignorePeers;e=e.frame||[null,0];a=a.data(d);d=a.length;var l=0,h=g?u.bisector(m):null;m={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:m||b.constant(-1)};
for(c.init();l<d;++l){var v=m,k=e,E=l,x=d;v.p0=v.i0;v.p1=v.i1;v.i0=null==k[0]?0:Math.max(0,E-Math.abs(k[0]));v.i1=null==k[1]?x:Math.min(x,E+Math.abs(k[1])+1);v.index=E;if(g){v=m;k=h;E=v.i0;x=v.i1-1;var da=v.compare,p=v.data,fa=p.length-1;0<E&&!da(p[E],p[E-1])&&(v.i0=k.left(p,p[E]));x<fa&&!da(p[x],p[x+1])&&(v.i1=k.right(p,p[x]))}c.update(m,a[l])}}var Eb={values:P({name:"values",init:"cell.store \x3d true;",set:"cell.data.values()",idx:-1}),count:P({name:"count",set:"cell.num"}),__count__:P({name:"count",
set:"this.missing + this.valid"}),missing:P({name:"missing",set:"this.missing"}),valid:P({name:"valid",set:"this.valid"}),sum:P({name:"sum",init:"this.sum \x3d 0;",add:"this.sum +\x3d +v;",rem:"this.sum -\x3d v;",set:"this.sum"}),product:P({name:"product",init:"this.product \x3d 1;",add:"this.product *\x3d v;",rem:"this.product /\x3d v;",set:"this.valid ? this.product : undefined"}),mean:P({name:"mean",init:"this.mean \x3d 0;",add:"var d \x3d v - this.mean; this.mean +\x3d d / this.valid;",rem:"var d \x3d v - this.mean; this.mean -\x3d this.valid ? d / this.valid : this.mean;",
set:"this.valid ? this.mean : undefined"}),average:P({name:"average",set:"this.valid ? this.mean : undefined",req:["mean"],idx:1}),variance:P({name:"variance",init:"this.dev \x3d 0;",add:"this.dev +\x3d d * (v - this.mean);",rem:"this.dev -\x3d d * (v - this.mean);",set:"this.valid \x3e 1 ? this.dev / (this.valid-1) : undefined",req:["mean"],idx:1}),variancep:P({name:"variancep",set:"this.valid \x3e 1 ? this.dev / this.valid : undefined",req:["variance"],idx:2}),stdev:P({name:"stdev",set:"this.valid \x3e 1 ? Math.sqrt(this.dev / (this.valid-1)) : undefined",
req:["variance"],idx:2}),stdevp:P({name:"stdevp",set:"this.valid \x3e 1 ? Math.sqrt(this.dev / this.valid) : undefined",req:["variance"],idx:2}),stderr:P({name:"stderr",set:"this.valid \x3e 1 ? Math.sqrt(this.dev / (this.valid * (this.valid-1))) : undefined",req:["variance"],idx:2}),distinct:P({name:"distinct",set:"cell.data.distinct(this.get)",req:["values"],idx:3}),ci0:P({name:"ci0",set:"cell.data.ci0(this.get)",req:["values"],idx:3}),ci1:P({name:"ci1",set:"cell.data.ci1(this.get)",req:["values"],
idx:3}),median:P({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:P({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:P({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),argmin:P({name:"argmin",init:"this.argmin \x3d undefined;",add:"if (v \x3c this.min) this.argmin \x3d t;",rem:"if (v \x3c\x3d this.min) this.argmin \x3d undefined;",set:"this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:P({name:"argmax",init:"this.argmax \x3d undefined;",
add:"if (v \x3e this.max) this.argmax \x3d t;",rem:"if (v \x3e\x3d this.max) this.argmax \x3d undefined;",set:"this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:P({name:"min",init:"this.min \x3d undefined;",add:"if (v \x3c this.min || this.min \x3d\x3d\x3d undefined) this.min \x3d v;",rem:"if (v \x3c\x3d this.min) this.min \x3d NaN;",set:"this.min \x3d (Number.isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:P({name:"max",init:"this.max \x3d undefined;",
add:"if (v \x3e this.max || this.max \x3d\x3d\x3d undefined) this.max \x3d v;",rem:"if (v \x3e\x3d this.max) this.max \x3d NaN;",set:"this.max \x3d (Number.isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4})},Xa=Object.keys(Eb),xa=W.prototype;xa.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};xa.add=function(a){this._add.push(a)};xa.rem=function(a){this._rem.push(a)};xa.values=function(){this._get=null;if(0===this._rem.length)return this._add;
var a=this._add,b=this._rem,c=this._key,d=a.length,e=b.length,m=Array(d-e),g={},l,h;for(l=0;l<e;++l)g[c(b[l])]=1;for(b=l=0;l<d;++l)g[c(h=a[l])]?g[c(h)]=0:m[b++]=h;this._rem=[];return this._add=m};xa.distinct=function(a){for(var c=this.values(),d=c.length,e={},m=0,l;0<=--d;)l=a(c[d])+"",b.hasOwnProperty(e,l)||(e[l]=1,++m);return m};xa.extent=function(a){if(this._get!==a||!this._ext){var c=this.values(),d=b.extentIndex(c,a);this._ext=[c[d[0]],c[d[1]]];this._get=a}return this._ext};xa.argmin=function(a){return this.extent(a)[0]||
{}};xa.argmax=function(a){return this.extent(a)[1]||{}};xa.min=function(a){var b=this.extent(a)[0];return null!=b?a(b):void 0};xa.max=function(a){var b=this.extent(a)[1];return null!=b?a(b):void 0};xa.quartile=function(a){this._get===a&&this._q||(this._q=H.quartiles(this.values(),a),this._get=a);return this._q};xa.q1=function(a){return this.quartile(a)[0]};xa.q2=function(a){return this.quartile(a)[1]};xa.q3=function(a){return this.quartile(a)[2]};xa.ci=function(a){this._get===a&&this._ci||(this._ci=
H.bootstrapCI(this.values(),1E3,.05,a),this._get=a);return this._ci};xa.ci0=function(a){return this.ci(a)[0]};xa.ci1=function(a){return this.ci(a)[1]};r.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Xa},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};
xa=b.inherits(r,e.Transform);xa.transform=function(a,b){var c=this,d=b.fork(b.NO_SOURCE|b.NO_FIELDS),e=a.modified();c.stamp=d.stamp;c.value&&(e||b.modified(c._inputs,!0))?(c._prev=c.value,c.value=e?c.init(a):{},b.visit(b.SOURCE,a=>c.add(a))):(c.value=c.value||c.init(a),b.visit(b.REM,a=>c.rem(a)),b.visit(b.ADD,a=>c.add(a)));d.modifies(c._outputs);c._drop=!1!==a.drop;a.cross&&1<c._dims.length&&(c._drop=!1,c.cross());return c.changes(d)};xa.cross=function(){function a(a){var b,c,d;for(b in a){var g=
a[b].tuple;for(c=0;c<l;++c)m[c][d=g[e[c]]]=d}}function b(a,g,h){var v=e[h],k=m[h++],E;for(E in k){g[v]=k[E];var x=a?a+"|"+E:E;h<l?b(x,g,h):d[x]||c.cell(x,g)}}var c=this,d=c.value,e=c._dnames,m=e.map(function(){return{}}),l=e.length;a(c._prev);a(d);b("",{},0)};xa.init=function(a){function c(a){a=b.array(b.accessorFields(a));for(var c=0,e=a.length,l;c<e;++c)m[l=a[c]]||(m[l]=1,d.push(l))}var d=this._inputs=[],e=this._outputs=[],m={};this._dims=b.array(a.groupby);this._dnames=this._dims.map(function(a){var d=
b.accessorName(a);c(a);e.push(d);return d});this.cellkey=a.key?a.key:w(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];var l=a.fields||[null],g=a.ops||["count"];a=a.as||[];var h=l.length,v={},k;h!==g.length&&b.error("Unmatched number of fields and aggregate ops.");for(k=0;k<h;++k){var E=l[k];var x=g[k];null==E&&"count"!==x&&b.error("Null aggregate field specified.");var da=b.accessorName(E);var p=a[k]||x+(da?"_"+da:"");e.push(p);if("count"===x)this._counts.push(p);else{var fa=v[da];
fa||(c(E),fa=v[da]=[],fa.field=E,this._measures.push(fa));"count"!==x&&(this._countOnly=!1);fa.push(Eb[x](p))}}this._measures=this._measures.map(function(a){return F(a,a.field)});return{}};xa.cellkey=w();xa.cell=function(a,b){var c=this.value[a];c?0===c.num&&this._drop&&c.stamp<this.stamp?(c.stamp=this.stamp,this._adds[this._alen++]=c):c.stamp<this.stamp&&(c.stamp=this.stamp,this._mods[this._mlen++]=c):(c=this.value[a]=this.newcell(a,b),this._adds[this._alen++]=c);return c};xa.newcell=function(a,
b){a={key:a,num:0,agg:null,tuple:this.newtuple(b,this._prev&&this._prev[a]),stamp:this.stamp,store:!1};if(!this._countOnly){b=this._measures;var c=b.length,d;a.agg=Array(c);for(d=0;d<c;++d)a.agg[d]=new b[d](a)}a.store&&(a.data=new W);return a};xa.newtuple=function(a,b){var c=this._dnames,d=this._dims,m={},l;var g=0;for(l=d.length;g<l;++g)m[c[g]]=d[g](a);return b?e.replace(b.tuple,m):e.ingest(m)};xa.add=function(a){var b=this.cellkey(a);b=this.cell(b,a);var c;b.num+=1;if(!this._countOnly){b.store&&
b.data.add(a);b=b.agg;var d=0;for(c=b.length;d<c;++d)b[d].add(b[d].get(a),a)}};xa.rem=function(a){var b=this.cellkey(a);b=this.cell(b,a);var c;--b.num;if(!this._countOnly){b.store&&b.data.rem(a);b=b.agg;var d=0;for(c=b.length;d<c;++d)b[d].rem(b[d].get(a),a)}};xa.celltuple=function(a){var b=a.tuple,c=this._counts,d;a.store&&a.data.values();var e=0;for(d=c.length;e<d;++e)b[c[e]]=a.num;if(!this._countOnly)for(a=a.agg,e=0,d=a.length;e<d;++e)a[e].set(b);return b};xa.changes=function(a){var b=this._adds,
c=this._mods,d=this._prev,e=this._drop,m=a.add,l=a.rem,g=a.mod,h;if(d)for(h in d){var v=d[h];e&&!v.num||l.push(v.tuple)}d=0;for(h=this._alen;d<h;++d)m.push(this.celltuple(b[d])),b[d]=null;d=0;for(h=this._mlen;d<h;++d)v=c[d],(0===v.num&&e?l:g).push(this.celltuple(v)),c[d]=null;this._alen=this._mlen=0;this._prev=null;return a};S.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",
type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};xa=b.inherits(S,e.Transform);xa.transform=
function(a,c){var d=!1!==a.interval,e=this._bins(a),m=e.start,l=e.step,g=a.as||["bin0","bin1"],h=g[0],v=g[1];a.modified()?(c=c.reflow(!0),a=c.SOURCE):a=c.modified(b.accessorFields(a.field))?c.ADD_MOD:c.ADD;c.visit(a,d?function(a){var b=e(a);a[h]=b;a[v]=null==b?null:m+l*(1+(b-m)/l)}:function(a){a[h]=e(a)});return c.modifies(d?g:h)};xa._bins=function(a){if(this.value&&!a.modified())return this.value;var c=a.field,d=H.bin(a),e=d.step,m=d.start,l=m+Math.ceil((d.stop-m)/e)*e,g;null!=(g=a.anchor)&&(g-=
m+e*Math.floor((g-m)/e),m+=g,l+=g);g=function(a){a=c(a);return null==a?null:a<m?-Infinity:a>l?Infinity:(a=Math.max(m,Math.min(+a,l-e)),m+e*Math.floor(1E-14+(a-m)/e))};g.start=m;g.stop=d.stop;g.step=e;return this.value=b.accessor(g,b.accessorFields(c),a.name||"bin_"+b.accessorName(c))};J.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};b.inherits(J,e.Transform).transform=function(a,b){var c=b.fork(b.ALL),d=z(e.tupleid,this.value,c.materialize(c.ADD).add),m=a.sort;
a=b.changed()||m&&(a.modified("sort")||b.modified(m.fields));c.visit(c.REM,d.remove);this.modified(a);this.value=c.source=d.data(e.stableCompare(m),a);b.source&&b.source.root&&(this.value.root=b.source.root);return c};b.inherits(p,e.Operator);N.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",
type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};xa=b.inherits(N,e.Transform);xa.transform=function(a,b){function c(b){return function(c){c=l(c);var d=m;switch(a.case){case "upper":c=c.toUpperCase();break;case "lower":c=c.toLowerCase()}c=c.match(d)||[];var e;d=0;for(var h=c.length;d<h;++d)g.test(e=c[d])||b(e)}}var d=this._parameterCheck(a,b),e=this._counts,m=this._match,g=this._stop,l=a.field,h=a.as||["text","count"],v=c(function(a){e[a]=1+(e[a]||
0)}),k=c(function(a){--e[a]});d?b.visit(b.SOURCE,v):(b.visit(b.ADD,v),b.visit(b.REM,k));return this._finish(b,h)};xa._parameterCheck=function(a,b){var c=!1;if(a.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(a.stopwords||"")+"$","i"),c=!0;if(a.modified("pattern")||!this._match)this._match=new RegExp(a.pattern||"[\\w']+","g"),c=!0;if(a.modified("field")||b.modified(a.field.fields))c=!0;c&&(this._counts={});return c};xa._finish=function(a,b){var c=this._counts,d=this._tuples||(this._tuples=
{}),m=b[0],g=b[1];a=a.fork(a.NO_SOURCE|a.NO_FIELDS);var l;for(l in c){var h=d[l];var v=c[l]||0;!h&&v?(d[l]=h=e.ingest({}),h[m]=l,h[g]=v,a.add.push(h)):0===v?(h&&a.rem.push(h),c[l]=null,d[l]=null):h[g]!==v&&(h[g]=v,a.mod.push(h))}return a.modifies(b)};D.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a","b"]}]};b.inherits(D,e.Transform).transform=function(a,c){var d=c.fork(c.NO_SOURCE),m=this.value,l=a.as||
["a","b"],g=l[0],h=l[1];if(!m||c.changed(c.ADD_REM)||a.modified("as")||a.modified("filter")){m&&(d.rem=m);c=m=c.materialize(c.SOURCE).source;a=a.filter||b.truthy;m=[];for(var v={},k=c.length,E=0,x,da;E<k;++E)for(v[g]=da=c[E],x=0;x<k;++x)v[h]=c[x],a(v)&&(m.push(e.ingest(v)),v={},v[g]=da);d.add=this.value=m}else d.mod=m;d.source=this.value;return d.modifies(l)};var Fb={kde:H.randomKDE,mixture:H.randomMixture,normal:H.randomNormal,lognormal:H.randomLogNormal,uniform:H.randomUniform};xa=[{key:{"function":"normal"},
params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];c.Definition={type:"Density",
metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:xa.concat({key:{"function":"mixture"},params:[{name:"distributions",type:"param",array:!0,params:xa},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value",
"density"]}]};b.inherits(c,e.Transform).transform=function(a,c){var d=c.fork(c.NO_SOURCE|c.NO_FIELDS);if(!this.value||c.changed()||a.modified()){var m=O(a.distribution,h(c));c=a.steps||a.minsteps||25;var l=a.steps||a.maxsteps||200,g=a.method||"pdf";"pdf"!==g&&"cdf"!==g&&b.error("Invalid density method: "+g);a.extent||m.data||b.error("Missing density extent parameter.");g=m[g];var v=a.as||["value","density"];a=a.extent||b.extent(m.data());a=H.sampleCurve(g,a,c,l).map(a=>{var b={};b[v[0]]=a[0];b[v[1]]=
a[1];return e.ingest(b)});this.value&&(d.rem=this.value);this.value=d.add=d.source=a}return d};ma.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};b.inherits(ma,e.Transform).transform=function(a,c){if(this.value&&!a.modified()&&!c.changed())return c;var d=c.materialize(c.SOURCE).source;const m=L(c.source,
a.groupby,b.identity),g=a.smooth||!1,l=a.field;d=a.step||b.span(b.extent(d,l))/30;const h=e.stableCompare((a,b)=>l(a)-l(b));a=a.as||"bin";const v=m.length;let k=Infinity,E=-Infinity,x=0,da;for(;x<v;++x){const b=m[x].sort(h);da=-1;for(const c of H.dotbin(b,d,g,l))c<k&&(k=c),c>E&&(E=c),b[++da][a]=c}this.value={start:k,stop:E,step:d};return c.reflow(!0).modifies(a)};b.inherits(B,e.Operator);va.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};b.inherits(va,e.Transform).transform=
function(a,c){var d=this.value,e=a.field,m=d[0],l=d[1];if((a=c.changed()||c.modified(e.fields)||a.modified("field"))||null==m)m=Infinity,l=-Infinity;c.visit(a?c.SOURCE:c.ADD,function(a){a=e(a);null!=a&&(a=+a,a<m&&(m=a),a>l&&(l=a))});Number.isFinite(m)&&Number.isFinite(l)||((a=b.accessorName(e))&&(a=` for field "${a}"`),c.dataflow.warn(`Infinite extent${a}: [${m}, ${l}]`),m=l=void 0);this.value=[m,l]};xa=b.inherits(qa,e.Operator);xa.connect=function(a){this.targets().add(a);return a.source=this};xa.add=
function(a){this.value.add.push(a)};xa.rem=function(a){this.value.rem.push(a)};xa.mod=function(a){this.value.mod.push(a)};xa.init=function(a){this.value.init(a,a.NO_SOURCE)};xa.evaluate=function(){return this.value};xa=b.inherits(g,e.Transform);xa.activate=function(a){this._targets[this._targets.active++]=a};xa.subflow=function(a,c,d,e){var m=this.value,l=b.hasOwnProperty(m,a)&&m[a];if(l)l.value.stamp<d.stamp&&(l.init(d),this.activate(l));else{var g=e||(g=this._group[a])&&g.tuple;e=d.dataflow;l=e.add(new qa(d.fork(d.NO_SOURCE),
this)).connect(c(e,a,g));m[a]=l;this.activate(l)}return l};xa.transform=function(a,b){function c(a){return m.subflow(a,g,b)}var d=b.dataflow,m=this,l=a.key,g=a.subflow,h=this._keys,v=a.modified("key");this._group=a.group||{};this._targets.active=0;b.visit(b.REM,function(a){var b=e.tupleid(a),d=h.get(b);void 0!==d&&(h.delete(b),c(d).rem(a))});b.visit(b.ADD,function(a){var b=l(a);h.set(e.tupleid(a),b);c(b).add(a)});v||b.modified(l.fields)?b.visit(b.MOD,function(a){var b=e.tupleid(a),d=h.get(b),m=l(a);
d===m?c(m).mod(a):(h.set(b,m),c(d).rem(a),c(m).add(a))}):b.changed(b.MOD)&&b.visit(b.MOD,function(a){c(h.get(e.tupleid(a))).mod(a)});v&&b.visit(b.REFLOW,function(a){var b=e.tupleid(a),d=h.get(b),m=l(a);d!==m&&(h.set(b,m),c(d).rem(a),c(m).add(a))});h.empty>d.cleanThreshold&&d.runAfter(h.clean);return b};b.inherits(d,e.Operator);Q.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};b.inherits(Q,e.Transform).transform=function(a,b){function c(b){var c=e.tupleid(b),
d=k(b,a),l=m.get(c);d&&l?(m.delete(c),g.push(b)):d||l?E&&d&&!l&&v.push(b):(m.set(c,1),h.push(b))}var d=b.dataflow,m=this.value,l=b.fork(),g=l.add,h=l.rem,v=l.mod,k=a.expr,E=!0;b.visit(b.REM,function(a){var b=e.tupleid(a);m.has(b)?m.delete(b):h.push(a)});b.visit(b.ADD,function(b){k(b,a)?g.push(b):m.set(e.tupleid(b),1)});b.visit(b.MOD,c);a.modified()&&(E=!1,b.visit(b.REFLOW,c));m.empty>d.cleanThreshold&&d.runAfter(m.clean);return l};la.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",
type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};b.inherits(la,e.Transform).transform=function(a,b){var c=b.fork(b.NO_SOURCE),d=a.fields,m=ba(d,a.as||[]),l=a.index||null,g=m.length;c.rem=this.value;b.visit(b.SOURCE,function(a){for(var b=d.map(b=>b(a)),h=b.reduce((a,b)=>Math.max(a,b.length),0),v=0,k,E,x;v<h;++v){E=e.derive(a);for(k=0;k<g;++k)E[m[k]]=null==(x=b[k][v])?null:x;l&&(E[l]=v);c.add.push(E)}});this.value=c.source=c.add;l&&c.modifies(l);return c.modifies(m)};
G.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};b.inherits(G,e.Transform).transform=function(a,c){var d=c.fork(c.NO_SOURCE),m=a.fields,l=m.map(b.accessorName);a=a.as||["key","value"];var g=a[0],h=a[1],v=m.length;d.rem=this.value;c.visit(c.SOURCE,function(a){for(var b=0,c;b<v;++b)c=e.derive(a),c[g]=l[b],c[h]=m[b](a),d.add.push(c)});this.value=d.source=d.add;return d.modifies(a)};
Sa.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};b.inherits(Sa,e.Transform).transform=function(a,b){var c=a.expr,d=a.as,e=a.modified(),m=a.initonly?b.ADD:e?b.SOURCE:b.modified(c.fields)||b.modified(d)?b.ADD_MOD:b.ADD;e&&(b=b.materialize().reflow(!0));a.initonly||b.modifies(d);return b.visit(m,b=>b[d]=c(b,a))};b.inherits(aa,e.Transform).transform=function(a,b){var c=this.value;
b=b.fork(b.ALL);var d=a.size-c.length,m=a.generator,l,g;if(0<d){for(l=[];0<=--d;)l.push(g=e.ingest(m(a))),c.push(g);b.add=b.add.length?b.materialize(b.ADD).add.concat(l):l}else a=c.slice(0,-d),b.rem=b.rem.length?b.materialize(b.REM).rem.concat(a):a,c=c.slice(-d);b.source=this.value=c;return b};var qc={value:"value",median:u.median,mean:u.mean,min:u.min,max:u.max},Sb=[];sa.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},
{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median","max","min"]},{name:"value","default":0}]};b.inherits(sa,e.Transform).transform=function(a,c){var d=c.fork(c.ALL),m=I(a),l=Na(a),g=b.accessorName(a.field),h=b.accessorName(a.key),v=(a.groupby||[]).map(b.accessorName);a=Ea(c.source,a.groupby,a.key,a.keyvals);c=[];var k=this.value,E=a.domain.length,x,da,p;var fa=0;for(da=a.length;fa<da;++fa){var B=a[fa];var oa=
B.values;var r=NaN;for(x=0;x<E;++x)if(null==B[x]){var t=a.domain[x];var cb={_impute:!0};var L=0;for(p=oa.length;L<p;++L)cb[v[L]]=oa[L];cb[h]=t;cb[g]=Number.isNaN(r)?r=m(B,l):r;c.push(e.ingest(cb))}}c.length&&(d.add=d.materialize(d.ADD).add.concat(c));k.length&&(d.rem=d.materialize(d.REM).rem.concat(k));this.value=c;return d};Ma.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",
array:!0,values:Xa},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};xa=b.inherits(Ma,r);xa.transform=function(a,c){var d=this,e=a.modified();if(d.value&&(e||c.modified(d._inputs,!0))){var m=d.value=e?d.init(a):{};c.visit(c.SOURCE,function(a){d.add(a)})}else m=d.value=d.value||this.init(a),c.visit(c.REM,function(a){d.rem(a)}),c.visit(c.ADD,function(a){d.add(a)});d.changes();c.visit(c.SOURCE,function(a){b.extend(a,m[d.cellkey(a)].tuple)});return c.reflow(e).modifies(this._outputs)};
xa.changes=function(){var a=this._adds,b=this._mods,c;var d=0;for(c=this._alen;d<c;++d)this.celltuple(a[d]),a[d]=null;d=0;for(c=this._mlen;d<c;++d)this.celltuple(b[d]),b[d]=null;this._alen=this._mlen=0};U.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",
array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};b.inherits(U,e.Transform).transform=function(a,c){var d=c.fork(c.NO_SOURCE|c.NO_FIELDS);if(!this.value||c.changed()||a.modified()){c=c.materialize(c.SOURCE).source;const m=L(c,a.groupby,a.field),l=(a.groupby||[]).map(b.accessorName),
g=a.bandwidth,h=a.cumulative?"cdf":"pdf",v=a.as||["value","density"],k=[];let E=a.extent,x=a.steps||a.minsteps||25,da=a.steps||a.maxsteps||200;"pdf"!==h&&"cdf"!==h&&b.error("Invalid density method: "+h);"shared"===a.resolve&&(E||(E=b.extent(c,a.field)),x=da=a.steps||da);m.forEach(c=>{const d=H.randomKDE(c,g)[h],m=a.counts?c.length:1,p=E||b.extent(c);H.sampleCurve(d,p,x,da).forEach(a=>{const b={};for(let a=0;a<l.length;++a)b[l[a]]=c.dims[a];b[v[0]]=a[0];b[v[1]]=a[1]*m;k.push(e.ingest(b))})});this.value&&
(d.rem=this.value);this.value=d.add=d.source=k}return d};b.inherits(Ba,e.Operator);b.inherits(v,e.Transform).transform=function(a,c){const d=c.dataflow;return this._pending?m(this,c,this._pending):x(a)?c.StopPropagation:a.values?m(this,c,d.parse(a.values,a.format)):a.async?{async:d.request(a.url,a.format).then(a=>{this._pending=b.array(a.data);return a=>a.touch(this)})}:d.request(a.url,a.format).then(a=>m(this,c,b.array(a.data)))};E.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",
type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};b.inherits(E,e.Transform).transform=function(a,c){var d=c,e=a.as,m=a.fields,l=a.index,g=a.values,h=null==a.default?null:a.default,v=a.modified();a=v?c.SOURCE:c.ADD;var k=m.length;if(g){var E=g.length;1<k&&!e&&b.error('Multi-field lookup requires explicit "as" parameter.');
e&&e.length!==k*E&&b.error('The "as" parameter has too few output field names.');e=e||g.map(b.accessorName);var x=function(a){for(var b=0,c=0,d,v;b<k;++b)if(v=l.get(m[b](a)),null==v)for(d=0;d<E;++d,++c)a[e[c]]=h;else for(d=0;d<E;++d,++c)a[e[c]]=g[d](v)}}else e||b.error("Missing output field names."),x=function(a){for(var b=0,c;b<k;++b)c=l.get(m[b](a)),a[e[b]]=null==c?h:c};v?d=c.reflow(!0):(v=m.some(function(a){return c.modified(a.fields)}),a|=v?c.MOD:0);c.visit(a,x);return d.modifies(e)};b.inherits(Ua,
e.Operator);b.inherits(oa,e.Operator);b.inherits(Qa,e.Transform);Qa.prototype.transform=function(a,b){this.modified(a.modified());this.value=a;return b.fork(b.NO_SOURCE|b.NO_FIELDS)};wa.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Xa,"default":"sum"},{name:"limit",type:"number","default":0},{name:"key",type:"field"}]};xa=b.inherits(wa,
r);xa._transform=xa.transform;xa.transform=function(a,b){return this._transform(fa(a,b),b)};b.inherits(fb,g).transform=function(a,c){var d=this,m=a.subflow,l=a.field;(a.modified("field")||l&&c.modified(b.accessorFields(l)))&&b.error("PreFacet does not support field modification.");this._targets.active=0;c.visit(c.MOD,function(a){var b=d.subflow(e.tupleid(a),m,c,a);l?l(a).forEach(function(a){b.mod(a)}):b.mod(a)});c.visit(c.ADD,function(a){var b=d.subflow(e.tupleid(a),m,c,a);l?l(a).forEach(function(a){b.add(e.ingest(a))}):
b.add(a)});c.visit(c.REM,function(a){var b=d.subflow(e.tupleid(a),m,c,a);l?l(a).forEach(function(a){b.rem(a)}):b.rem(a)});return c};qb.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};b.inherits(qb,e.Transform).transform=function(a,b){var c=a.fields,d=ba(a.fields,a.as||[]),m=c?function(a,b){for(var e=0,m=c.length;e<m;++e)b[d[e]]=c[e](a);return b}:e.rederive;if(this.value)var l=this.value;else b=
b.addAll(),l=this.value={};var g=b.fork(b.NO_SOURCE);b.visit(b.REM,function(a){a=e.tupleid(a);g.rem.push(l[a]);l[a]=null});b.visit(b.ADD,function(a){var b=m(a,e.ingest({}));l[e.tupleid(a)]=b;g.add.push(b)});b.visit(b.MOD,function(a){g.mod.push(m(a,l[e.tupleid(a)]))});return g};b.inherits(Ja,e.Transform).transform=function(a,b){this.value=a.value;return a.modified("value")?b.fork(b.NO_SOURCE|b.NO_FIELDS):b.StopPropagation};pa.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",
type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};b.inherits(pa,e.Transform).transform=function(a,c){var d=c.fork(c.NO_SOURCE|c.NO_FIELDS),m=a.as||["prob","value"];if(this.value&&!a.modified()&&!c.changed())return d.source=this.value,d;c=c.materialize(c.SOURCE).source;c=L(c,a.groupby,a.field);const l=(a.groupby||[]).map(b.accessorName),g=[],h=
a.step||.01,v=a.probs||u.range(h/2,1-1E-14,h),k=v.length;c.forEach(a=>{const b=H.quantiles(a,v);for(let c=0;c<k;++c){const d={};for(let b=0;b<l.length;++b)d[l[b]]=a.dims[b];d[m[0]]=v[c];d[m[1]]=b[c];g.push(e.ingest(d))}});this.value&&(d.rem=this.value);this.value=d.add=d.source=g;return d};b.inherits(ub,e.Transform).transform=function(a,b){if(this.value)var c=this.value;else{var d=b=b.addAll();c=this.value={}}a.derive&&(d=b.fork(b.NO_SOURCE),b.visit(b.REM,a=>{a=e.tupleid(a);d.rem.push(c[a]);c[a]=
null}),b.visit(b.ADD,a=>{var b=e.derive(a);c[e.tupleid(a)]=b;d.add.push(b)}),b.visit(b.MOD,a=>{var b=c[e.tupleid(a)],m;for(m in a)b[m]=a[m],d.modifies(m);d.mod.push(b)}));return d};Rb.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};b.inherits(Rb,e.Transform).transform=function(a,b){function c(a){if(g.length<l)g.push(a);else{var b=~~((h+1)*H.random());if(b<g.length&&b>=v){var c=g[b];k[e.tupleid(c)]&&d.rem.push(c);g[b]=a}}++h}var d=b.fork(b.NO_SOURCE),m=a.modified("size"),
l=a.size,g=this.value,h=this.count,v=0,k=g.reduce(function(a,b){a[e.tupleid(b)]=1;return a},{});b.rem.length&&(b.visit(b.REM,function(a){var b=e.tupleid(a);k[b]&&(k[b]=-1,d.rem.push(a));--h}),g=g.filter(function(a){return-1!==k[e.tupleid(a)]}));(b.rem.length||m)&&g.length<l&&b.source&&(v=h=g.length,b.visit(b.SOURCE,function(a){k[e.tupleid(a)]||c(a)}),v=-1);if(m&&g.length>l){a=0;for(m=g.length-l;a<m;++a)k[e.tupleid(g[a])]=-1,d.rem.push(g[a]);g=g.slice(m)}b.mod.length&&b.visit(b.MOD,function(a){k[e.tupleid(a)]&&
d.mod.push(a)});b.add.length&&b.visit(b.ADD,c);if(b.add.length||0>v)d.add=g.filter(function(a){return!k[e.tupleid(a)]});this.count=h;this.value=d.source=g;return d};Va.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};b.inherits(Va,e.Transform).transform=function(a,b){if(!this.value||a.modified()){var c=b.materialize().fork(b.MOD),
d=a.as||"data";c.rem=this.value?b.rem.concat(this.value):b.rem;this.value=u.range(a.start,a.stop,a.step||1).map(function(a){var b={};b[d]=a;return e.ingest(b)});c.add=b.add.concat(this.value);return c}};b.inherits(Bb,e.Transform).transform=function(a,b){this.value=b.source;return b.changed()?b.fork(b.NO_SOURCE|b.NO_FIELDS):b.StopPropagation};const ab=["unit0","unit1"];ka.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",
"default":!0},{name:"units",type:"string",array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum","default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":ab}]};xa=b.inherits(ka,e.Transform);xa.transform=function(a,c){var d=a.field,e=!1!==a.interval,m="utc"===a.timezone,l=this._floor(a,c),g=(m?t.utcInterval:t.timeInterval)(l.unit).offset;m=a.as||ab;var h=m[0],
v=m[1],k=l.start||Infinity,E=l.stop||-Infinity,x=l.step,da=c.ADD;if(a.modified()||c.modified(b.accessorFields(d)))c=c.reflow(!0),da=c.SOURCE,k=Infinity,E=-Infinity;c.visit(da,function(a){var b=d(a),c;null==b?(a[h]=null,e&&(a[v]=null)):(a[h]=b=c=l(b),e&&(a[v]=c=g(b,x)),b<k&&(k=b),c>E&&(E=c))});l.start=k;l.stop=E;return c.modifies(e?m:h)};xa._floor=function(a,c){var d="utc"===a.timezone;let {units:e,step:m}=a.units?{units:a.units,step:a.step||1}:t.timeBin({extent:a.extent||b.extent(c.materialize(c.SOURCE).source,
a.field),maxbins:a.maxbins});e=t.timeUnits(e);a=this.value||{};d=(d?t.utcFloor:t.timeFloor)(e,m);d.unit=b.peek(e);d.units=e;d.step=m;d.start=a.start;d.stop=a.stop;return this.value=d};b.inherits(Cb,e.Transform).transform=function(a,b){function c(a){m.set(e(a),a)}var d=b.dataflow,e=a.field,m=this.value,l=!0;a.modified("field")||b.modified(e.fields)?(m.clear(),b.visit(b.SOURCE,c)):b.changed()?(b.visit(b.REM,function(a){m.delete(e(a))}),b.visit(b.ADD,c)):l=!1;this.modified(l);m.empty>d.cleanThreshold&&
d.runAfter(m.clean);return b.fork()};b.inherits(Db,e.Transform).transform=function(a,b){if(!this.value||a.modified("field")||a.modified("sort")||b.changed()||a.sort&&b.modified(a.sort.fields))this.value=(a.sort?b.source.slice().sort(e.stableCompare(a.sort)):b.source).map(a.field)};const fc={row_number:function(){return{next:a=>a.index+1}},rank:function(){let a;return{init:()=>a=1,next:b=>{let c=b.index,d=b.data;return c&&b.compare(d[c-1],d[c])?a=c+1:a}}},dense_rank:function(){let a;return{init:()=>
a=1,next:b=>{let c=b.index,d=b.data;return c&&b.compare(d[c-1],d[c])?++a:a}}},percent_rank:function(){let a=fc.rank(),b=a.next;return{init:a.init,next:a=>(b(a)-1)/(a.data.length-1)}},cume_dist:function(){let a;return{init:()=>a=0,next:b=>{let c=b.index,d=b.data;b=b.compare;if(a<c){for(;c+1<d.length&&!b(d[c],d[c+1]);)++c;a=c}return(1+a)/d.length}}},ntile:function(a,c){c=+c;0<c||b.error("ntile num must be greater than zero.");a=fc.cume_dist();let d=a.next;return{init:a.init,next:a=>Math.ceil(c*d(a))}},
lag:function(a,b){b=+b||1;return{next:c=>{let d=c.index-b;return 0<=d?a(c.data[d]):null}}},lead:function(a,b){b=+b||1;return{next:c=>{let d=c.index+b;c=c.data;return d<c.length?a(c[d]):null}}},first_value:function(a){return{next:b=>a(b.data[b.i0])}},last_value:function(a){return{next:b=>a(b.data[b.i1-1])}},nth_value:function(a,c){c=+c;0<c||b.error("nth_value nth must be greater than zero.");return{next:b=>{let d=b.i0+(c-1);return d<b.i1?a(b.data[d]):null}}},prev_value:function(a){let b=null;return{next:c=>
{c=a(c.data[c.index]);return null!=c?b=c:b}}},next_value:function(a){let b=null,c=-1;return{next:d=>{var e=d.data;if(d.index<=c)e=b;else{a:{d=d.index;for(let b=e.length;d<b;++d)if(null!=a(e[d]))break a;d=-1}e=0>(c=d)?(c=e.length,b=null):b=a(e[c])}return e}}}};xa=Object.keys(fc);const sb=Lb.prototype;sb.init=function(){this.windows.forEach(a=>a.init());this.cell&&this.cell.init()};sb.update=function(a,b){let c=this.cell,d=this.windows,e=a.data,m=d&&d.length,l;if(c){for(l=a.p0;l<a.i0;++l)c.rem(e[l]);
for(l=a.p1;l<a.i1;++l)c.add(e[l]);c.set(b)}for(l=0;l<m;++l)d[l].update(a,b)};rb.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:xa.concat(Xa)},{name:"params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean",
"default":!1}]};Xa=b.inherits(rb,e.Transform);Xa.transform=function(a,b){var c=this,d=c.state,m=a.modified(),l=e.stableCompare(a.sort),g;this.stamp=b.stamp;if(!d||m)d=c.state=new Lb(a);var h=w(a.groupby);m||b.modified(d.inputs)?(c.value={},b.visit(b.SOURCE,function(a){c.group(h(a)).add(a)})):(b.visit(b.REM,function(a){c.group(h(a)).remove(a)}),b.visit(b.ADD,function(a){c.group(h(a)).add(a)}));var v=0;for(g=c._mlen;v<g;++v)Tb(c._mods[v],d,l,a);c._mlen=0;c._mods=[];return b.reflow(m).modifies(d.outputs)};
Xa.group=function(a){var b=this.value[a];b||(b=this.value[a]=z(e.tupleid),b.stamp=-1);b.stamp<this.stamp&&(b.stamp=this.stamp,this._mods[this._mlen++]=b);return b};a.aggregate=r;a.bin=S;a.collect=J;a.compare=p;a.countpattern=N;a.cross=D;a.density=c;a.dotbin=ma;a.expression=B;a.extent=va;a.facet=g;a.field=d;a.filter=Q;a.flatten=la;a.fold=G;a.formula=Sa;a.generate=aa;a.impute=sa;a.joinaggregate=Ma;a.kde=U;a.key=Ba;a.load=v;a.lookup=E;a.multiextent=Ua;a.multivalues=oa;a.params=Qa;a.pivot=wa;a.prefacet=
fb;a.project=qb;a.proxy=Ja;a.quantile=pa;a.relay=ub;a.sample=Rb;a.sequence=Va;a.sieve=Bb;a.subflow=qa;a.timeunit=ka;a.tupleindex=Cb;a.values=Db;a.window=rb;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[36]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.vega={}))})(this,function(a){function b(a,b){if("undefined"!==typeof document&&document.createElement){var e=document.createElement("canvas");if(e&&e.getContext)return e.width=a,e.height=b,e}return null}a.domCanvas=b;a.canvas=b;a.image=function(){return"undefined"!==typeof Image?Image:null};Object.defineProperty(a,"__esModule",
{value:!0})})};
shadow$provide[37]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.d3=a.d3||{}))})(this,function(a){function b(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function e(){return new b}var H=Math.PI,u=2*H,t=u-1E-6;b.prototype=e.prototype={constructor:b,moveTo:function(a,b){this._+="M"+(this._x0=this._x1=+a)+","+(this._y0=this._y1=+b)},closePath:function(){null!==this._x1&&(this._x1=this._x0,
this._y1=this._y0,this._+="Z")},lineTo:function(a,b){this._+="L"+(this._x1=+a)+","+(this._y1=+b)},quadraticCurveTo:function(a,b,e,t){this._+="Q"+ +a+","+ +b+","+(this._x1=+e)+","+(this._y1=+t)},bezierCurveTo:function(a,b,e,t,H,F){this._+="C"+ +a+","+ +b+","+ +e+","+ +t+","+(this._x1=+H)+","+(this._y1=+F)},arcTo:function(a,b,e,t,u){a=+a;b=+b;e=+e;t=+t;u=+u;var F=this._x1,C=this._y1,r=e-a,S=t-b,z=F-a,J=C-b,p=z*z+J*J;if(0>u)throw Error("negative radius: "+u);if(null===this._x1)this._+="M"+(this._x1=
a)+","+(this._y1=b);else if(1E-6<p)if(1E-6<Math.abs(J*r-S*z)&&u){e-=F;t-=C;var k=r*r+S*S;C=Math.sqrt(k);F=Math.sqrt(p);p=u*Math.tan((H-Math.acos((k+p-(e*e+t*t))/(2*C*F)))/2);F=p/F;p/=C;1E-6<Math.abs(F-1)&&(this._+="L"+(a+F*z)+","+(b+F*J));this._+="A"+u+","+u+",0,0,"+ +(J*e>z*t)+","+(this._x1=a+p*r)+","+(this._y1=b+p*S)}else this._+="L"+(this._x1=a)+","+(this._y1=b)},arc:function(a,b,e,ea,T,F){a=+a;b=+b;e=+e;F=!!F;var C=e*Math.cos(ea),r=e*Math.sin(ea),S=a+C,z=b+r,J=1^F;ea=F?ea-T:T-ea;if(0>e)throw Error("negative radius: "+
e);if(null===this._x1)this._+="M"+S+","+z;else if(1E-6<Math.abs(this._x1-S)||1E-6<Math.abs(this._y1-z))this._+="L"+S+","+z;e&&(0>ea&&(ea=ea%u+u),ea>t?this._+="A"+e+","+e+",0,1,"+J+","+(a-C)+","+(b-r)+"A"+e+","+e+",0,1,"+J+","+(this._x1=S)+","+(this._y1=z):1E-6<ea&&(this._+="A"+e+","+e+",0,"+ +(ea>=H)+","+J+","+(this._x1=a+e*Math.cos(T))+","+(this._y1=b+e*Math.sin(T))))},rect:function(a,b,e,t){this._+="M"+(this._x0=this._x1=+a)+","+(this._y0=this._y1=+b)+"h"+ +e+"v"+ +t+"h"+-e+"Z"},toString:function(){return this._}};
a.path=e;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[38]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(37)):"function"===typeof define&&define.amd?define(["exports","d3-path"],b):(a=a||self,b(a.d3=a.d3||{},a.d3))})(this,function(a,b){function e(a){return function(){return a}}function H(a){return 1<=a?Cb:-1>=a?-Cb:Math.asin(a)}function u(a){return a.innerRadius}function t(a){return a.outerRadius}function C(a){return a.startAngle}function w(a){return a.endAngle}function P(a){return a&&a.padAngle}function ea(a,
b,c,d,e,m,l){var g=a-c,h=b-d;l=(l?m:-m)/Bb(g*g+h*h);h*=l;g*=-l;var v=a+h,k=b+g,E=c+h,x=d+g;c=(v+E)/2;d=(k+x)/2;b=E-v;a=x-k;l=b*b+a*a;m=e-m;x=v*x-E*k;var da=(0>a?-1:1)*Bb(ub(0,m*m*l-x*x));v=(x*a-b*da)/l;k=(-x*b-a*da)/l;E=(x*a+b*da)/l;b=(-x*b+a*da)/l;a=v-c;l=k-d;c=E-c;d=b-d;a*a+l*l>c*c+d*d&&(v=E,k=b);return{cx:v,cy:k,x01:-h,y01:-g,x11:v*(e/m-1),y11:k*(e/m-1)}}function T(a){this._context=a}function F(a){return new T(a)}function W(a){return a[0]}function r(a){return a[1]}function S(){function a(a){var e,
v=a.length,k,E=!1,x;null==l&&(h=g(x=b.path()));for(e=0;e<=v;++e)!(e<v&&m(k=a[e],e,a))===E&&((E=!E)?h.lineStart():h.lineEnd()),E&&h.point(+c(k,e,a),+d(k,e,a));if(x)return h=null,x+""||null}var c=W,d=r,m=e(!0),l=null,g=F,h=null;a.x=function(b){return arguments.length?(c="function"===typeof b?b:e(+b),a):c};a.y=function(b){return arguments.length?(d="function"===typeof b?b:e(+b),a):d};a.defined=function(b){return arguments.length?(m="function"===typeof b?b:e(!!b),a):m};a.curve=function(b){return arguments.length?
(g=b,null!=l&&(h=g(l)),a):g};a.context=function(b){return arguments.length?(null==b?l=h=null:h=g(l=b),a):l};return a}function z(){function a(a){var c,e,x=a.length,da,p=!1,fa,B=Array(x),oa=Array(x);null==v&&(E=k(fa=b.path()));for(c=0;c<=x;++c){if(!(c<x&&h(da=a[c],c,a))===p)if(p=!p){var r=c;E.areaStart();E.lineStart()}else{E.lineEnd();E.lineStart();for(e=c-1;e>=r;--e)E.point(B[e],oa[e]);E.lineEnd();E.areaEnd()}p&&(B[c]=+d(da,c,a),oa[c]=+l(da,c,a),E.point(m?+m(da,c,a):B[c],g?+g(da,c,a):oa[c]))}if(fa)return E=
null,fa+""||null}function c(){return S().defined(h).curve(k).context(v)}var d=W,m=null,l=e(0),g=r,h=e(!0),v=null,k=F,E=null;a.x=function(b){return arguments.length?(d="function"===typeof b?b:e(+b),m=null,a):d};a.x0=function(b){return arguments.length?(d="function"===typeof b?b:e(+b),a):d};a.x1=function(b){return arguments.length?(m=null==b?null:"function"===typeof b?b:e(+b),a):m};a.y=function(b){return arguments.length?(l="function"===typeof b?b:e(+b),g=null,a):l};a.y0=function(b){return arguments.length?
(l="function"===typeof b?b:e(+b),a):l};a.y1=function(b){return arguments.length?(g=null==b?null:"function"===typeof b?b:e(+b),a):g};a.lineX0=a.lineY0=function(){return c().x(d).y(l)};a.lineY1=function(){return c().x(d).y(g)};a.lineX1=function(){return c().x(m).y(l)};a.defined=function(b){return arguments.length?(h="function"===typeof b?b:e(!!b),a):h};a.curve=function(b){return arguments.length?(k=b,null!=v&&(E=k(v)),a):k};a.context=function(b){return arguments.length?(null==b?v=E=null:E=k(v=b),a):
v};return a}function J(a,b){return b<a?-1:b>a?1:b>=a?0:NaN}function p(a){return a}function k(a){this._curve=a}function N(a){function b(b){return new k(a(b))}b._curve=a;return b}function D(a){var b=a.curve;a.angle=a.x;delete a.x;a.radius=a.y;delete a.y;a.curve=function(a){return arguments.length?b(N(a)):b()._curve};return a}function O(){return D(S().curve($a))}function c(){var a=z().curve($a),b=a.curve,c=a.lineX0,d=a.lineX1,e=a.lineY0,m=a.lineY1;a.angle=a.x;delete a.x;a.startAngle=a.x0;delete a.x0;
a.endAngle=a.x1;delete a.x1;a.radius=a.y;delete a.y;a.innerRadius=a.y0;delete a.y0;a.outerRadius=a.y1;delete a.y1;a.lineStartAngle=function(){return D(c())};delete a.lineX0;a.lineEndAngle=function(){return D(d())};delete a.lineX1;a.lineInnerRadius=function(){return D(e())};delete a.lineY0;a.lineOuterRadius=function(){return D(m())};delete a.lineY1;a.curve=function(a){return arguments.length?b(N(a)):b()._curve};return a}function h(a,b){return[(b=+b)*Math.cos(a-=Math.PI/2),b*Math.sin(a)]}function ba(a){return a.source}
function L(a){return a.target}function ma(a){function c(){var c,e=Lb.call(arguments),v=d.apply(this,e),k=m.apply(this,e);h||(h=c=b.path());a(h,+l.apply(this,(e[0]=v,e)),+g.apply(this,e),+l.apply(this,(e[0]=k,e)),+g.apply(this,e));if(c)return h=null,c+""||null}var d=ba,m=L,l=W,g=r,h=null;c.source=function(a){return arguments.length?(d=a,c):d};c.target=function(a){return arguments.length?(m=a,c):m};c.x=function(a){return arguments.length?(l="function"===typeof a?a:e(+a),c):l};c.y=function(a){return arguments.length?
(g="function"===typeof a?a:e(+a),c):g};c.context=function(a){return arguments.length?(h=null==a?null:a,c):h};return c}function B(a,b,c,d,e){a.moveTo(b,c);a.bezierCurveTo(b=(b+d)/2,c,b,e,d,e)}function ia(a,b,c,d,e){a.moveTo(b,c);a.bezierCurveTo(b,c=(c+e)/2,d,c,d,e)}function va(a,b,c,d,e){var m=h(b,c);b=h(b,c=(c+e)/2);c=h(d,c);d=h(d,e);a.moveTo(m[0],m[1]);a.bezierCurveTo(b[0],b[1],c[0],c[1],d[0],d[1])}function qa(){}function g(a,b,c){a._context.bezierCurveTo((2*a._x0+a._x1)/3,(2*a._y0+a._y1)/3,(a._x0+
2*a._x1)/3,(a._y0+2*a._y1)/3,(a._x0+4*a._x1+b)/6,(a._y0+4*a._y1+c)/6)}function d(a){this._context=a}function M(a){this._context=a}function Q(a){this._context=a}function G(a,b){this._basis=new d(a);this._beta=b}function I(a,b,c){a._context.bezierCurveTo(a._x1+a._k*(a._x2-a._x0),a._y1+a._k*(a._y2-a._y0),a._x2+a._k*(a._x1-b),a._y2+a._k*(a._y1-c),a._x2,a._y2)}function ha(a,b){this._context=a;this._k=(1-b)/6}function aa(a,b){this._context=a;this._k=(1-b)/6}function sa(a,b){this._context=a;this._k=(1-b)/
6}function ya(a,b,c){var d=a._x1,e=a._y1,m=a._x2,l=a._y2;if(1E-12<a._l01_a){var g=2*a._l01_2a+3*a._l01_a*a._l12_a+a._l12_2a,h=3*a._l01_a*(a._l01_a+a._l12_a);d=(d*g-a._x0*a._l12_2a+a._x2*a._l01_2a)/h;e=(e*g-a._y0*a._l12_2a+a._y2*a._l01_2a)/h}1E-12<a._l23_a&&(g=2*a._l23_2a+3*a._l23_a*a._l12_a+a._l12_2a,h=3*a._l23_a*(a._l23_a+a._l12_a),m=(m*g+a._x1*a._l23_2a-b*a._l12_2a)/h,l=(l*g+a._y1*a._l23_2a-c*a._l12_2a)/h);a._context.bezierCurveTo(d,e,m,l,a._x2,a._y2)}function Na(a,b){this._context=a;this._alpha=
b}function Ea(a,b){this._context=a;this._alpha=b}function Ma(a,b){this._context=a;this._alpha=b}function U(a){this._context=a}function Ba(a,b,c){var d=a._x1-a._x0;b-=a._x1;var e=(a._y1-a._y0)/(d||0>b&&-0);a=(c-a._y1)/(b||0>d&&-0);return((0>e?-1:1)+(0>a?-1:1))*Math.min(Math.abs(e),Math.abs(a),.5*Math.abs((e*b+a*d)/(d+b)))||0}function l(a,b){var c=a._x1-a._x0;return c?(3*(a._y1-a._y0)/c-b)/2:b}function v(a,b,c){var d=a._x0,e=a._x1,m=a._y1,l=(e-d)/3;a._context.bezierCurveTo(d+l,a._y0+l*b,e-l,m-l*c,e,
m)}function x(a){this._context=a}function m(a){this._context=new E(a)}function E(a){this._context=a}function Ua(a){this._context=a}function da(a){var b,c=a.length-1,d=Array(c),e=Array(c),m=Array(c);d[0]=0;e[0]=2;m[0]=a[0]+2*a[1];for(b=1;b<c-1;++b)d[b]=1,e[b]=4,m[b]=4*a[b]+2*a[b+1];d[c-1]=2;e[c-1]=7;m[c-1]=8*a[c-1]+a[c];for(b=1;b<c;++b){var l=d[b]/e[b-1];e[b]-=l;m[b]-=l*m[b-1]}d[c-1]=m[c-1]/e[c-1];for(b=c-2;0<=b;--b)d[b]=(m[b]-d[b+1])/e[b];e[c-1]=(a[c]+d[c-1])/2;for(b=0;b<c-1;++b)e[b]=2*a[b+1]-d[b+
1];return[d,e]}function oa(a,b){this._context=a;this._t=b}function Wa(a,b){if(1<(l=a.length))for(var c=1,d,e,m=a[b[0]],l,g=m.length;c<l;++c)for(e=m,m=a[b[c]],d=0;d<g;++d)m[d][1]+=m[d][0]=isNaN(e[d][1])?e[d][0]:e[d][1]}function Qa(a){a=a.length;for(var b=Array(a);0<=--a;)b[a]=a;return b}function wa(a,b){return a[b]}function fa(a){var b=a.map(cb);return Qa(a).sort(function(a,c){return b[a]-b[c]})}function cb(a){for(var b=-1,c=0,d=a.length,e,m=-Infinity;++b<d;)(e=+a[b][1])>m&&(m=e,c=b);return c}function kb(a){var b=
a.map(fb);return Qa(a).sort(function(a,c){return b[a]-b[c]})}function fb(a){for(var b=0,c=-1,d=a.length,e;++c<d;)if(e=+a[c][1])b+=e;return b}var qb=Math.abs,Ja=Math.atan2,pa=Math.cos,ub=Math.max,Rb=Math.min,Va=Math.sin,Bb=Math.sqrt,ka=Math.PI,Cb=ka/2,Db=2*ka;T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(a,
b){a=+a;b=+b;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:this._context.lineTo(a,b)}}};var $a=N(F);k.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(a,b){this._curve.point(b*Math.sin(a),b*-Math.cos(a))}};var Lb=Array.prototype.slice,tc={draw:function(a,
b){b=Math.sqrt(b/ka);a.moveTo(b,0);a.arc(0,0,b,0,Db)}},rb={draw:function(a,b){b=Math.sqrt(b/5)/2;a.moveTo(-3*b,-b);a.lineTo(-b,-b);a.lineTo(-b,-3*b);a.lineTo(b,-3*b);a.lineTo(b,-b);a.lineTo(3*b,-b);a.lineTo(3*b,b);a.lineTo(b,b);a.lineTo(b,3*b);a.lineTo(-b,3*b);a.lineTo(-b,b);a.lineTo(-3*b,b);a.closePath()}},Tb=Math.sqrt(1/3),Eb=2*Tb,Xa={draw:function(a,b){b=Math.sqrt(b/Eb);var c=b*Tb;a.moveTo(0,-b);a.lineTo(c,0);a.lineTo(0,b);a.lineTo(-c,0);a.closePath()}},xa=Math.sin(ka/10)/Math.sin(7*ka/10),Fb=
Math.sin(Db/10)*xa,qc=-Math.cos(Db/10)*xa;xa={draw:function(a,b){b=Math.sqrt(.8908130915292852*b);var c=Fb*b,d=qc*b;a.moveTo(0,-b);a.lineTo(c,d);for(var e=1;5>e;++e){var m=Db*e/5,l=Math.cos(m);m=Math.sin(m);a.lineTo(m*b,-l*b);a.lineTo(l*c-m*d,m*c+l*d)}a.closePath()}};var Sb={draw:function(a,b){b=Math.sqrt(b);var c=-b/2;a.rect(c,c,b,b)}},ab=Math.sqrt(3),fc={draw:function(a,b){b=-Math.sqrt(b/(3*ab));a.moveTo(0,2*b);a.lineTo(-ab*b,-b);a.lineTo(ab*b,-b);a.closePath()}},sb=Math.sqrt(3)/2,ac=1/Math.sqrt(12),
gb=3*(ac/2+1),db={draw:function(a,b){var c=Math.sqrt(b/gb);b=c/2;var d=c*ac;c=c*ac+c;var e=-b;a.moveTo(b,d);a.lineTo(b,c);a.lineTo(e,c);a.lineTo(-.5*b-sb*d,sb*b+-.5*d);a.lineTo(-.5*b-sb*c,sb*b+-.5*c);a.lineTo(-.5*e-sb*c,sb*e+-.5*c);a.lineTo(-.5*b+sb*d,-.5*d-sb*b);a.lineTo(-.5*b+sb*c,-.5*c-sb*b);a.lineTo(-.5*e+sb*c,-.5*c-sb*e);a.closePath()}},Ob=[tc,rb,Xa,Sb,xa,fc,db];d.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=
this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:g(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(a,b){a=+a;b=+b;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);
default:g(this,a,b)}this._x0=this._x1;this._x1=a;this._y0=this._y1;this._y1=b}};M.prototype={areaStart:qa,areaEnd:qa,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/
3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(a,b){a=+a;b=+b;switch(this._point){case 0:this._point=1;this._x2=a;this._y2=b;break;case 1:this._point=2;this._x3=a;this._y3=b;break;case 2:this._point=3;this._x4=a;this._y4=b;this._context.moveTo((this._x0+4*this._x1+a)/6,(this._y0+4*this._y1+b)/6);break;default:g(this,a,b)}this._x0=this._x1;this._x1=a;this._y0=this._y1;this._y1=b}};Q.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(a,b){a=+a;b=+b;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var c=(this._x0+4*this._x1+a)/6,d=(this._y0+4*this._y1+b)/6;this._line?this._context.lineTo(c,d):this._context.moveTo(c,d);break;case 3:this._point=
4;default:g(this,a,b)}this._x0=this._x1;this._x1=a;this._y0=this._y1;this._y1=b}};G.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var a=this._x,b=this._y,c=a.length-1;if(0<c)for(var d=a[0],e=b[0],m=a[c]-d,l=b[c]-e,g=-1,h;++g<=c;)h=g/c,this._basis.point(this._beta*a[g]+(1-this._beta)*(d+h*m),this._beta*b[g]+(1-this._beta)*(e+h*l));this._x=this._y=null;this._basis.lineEnd()},point:function(a,b){this._x.push(+a);this._y.push(+b)}};var gc=function dc(a){function b(b){return 1===
a?new d(b):new G(b,a)}b.beta=function(a){return dc(+a)};return b}(.85);ha.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:I(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(a,b){a=+a;b=+b;
switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;this._x1=a;this._y1=b;break;case 2:this._point=3;default:I(this,a,b)}this._x0=this._x1;this._x1=this._x2;this._x2=a;this._y0=this._y1;this._y1=this._y2;this._y2=b}};var jc=function Kb(a){function b(b){return new ha(b,a)}b.tension=function(a){return Kb(+a)};return b}(0);aa.prototype={areaStart:qa,areaEnd:qa,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=
this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(a,b){a=+a;b=+b;switch(this._point){case 0:this._point=1;this._x3=a;this._y3=b;break;case 1:this._point=2;this._context.moveTo(this._x4=
a,this._y4=b);break;case 2:this._point=3;this._x5=a;this._y5=b;break;default:I(this,a,b)}this._x0=this._x1;this._x1=this._x2;this._x2=a;this._y0=this._y1;this._y1=this._y2;this._y2=b}};var Ic=function $b(a){function b(b){return new aa(b,a)}b.tension=function(a){return $b(+a)};return b}(0);sa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==
this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(a,b){a=+a;b=+b;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:I(this,a,b)}this._x0=this._x1;this._x1=this._x2;this._x2=a;this._y0=this._y1;this._y1=this._y2;this._y2=b}};var td=function hc(a){function b(b){return new sa(b,a)}b.tension=
function(a){return hc(+a)};return b}(0);Na.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=
1-this._line},point:function(a,b){a=+a;b=+b;if(this._point){var c=this._x2-a,d=this._y2-b;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+d*d,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3;default:ya(this,a,b)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=a;this._y0=this._y1;this._y1=
this._y2;this._y2=b}};var kc=function lc(a){function b(b){return a?new Na(b,a):new ha(b,0)}b.alpha=function(a){return lc(+a)};return b}(.5);Ea.prototype={areaStart:qa,areaEnd:qa,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();
break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(a,b){a=+a;b=+b;if(this._point){var c=this._x2-a,d=this._y2-b;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+d*d,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=a;this._y3=b;break;case 1:this._point=2;this._context.moveTo(this._x4=a,this._y4=b);break;case 2:this._point=3;this._x5=a;this._y5=
b;break;default:ya(this,a,b)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=a;this._y0=this._y1;this._y1=this._y2;this._y2=b}};var Vc=function mc(a){function b(b){return a?new Ea(b,a):new aa(b,0)}b.alpha=function(a){return mc(+a)};return b}(.5);Ma.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=
NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(a,b){a=+a;b=+b;if(this._point){var c=this._x2-a,d=this._y2-b;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+d*d,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,
this._y2);break;case 3:this._point=4;default:ya(this,a,b)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=a;this._y0=this._y1;this._y1=this._y2;this._y2=b}};var Nc=function uc(a){function b(b){return a?new Ma(b,a):new sa(b,0)}b.alpha=function(a){return uc(+a)};return b}(.5);U.prototype={areaStart:qa,areaEnd:qa,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},
point:function(a,b){a=+a;b=+b;this._point?this._context.lineTo(a,b):(this._point=1,this._context.moveTo(a,b))}};x.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:v(this,this._t0,l(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},
point:function(a,b){var c=NaN;a=+a;b=+b;if(a!==this._x1||b!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3;v(this,l(this,c=Ba(this,a,b)),c);break;default:v(this,this._t0,c=Ba(this,a,b))}this._x0=this._x1;this._x1=a;this._y0=this._y1;this._y1=b;this._t0=c}}};(m.prototype=Object.create(x.prototype)).point=function(a,b){x.prototype.point.call(this,b,a)};E.prototype={moveTo:function(a,
b){this._context.moveTo(b,a)},closePath:function(){this._context.closePath()},lineTo:function(a,b){this._context.lineTo(b,a)},bezierCurveTo:function(a,b,c,d,e,m){this._context.bezierCurveTo(b,a,d,c,m,e)}};Ua.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var a=this._x,b=this._y,c=a.length;if(c)if(this._line?this._context.lineTo(a[0],b[0]):this._context.moveTo(a[0],b[0]),2===c)this._context.lineTo(a[1],
b[1]);else for(var d=da(a),e=da(b),m=0,l=1;l<c;++m,++l)this._context.bezierCurveTo(d[0][m],e[0][m],d[1][m],e[1][m],a[l],b[l]);(this._line||0!==this._line&&1===c)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(a,b){this._x.push(+a);this._y.push(+b)}};oa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,
this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(a,b){a=+a;b=+b;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,b),this._context.lineTo(a,b);else{var c=this._x*(1-this._t)+a*this._t;this._context.lineTo(c,this._y);this._context.lineTo(c,b)}}this._x=a;this._y=
b}};a.arc=function(){function a(){var a,e=+c.apply(this,arguments),E=+d.apply(this,arguments),x=g.apply(this,arguments)-Cb,da=h.apply(this,arguments)-Cb,p=qb(da-x),fa=da>x;k||(k=a=b.path());if(E<e){var B=E;E=e;e=B}if(1E-12<E)if(p>Db-1E-12)k.moveTo(E*pa(x),E*Va(x)),k.arc(0,0,E,x,da,!fa),1E-12<e&&(k.moveTo(e*pa(da),e*Va(da)),k.arc(0,0,e,da,x,fa));else{var oa=x,r=da;B=x;var t=da,cb=p,L=p,fb=v.apply(this,arguments)/2,Ua=1E-12<fb&&(l?+l.apply(this,arguments):Bb(e*e+E*E)),z=Rb(qb(E-e)/2,+m.apply(this,arguments)),
O=z,ba=z;if(1E-12<Ua){var Wa=H(Ua/e*Va(fb));fb=H(Ua/E*Va(fb));1E-12<(cb-=2*Wa)?(Wa*=fa?1:-1,B+=Wa,t-=Wa):(cb=0,B=t=(x+da)/2);1E-12<(L-=2*fb)?(fb*=fa?1:-1,oa+=fb,r-=fb):(L=0,oa=r=(x+da)/2)}x=E*pa(oa);da=E*Va(oa);Wa=e*pa(t);fb=e*Va(t);if(1E-12<z){var kc=E*pa(r),ia=E*Va(r),N=e*pa(B),kb=e*Va(B);if(p=p<ka){var J=N-x;p=kb-da;Ua=Wa-kc;var Qa=fb-ia,F=Qa*J-Ua*p;1E-12>F*F?J=void 0:(F=(Ua*(da-ia)-Qa*(x-kc))/F,J=[x+F*J,da+F*p]);p=J}p&&(O=x-J[0],ba=da-J[1],p=kc-J[0],Ua=ia-J[1],O=(O*p+ba*Ua)/(Bb(O*O+ba*ba)*Bb(p*
p+Ua*Ua)),ba=1/Va((1<O?0:-1>O?ka:Math.acos(O))/2),J=Bb(J[0]*J[0]+J[1]*J[1]),O=Rb(z,(e-J)/(ba-1)),ba=Rb(z,(E-J)/(ba+1)))}1E-12<L?1E-12<ba?(oa=ea(N,kb,x,da,E,ba,fa),r=ea(kc,ia,Wa,fb,E,ba,fa),k.moveTo(oa.cx+oa.x01,oa.cy+oa.y01),ba<z?k.arc(oa.cx,oa.cy,ba,Ja(oa.y01,oa.x01),Ja(r.y01,r.x01),!fa):(k.arc(oa.cx,oa.cy,ba,Ja(oa.y01,oa.x01),Ja(oa.y11,oa.x11),!fa),k.arc(0,0,E,Ja(oa.cy+oa.y11,oa.cx+oa.x11),Ja(r.cy+r.y11,r.cx+r.x11),!fa),k.arc(r.cx,r.cy,ba,Ja(r.y11,r.x11),Ja(r.y01,r.x01),!fa))):(k.moveTo(x,da),k.arc(0,
0,E,oa,r,!fa)):k.moveTo(x,da);1E-12<e&&1E-12<cb?1E-12<O?(oa=ea(Wa,fb,kc,ia,e,-O,fa),r=ea(x,da,N,kb,e,-O,fa),k.lineTo(oa.cx+oa.x01,oa.cy+oa.y01),O<z?k.arc(oa.cx,oa.cy,O,Ja(oa.y01,oa.x01),Ja(r.y01,r.x01),!fa):(k.arc(oa.cx,oa.cy,O,Ja(oa.y01,oa.x01),Ja(oa.y11,oa.x11),!fa),k.arc(0,0,e,Ja(oa.cy+oa.y11,oa.cx+oa.x11),Ja(r.cy+r.y11,r.cx+r.x11),fa),k.arc(r.cx,r.cy,O,Ja(r.y11,r.x11),Ja(r.y01,r.x01),!fa))):k.arc(0,0,e,t,B,fa):k.lineTo(Wa,fb)}else k.moveTo(0,0);k.closePath();if(a)return k=null,a+""||null}var c=
u,d=t,m=e(0),l=null,g=C,h=w,v=P,k=null;a.centroid=function(){var a=(+c.apply(this,arguments)+ +d.apply(this,arguments))/2,b=(+g.apply(this,arguments)+ +h.apply(this,arguments))/2-ka/2;return[pa(b)*a,Va(b)*a]};a.innerRadius=function(b){return arguments.length?(c="function"===typeof b?b:e(+b),a):c};a.outerRadius=function(b){return arguments.length?(d="function"===typeof b?b:e(+b),a):d};a.cornerRadius=function(b){return arguments.length?(m="function"===typeof b?b:e(+b),a):m};a.padRadius=function(b){return arguments.length?
(l=null==b?null:"function"===typeof b?b:e(+b),a):l};a.startAngle=function(b){return arguments.length?(g="function"===typeof b?b:e(+b),a):g};a.endAngle=function(b){return arguments.length?(h="function"===typeof b?b:e(+b),a):h};a.padAngle=function(b){return arguments.length?(v="function"===typeof b?b:e(+b),a):v};a.context=function(b){return arguments.length?(k=null==b?null:b,a):k};return a};a.area=z;a.areaRadial=c;a.curveBasis=function(a){return new d(a)};a.curveBasisClosed=function(a){return new M(a)};
a.curveBasisOpen=function(a){return new Q(a)};a.curveBundle=gc;a.curveCardinal=jc;a.curveCardinalClosed=Ic;a.curveCardinalOpen=td;a.curveCatmullRom=kc;a.curveCatmullRomClosed=Vc;a.curveCatmullRomOpen=Nc;a.curveLinear=F;a.curveLinearClosed=function(a){return new U(a)};a.curveMonotoneX=function(a){return new x(a)};a.curveMonotoneY=function(a){return new m(a)};a.curveNatural=function(a){return new Ua(a)};a.curveStep=function(a){return new oa(a,.5)};a.curveStepAfter=function(a){return new oa(a,1)};a.curveStepBefore=
function(a){return new oa(a,0)};a.line=S;a.lineRadial=O;a.linkHorizontal=function(){return ma(B)};a.linkRadial=function(){var a=ma(va);a.angle=a.x;delete a.x;a.radius=a.y;delete a.y;return a};a.linkVertical=function(){return ma(ia)};a.pie=function(){function a(a){var e,h=a.length;var v=0;var k=Array(h),E=Array(h),x=+m.apply(this,arguments);var da=Math.min(Db,Math.max(-Db,l.apply(this,arguments)-x));var p=Math.min(Math.abs(da)/h,g.apply(this,arguments)),fa=p*(0>da?-1:1),B;for(e=0;e<h;++e)0<(B=E[k[e]=
e]=+b(a[e],e,a))&&(v+=B);null!=c?k.sort(function(a,b){return c(E[a],E[b])}):null!=d&&k.sort(function(b,c){return d(a[b],a[c])});e=0;for(da=v?(da-h*fa)/v:0;e<h;++e,x=oa){v=k[e];B=E[v];var oa=x+(0<B?B*da:0)+fa;E[v]={data:a[v],index:e,value:B,startAngle:x,endAngle:oa,padAngle:p}}return E}var b=p,c=J,d=null,m=e(0),l=e(Db),g=e(0);a.value=function(c){return arguments.length?(b="function"===typeof c?c:e(+c),a):b};a.sortValues=function(b){return arguments.length?(c=b,d=null,a):c};a.sort=function(b){return arguments.length?
(d=b,c=null,a):d};a.startAngle=function(b){return arguments.length?(m="function"===typeof b?b:e(+b),a):m};a.endAngle=function(b){return arguments.length?(l="function"===typeof b?b:e(+b),a):l};a.padAngle=function(b){return arguments.length?(g="function"===typeof b?b:e(+b),a):g};return a};a.pointRadial=h;a.radialArea=c;a.radialLine=O;a.stack=function(){function a(a){var e=b.apply(this,arguments),l,g=a.length,h=e.length,v=Array(h);for(l=0;l<h;++l){for(var k=e[l],E=v[l]=Array(g),x=0,da;x<g;++x)E[x]=da=
[0,+m(a[x],k,x,a)],da.data=a[x];E.key=k}l=0;for(e=c(v);l<h;++l)v[e[l]].index=l;d(v,e);return v}var b=e([]),c=Qa,d=Wa,m=wa;a.keys=function(c){return arguments.length?(b="function"===typeof c?c:e(Lb.call(c)),a):b};a.value=function(b){return arguments.length?(m="function"===typeof b?b:e(+b),a):m};a.order=function(b){return arguments.length?(c=null==b?Qa:"function"===typeof b?b:e(Lb.call(b)),a):c};a.offset=function(b){return arguments.length?(d=null==b?Wa:b,a):d};return a};a.stackOffsetDiverging=function(a,
b){if(0<(h=a.length))for(var c,d=0,e,m,l,g,h,v=a[b[0]].length;d<v;++d)for(c=l=g=0;c<h;++c)0<(m=(e=a[b[c]][d])[1]-e[0])?(e[0]=l,e[1]=l+=m):0>m?(e[1]=g,e[0]=g+=m):(e[0]=0,e[1]=m)};a.stackOffsetExpand=function(a,b){if(0<(d=a.length)){for(var c,d,e=0,m=a[0].length,l;e<m;++e){for(l=c=0;c<d;++c)l+=a[c][e][1]||0;if(l)for(c=0;c<d;++c)a[c][e][1]/=l}Wa(a,b)}};a.stackOffsetNone=Wa;a.stackOffsetSilhouette=function(a,b){if(0<(e=a.length)){for(var c=0,d=a[b[0]],e,m=d.length;c<m;++c){for(var l=0,g=0;l<e;++l)g+=
a[l][c][1]||0;d[c][1]+=d[c][0]=-g/2}Wa(a,b)}};a.stackOffsetWiggle=function(a,b){if(0<(l=a.length)&&0<(m=(e=a[b[0]]).length)){for(var c=0,d=1,e,m,l;d<m;++d){for(var g=0,h=0,v=0;g<l;++g){var k=a[b[g]],E=k[d][1]||0;k=(E-(k[d-1][1]||0))/2;for(var x=0;x<g;++x){var da=a[b[x]];k+=(da[d][1]||0)-(da[d-1][1]||0)}h+=E;v+=k*E}e[d-1][1]+=e[d-1][0]=c;h&&(c-=v/h)}e[d-1][1]+=e[d-1][0]=c;Wa(a,b)}};a.stackOrderAppearance=fa;a.stackOrderAscending=kb;a.stackOrderDescending=function(a){return kb(a).reverse()};a.stackOrderInsideOut=
function(a){var b=a.length,c=a.map(fb),d=fa(a),e=0,m=0,l=[],g=[];for(a=0;a<b;++a){var h=d[a];e<m?(e+=c[h],l.push(h)):(m+=c[h],g.push(h))}return g.reverse().concat(l)};a.stackOrderNone=Qa;a.stackOrderReverse=function(a){return Qa(a).reverse()};a.symbol=function(){function a(){var a;m||(m=a=b.path());c.apply(this,arguments).draw(m,+d.apply(this,arguments));if(a)return m=null,a+""||null}var c=e(tc),d=e(64),m=null;a.type=function(b){return arguments.length?(c="function"===typeof b?b:e(b),a):c};a.size=
function(b){return arguments.length?(d="function"===typeof b?b:e(+b),a):d};a.context=function(b){return arguments.length?(m=null==b?null:b,a):m};return a};a.symbolCircle=tc;a.symbolCross=rb;a.symbolDiamond=Xa;a.symbolSquare=Sb;a.symbolStar=xa;a.symbolTriangle=fc;a.symbolWye=db;a.symbols=Ob;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[39]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(21),w(36),w(30),w(38),w(37)):"function"===typeof define&&define.amd?define("exports vega-util vega-canvas vega-loader d3-shape d3-path".split(" "),b):(a=a||self,b(a.vega={},a.vega,a.vega,a.vega,a.d3,a.d3))})(this,function(a,b,e,H,u,t){function C(a){this.clear();a&&this.union(a)}function w(a,b,c){let f=a.id,n=a.gradient,d="radial"===n?"p_":"";f||(f=a.id="gradient_"+hb++,"radial"===n?(a.x1=P(a.x1,.5),
a.y1=P(a.y1,.5),a.r1=P(a.r1,0),a.x2=P(a.x2,.5),a.y2=P(a.y2,.5),a.r2=P(a.r2,.5),d="p_"):(a.x1=P(a.x1,0),a.y1=P(a.y1,0),a.x2=P(a.x2,1),a.y2=P(a.y2,0)));b[f]=a;return"url("+(c||"")+"#"+d+f+")"}function P(a,b){return null!=a?a:b}function ea(a){this.mark=a;this.bounds=this.bounds||new C}function T(a){ea.call(this,a);this.items=this.items||[]}function F(a){this._pending=0;this._loader=a||H.loader()}function W(a,c,d){a=b.hasOwnProperty(yd,a)&&yd[a];var f=null;a&&(f=a.curve||a[c||"vertical"],a.tension&&null!=
d&&(f=f[a.tension](d)));return f}function r(a){var b=[],f,c,d;a=a.slice().replace(Gb[0],"###$1").split(Gb[1]).slice(1);var e=0;for(c=a.length;e<c;++e){var m=a[e];var l=m.slice(1).trim().replace(Gb[2],"$1###$2").split(Gb[3]);var g=m.charAt(0);m=[g];var h=0;for(d=l.length;h<d;++h)(f=+l[h])===f&&m.push(f);l=bc[g.toLowerCase()];if(m.length-1>l)for(h=1,d=m.length;h<d;h+=l)b.push([g].concat(m.slice(h,h+l)));else b.push(m)}return b}function S(a,b,c,d,e,m,l,g,h){var f=ib.call(arguments);if(V[f])return V[f];
var n=l*Ia,y=Math.sin(n);n=Math.cos(n);c=Math.abs(c);d=Math.abs(d);var K=n*(g-a)*.5+y*(h-b)*.5,A=n*(h-b)*.5-y*(g-a)*.5;K=K*K/(c*c)+A*A/(d*d);1<K&&(K=Math.sqrt(K),c*=K,d*=K);var v=n/c,k=y/c,E=-y/d,x=n/d;K=v*g+k*h;A=E*g+x*h;v=v*a+k*b;k=E*a+x*b;E=1/((v-K)*(v-K)+(k-A)*(k-A))-.25;0>E&&(E=0);x=Math.sqrt(E);m==e&&(x=-x);E=.5*(K+v)-x*(k-A);x=.5*(A+k)+x*(v-K);K=Math.atan2(A-x,K-E);A=Math.atan2(k-x,v-E)-K;0>A&&1===m?A+=eb:0<A&&0===m&&(A-=eb);v=Math.ceil(Math.abs(A/(Ha+.001)));k=[];for(var Z=0;Z<v;++Z)k[Z]=
[E,x,K+Z*A/v,K+(Z+1)*A/v,c,d,y,n];return V[f]=k}function z(a,b,c,d,e,m){var f=null,n=0,l=0,y=0,g=0;null==c&&(c=0);null==d&&(d=0);null==e&&(e=1);null==m&&(m=e);a.beginPath&&a.beginPath();for(var h=0,K=b.length;h<K;++h){var A=b[h];if(1!==e||1!==m){var v=e;var k=m;var E=X[0]=A[0];if("a"===E||"A"===E)X[1]=v*A[1],X[2]=k*A[2],X[3]=A[3],X[4]=A[4],X[5]=A[5],X[6]=v*A[6],X[7]=k*A[7];else if("h"===E||"H"===E)X[1]=v*A[1];else if("v"===E||"V"===E)X[1]=k*A[1];else{E=1;for(var x=A.length;E<x;++E)X[E]=(1==E%2?v:
k)*A[E]}A=X}switch(A[0]){case "l":n+=A[1];l+=A[2];a.lineTo(n+c,l+d);break;case "L":n=A[1];l=A[2];a.lineTo(n+c,l+d);break;case "h":n+=A[1];a.lineTo(n+c,l+d);break;case "H":n=A[1];a.lineTo(n+c,l+d);break;case "v":l+=A[1];a.lineTo(n+c,l+d);break;case "V":l=A[1];a.lineTo(n+c,l+d);break;case "m":n+=A[1];l+=A[2];a.moveTo(n+c,l+d);break;case "M":n=A[1];l=A[2];a.moveTo(n+c,l+d);break;case "c":v=n+A[5];k=l+A[6];y=n+A[3];g=l+A[4];a.bezierCurveTo(n+A[1]+c,l+A[2]+d,y+c,g+d,v+c,k+d);n=v;l=k;break;case "C":n=A[5];
l=A[6];y=A[3];g=A[4];a.bezierCurveTo(A[1]+c,A[2]+d,y+c,g+d,n+c,l+d);break;case "s":v=n+A[3];k=l+A[4];y=2*n-y;g=2*l-g;a.bezierCurveTo(y+c,g+d,n+A[1]+c,l+A[2]+d,v+c,k+d);y=n+A[1];g=l+A[2];n=v;l=k;break;case "S":v=A[3];k=A[4];y=2*n-y;g=2*l-g;a.bezierCurveTo(y+c,g+d,A[1]+c,A[2]+d,v+c,k+d);n=v;l=k;y=A[1];g=A[2];break;case "q":v=n+A[3];k=l+A[4];y=n+A[1];g=l+A[2];a.quadraticCurveTo(y+c,g+d,v+c,k+d);n=v;l=k;break;case "Q":v=A[3];k=A[4];a.quadraticCurveTo(A[1]+c,A[2]+d,v+c,k+d);n=v;l=k;y=A[1];g=A[2];break;
case "t":v=n+A[1];k=l+A[2];null===f[0].match(/[QqTt]/)?(y=n,g=l):"t"===f[0]?(y=2*n-Z,g=2*l-Jb):"q"===f[0]&&(y=2*n-y,g=2*l-g);var Z=y;var Jb=g;a.quadraticCurveTo(y+c,g+d,v+c,k+d);n=v;l=k;y=n+A[1];g=l+A[2];break;case "T":v=A[1];k=A[2];y=2*n-y;g=2*l-g;a.quadraticCurveTo(y+c,g+d,v+c,k+d);n=v;l=k;break;case "a":J(a,n+c,l+d,[A[1],A[2],A[3],A[4],A[5],A[6]+n+c,A[7]+l+d]);n+=A[6];l+=A[7];break;case "A":J(a,n+c,l+d,[A[1],A[2],A[3],A[4],A[5],A[6]+c,A[7]+d]);n=A[6];l=A[7];break;case "z":case "Z":a.closePath()}f=
A}}function J(a,b,c,d){b=S(d[5],d[6],d[0],d[1],d[3],d[4],d[2],b,c);for(c=0;c<b.length;++c){var f=b[c];d=ib.call(f);if(wb[d])d=wb[d];else{var n=f[0],e=f[1],m=f[2],l=f[3],y=f[4],g=f[5],A=f[6],h=f[7];f=h*y;var K=-A*g;y*=A;g*=h;var v=Math.cos(m),k=Math.sin(m);A=Math.cos(l);h=Math.sin(l);m=.5*(l-m);l=Math.sin(.5*m);l=8/3*l*l/Math.sin(m);m=n+v-l*k;v=e+k+l*v;n+=A;e+=h;h=n+l*h;A=e-l*A;d=wb[d]=[f*m+K*v,y*m+g*v,f*h+K*A,y*h+g*A,f*n+K*e,y*n+g*e]}a.bezierCurveTo(d[0],d[1],d[2],d[3],d[4],d[5])}}function p(a){return b.hasOwnProperty(zc,
a)?zc[a]:k(a)}function k(a){if(!b.hasOwnProperty(Ca,a)){var f=r(a);Ca[a]={draw:function(a,b){z(a,f,0,0,Math.sqrt(b)/2)}}}return Ca[a]}function N(a){return a.x}function D(a){return a.y}function O(a){return a.width}function c(a){return a.height}function h(a){return"function"===typeof a?a:()=>+a}function ba(a,b,c){return Math.max(b,Math.min(a,c))}function L(){function a(a,f,c){var n;f=null!=f?f:+b.call(this,a);c=null!=c?c:+d.call(this,a);var y=+e.call(this,a),h=+m.call(this,a),k=Math.min(y,h)/2,E=ba(+l.call(this,
a),0,k),x=ba(+g.call(this,a),0,k),Z=ba(+A.call(this,a),0,k);a=ba(+K.call(this,a),0,k);v||(v=n=t.path());0>=E&&0>=x&&0>=Z&&0>=a?v.rect(f,c,y,h):(y=f+y,h=c+h,v.moveTo(f+E,c),v.lineTo(y-x,c),v.bezierCurveTo(y-.448084975506*x,c,y,c+.448084975506*x,y,c+x),v.lineTo(y,h-a),v.bezierCurveTo(y,h-.448084975506*a,y-.448084975506*a,h,y-a,h),v.lineTo(f+Z,h),v.bezierCurveTo(f+.448084975506*Z,h,f,h-.448084975506*Z,f,h-Z),v.lineTo(f,c+E),v.bezierCurveTo(f,c+.448084975506*E,f+.448084975506*E,c,f+E,c),v.closePath());
if(n)return v=null,n+""||null}var b=N,d=D,e=O,m=c,l=h(0),g=l,A=l,K=l,v=null;a.x=function(f){return arguments.length?(b=h(f),a):b};a.y=function(b){return arguments.length?(d=h(b),a):d};a.width=function(b){return arguments.length?(e=h(b),a):e};a.height=function(b){return arguments.length?(m=h(b),a):m};a.cornerRadius=function(b,f,c,n){return arguments.length?(l=h(b),g=null!=f?h(f):l,K=null!=c?h(c):l,A=null!=n?h(n):g,a):l};a.context=function(b){return arguments.length?(v=null==b?null:b,a):v};return a}
function ma(){function a(a){var f,n=a.length,y,v=!1,K;null==m&&(m=K=t.path());for(f=0;f<=n;++f)if(!(f<n&&e(y=a[f],f,a))===v&&(v=!v)&&(l=0),v){var k=+b(y,f,a),E=+c(y,f,a),x=+d(y,f,a)/2;if(l){var Z=A-E,da=k-g;if(Z||da){var Jb=Math.sqrt(Z*Z+da*da),ta=(Z/=Jb)*h;Jb=(da/=Jb)*h;var p=Math.atan2(da,Z);m.moveTo(g-ta,A-Jb);m.lineTo(k-Z*x,E-da*x);m.arc(k,E,x,p-Math.PI,p);m.lineTo(g+ta,A+Jb);m.arc(g,A,h,p,p+Math.PI)}else m.arc(k,E,x,0,eb);m.closePath()}else l=1;g=k;A=E;h=x}if(K)return m=null,K+""||null}var b,
c,d,e,m=null,l,g,A,h;a.x=function(f){return arguments.length?(b=f,a):b};a.y=function(b){return arguments.length?(c=b,a):c};a.size=function(b){return arguments.length?(d=b,a):d};a.defined=function(b){return arguments.length?(e=b,a):e};a.context=function(b){return arguments.length?(m=null==b?null:b,a):m};return a}function B(a,b){return null!=a?a:b}function ia(a){return a.cornerRadius||a.cornerRadiusTopLeft||a.cornerRadiusTopRight||a.cornerRadiusBottomRight||a.cornerRadiusBottomLeft}function va(a,b,
c,d){return Za.context(a)(b,c,d)}function qa(a,b,c){if(b.stroke&&0!==b.opacity&&0!==b.strokeOpacity){const f=null!=b.strokeWidth?+b.strokeWidth:1;a.expand(f+(c?b.strokeJoin&&"miter"!==b.strokeJoin?0:f:0))}return a}function g(a){Pb=a;return g}function d(){}function M(a,b){a=Ub=a;b=La=b;Pb.add(a,b)}function Q(a){Pb.add(a,Pb.y1)}function G(a){Pb.add(Pb.x1,a)}function Sa(a,b,c,d){c=(a-b)/(a+c-2*b);0<c&&1>c&&d(a+(b-a)*c)}function ha(a,b,c,d,e){const f=d-a+3*b-3*c,n=a+c-2*b;var m=a-b;let l=0,y=0;1E-14<
Math.abs(f)?(m=n*n+m*f,0<=m&&(m=Math.sqrt(m),l=(-n+m)/f,y=(-n-m)/f)):l=.5*m/n;0<l&&1>l&&e(aa(l,a,b,c,d));0<y&&1>y&&e(aa(y,a,b,c,d))}function aa(a,b,c,d,e){const f=1-a,n=f*f,m=a*a;return n*f*b+3*n*a*c+3*f*m*d+m*a*e}function I(a){return function(b,f){if(!bb)return!0;a(bb,b);Ga.clear().union(b.bounds).intersect(f).round();const {x1:c,y1:n,x2:d,y2:e}=Ga;for(b=n;b<=e;++b)for(f=c;f<=d;++f)if(bb.isPointInPath(f,b))return!0;return!1}}function ya(a,b){return b.contains(a.x||0,a.y||0)}function Na(a,b){const f=
a.x||0,c=a.y||0;return b.intersects(Ga.set(f,c,f+(a.width||0),c+(a.height||0)))}function Ea(a,b){const f=a.x||0,c=a.y||0;return Ma(b,f,c,null!=a.x2?a.x2:f,null!=a.y2?a.y2:c)}function Ma(a,b,c,d,e){const {x1:f,y1:n,x2:m,y2:l}=a;a=d-b;e-=c;d=0;let g=1,y,A,h,v;for(v=0;4>v;++v){0===v&&(y=-a,A=-(f-b));1===v&&(y=a,A=m-b);2===v&&(y=-e,A=-(n-c));3===v&&(y=e,A=l-c);if(1E-10>Math.abs(y)&&0>A)return!1;h=A/y;if(0>y){if(h>g)return!1;h>d&&(d=h)}else if(0<y){if(h<d)return!1;h<g&&(g=h)}}return!0}function U(a,b){a.globalCompositeOperation=
b.blend||"source-over"}function Ba(a,b){return null==a?b:a}function l(a,b){const f=b.length;for(let c=0;c<f;++c)a.addColorStop(b[c].offset,b[c].color);return a}function v(a,b,c){const f=c.width(),n=c.height();if("radial"===b.gradient)a=a.createRadialGradient(c.x1+Ba(b.x1,.5)*f,c.y1+Ba(b.y1,.5)*n,Math.max(f,n)*Ba(b.r1,0),c.x1+Ba(b.x2,.5)*f,c.y1+Ba(b.y2,.5)*n,Math.max(f,n)*Ba(b.r2,.5));else{const d=Ba(b.x1,0),m=Ba(b.y1,0),g=Ba(b.x2,1),y=Ba(b.y2,0);if(d===g||m===y||f===n)a=a.createLinearGradient(c.x1+
d*f,c.y1+m*n,c.x1+g*f,c.y1+y*n);else{c=e.canvas(Math.ceil(f),Math.ceil(n));const A=c.getContext("2d");A.scale(f,n);A.fillStyle=l(A.createLinearGradient(d,m,g,y),b.stops);A.fillRect(0,0,f,n);return a.createPattern(c,"no-repeat")}}return l(a,b.stops)}function x(a,b,c){c*=null==b.fillOpacity?1:b.fillOpacity;return 0<c?(a.globalAlpha=c,b=(c=b.fill)&&c.gradient?v(a,c,b.bounds):c,a.fillStyle=b,!0):!1}function m(a,b,c){var f=null!=(f=b.strokeWidth)?f:1;if(0>=f)return!1;c*=null==b.strokeOpacity?1:b.strokeOpacity;
return 0<c?(a.globalAlpha=c,c=(c=b.stroke)&&c.gradient?v(a,c,b.bounds):c,a.strokeStyle=c,a.lineWidth=f,a.lineCap=b.strokeCap||"butt",a.lineJoin=b.strokeJoin||"miter",a.miterLimit=b.strokeMiterLimit||10,a.setLineDash&&(a.setLineDash(b.strokeDash||Aa),a.lineDashOffset=b.strokeDashOffset||0),!0):!1}function E(a,b){return a.zindex-b.zindex||a.index-b.index}function Ua(a){if(!a.zdirty)return a.zitems;var b=a.items,f=[],c;var d=0;for(c=b.length;d<c;++d){var e=b[d];e.index=d;e.zindex&&f.push(e)}a.zdirty=
!1;return a.zitems=f.sort(E)}function da(a,b){var f=a.items,c;if(f&&f.length){var n=Ua(a);if(n&&n.length){a=0;for(c=f.length;a<c;++a)f[a].zindex||b(f[a]);f=n}a=0;for(c=f.length;a<c;++a)b(f[a])}}function oa(a,b){var f=a.items,c,n;if(!f||!f.length)return null;var d=Ua(a);d&&d.length&&(f=d);for(n=f.length;0<=--n;)if(c=b(f[n]))return c;if(f===d)for(f=a.items,n=f.length;0<=--n;)if(!f[n].zindex&&(c=b(f[n])))return c;return null}function Wa(a){return function(b,f,c){da(f,function(f){c&&!c.intersects(f.bounds)||
wa(a,b,f,f)})}}function Qa(a){return function(b,f,c){!f.items.length||c&&!c.intersects(f.bounds)||wa(a,b,f.items[0],f.items)}}function wa(a,b,c,d){var f=null==c.opacity?1:c.opacity;0===f||a(b,d)||(U(b,c),c.fill&&x(b,c,f)&&b.fill(),c.stroke&&m(b,c,f)&&b.stroke())}function fa(a){a=a||b.truthy;return function(b,f,c,d,e,m){c*=b.pixelRatio;d*=b.pixelRatio;return oa(f,function(f){var n=f.bounds;if((!n||n.contains(e,m))&&n&&a(b,f,c,d,e,m))return f})}}function cb(a,b){return function(f,c,n,d){var e=Array.isArray(c)?
c[0]:c,m=null==b?e.fill:b,l=e.stroke&&f.isPointInStroke;if(l){var g=e.strokeWidth;e=e.strokeCap;f.lineWidth=null!=g?g:1;f.lineCap=null!=e?e:"butt"}return a(f,c)?!1:m&&f.isPointInPath(n,d)||l&&f.isPointInStroke(n,d)}}function kb(a,b){return"translate("+a+","+b+")"}function fb(a){return kb(a.x||0,a.y||0)+(a.angle?" rotate("+(a.angle+")"):"")+(a.scaleX||a.scaleY?" scale("+((a.scaleX||1)+","+(a.scaleY||1)+")"):"")}function qb(a,b,c){function f(a,f){var c=f.x||0,n=f.y||0,d=f.angle||0;a.translate(c,n);
d&&a.rotate(d*=Ia);a.beginPath();b(a,f);d&&a.rotate(-d);a.translate(-c,-n)}return{type:a,tag:"path",nested:!1,attr:function(a,f){a("transform",fb(f));a("d",b(null,f))},bound:function(a,f){var c=f.x||0,d=f.y||0;b(g(a),f);qa(a,f).translate(c,d);f.angle&&a.rotate(f.angle*Ia,c,d);return a},draw:Wa(f),pick:fa(cb(f)),isect:c||I(f)}}function Ja(a,b,c){function f(a,f){a.beginPath();b(a,f)}var d=cb(f);return{type:a,tag:"path",nested:!0,attr:function(a,f){f=f.mark.items;f.length&&a("d",b(null,f))},bound:function(a,
f){f=f.items;if(0===f.length)return a;b(g(a),f);return qa(a,f[0])},draw:Qa(f),pick:function(a,b,f,c,n,e){var m=b.items;b=b.bounds;if(!m||!m.length||b&&!b.contains(n,e))return null;f*=a.pixelRatio;c*=a.pixelRatio;return d(a,m,f,c)?m[0]:null},isect:ya,tip:c}}function pa(a,b){a.beginPath();ia(b)?va(a,b,0,0):a.rect(0,0,b.width||0,b.height||0);a.clip()}function ub(a,c,d){var f=c.clip;a=a._defs;c=c.clip_id||(c.clip_id="clip"+Qc++);a=a.clipping[c]||(a.clipping[c]={id:c});b.isFunction(f)?a.path=f(null):ia(d)?
a.path=va(null,d,0,0):(a.width=d.width||0,a.height=d.height||0);return"url(#"+c+")"}function Rb(a){var b=null!=(b=a.strokeWidth)?b:1;return null!=a.strokeOffset?a.strokeOffset:a.stroke&&.5<b&&1.5>b?.5-Math.abs(b-1):0}function Va(a,b,c,d){var f=Rb(b);a.beginPath();va(a,b,(c||0)+f,(d||0)+f)}function Bb(a,b){var f=a.image;if(!f||a.url&&a.url!==f.url)f={complete:!1,width:0,height:0},b.loadImage(a.url).then(b=>{a.image=b;a.image.url=a.url});return f}function ka(a,b){return null!=a.width?a.width:b&&b.width?
!1!==a.aspect&&a.height?a.height*b.width/b.height:b.width:0}function Cb(a,b){return null!=a.height?a.height:b&&b.height?!1!==a.aspect&&a.width?a.width*b.height/b.width:b.height:0}function Db(a,b){return"center"===a?b/2:"right"===a?b:0}function $a(a,b){return"middle"===a?b/2:"bottom"===a?b:0}function Lb(a,b){var f=b.path;if(null==f)return!0;var c=b.x||0,d=b.y||0,n=b.scaleX||1,e=b.scaleY||1,m=(b.angle||0)*Ia,l=b.pathCache;l&&l.path===f||((b.pathCache=l=r(f)).path=f);m&&a.rotate&&a.translate?(a.translate(c,
d),a.rotate(m),z(a,l,0,0,n,e),a.rotate(-m),a.translate(-c,-d)):z(a,l,c,d,n,e)}function tc(a,b){a.beginPath();va(a,b)}function rb(a,b,c){if(b.stroke&&m(a,b,c)){c=b.x||0;var f=b.y||0;var d=null!=b.x2?b.x2:c;b=null!=b.y2?b.y2:f;a.beginPath();a.moveTo(c,f);a.lineTo(d,b);return!0}return!1}function Tb(a){Wc.width=a&&bb?Xa:Eb}function Eb(a,b){b=ab(a,b);a=Fb(a);return~~(.8*b.length*a)}function Xa(a,b){return 0>=Fb(a)||!(b=ab(a,b))?0:xa(b,ac(a))}function xa(a,b){const f=`(${b}) ${a}`;let c=hd.get(f);void 0===
c&&(bb.font=b,c=bb.measureText(a).width,hd.set(f,c));return c}function Fb(a){return null!=a.fontSize?+a.fontSize||0:11}function qc(a){return null!=a.lineHeight?a.lineHeight:Fb(a)+2}function Sb(a){a=a.lineBreak&&a.text&&!b.isArray(a.text)?a.text.split(a.lineBreak):a.text;return b.isArray(a)?1<a.length?a:a[0]:a}function ab(a,b){b=null==b?"":(b+"").trim();if(0<a.limit&&b.length){var f=+a.limit,c=fc(a);if(!(c(b)<f)){var d=a.ellipsis||"…",n="rtl"===a.dir;a=0;var e=b.length;f-=c(d);if(n){for(;a<e;)n=a+
e>>>1,c(b.slice(n))>f?a=n+1:e=n;b=d+b.slice(a)}else{for(;a<e;)n=1+(a+e>>>1),c(b.slice(0,n))<f?a=n:e=n-1;b=b.slice(0,a)+d}}}return b}function fc(a){if(Wc.width===Xa){const b=ac(a);return a=>xa(a,b)}{const b=Fb(a);return a=>~~(.8*a.length*b)}}function sb(a,b){a=a.font;return(b&&a?String(a).replace(/"/g,"'"):a)||"sans-serif"}function ac(a,b){return(a.fontStyle?a.fontStyle+" ":"")+(a.fontVariant?a.fontVariant+" ":"")+(a.fontWeight?a.fontWeight+" ":"")+Fb(a)+"px "+sb(a,b)}function gb(a){var b=a.baseline,
f=Fb(a);return Math.round("top"===b?.79*f:"middle"===b?.3*f:"bottom"===b?-.21*f:"line-top"===b?.29*f+.5*qc(a):"line-bottom"===b?.29*f-.5*qc(a):0)}function db(a){var b=a.x||0,f=a.y||0,c=a.radius||0;c&&(a=(a.theta||0)-Ha,b+=c*Math.cos(a),f+=c*Math.sin(a));Xc.x1=b;Xc.y1=f;return Xc}function Ob(a,c,d){var f=Wc.height(c),n=c.align,e=db(c),m=e.x1;e=e.y1;var l=c.dx||0,g=(c.dy||0)+gb(c)-Math.round(.8*f),y=Sb(c);b.isArray(y)?(f+=qc(c)*(y.length-1),y=y.reduce((a,b)=>Math.max(a,Wc.width(c,b)),0)):y=Wc.width(c,
y);"center"===n?l-=y/2:"right"===n&&(l-=y);a.set(l+=m,g+=e,l+y,g+f);if(c.angle&&!d)a.rotate(c.angle*Ia,m,e);else if(2===d)return a.rotatedPoints(c.angle*Ia,m,e);return a}function gc(a,b,c){var f=Bc[a.mark.marktype];b=b||f.bound;f.nested&&(a=a.mark);return b(a.bounds||(a.bounds=new C),a,c)}function jc(a,b,c){var f=Bc[a.marktype],d=f.bound,n=a.items,e=n&&n.length;if(f.nested)return e?a=n[0]:(oe.mark=a,a=oe),c=gc(a,d,c),b=b&&b.union(c)||c;b=b||a.bounds&&a.bounds.clear()||new C;if(e)for(f=0,e=n.length;f<
e;++f)b.union(gc(n[f],d,c));return a.bounds=b}function Ic(a,b){return JSON.stringify(a,nc,b)}function td(a){a="string"===typeof a?JSON.parse(a):a;return kc(a)}function kc(a){var b=a.marktype,f=a.items,c;if(f){var d=0;for(c=f.length;d<c;++d){var e=b?"mark":"group";f[d][e]=a;f[d].zindex&&(f[d][e].zdirty=!0);"group"===(b||e)&&kc(f[d])}}b&&jc(a);return a}function Vc(a){arguments.length?this.root=td(a):(this.root=Nc({marktype:"group",name:"root",role:"frame"}),this.root.items=[new T(this.root)])}function Nc(a,
b){return{bounds:new C,clip:!!a.clip,group:b,interactive:!1===a.interactive?!1:!0,items:[],marktype:a.marktype,name:a.name||void 0,role:a.role||void 0,zindex:a.zindex||0}}function Cc(a,b,c){!a&&"undefined"!==typeof document&&document.createElement&&(a=document);return a?c?a.createElementNS(c,b):a.createElement(b):null}function rc(a,b){b=b.toLowerCase();a=a.childNodes;for(var f=0,c=a.length;f<c;++f)if(a[f].tagName.toLowerCase()===b)return a[f]}function dc(a,b,c,d){b=a.childNodes[b];if(!b||b.tagName.toLowerCase()!==
c.toLowerCase()){var f=b||null;b=Cc(a.ownerDocument,c,d);a.insertBefore(b,f)}return b}function Kb(a,b){for(var f=a.childNodes,c=f.length;c>b;)a.removeChild(f[--c]);return a}function $b(a){return"mark-"+a.marktype+(a.role?" role-"+a.role:"")+(a.name?" "+a.name:"")}function hc(a,b){var f=b.getBoundingClientRect();return[a.clientX-f.left-(b.clientLeft||0),a.clientY-f.top-(b.clientTop||0)]}function lc(a,b){this._active=null;this._handlers={};this._loader=a||H.loader();this._tooltip=b||mc}function mc(a,
b,c,d){a.element().setAttribute("title",d||"")}function uc(a){this._bgcolor=this._el=null;this._loader=new F(a)}function ud(a,b){lc.call(this,a,b);this._touch=this._down=null;this._first=!0}function Td(a,b,c){return function(f){var d=this._active,n=this.pickEvent(f);n!==d&&(d&&d.exit||this.fire(c,f),this._active=n,this.fire(b,f));this.fire(a,f)}}function ae(a){return function(b){this.fire(a,b);this._active=null}}function Oc(a){uc.call(this,a);this._redraw=!1;this._dirty=new C}function vc(a,b,c){return rd.set(0,
0,b,c).translate(-a[0],-a[1])}function kd(a,b){lc.call(this,a,b);var f=this;f._hrefHandler=$c(f,function(a,b){b&&b.href&&f.handleHref(a,b,b.href)});f._tooltipHandler=$c(f,function(a,b){f.handleTooltip(a,b,"mouseout"!==a.type)})}function $c(a,b){return function(f){var c=f.target.__data__;f.vegaType=f.type;c=Array.isArray(c)?c[0]:c;b.call(a._obj,f,c)}}function Mb(a,b,c){a="\x3c"+a;var f;if(b)for(f in b){var d=b[f];null!=d&&(a+=" "+f+'\x3d"'+d+'"')}c&&(a+=" "+c);return a+"\x3e"}function lb(a){return"\x3c/"+
a+"\x3e"}function ld(a){uc.call(this,a);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function ke(a,b){for(;a&&a.dirty!==b;a=a.mark.group)if(a.dirty=b,a.mark&&a.mark.dirty!==b)a.mark.dirty=b;else break}function Gd(a,b,c){b=b.lastChild.previousSibling;var f,d=0;da(c,function(c){f=a.draw(b,c,f);++d});Kb(b,1+d)}function Hd(a,b,c,d,e){var f=a._svg;if(!f){var n=b.ownerDocument;f=Cc(n,d,yb);a._svg=f;a.mark&&(f.__data__=a,f.__values__={fill:"default"},"g"===d&&(d=Cc(n,"path",yb),f.appendChild(d),
d.__data__=a,d=Cc(n,"g",yb),f.appendChild(d),d.__data__=a,n=Cc(n,"path",yb),f.appendChild(n),n.__data__=a,n.__values__={fill:"default"}))}(f.ownerSVGElement!==e||f.parentNode&&1<f.parentNode.childNodes.length&&f.previousSibling!=c)&&b.insertBefore(f,c?c.nextSibling:b.firstChild);return f}function ic(a,b,c){c!==pc[b]&&(null==c?a.style.removeProperty(b):a.style.setProperty(b,c+""),pc[b]=c)}function gd(a,b,c){b!==pc[a]&&(null!=b?c?Yb.setAttributeNS(c,a,b):Yb.setAttribute(a,b):c?Yb.removeAttributeNS(c,
a):Yb.removeAttribute(a),pc[a]=b)}function Id(){var a;return"undefined"===typeof window?"":(a=window.location).hash?a.href.slice(0,-a.hash.length):a.href}function vd(a){uc.call(this,a);this._text={head:"",bg:"",root:"",foot:"",defs:"",body:""};this._defs={gradient:{},clipping:{}}}function md(a,b,c,d){K[d||a]=b}function Jd(a,b,c,d){if(null==a)return"";var f="";"bgrect"===c&&!1===b.interactive&&(f+="pointer-events: none; ");"bgfore"===c&&(!1===b.interactive&&(f+="pointer-events: none; "),f+="display: none; ");
"image"===c&&!1===a.smooth&&(f+="image-rendering: optimizeSpeed; image-rendering: pixelated; ");"text"===c&&(f+="font-family: "+sb(a)+"; ",f+="font-size: "+Fb(a)+"px; ",a.fontStyle&&(f+="font-style: "+a.fontStyle+"; "),a.fontVariant&&(f+="font-variant: "+a.fontVariant+"; "),a.fontWeight&&(f+="font-weight: "+a.fontWeight+"; "));b=0;for(c=Fc.length;b<c;++b){var n=Fc[b];var e=Ya[n];n=a[n];null==n?"fill"===e&&(f+="fill: none; "):"transparent"!==n||"fill"!==e&&"stroke"!==e?(n&&n.gradient&&(n=w(n,d.gradient,
"")),f+=e+": "+n+"; "):f+=e+": none; "}return f?'style\x3d"'+f.trim()+'"':null}function Pc(a){return a.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;")}function Kd(a,b,c,d){if(a.bounds&&b.intersects(a.bounds)&&("group"===a.marktype||!1!==a.interactive&&(!c||c(a)))){const n=a.items;var f=a.marktype;a=n.length;let e=0;if("group"===f)for(;e<a;++e)wd(n[e],b,c,d);else for(c=Bc[f].isect;e<a;++e)f=n[e],xd(f,b,c)&&d.push(f)}return d}function wd(a,b,c,d){c&&c(a.mark)&&xd(a,b,Bc.group.isect)&&
d.push(a);const f=a.items,n=f&&f.length;if(n){const e=a.x||0;a=a.y||0;b.translate(-e,-a);for(let a=0;a<n;++a)Kd(f[a],b,c,d);b.translate(e,a)}return d}function xd(a,b,c){const f=a.bounds;return b.encloses(f)||b.intersects(f)&&c(a,b)}function Ld(a,c,d){return a===c?!0:"path"===d?Md(a,c):a instanceof Date&&c instanceof Date?+a===+c:b.isNumber(a)&&b.isNumber(c)?1E-9>=Math.abs(a-c):a&&c&&(b.isObject(a)||b.isObject(c))?null==a||null==c?!1:Nd(a,c):a==c}function Md(a,b){return Ld(r(a),r(b))}function Nd(a,
b){var f=Object.keys(a),c=Object.keys(b),d;if(f.length!==c.length)return!1;f.sort();c.sort();for(d=f.length-1;0<=d;d--)if(f[d]!=c[d])return!1;for(d=f.length-1;0<=d;d--)if(c=f[d],!Ld(a[c],b[c],c))return!1;return typeof a===typeof b}var nb=C.prototype;nb.clone=function(){return new C(this)};nb.clear=function(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this};nb.empty=function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&
this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE};nb.equals=function(a){return this.x1===a.x1&&this.y1===a.y1&&this.x2===a.x2&&this.y2===a.y2};nb.set=function(a,b,c,d){c<a?(this.x2=a,this.x1=c):(this.x1=a,this.x2=c);d<b?(this.y2=b,this.y1=d):(this.y1=b,this.y2=d);return this};nb.add=function(a,b){a<this.x1&&(this.x1=a);b<this.y1&&(this.y1=b);a>this.x2&&(this.x2=a);b>this.y2&&(this.y2=b);return this};nb.expand=function(a){this.x1-=a;this.y1-=a;this.x2+=a;this.y2+=a;return this};nb.round=function(){this.x1=
Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this};nb.scale=function(a){this.x1*=a;this.y1*=a;this.x2*=a;this.y2*=a;return this};nb.translate=function(a,b){this.x1+=a;this.x2+=a;this.y1+=b;this.y2+=b;return this};nb.rotate=function(a,b,c){a=this.rotatedPoints(a,b,c);return this.clear().add(a[0],a[1]).add(a[2],a[3]).add(a[4],a[5]).add(a[6],a[7])};nb.rotatedPoints=function(a,b,c){var {x1:f,y1:d,x2:n,y2:e}=this,m=Math.cos(a);a=Math.sin(a);
var l=b-b*m+c*a;b=c-b*a-c*m;return[m*f-a*d+l,a*f+m*d+b,m*f-a*e+l,a*f+m*e+b,m*n-a*d+l,a*n+m*d+b,m*n-a*e+l,a*n+m*e+b]};nb.union=function(a){a.x1<this.x1&&(this.x1=a.x1);a.y1<this.y1&&(this.y1=a.y1);a.x2>this.x2&&(this.x2=a.x2);a.y2>this.y2&&(this.y2=a.y2);return this};nb.intersect=function(a){a.x1>this.x1&&(this.x1=a.x1);a.y1>this.y1&&(this.y1=a.y1);a.x2<this.x2&&(this.x2=a.x2);a.y2<this.y2&&(this.y2=a.y2);return this};nb.encloses=function(a){return a&&this.x1<=a.x1&&this.x2>=a.x2&&this.y1<=a.y1&&this.y2>=
a.y2};nb.alignsWith=function(a){return a&&(this.x1==a.x1||this.x2==a.x2||this.y1==a.y1||this.y2==a.y2)};nb.intersects=function(a){return a&&!(this.x2<a.x1||this.x1>a.x2||this.y2<a.y1||this.y1>a.y2)};nb.contains=function(a,b){return!(a<this.x1||a>this.x2||b<this.y1||b>this.y2)};nb.width=function(){return this.x2-this.x1};nb.height=function(){return this.y2-this.y1};var hb=0;b.inherits(T,ea);var vb=F.prototype;vb.pending=function(){return this._pending};vb.sanitizeURL=function(a){var b=this;b._pending+=
1;return b._loader.sanitize(a,{context:"href"}).then(function(a){--b._pending;return a}).catch(function(){--b._pending;return null})};vb.loadImage=function(a){const f=this,c=e.image();f._pending+=1;return f._loader.sanitize(a,{context:"image"}).then(function(a){const d=a.href;if(!d||!c)throw{url:d};const n=new c;a=b.hasOwnProperty(a,"crossOrigin")?a.crossOrigin:"anonymous";null!=a&&(n.crossOrigin=a);n.onload=()=>{--f._pending};n.onerror=()=>{--f._pending};n.src=d;return n}).catch(function(a){--f._pending;
return{complete:!1,width:0,height:0,src:a&&a.url||""}})};vb.ready=function(){var a=this;return new Promise(function(b){function f(c){a.pending()?setTimeout(function(){f(!0)},10):b(c)}f(!1)})};var yd={basis:{curve:u.curveBasis},"basis-closed":{curve:u.curveBasisClosed},"basis-open":{curve:u.curveBasisOpen},bundle:{curve:u.curveBundle,tension:"beta",value:.85},cardinal:{curve:u.curveCardinal,tension:"tension",value:0},"cardinal-open":{curve:u.curveCardinalOpen,tension:"tension",value:0},"cardinal-closed":{curve:u.curveCardinalClosed,
tension:"tension",value:0},"catmull-rom":{curve:u.curveCatmullRom,tension:"alpha",value:.5},"catmull-rom-closed":{curve:u.curveCatmullRomClosed,tension:"alpha",value:.5},"catmull-rom-open":{curve:u.curveCatmullRomOpen,tension:"alpha",value:.5},linear:{curve:u.curveLinear},"linear-closed":{curve:u.curveLinearClosed},monotone:{horizontal:u.curveMonotoneY,vertical:u.curveMonotoneX},natural:{curve:u.curveNatural},step:{curve:u.curveStep},"step-after":{curve:u.curveStepAfter},"step-before":{curve:u.curveStepBefore}},
bc={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Gb=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)([-+])/g,/\s|,|###/];const Ia=Math.PI/180,Ha=Math.PI/2,eb=2*Math.PI,Nb=Math.sqrt(3)/2;var V={},wb={},ib=[].join,X=["l",0,0,0,0,0,0,0],zc={circle:{draw:function(a,b){b=Math.sqrt(b)/2;a.moveTo(b,0);a.arc(0,0,b,0,eb)}},cross:{draw:function(a,b){b=Math.sqrt(b)/2;var f=b/2.5;a.moveTo(-b,-f);a.lineTo(-b,f);a.lineTo(-f,f);a.lineTo(-f,b);a.lineTo(f,b);a.lineTo(f,f);a.lineTo(b,f);a.lineTo(b,-f);a.lineTo(f,-f);a.lineTo(f,-b);
a.lineTo(-f,-b);a.lineTo(-f,-f);a.closePath()}},diamond:{draw:function(a,b){b=Math.sqrt(b)/2;a.moveTo(-b,0);a.lineTo(0,-b);a.lineTo(b,0);a.lineTo(0,b);a.closePath()}},square:{draw:function(a,b){b=Math.sqrt(b);var f=-b/2;a.rect(f,f,b,b)}},arrow:{draw:function(a,b){b=Math.sqrt(b)/2;var f=b/7,c=b/2.5,d=b/8;a.moveTo(-f,b);a.lineTo(f,b);a.lineTo(f,-d);a.lineTo(c,-d);a.lineTo(0,-b);a.lineTo(-c,-d);a.lineTo(-f,-d);a.closePath()}},wedge:{draw:function(a,b){var f=Math.sqrt(b)/2;b=Nb*f;var c=b-.5773502691896257*
f;f/=4;a.moveTo(0,-b-c);a.lineTo(-f,b-c);a.lineTo(f,b-c);a.closePath()}},triangle:{draw:function(a,b){b=Math.sqrt(b)/2;var f=Nb*b,c=f-.5773502691896257*b;a.moveTo(0,-f-c);a.lineTo(-b,f-c);a.lineTo(b,f-c);a.closePath()}},"triangle-up":{draw:function(a,b){b=Math.sqrt(b)/2;var f=Nb*b;a.moveTo(0,-f);a.lineTo(-b,f);a.lineTo(b,f);a.closePath()}},"triangle-down":{draw:function(a,b){b=Math.sqrt(b)/2;var f=Nb*b;a.moveTo(0,f);a.lineTo(-b,-f);a.lineTo(b,-f);a.closePath()}},"triangle-right":{draw:function(a,
b){b=Math.sqrt(b)/2;var f=Nb*b;a.moveTo(f,0);a.lineTo(-f,-b);a.lineTo(-f,b);a.closePath()}},"triangle-left":{draw:function(a,b){b=Math.sqrt(b)/2;var f=Nb*b;a.moveTo(-f,0);a.lineTo(f,-b);a.lineTo(f,b);a.closePath()}},stroke:{draw:function(a,b){b=Math.sqrt(b)/2;a.moveTo(-b,0);a.lineTo(b,0)}}},Ca={};const Hb=a=>a.x||0,xb=a=>a.y||0,tb=a=>!1!==a.defined,Dc=u.arc().startAngle(a=>a.startAngle||0).endAngle(a=>a.endAngle||0).padAngle(a=>a.padAngle||0).innerRadius(a=>a.innerRadius||0).outerRadius(a=>a.outerRadius||
0).cornerRadius(a=>a.cornerRadius||0),Ud=u.area().x(Hb).y1(xb).y0(a=>(a.y||0)+(a.height||0)).defined(tb),Ka=u.area().y(xb).x1(Hb).x0(a=>(a.x||0)+(a.width||0)).defined(tb),ca=u.line().x(Hb).y(xb).defined(tb),Za=L().x(Hb).y(xb).width(a=>a.width||0).height(a=>a.height||0).cornerRadius(a=>B(a.cornerRadiusTopLeft,a.cornerRadius)||0,a=>B(a.cornerRadiusTopRight,a.cornerRadius)||0,a=>B(a.cornerRadiusBottomRight,a.cornerRadius)||0,a=>B(a.cornerRadiusBottomLeft,a.cornerRadius)||0),Y=u.symbol().type(a=>p(a.shape||
"circle")).size(a=>B(a.size,64)),ra=ma().x(Hb).y(xb).defined(tb).size(a=>a.size||1);var Pb,Ub,La,Fa=eb-1E-8;g.beginPath=d;g.closePath=d;g.moveTo=M;g.lineTo=M;g.rect=function(a,b,c,d){Pb.add(a+c,b+d);M(a,b)};g.quadraticCurveTo=function(a,b,c,d){Sa(Ub,a,c,Q);Sa(La,b,d,G);M(c,d)};g.bezierCurveTo=function(a,b,c,d,e,m){ha(Ub,a,c,e,Q);ha(La,b,d,m,G);M(e,m)};g.arc=function(a,b,c,d,e,m){Ub=c*Math.cos(e)+a;La=c*Math.sin(e)+b;if(Math.abs(e-d)>Fa)Pb.add(a-c,b-c),Pb.add(a+c,b+c);else{const f=f=>{Pb.add(c*Math.cos(f)+
a,c*Math.sin(f)+b)};let n;f(d);f(e);if(e!==d)if(d%=eb,0>d&&(d+=eb),e%=eb,0>e&&(e+=eb),e<d&&(m=!m,n=d,d=e,e=n),m)for(e-=eb,n=d-d%Ha,d=0;4>d&&n>e;++d,n-=Ha)f(n);else for(n=d-d%Ha+Ha,d=0;4>d&&n<e;++d,n+=Ha)f(n)}};var bb=(bb=e.canvas(1,1))?bb.getContext("2d"):null;const Ga=new C;var Aa=[],Ec=qb("arc",function(a,b){return Dc.context(a)(b)}),Od=Ja("area",function(a,b){var f=b[0];return("horizontal"===f.orient?Ka:Ud).curve(W(f.interpolate||"linear",f.orient,f.tension)).context(a)(b)},function(a,b){b="horizontal"===
a[0].orient?b[1]:b[0];for(var f="horizontal"===a[0].orient?"y":"x",c=a.length,d=Infinity,n,e;0<=--c;)!1!==a[c].defined&&(e=Math.abs(a[c][f]-b),e<d&&(d=e,n=a[c]));return n}),Qc=1,Rc=cb(Va),wc=cb(Va,!1),Ta={type:"group",tag:"g",nested:!1,attr:function(a,b){a("transform",kb(b.x||0,b.y||0))},bound:function(a,b){if(!b.clip&&b.items)for(var f=b.items,c=0,d=f.length;c<d;++c)a.union(f[c].bounds);(b.clip||b.width||b.height)&&!b.noBound&&a.add(0,0).add(b.width||0,b.height||0);qa(a,b);return a.translate(b.x||
0,b.y||0)},draw:function(a,b,c){var f=this;da(b,function(b){var d=b.x||0,n=b.y||0,e=b.strokeForeground,l=null==b.opacity?1:b.opacity;(b.stroke||b.fill)&&l&&(Va(a,b,d,n),U(a,b),b.fill&&x(a,b,l)&&a.fill(),b.stroke&&!e&&m(a,b,l)&&a.stroke());a.save();a.translate(d,n);b.clip&&pa(a,b);c&&c.translate(-d,-n);da(b,function(b){f.draw(a,b,c)});c&&c.translate(d,n);a.restore();e&&b.stroke&&l&&(Va(a,b,d,n),U(a,b),m(a,b,l)&&a.stroke())})},pick:function(a,b,c,d,e,m){if(b.bounds&&!b.bounds.contains(e,m)||!b.items)return null;
var f=this,n=c*a.pixelRatio,l=d*a.pixelRatio;return oa(b,function(g){var A=g.bounds;if(!A||A.contains(e,m)){var h=g.x||0;var v=g.y||0;A=h+(g.width||0);var K=v+(g.height||0);var y=g.clip;if(!y||!(e<h||e>A||m<h||m>K)){a.save();a.translate(h,v);h=e-h;v=m-v;if(y&&ia(g)&&!Rc(a,g,n,l))return a.restore(),null;K=g.strokeForeground;if((y=!1!==b.interactive)&&K&&g.stroke&&wc(a,g,n,l))return a.restore(),g;A=oa(g,function(a){return(!1!==a.interactive||"group"===a.marktype)&&a.bounds&&a.bounds.contains(h,v)?f.pick(a,
c,d,h,v):null});!A&&y&&(g.fill||!K&&g.stroke)&&Rc(a,g,n,l)&&(A=g);a.restore();return A||null}}})},isect:Na,content:function(a,b,c){b=b.clip?ub(c,b,b):null;a("clip-path",b)},background:function(a,b){a("class","background");var f=Rb(b);a("d",va(null,b,f,f))},foreground:function(a,b){a("class","foreground");if(b.strokeForeground){var f=Rb(b);a("d",va(null,b,f,f))}else a("d","")}},Z={type:"image",tag:"image",nested:!1,attr:function(a,b,c){c=Bb(b,c);var f=b.x||0,d=b.y||0,n=ka(b,c),e=Cb(b,c),m=!1===b.aspect?
"none":"xMidYMid";f-=Db(b.align,n);d-=$a(b.baseline,e);!c.src&&c.toDataURL?a("href",c.toDataURL(),"http://www.w3.org/1999/xlink","xlink:href"):a("href",c.src||"","http://www.w3.org/1999/xlink","xlink:href");a("transform",kb(f,d));a("width",n);a("height",e);a("preserveAspectRatio",m)},bound:function(a,b){var f=b.image,c=b.x||0,d=b.y||0,n=ka(b,f);f=Cb(b,f);c-=Db(b.align,n);d-=$a(b.baseline,f);return a.set(c,d,c+n,d+f)},draw:function(a,b,c){var f=this;da(b,function(b){if(!c||c.intersects(b.bounds)){var d=
Bb(b,f),n=b.x||0,e=b.y||0,m=ka(b,d),l=Cb(b,d),g;n-=Db(b.align,m);e-=$a(b.baseline,l);if(!1!==b.aspect){var A=d.width/d.height;var h=b.width/b.height;A===A&&h===h&&A!==h&&(h<A?(A=m/A,e+=(l-A)/2,l=A):(A*=l,n+=(m-A)/2,m=A))}if(d.complete||d.toDataURL)U(a,b),a.globalAlpha=null!=(g=b.opacity)?g:1,a.imageSmoothingEnabled=!1!==b.smooth,a.drawImage(d,n,e,m,l)}})},pick:fa(),isect:b.truthy,get:Bb,xOffset:Db,yOffset:$a},Da=Ja("line",function(a,b){var f=b[0];return ca.curve(W(f.interpolate||"linear",f.orient,
f.tension)).context(a)(b)},function(a,b){for(var f=Math.pow(a[0].strokeWidth||1,2),c=a.length,d,n;0<=--c;)if(!1!==a[c].defined&&(d=a[c].x-b[0],n=a[c].y-b[1],d=d*d+n*n,d<f))return a[c];return null}),qd={type:"path",tag:"path",nested:!1,attr:function(a,b){var f=b.scaleY||1;1===(b.scaleX||1)&&1===f||a("vector-effect","non-scaling-stroke");a("transform",fb(b));a("d",b.path)},bound:function(a,b){Lb(g(a),b)?a.set(0,0,0,0):qa(a,b,!0);b.angle&&a.rotate(b.angle*Ia,b.x||0,b.y||0);return a},draw:Wa(Lb),pick:fa(cb(Lb)),
isect:I(Lb)},Ac={type:"rect",tag:"path",nested:!1,attr:function(a,b){a("d",va(null,b))},bound:function(a,b){var f,c;return qa(a.set(f=b.x||0,c=b.y||0,f+b.width||0,c+b.height||0),b)},draw:Wa(tc),pick:fa(cb(tc)),isect:Na},ne={type:"rule",tag:"line",nested:!1,attr:function(a,b){a("transform",kb(b.x||0,b.y||0));a("x2",null!=b.x2?b.x2-(b.x||0):0);a("y2",null!=b.y2?b.y2-(b.y||0):0)},bound:function(a,b){var f,c;return qa(a.set(f=b.x||0,c=b.y||0,null!=b.x2?b.x2:f,null!=b.y2?b.y2:c),b)},draw:function(a,b,
c){da(b,function(b){if(!c||c.intersects(b.bounds)){var f=null==b.opacity?1:b.opacity;f&&rb(a,b,f)&&(U(a,b),a.stroke())}})},pick:fa(function(a,b,c,d){return a.isPointInStroke?rb(a,b,1)&&a.isPointInStroke(c,d):!1}),isect:Ea},Jc=qb("shape",function(a,b){return(b.mark.shape||b.shape).context(a)(b)}),Kc=qb("symbol",function(a,b){return Y.context(a)(b)},ya);const hd=b.lruCache();var Wc={height:Fb,measureWidth:Xa,estimateWidth:Eb,width:Eb,canvas:Tb};Tb(!0);var zd={left:"start",center:"middle",right:"end"},
Xc=new C,Vd={type:"text",tag:"text",nested:!1,attr:function(a,b){var f=b.dx||0,c=(b.dy||0)+gb(b),d=db(b),n=d.x1;d=d.y1;var e=b.angle||0;a("text-anchor",zd[b.align]||"start");if(e){if(b=kb(n,d)+" rotate("+(e+")"),f||c)b+=" "+kb(f,c)}else b=kb(n+f,d+c);a("transform",b)},bound:Ob,draw:function(a,c,d){da(c,function(f){var c=null==f.opacity?1:f.opacity,n;if(!(d&&!d.intersects(f.bounds)||0===c||0>=f.fontSize||null==f.text||0===f.text.length)){a.font=ac(f);a.textAlign=f.align||"left";var e=db(f);var l=e.x1;
e=e.y1;f.angle&&(a.save(),a.translate(l,e),a.rotate(f.angle*Ia),l=e=0);l+=f.dx||0;e+=(f.dy||0)+gb(f);var g=Sb(f);U(a,f);if(b.isArray(g)){var A=qc(f);for(n=0;n<g.length;++n){var h=ab(f,g[n]);f.fill&&x(a,f,c)&&a.fillText(h,l,e);f.stroke&&m(a,f,c)&&a.strokeText(h,l,e);e+=A}}else h=ab(f,g),f.fill&&x(a,f,c)&&a.fillText(h,l,e),f.stroke&&m(a,f,c)&&a.strokeText(h,l,e);f.angle&&a.restore()}})},pick:fa(function(a,b,c,d,e,m){if(0>=b.fontSize)return!1;if(!b.angle)return!0;c=db(b);a=c.x1;c=c.y1;d=Ob(Xc,b,1);var f=
-b.angle*Ia;b=Math.cos(f);f=Math.sin(f);return d.contains(b*e-f*m+(a-b*a+f*c),f*e+b*m+(c-f*a-b*c))}),isect:function(a,b){a=Ob(Xc,a,2);return Ma(b,a[0],a[1],a[2],a[3])||Ma(b,a[0],a[1],a[4],a[5])||Ma(b,a[4],a[5],a[6],a[7])||Ma(b,a[2],a[3],a[6],a[7])}},Lc=Ja("trail",function(a,b){return ra.context(a)(b)},function(a,b){for(var f=a.length,c,d;0<=--f;)if(!1!==a[f].defined&&(c=a[f].x-b[0],d=a[f].y-b[1],d=c*c+d*d,c=a[f].size||1,d<c*c))return a[f];return null}),Bc={arc:Ec,area:Od,group:Ta,image:Z,line:Da,
path:qd,rect:Ac,rule:ne,shape:Jc,symbol:Kc,text:Vd,trail:Lc},oe={mark:null},nc="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant".split(" "),
oc=Vc.prototype;oc.toJSON=function(a){return Ic(this.root,a||0)};oc.mark=function(a,b,c){b=b||this.root.items[0];a=Nc(a,b);b.items[c]=a;a.zindex&&(a.group.zdirty=!0);return a};var Ib=lc.prototype;Ib.initialize=function(a,b,c){this._el=a;this._obj=c||null;return this.origin(b)};Ib.element=function(){return this._el};Ib.canvas=function(){return this._el&&this._el.firstChild};Ib.origin=function(a){return arguments.length?(this._origin=a||[0,0],this):this._origin.slice()};Ib.scene=function(a){if(!arguments.length)return this._scene;
this._scene=a;return this};Ib.on=function(){};Ib.off=function(){};Ib._handlerIndex=function(a,b,c){for(var f=a?a.length:0;0<=--f;)if(a[f].type===b&&(!c||a[f].handler===c))return f;return-1};Ib.handlers=function(a){var b=this._handlers,f=[],c;if(a)f.push.apply(f,b[this.eventName(a)]);else for(c in b)f.push.apply(f,b[c]);return f};Ib.eventName=function(a){var b=a.indexOf(".");return 0>b?a:a.slice(0,b)};Ib.handleHref=function(a,b,c){this._loader.sanitize(c,{context:"href"}).then(function(b){var f=new MouseEvent(a.type,
a),c=Cc(null,"a"),d;for(d in b)c.setAttribute(d,b[d]);c.dispatchEvent(f)}).catch(function(){})};Ib.handleTooltip=function(a,b,c){if(b&&null!=b.tooltip){var f=this.canvas(),d=this._origin,n=b&&b.mark,e;if(n&&(e=Bc[n.marktype]).tip){f=hc(a,f);f[0]-=d[0];for(f[1]-=d[1];b=b.mark.group;)f[0]-=b.x||0,f[1]-=b.y||0;b=e.tip(n.items,f)}this._tooltip.call(this._obj,this,a,b,c&&b&&b.tooltip||null)}};Ib.getItemBoundingClientRect=function(a){if(b=this.canvas()){var b,f=b.getBoundingClientRect(),c=this._origin,
d=a.bounds;b=d.x1+c[0]+f.left;f=d.y1+c[1]+f.top;c=d.width();for(d=d.height();a.mark&&(a=a.mark.group);)b+=a.x||0,f+=a.y||0;return{x:b,y:f,width:c,height:d,left:b,top:f,right:b+c,bottom:f+d}}};var Xb=uc.prototype;Xb.initialize=function(a,b,c,d,e){this._el=a;return this.resize(b,c,d,e)};Xb.element=function(){return this._el};Xb.canvas=function(){return this._el&&this._el.firstChild};Xb.background=function(a){if(0===arguments.length)return this._bgcolor;this._bgcolor=a;return this};Xb.resize=function(a,
b,c,d){this._width=a;this._height=b;this._origin=c||[0,0];this._scale=d||1;return this};Xb.dirty=function(){};Xb.render=function(a){var b=this;b._call=function(){b._render(a)};b._call();b._call=null;return b};Xb._render=function(){};Xb.renderAsync=function(a){var b=this.render(a);return this._ready?this._ready.then(function(){return b}):Promise.resolve(b)};Xb._load=function(a,b){var f=this;a=f._loader[a](b);if(!f._ready){var c=f._call;f._ready=f._loader.ready().then(function(a){a&&c();f._ready=null})}return a};
Xb.sanitizeURL=function(a){return this._load("sanitizeURL",a)};Xb.loadImage=function(a){return this._load("loadImage",a)};var jb=b.inherits(ud,lc);jb.initialize=function(a,b,c){var f=this._canvas=a&&rc(a,"canvas");if(f){var d=this;this.events.forEach(function(a){f.addEventListener(a,function(b){jb[a]?jb[a].call(d,b):d.fire(a,b)})})}return lc.prototype.initialize.call(this,a,b,c)};jb.canvas=function(){return this._canvas};jb.context=function(){return this._canvas.getContext("2d")};jb.events="keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" ");
jb.DOMMouseScroll=function(a){this.fire("mousewheel",a)};jb.mousemove=Td("mousemove","mouseover","mouseout");jb.dragover=Td("dragover","dragenter","dragleave");jb.mouseout=ae("mouseout");jb.dragleave=ae("dragleave");jb.mousedown=function(a){this._down=this._active;this.fire("mousedown",a)};jb.click=function(a){this._down===this._active&&(this.fire("click",a),this._down=null)};jb.touchstart=function(a){this._touch=this.pickEvent(a.changedTouches[0]);this._first&&(this._active=this._touch,this._first=
!1);this.fire("touchstart",a,!0)};jb.touchmove=function(a){this.fire("touchmove",a,!0)};jb.touchend=function(a){this.fire("touchend",a,!0);this._touch=null};jb.fire=function(a,b,c){c=c?this._touch:this._active;var f=this._handlers[a],d;b.vegaType=a;"click"===a&&c&&c.href?this.handleHref(b,c,c.href):("mousemove"===a||"mouseout"===a)&&this.handleTooltip(b,c,"mouseout"!==a);if(f)for(a=0,d=f.length;a<d;++a)f[a].handler.call(this._obj,b,c)};jb.on=function(a,b){var f=this.eventName(a),c=this._handlers;
0>this._handlerIndex(c[f],a,b)&&(c[f]||(c[f]=[])).push({type:a,handler:b});return this};jb.off=function(a,b){var f=this.eventName(a);f=this._handlers[f];a=this._handlerIndex(f,a,b);0<=a&&f.splice(a,1);return this};jb.pickEvent=function(a){a=hc(a,this._canvas);var b=this._origin;return this.pick(this._scene,a[0],a[1],a[0]-b[0],a[1]-b[1])};jb.pick=function(a,b,c,d,e){var f=this.context();return Bc[a.marktype].pick.call(this,f,a,b,c,d,e)};var Pd="undefined"!==typeof window?window.devicePixelRatio||1:
1,bd=b.inherits(Oc,uc),be=uc.prototype,rd=new C;bd.initialize=function(a,b,c,d,m,l){this._options=l;this._canvas=e.canvas(1,1,l&&l.type);a&&(Kb(a,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks"));return be.initialize.call(this,a,b,c,d,m)};bd.resize=function(a,b,c,d){be.resize.call(this,a,b,c,d);{a=this._canvas;b=this._width;c=this._height;d=this._origin;var f=this._scale,n=this._options&&this._options.context;const e="undefined"!==typeof HTMLElement&&a instanceof HTMLElement&&
null!=a.parentNode,m=a.getContext("2d");f=e?Pd:f;a.width=b*f;a.height=c*f;for(const a in n)m[a]=n[a];e&&1!==f&&(a.style.width=b+"px",a.style.height=c+"px");m.pixelRatio=f;m.setTransform(f,0,0,f,f*d[0],f*d[1])}this._redraw=!0;return this};bd.canvas=function(){return this._canvas};bd.context=function(){return this._canvas?this._canvas.getContext("2d"):null};bd.dirty=function(a){var b=a.bounds;a=a.mark.group;if(null!=a)for(b=rd.clear().union(b);null!=a;a=a.mark.group)b.translate(a.x||0,a.y||0);this._dirty.union(b)};
bd._render=function(a){var b=this.context(),f=this._origin,c=this._width,d=this._height,e=this._dirty;b.save();this._redraw||e.empty()?(this._redraw=!1,e=vc(f,c,d).expand(1)):(e=e.intersect(vc(f,c,d)),e.expand(1).round(),b.pixelRatio%1&&e.scale(b.pixelRatio).round().scale(1/b.pixelRatio),e.translate(-(f[0]%1),-(f[1]%1)),b.beginPath(),b.rect(e.x1,e.y1,e.width(),e.height()),b.clip());this.clear(-f[0],-f[1],c,d);this.draw(b,a,e);b.restore();this._dirty.clear();return this};bd.draw=function(a,c,d){var f=
Bc[c.marktype];if(c.clip){var n=c.clip;a.save();b.isFunction(n)?(a.beginPath(),n(a),a.clip()):pa(a,c.group)}f.draw.call(this,a,c,d);c.clip&&a.restore()};bd.clear=function(a,b,c,d){var f=this.context();f.clearRect(a,b,c,d);null!=this._bgcolor&&(f.fillStyle=this._bgcolor,f.fillRect(a,b,c,d))};var cd=b.inherits(kd,lc);cd.initialize=function(a,b,c){var f=this._svg;f&&(f.removeEventListener("click",this._hrefHandler),f.removeEventListener("mousemove",this._tooltipHandler),f.removeEventListener("mouseout",
this._tooltipHandler));if(this._svg=f=a&&rc(a,"svg"))f.addEventListener("click",this._hrefHandler),f.addEventListener("mousemove",this._tooltipHandler),f.addEventListener("mouseout",this._tooltipHandler);return lc.prototype.initialize.call(this,a,b,c)};cd.canvas=function(){return this._svg};cd.on=function(a,b){var f=this.eventName(a),c=this._handlers;0>this._handlerIndex(c[f],a,b)&&(a={type:a,handler:b,listener:$c(this,b)},(c[f]||(c[f]=[])).push(a),this._svg&&this._svg.addEventListener(f,a.listener));
return this};cd.off=function(a,b){var f=this.eventName(a),c=this._handlers[f];a=this._handlerIndex(c,a,b);0<=a&&(this._svg&&this._svg.removeEventListener(f,c[a].listener),c.splice(a,1));return this};var dd={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Ya={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",
strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},Fc=Object.keys(Ya),yb=dd.xmlns,mb=b.inherits(ld,uc),Cd=uc.prototype;mb.initialize=function(a,b,c,d){a&&(this._svg=dc(a,0,"svg",yb),this._svg.setAttribute("class","marks"),Kb(a,1),this._root=dc(this._svg,0,"g",yb),Kb(this._svg,1));this._defs={gradient:{},clipping:{}};this.background(this._bgcolor);return Cd.initialize.call(this,a,b,c,d)};mb.background=function(a){arguments.length&&this._svg&&
this._svg.style.setProperty("background-color",a);return Cd.background.apply(this,arguments)};mb.resize=function(a,b,c,d){Cd.resize.call(this,a,b,c,d);this._svg&&(this._svg.setAttribute("width",this._width*this._scale),this._svg.setAttribute("height",this._height*this._scale),this._svg.setAttribute("viewBox","0 0 "+this._width+" "+this._height),this._root.setAttribute("transform","translate("+this._origin+")"));this._dirty=[];return this};mb.canvas=function(){return this._svg};mb.svg=function(){if(!this._svg)return null;
var a={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(b in dd)a[b]=dd[b];var b=this._bgcolor?Mb("rect",{width:this._width,height:this._height,style:"fill: "+this._bgcolor+";"})+lb("rect"):"";return Mb("svg",a)+b+this._svg.innerHTML+lb("svg")};mb._render=function(a){this._dirtyCheck()&&(this._dirtyAll&&this._resetDefs(),this.draw(this._root,a),Kb(this._root,1));this.updateDefs();this._dirty=[];++this._dirtyID;return this};
mb.updateDefs=function(){var a=this._svg,b=this._defs,c=b.el,d=0,e;for(e in b.gradient){c||(b.el=c=dc(a,0,"defs",yb));var m,l=c,g=b.gradient[e];if("radial"===g.gradient){var A=dc(l,d++,"pattern",yb);A.setAttribute("id","p_"+g.id);A.setAttribute("viewBox","0,0,1,1");A.setAttribute("width","100%");A.setAttribute("height","100%");A.setAttribute("preserveAspectRatio","xMidYMid slice");A=dc(A,0,"rect",yb);A.setAttribute("width","1");A.setAttribute("height","1");A.setAttribute("fill","url("+Id()+"#"+g.id+
")");l=dc(l,d++,"radialGradient",yb);l.setAttribute("id",g.id);l.setAttribute("fx",g.x1);l.setAttribute("fy",g.y1);l.setAttribute("fr",g.r1);l.setAttribute("cx",g.x2);l.setAttribute("cy",g.y2);l.setAttribute("r",g.r2)}else l=dc(l,d++,"linearGradient",yb),l.setAttribute("id",g.id),l.setAttribute("x1",g.x1),l.setAttribute("x2",g.x2),l.setAttribute("y1",g.y1),l.setAttribute("y2",g.y2);var h=0;for(m=g.stops.length;h<m;++h)A=dc(l,h,"stop",yb),A.setAttribute("offset",g.stops[h].offset),A.setAttribute("stop-color",
g.stops[h].color);Kb(l,h)}for(e in b.clipping)c||(b.el=c=dc(a,0,"defs",yb)),l=c,g=b.clipping[e],A=d,l=dc(l,A,"clipPath",yb),l.setAttribute("id",g.id),g.path?(d=dc(l,0,"path",yb),d.setAttribute("d",g.path)):(d=dc(l,0,"rect",yb),d.setAttribute("x",0),d.setAttribute("y",0),d.setAttribute("width",g.width),d.setAttribute("height",g.height)),Kb(l,1),d=A+1;c&&(0===d?(a.removeChild(c),b.el=null):Kb(c,d))};mb._resetDefs=function(){var a=this._defs;a.gradient={};a.clipping={}};mb.dirty=function(a){a.dirty!==
this._dirtyID&&(a.dirty=this._dirtyID,this._dirty.push(a))};mb.isDirty=function(a){return this._dirtyAll||!a._svg||a.dirty===this._dirtyID};mb._dirtyCheck=function(){this._dirtyAll=!0;var a=this._dirty;if(!a.length||!this._dirtyID)return!0;var b=++this._dirtyID,c;var d=0;for(c=a.length;d<c;++d){var e=a[d];var m=e.mark;if(m.marktype!==l){var l=m.marktype;var g=Bc[l]}m.zdirty&&m.dirty!==b&&(this._dirtyAll=!1,ke(e,b),m.items.forEach(function(a){a.dirty=b}));m.zdirty||(e.exit?(g.nested&&m.items.length?
(m=m.items[0],m._svg&&this._update(g,m._svg,m)):e._svg&&(m=e._svg.parentNode)&&m.removeChild(e._svg),e._svg=null):(e=g.nested?m.items[0]:e,e._update!==b&&(e._svg&&e._svg.ownerSVGElement?this._update(g,e._svg,e):(this._dirtyAll=!1,ke(e,b)),e._update=b)))}return!this._dirtyAll};mb.draw=function(a,b,c){function f(a){var b=d.isDirty(a),f=Hd(a,h,g,e.tag,n);b&&(d._update(e,f,a),l&&Gd(d,f,a));g=f;++A}if(!this.isDirty(b))return b._svg;var d=this,n=this._svg,e=Bc[b.marktype],m=!1===b.interactive?"none":null,
l="g"===e.tag,g=null,A=0;var h=Hd(b,a,c,"g",n);h.setAttribute("class",$b(b));l||h.style.setProperty("pointer-events",m);b.clip?h.setAttribute("clip-path",ub(d,b,b.group)):h.removeAttribute("clip-path");e.nested?b.items.length&&f(b.items[0]):da(b,f);Kb(h,A);return h};var Yb=null,pc=null,ce={group:function(a,b,c){var f;Yb=f=b.childNodes[2];pc=f.__values__;a.foreground(gd,c,this);pc=b.__values__;Yb=b.childNodes[1];a.content(gd,c,this);Yb=b=b.childNodes[0];a.background(gd,c,this);a=!1===c.mark.interactive?
"none":null;a!==pc.events&&(f.style.setProperty("pointer-events",a),b.style.setProperty("pointer-events",a),pc.events=a);c.strokeForeground&&c.stroke?(a=c.fill,f.style.removeProperty("display"),this.style(b,c),b.style.removeProperty("stroke"),a&&(c.fill=null),pc=f.__values__,this.style(f,c),a&&(c.fill=a),Yb=null):(f.style.setProperty("display","none"),f.style.setProperty("fill","none"))},image:function(a,b,c){!1===c.smooth?(ic(b,"image-rendering","optimizeSpeed"),ic(b,"image-rendering","pixelated")):
ic(b,"image-rendering",null)},text:function(a,c,d){a=Sb(d);if(b.isArray(a)){var f=a.map(a=>ab(d,a));a=f.join("\n");if(a!==pc.text){Kb(c,0);var n=c.ownerDocument;var e=qc(d);f.forEach((a,b)=>{const f=Cc(n,"tspan",yb);f.__data__=d;f.textContent=a;b&&(f.setAttribute("x",0),f.setAttribute("dy",e));c.appendChild(f)});pc.text=a}}else f=ab(d,a),f!==pc.text&&(c.textContent=f,pc.text=f);ic(c,"font-family",sb(d));ic(c,"font-size",Fb(d)+"px");ic(c,"font-style",d.fontStyle);ic(c,"font-variant",d.fontVariant);
ic(c,"font-weight",d.fontWeight)}};mb._update=function(a,b,c){Yb=b;pc=b.__values__;a.attr(gd,c,this);var f=ce[a.type];f&&f.call(this,a,b,c);Yb&&this.style(Yb,c)};mb.style=function(a,b){if(null!=b){var f;var c=0;for(f=Fc.length;c<f;++c){var d=Fc[c];var n=b[d];"font"===d&&(n=sb(b));if(n!==pc[d]){var e=Ya[d];null==n?"fill"===e?a.style.setProperty(e,"none"):a.style.removeProperty(e):(n&&n.gradient&&(n=w(n,this._defs.gradient,Id())),a.style.setProperty(e,n+""));pc[d]=n}}}};var Tc=b.inherits(vd,uc),A=uc.prototype;
Tc.resize=function(a,b,c,d){A.resize.call(this,a,b,c,d);a=this._origin;b=this._text;c={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var f in dd)c[f]=dd[f];b.head=Mb("svg",c);f=this._bgcolor;if("transparent"===f||"none"===f)f=null;b.bg=f?Mb("rect",{width:this._width,height:this._height,style:"fill: "+f+";"})+lb("rect"):"";b.root=Mb("g",{transform:"translate("+a+")"});b.foot=lb("g")+lb("svg");return this};Tc.background=
function(){var a=A.background.apply(this,arguments);arguments.length&&this._text.head&&this.resize(this._width,this._height,this._origin,this._scale);return a};Tc.svg=function(){var a=this._text;return a.head+a.bg+a.defs+a.root+a.body+a.foot};Tc._render=function(a){this._text.body=this.mark(a);this._text.defs=this.buildDefs();return this};Tc.buildDefs=function(){var a=this._defs,b="",c,d;for(c in a.gradient){var e=a.gradient[c];var m=e.stops;"radial"===e.gradient?(b+=Mb(d="pattern",{id:"p_"+c,viewBox:"0,0,1,1",
width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),b+=Mb("rect",{width:"1",height:"1",fill:"url(#"+c+")"})+lb("rect"),b+=lb(d),b+=Mb(d="radialGradient",{id:c,fx:e.x1,fy:e.y1,fr:e.r1,cx:e.x2,cy:e.y2,r:e.r2})):b+=Mb(d="linearGradient",{id:c,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2});for(e=0;e<m.length;++e)b+=Mb("stop",{offset:m[e].offset,"stop-color":m[e].color})+lb("stop");b+=lb(d)}for(c in a.clipping)e=a.clipping[c],b+=Mb("clipPath",{id:c}),b=e.path?b+(Mb("path",{d:e.path})+lb("path")):b+(Mb("rect",
{x:0,y:0,width:e.width,height:e.height})+lb("rect")),b+=lb("clipPath");return 0<b.length?Mb("defs")+b+lb("defs"):""};var K;Tc.attributes=function(a,b){K={};a(md,b,this);return K};Tc.href=function(a){var b=this,f=a.href;if(f){if(a=b._hrefs&&b._hrefs[f])return a;b.sanitizeURL(f).then(function(a){a["xlink:href"]=a.href;a.href=null;(b._hrefs||(b._hrefs={}))[f]=a})}return null};Tc.mark=function(a){function f(f){var n=c.href(f);n&&(l+=Mb("a",n));g="g"!==e?Jd(f,a,e,m):null;l+=Mb(e,c.attributes(d.attr,f),
g);if("text"===e){var A=Sb(f);if(b.isArray(A)){var h={x:0,dy:qc(f)};for(var v=0;v<A.length;++v)l+=Mb("tspan",v?h:null)+Pc(ab(f,A[v]))+lb("tspan")}else l+=Pc(ab(f,A))}else"g"===e&&(A=f.strokeForeground,h=f.fill,v=f.stroke,A&&v&&(f.stroke=null),l+=Mb("path",c.attributes(d.background,f),Jd(f,a,"bgrect",m))+lb("path"),l+=Mb("g",c.attributes(d.content,f))+c.markGroup(f)+lb("g"),A&&v?(h&&(f.fill=null),f.stroke=v,l+=Mb("path",c.attributes(d.foreground,f),Jd(f,a,"bgrect",m))+lb("path"),h&&(f.fill=h)):l+=
Mb("path",c.attributes(d.foreground,f),Jd({},a,"bgfore",m))+lb("path"));l+=lb(e);n&&(l+=lb("a"))}var c=this,d=Bc[a.marktype],e=d.tag,m=this._defs,l="",g;"g"!==e&&!1===a.interactive&&(g='style\x3d"pointer-events: none;"');l+=Mb("g",{"class":$b(a),"clip-path":a.clip?ub(c,a,a.group):null},g);d.nested?a.items&&a.items.length&&f(a.items[0]):da(a,f);return l+lb("g")};Tc.markGroup=function(a){var b=this,f="";da(a,function(a){f+=b.mark(a)});return f};var ta={};ta.canvas=ta.png={renderer:Oc,headless:Oc,handler:ud};
ta.svg={renderer:ld,headless:vd,handler:kd};ta.none={};var ob=new C;a.Bounds=C;a.CanvasHandler=ud;a.CanvasRenderer=Oc;a.Gradient=function(a,b){var f=[],c;return c={gradient:"linear",x1:a?a[0]:0,y1:a?a[1]:0,x2:b?b[0]:1,y2:b?b[1]:0,stops:f,stop:function(a,b){f.push({offset:a,color:b});return c}}};a.GroupItem=T;a.Handler=lc;a.Item=ea;a.Marks=Bc;a.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};a.Renderer=uc;a.ResourceLoader=F;a.SVGHandler=kd;a.SVGRenderer=ld;a.SVGStringRenderer=vd;a.Scenegraph=
Vc;a.boundClip=function(a){var f=a.clip;if(b.isFunction(f))f(g(ob.clear()));else if(f)ob.set(0,0,a.group.width,a.group.height);else return;a.bounds.intersect(ob)};a.boundContext=g;a.boundItem=gc;a.boundMark=jc;a.boundStroke=qa;a.closeTag=lb;a.domChild=dc;a.domClear=Kb;a.domCreate=Cc;a.domFind=rc;a.font=ac;a.fontFamily=sb;a.fontSize=Fb;a.intersect=function(a,c,d){const f=[];c=(new C).union(c);const e=a.marktype;return e?Kd(a,c,d,f):"group"===e?wd(a,c,d,f):b.error("Intersect scene must be mark node or group item.")};
a.intersectBoxLine=Ma;a.intersectPath=I;a.intersectPoint=ya;a.intersectRule=Ea;a.lineHeight=qc;a.multiLineOffset=function(a){const f=Sb(a);return(b.isArray(f)?f.length-1:0)*qc(a)};a.openTag=Mb;a.pathCurves=W;a.pathEqual=Md;a.pathParse=r;a.pathRectangle=L;a.pathRender=z;a.pathSymbols=p;a.pathTrail=ma;a.point=hc;a.renderModule=function(a,b){a=String(a||"").toLowerCase();return 1<arguments.length?(ta[a]=b,this):ta[a]};a.resetSVGClipId=function(){Qc=1};a.sceneEqual=Ld;a.sceneFromJSON=td;a.scenePickVisit=
oa;a.sceneToJSON=Ic;a.sceneVisit=da;a.sceneZOrder=Ua;a.textMetrics=Wc;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[40]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(31),w(39),w(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],b):(a=a||self,b((a.vega=a.vega||{},a.vega.transforms={}),a.vega,a.vega,a.vega))})(this,function(a,b,e,H){function u(a){b.Transform.call(this,null,a)}function t(a,b,c){return b(a.bounds.clear(),a,c)}function C(a){b.Transform.call(this,0,a)}function w(a){var b=a._signals[":vega_identifier:"];
b||(a._signals[":vega_identifier:"]=b=a.add(0));return b}function P(a){b.Transform.call(this,null,a)}function ea(a){var b=a.groups;a=a.parent;return b&&1===b.size?b.get(Object.keys(b.object)[0]):b&&a?b.lookup(a):null}function T(a){b.Transform.call(this,null,a)}function F(a,b,c){return c>Math.max(b.x1-a.x2,a.x1-b.x2,b.y1-a.y2,a.y1-b.y2)}function W(a,b){for(var c=1,d=a.length,e=a[0].bounds;c<d;++c)if(F(e,e=a[c].bounds,b))return!0}function r(a){a=a.bounds;return 1<a.width()&&1<a.height()}function S(a,
b,c){a=a.range();var d=new e.Bounds;"top"===b||"bottom"===b?d.set(a[0],-Infinity,a[1],Infinity):d.set(-Infinity,a[0],Infinity,a[1]);d.expand(c||1);return a=>d.encloses(a.bounds)}function z(a){a.forEach(a=>a.opacity=1);return a}function J(a){b.Transform.call(this,null,a)}function p(a,b,c){return a[b]===c?0:(a[b]=c,1)}function k(a){a=a.items[0].datum.orient;return"left"===a||"right"===a}function N(a,b,c,d){b=b.items[0];var m=b.datum,l=m.orient,g=null!=m.translate?m.translate:.5,h=+m.grid;var v=[m.ticks?
h++:-1,m.labels?h++:-1,h+ +m.domain];h=b.range;var k=b.offset,x=b.position,fa=b.minExtent,B=b.maxExtent;m=m.title&&b.items[v[2]].items[0];var r=b.titlePadding,t=b.bounds,L=m&&e.multiLineOffset(m),z;Ba.clear().union(t);t.clear();-1<(z=v[0])&&t.union(b.items[z].bounds);-1<(z=v[1])&&t.union(b.items[z].bounds);switch(l){case "top":c=x||0;d=-k;fa=Math.max(fa,Math.min(B,-t.y1));t.add(0,-fa).add(h,0);m&&D(a,m,fa,r,L,0,-1,t);break;case "left":c=-k;d=x||0;fa=Math.max(fa,Math.min(B,-t.x1));t.add(-fa,0).add(0,
h);m&&D(a,m,fa,r,L,1,-1,t);break;case "right":c+=k;d=x||0;fa=Math.max(fa,Math.min(B,t.x2));t.add(0,0).add(fa,h);m&&D(a,m,fa,r,L,1,1,t);break;case "bottom":c=x||0;d+=k;fa=Math.max(fa,Math.min(B,t.y2));t.add(0,0).add(h,fa);m&&D(a,m,fa,r,0,0,1,t);break;default:c=b.x,d=b.y}e.boundStroke(t.translate(c,d),b);p(b,"x",c+g)|p(b,"y",d+g)&&(b.bounds=Ba,a.dirty(b),b.bounds=t,a.dirty(b));return b.mark.bounds.clear().union(t)}function D(a,b,c,d,e,g,h,k){const m=b.bounds;b.auto&&(c=h*(c+e+d),e=d=0,a.dirty(b),g?
d=(b.x||0)-(b.x=c):e=(b.y||0)-(b.y=c),b.mark.bounds.clear().union(m.translate(-d,-e)),a.dirty(b));k.union(m)}function O(a){return(new e.Bounds).set(0,0,a.width||0,a.height||0)}function c(a){var b=a.bounds.clone();return b.empty()?b.set(0,0,0,0):b.translate(-(a.x||0),-(a.y||0))}function h(a,b,c){a=H.isObject(a)?a[b]:a;return null!=a?a:void 0!==c?c:0}function ba(a){return 0>a?Math.ceil(-a):0}function L(a,b,d){var e=!d.nodirty,l="flush"===d.bounds?O:c,g=Ba.set(0,0,0,0),v=h(d.align,"column"),k=h(d.align,
"row"),x=h(d.padding,"column"),p=h(d.padding,"row"),B=d.columns||b.length,fa=0>B?1:Math.ceil(b.length/B),r=b.length,t=Array(r),L=Array(B),z=0,ia=Array(r),N=Array(fa),J=0,F=Array(r),H=Array(r),U=Array(r),D,u,M;for(D=0;D<B;++D)L[D]=0;for(D=0;D<fa;++D)N[D]=0;for(D=0;D<r;++D){var S=b[D];var C=U[D]=l(S);S.x=S.x||0;F[D]=0;S.y=S.y||0;H[D]=0;S=D%B;var ma=~~(D/B);z=Math.max(z,u=Math.ceil(C.x2));J=Math.max(J,M=Math.ceil(C.y2));L[S]=Math.max(L[S],u);N[ma]=Math.max(N[ma],M);t[D]=x+ba(C.x1);ia[D]=p+ba(C.y1);e&&
a.dirty(b[D])}for(D=0;D<r;++D)0===D%B&&(t[D]=0),D<B&&(ia[D]=0);if("each"===v)for(S=1;S<B;++S){l=0;for(D=S;D<r;D+=B)l<t[D]&&(l=t[D]);for(D=S;D<r;D+=B)t[D]=l+L[S-1]}else if("all"===v){for(D=l=0;D<r;++D)D%B&&l<t[D]&&(l=t[D]);for(D=0;D<r;++D)D%B&&(t[D]=l+z)}else for(v=!1,S=1;S<B;++S)for(D=S;D<r;D+=B)t[D]+=L[S-1];if("each"===k)for(ma=1;ma<fa;++ma){l=0;D=ma*B;for(S=D+B;D<S;++D)l<ia[D]&&(l=ia[D]);for(D=ma*B;D<S;++D)ia[D]=l+N[ma-1]}else if("all"===k){l=0;for(D=B;D<r;++D)l<ia[D]&&(l=ia[D]);for(D=B;D<r;++D)ia[D]=
l+J}else for(k=!1,ma=1;ma<fa;++ma)for(D=ma*B,S=D+B;D<S;++D)ia[D]+=N[ma-1];for(D=ma=0;D<r;++D)ma=t[D]+(D%B?ma:0),F[D]+=ma-b[D].x;for(S=0;S<B;++S)for(t=0,D=S;D<r;D+=B)t+=ia[D],H[D]+=t-b[D].y;if(v&&h(d.center,"column")&&1<fa)for(D=0;D<r;++D)C="all"===v?z:L[D%B],ma=C-U[D].x2-b[D].x-F[D],0<ma&&(F[D]+=ma/2);if(k&&h(d.center,"row")&&1!==B)for(D=0;D<r;++D)C="all"===k?J:N[~~(D/B)],t=C-U[D].y2-b[D].y-H[D],0<t&&(H[D]+=t/2);for(D=0;D<r;++D)g.union(U[D].translate(F[D],H[D]));ma=h(d.anchor,"x");t=h(d.anchor,"y");
switch(h(d.anchor,"column")){case "end":ma-=g.width();break;case "middle":ma-=g.width()/2}switch(h(d.anchor,"row")){case "end":t-=g.height();break;case "middle":t-=g.height()/2}ma=Math.round(ma);t=Math.round(t);g.clear();for(D=0;D<r;++D)b[D].mark.bounds.clear();for(D=0;D<r;++D)S=b[D],S.x+=F[D]+=ma,S.y+=H[D]+=t,g.union(S.mark.bounds.union(S.bounds.translate(F[D],H[D]))),e&&a.dirty(S);return g}function ma(a,b){return"x1"===b?a.x||0:"y1"===b?a.y||0:"x2"===b?(a.x||0)+(a.width||0):"y2"===b?(a.y||0)+(a.height||
0):void 0}function B(a,b){return a.bounds[b]}function ia(a,b){return Math.floor(Math.min(a,b))}function va(a,b){return Math.ceil(Math.max(a,b))}function qa(a,b,c,d,e,g,h,k,p,B,r,fa,t,L){var m=c.length,l=d=0,v,E;if(!m)return d;for(v=r;v<m;v+=fa)c[v]&&(d=h(d,p(c[v],B)));if(!b.length)return d;b.length>e&&(a.warn("Grid headers exceed limit: "+e),b=b.slice(0,e));d+=g;e=0;for(g=b.length;e<g;++e)a.dirty(b[e]),b[e].mark.bounds.clear();v=r;e=0;for(g=b.length;e<g;++e,v+=fa){p=b[e];r=p.mark.bounds;for(m=v;0<=
m&&null==(E=c[m]);m-=t);if(k){m=null==L?E.x:Math.round(E.bounds.x1+L*E.bounds.width());var x=d}else m=d,x=null==L?E.y:Math.round(E.bounds.y1+L*E.bounds.height());r.union(p.bounds.translate(m-(p.x||0),x-(p.y||0)));p.x=m;p.y=x;a.dirty(p);l=h(l,r[B])}return l}function g(a,b,c,d,e,g){if(b){a.dirty(b);var m=c;d?m=Math.round(e.x1+g*e.width()):c=Math.round(e.y1+g*e.height());b.bounds.translate(m-(b.x||0),c-(b.y||0));b.mark.bounds.clear().union(b.bounds);b.x=m;b.y=c;a.dirty(b)}}function d(a,b){const c=a[b]||
{};return(b,d)=>null!=c[b]?c[b]:null!=a[b]?a[b]:d}function M(a,b){var c=-Infinity;a.forEach(a=>{null!=a.offset&&(c=Math.max(c,a.offset))});return-Infinity<c?c:b}function Q(a,b,c,e,g,h,k){const m=d(c,b);c=M(a,m("offset",0));const l=m("anchor","start"),v="end"===l?1:"middle"===l?.5:0;a={align:"each",bounds:m("bounds","flush"),columns:"vertical"===m("direction")?1:a.length,padding:m("margin",8),center:m("center"),nodirty:!0};switch(b){case "left":a.anchor={x:Math.floor(e.x1)-c,column:"end",y:v*(k||e.height()+
2*e.y1),row:l};break;case "right":a.anchor={x:Math.ceil(e.x2)+c,y:v*(k||e.height()+2*e.y1),row:l};break;case "top":a.anchor={y:Math.floor(g.y1)-c,row:"end",x:v*(h||g.width()+2*g.x1),column:l};break;case "bottom":a.anchor={y:Math.ceil(g.y2)+c,x:v*(h||g.width()+2*g.x1),column:l};break;case "top-left":a.anchor={x:c,y:c};break;case "top-right":a.anchor={x:h-c,y:c,column:"end"};break;case "bottom-left":a.anchor={x:c,y:k-c,row:"end"};break;case "bottom-right":a.anchor={x:h-c,y:k-c,column:"end",row:"end"}}return a}
function G(a,b){b=b.items[0];var c=b.datum,d=b.orient,g=b.bounds,l=b.x,h=b.y;b._bounds?b._bounds.clear().union(g):b._bounds=g.clone();g.clear();var k=b.items[0].items[0];var v=b.padding,p=v-k.x,B=v-k.y;if(b.datum.title){var fa=b.items[1].items[0],r=fa.anchor,t=b.titlePadding||0,L=v-fa.x,D=v-fa.y;switch(fa.orient){case "left":p+=Math.ceil(fa.bounds.width())+t;break;case "right":case "bottom":break;default:B+=fa.bounds.height()+t}(p||B)&&aa(a,k,p,B);switch(fa.orient){case "left":D+=ha(b,k,fa,r,1,1);
break;case "right":L+=ha(b,k,fa,"end",0,0)+t;D+=ha(b,k,fa,r,1,1);break;case "bottom":L+=ha(b,k,fa,r,0,0);D+=ha(b,k,fa,"end",-1,0,1)+t;break;default:L+=ha(b,k,fa,r,0,0)}(L||D)&&aa(a,fa,L,D);0>(L=Math.round(fa.bounds.x1-v))&&(aa(a,k,-L,0),aa(a,fa,-L,0))}else(p||B)&&aa(a,k,p,B);g=I(b,g);a=2*b.padding;k=2*b.padding;g.empty()||(a=Math.ceil(g.width()+a),k=Math.ceil(g.height()+k));"symbol"===c.type&&sa(b.items[0].items[0].items[0].items);"none"!==d&&(b.x=l=0,b.y=h=0);b.width=a;b.height=k;e.boundStroke(g.set(l,
h,l+a,h+k),b);b.mark.bounds.clear().union(g);return b}function I(a,b){a.items.forEach(a=>b.union(a.bounds));b.x1=a.padding;b.y1=a.padding;return b}function ha(a,b,c,d,g,h,k){const m=c.datum.vgrad;a=("symbol"===a.datum.type||!h&&m||k?b:b.items[0]).bounds[g?"y2":"x2"]-a.padding;b=m&&h?a:0;h=m&&h?0:a;c=0>=g?0:e.multiLineOffset(c);return Math.round("start"===d?b:"end"===d?h-c:.5*(a-c))}function aa(a,b,c,d){b.x+=c;b.y+=d;b.bounds.translate(c,d);b.mark.bounds.translate(c,d);a.dirty(b)}function sa(a){var b=
a.reduce(function(a,b){a[b.column]=Math.max(b.bounds.x2-b.x,a[b.column]||0);return a},{});a.forEach(function(a){a.width=b[a.column];a.height=a.bounds.y2-a.y})}function ya(a,b,c,d,e){var m=b.items[0],g=m.orient,l=m.anchor,h=m.offset,k=m.padding,v=m.items[0].items[0],E=m.items[1]&&m.items[1].items[0],x="left"===g||"right"===g?d:c,B=0,r=c=0;"group"!==m.frame?"left"===g?(B=e.y2,x=e.y1):"right"===g?(B=e.y1,x=e.y2):(B=e.x1,x=e.x2):"left"===g&&(B=d,x=0);d="start"===l?B:"end"===l?x:(B+x)/2;if(E&&E.text){switch(g){case "top":case "bottom":r=
v.bounds.height()+k;break;case "left":c=v.bounds.width()+k;break;case "right":c=-v.bounds.width()-k}Ba.clear().union(E.bounds);Ba.translate(c-(E.x||0),r-(E.y||0));p(E,"x",c)|p(E,"y",r)&&(a.dirty(E),E.bounds.clear().union(Ba),E.mark.bounds.clear().union(Ba),a.dirty(E));Ba.clear().union(E.bounds)}else Ba.clear();Ba.union(v.bounds);switch(g){case "top":g=d;e=e.y1-Ba.height()-h;break;case "left":g=e.x1-Ba.width()-h;e=d;break;case "right":g=e.x2+Ba.width()+h;e=d;break;case "bottom":g=d;e=e.y2+h;break;
default:g=m.x,e=m.y}p(m,"x",g)|p(m,"y",e)&&(Ba.translate(g,e),a.dirty(m),m.bounds.clear().union(Ba),b.bounds.clear().union(Ba),a.dirty(m));return m.bounds}function Na(a){b.Transform.call(this,null,a)}function Ea(a,b,c){var d=b.items,g=Math.max(0,b.width||0),l=Math.max(0,b.height||0),h=(new e.Bounds).set(0,0,g,l),v=h.clone(),x=h.clone(),p=[],B,fa;var r=0;for(fa=d.length;r<fa;++r){var t=d[r];switch(t.role){case "axis":var D=k(t)?v:x;D.union(N(a,t,g,l));break;case "title":var z=t;break;case "legend":p.push(G(a,
t));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":v.union(t.bounds);x.union(t.bounds);break;default:h.union(t.bounds)}}if(p.length){const b={};p.forEach(a=>{B=a.orient||"right";"none"!==B&&(b[B]||(b[B]=[])).push(a)});for(let e in b)d=b[e],L(a,d,Q(d,e,c.legends,v,x,g,l));p.forEach(b=>{const d=b.bounds;d.equals(b._bounds)||(b.bounds=b._bounds,a.dirty(b),b.bounds=d,a.dirty(b));if(c.autosize&&"fit"===
c.autosize.type)switch(b.orient){case "left":case "right":h.add(d.x1,0).add(d.x2,0);break;case "top":case "bottom":h.add(0,d.y1).add(0,d.y2)}else h.union(d)})}h.union(v).union(x);z&&h.union(ya(a,z,g,l,h));b.clip&&h.set(0,0,b.width||0,b.height||0);Ma(a,b,h,c)}function Ma(a,b,c,d){d=d.autosize||{};const e=d.type;if(!(1>a._autosize)&&e){var m=a._width,g=a._height,l=Math.max(0,b.width||0),h=Math.max(0,Math.ceil(-c.x1)),k=Math.max(0,Math.ceil(c.x2-l));b=Math.max(0,b.height||0);var v=Math.max(0,Math.ceil(-c.y1));
c=Math.max(0,Math.ceil(c.y2-b));if("padding"===d.contains){const b=a.padding();m-=b.left+b.right;g-=b.top+b.bottom}"none"===e?(v=h=0,l=m,b=g):"fit"===e?(l=Math.max(0,m-h-k),b=Math.max(0,g-v-c)):"fit-x"===e?(l=Math.max(0,m-h-k),g=b+v+c):"fit-y"===e?(m=l+h+k,b=Math.max(0,g-v-c)):"pad"===e&&(m=l+h+k,g=b+v+c);a._resizeView(m,g,l,b,[h,v],d.resize)}}H.inherits(u,b.Transform).transform=function(a,b){var c=b.dataflow,d=a.mark,g=d.marktype,l=e.Marks[g],h=l.bound,k=d.bounds;if(l.nested)d.items.length&&c.dirty(d.items[0]),
k=t(d,h),d.items.forEach(function(a){a.bounds.clear().union(k)});else if("group"===g||a.modified())switch(b.visit(b.MOD,function(a){c.dirty(a)}),k.clear(),d.items.forEach(function(a){k.union(t(a,h))}),d.role){case "axis":case "legend":case "title":b.reflow()}else{var v=b.changed(b.REM);b.visit(b.ADD,function(a){k.union(t(a,h))});b.visit(b.MOD,function(a){v=v||k.alignsWith(a.bounds);c.dirty(a);k.union(t(a,h))});v&&(k.clear(),d.items.forEach(function(a){k.union(a.bounds)}))}e.boundClip(d);return b.modifies("bounds")};
C.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};H.inherits(C,b.Transform).transform=function(a,b){var c=w(b.dataflow),d=c.value,e=a.as;b.visit(b.ADD,function(a){a[e]||(a[e]=++d)});c.set(this.value=d);return b};H.inherits(P,b.Transform).transform=function(a,b){var c=this.value;c||(c=b.dataflow.scenegraph().mark(a.markdef,ea(a),a.index),c.group.context=a.context,a.context.group||(a.context.group=c.group),c.source=this.source,c.clip=a.clip,c.interactive=
a.interactive,this.value=c);var d="group"===c.marktype?e.GroupItem:e.Item;b.visit(b.ADD,function(a){d.call(a,c)});if(a.modified("clip")||a.modified("interactive"))c.clip=a.clip,c.interactive=!!a.interactive,c.zdirty=!0,b.reflow();c.items=b.source;return b};var U={parity:function(a){return a.filter((a,b)=>b%2?a.opacity=0:1)},greedy:function(a,b){var c;return a.filter((a,d)=>{if(d&&F(c.bounds,a.bounds,b))return a.opacity=0;c=a;return 1})}};H.inherits(T,b.Transform).transform=function(a,b){var c=U[a.method]||
U.parity,d=b.materialize(b.SOURCE).source,e=a.separation||0;if(d&&d.length){if(!a.method)return a.modified("method")&&(z(d),b=b.reflow(a.modified()).modifies("opacity")),b;a.sort&&(d=d.slice().sort(a.sort));d=d.filter(r);var g=z(d);b=b.reflow(a.modified()).modifies("opacity");if(3<=g.length&&W(g,e)){do g=c(g,e);while(3<=g.length&&W(g,e));3>g.length&&!H.peek(d).opacity&&(1<g.length&&(H.peek(g).opacity=0),H.peek(d).opacity=1)}if(a.boundScale&&0<=a.boundTolerance){var l=S(a.boundScale,a.boundOrient,
+a.boundTolerance);d.forEach(a=>{l(a)||(a.opacity=0)})}var h=g[0].mark.bounds.clear();d.forEach(a=>{a.opacity&&h.union(a.bounds)});return b}};H.inherits(J,b.Transform).transform=function(a,b){var c=b.dataflow;b.visit(b.ALL,function(a){c.dirty(a)});b.fields&&b.fields.zindex&&(a=b.source&&b.source[0])&&(a.mark.zdirty=!0)};const Ba=new e.Bounds;H.inherits(Na,b.Transform).transform=function(a,b){var c=b.dataflow;a.mark.items.forEach(function(b){if(a.layout){for(var d=a.layout,e=b.items,m=e.length,l=0,
k,v,p=[],x=[],r=[],t=[],D=[],z=null,O=null;l<m;++l)if(k=e[l],v=k.items,"group"===k.marktype)switch(k.role){case "axis":case "legend":case "title":break;case "row-header":x.push(...v);break;case "row-footer":r.push(...v);break;case "column-header":t.push(...v);break;case "column-footer":D.push(...v);break;case "row-title":z=v[0];break;case "column-title":O=v[0];break;default:p.push(...v)}k="flush"===d.bounds?ma:B;e=d.offset;v=d.columns||p.length;var ba=0>v?1:Math.ceil(p.length/v),N=ba*v;m=L(c,p,d);
if(x){l=h(d.headerBand,"row",null);var J=qa(c,x,p,v,ba,-h(e,"rowHeader"),ia,0,k,"x1",0,v,1,l)}if(t){l=h(d.headerBand,"column",null);var F=qa(c,t,p,v,v,-h(e,"columnHeader"),ia,1,k,"y1",0,1,v,l)}if(r){l=h(d.footerBand,"row",null);var H=qa(c,r,p,v,ba,h(e,"rowFooter"),va,0,k,"x2",v-1,v,1,l)}if(D){l=h(d.footerBand,"column",null);var U=qa(c,D,p,v,v,h(e,"columnFooter"),va,1,k,"y2",N-v,1,v,l)}z&&(x=h(d.titleAnchor,"row"),p=h(e,"rowTitle"),p="end"===x?H+p:J-p,l=h(d.titleBand,"row",.5),g(c,z,p,0,m,l));O&&(x=
h(d.titleAnchor,"column"),p=h(e,"columnTitle"),p="end"===x?U+p:F-p,l=h(d.titleBand,"column",.5),g(c,O,p,1,m,l))}Ea(c,b,a)});a.modified()&&b.reflow();return b};a.bound=u;a.identifier=C;a.mark=P;a.overlap=T;a.render=J;a.viewlayout=Na;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[41]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.d3=a.d3||{}))})(this,function(a){function b(a,b,c){a.prototype=b.prototype=c;c.constructor=a}function e(a,b){a=Object.create(a.prototype);for(var c in b)a[c]=b[c];return a}function H(){}function u(){return this.rgb().formatHex()}function t(){return this.rgb().formatRgb()}function C(a){var b,c;a=(a+"").trim().toLowerCase();
return(b=Q.exec(a))?(c=b[1].length,b=parseInt(b[1],16),6===c?w(b):3===c?new F(b>>8&15|b>>4&240,b>>4&15|b&240,(b&15)<<4|b&15,1):8===c?new F(b>>24&255,b>>16&255,b>>8&255,(b&255)/255):4===c?new F(b>>12&15|b>>8&240,b>>8&15|b>>4&240,b>>4&15|b&240,((b&15)<<4|b&15)/255):null):(b=G.exec(a))?new F(b[1],b[2],b[3],1):(b=I.exec(a))?new F(255*b[1]/100,255*b[2]/100,255*b[3]/100,1):(b=ha.exec(a))?P(b[1],b[2],b[3],b[4]):(b=aa.exec(a))?P(255*b[1]/100,255*b[2]/100,255*b[3]/100,b[4]):(b=sa.exec(a))?z(b[1],b[2]/100,
b[3]/100,1):(b=ya.exec(a))?z(b[1],b[2]/100,b[3]/100,b[4]):Na.hasOwnProperty(a)?w(Na[a]):"transparent"===a?new F(NaN,NaN,NaN,0):null}function w(a){return new F(a>>16&255,a>>8&255,a&255,1)}function P(a,b,c,d){0>=d&&(a=b=c=NaN);return new F(a,b,c,d)}function ea(a){a instanceof H||(a=C(a));if(!a)return new F;a=a.rgb();return new F(a.r,a.g,a.b,a.opacity)}function T(a,b,c,d){return 1===arguments.length?ea(a):new F(a,b,c,null==d?1:d)}function F(a,b,c,d){this.r=+a;this.g=+b;this.b=+c;this.opacity=+d}function W(){return"#"+
S(this.r)+S(this.g)+S(this.b)}function r(){var a=this.opacity;a=isNaN(a)?1:Math.max(0,Math.min(1,a));return(1===a?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}function S(a){a=Math.max(0,Math.min(255,Math.round(a)||0));return(16>a?"0":"")+a.toString(16)}function z(a,b,c,d){0>=d?a=b=c=NaN:0>=c||1<=c?a=b=NaN:0>=b&&(a=NaN);return new k(a,b,c,d)}function J(a){if(a instanceof
k)return new k(a.h,a.s,a.l,a.opacity);a instanceof H||(a=C(a));if(!a)return new k;if(a instanceof k)return a;a=a.rgb();var b=a.r/255,c=a.g/255,d=a.b/255,e=Math.min(b,c,d),m=Math.max(b,c,d),g=NaN,l=m-e,h=(m+e)/2;l?(g=b===m?(c-d)/l+6*(c<d):c===m?(d-b)/l+2:(b-c)/l+4,l/=.5>h?m+e:2-m-e,g*=60):l=0<h&&1>h?0:g;return new k(g,l,h,a.opacity)}function p(a,b,c,d){return 1===arguments.length?J(a):new k(a,b,c,null==d?1:d)}function k(a,b,c,d){this.h=+a;this.s=+b;this.l=+c;this.opacity=+d}function N(a,b,c){return 255*
(60>a?b+(c-b)*a/60:180>a?c:240>a?b+(c-b)*(240-a)/60:b)}function D(a){if(a instanceof c)return new c(a.l,a.a,a.b,a.opacity);if(a instanceof va)return qa(a);a instanceof F||(a=ea(a));var b=ma(a.r),d=ma(a.g),e=ma(a.b),m=h(.2225045*b+.7168786*d+.0606169*e);if(b===d&&d===e)var g=b=m;else g=h((.4360747*b+.3850649*d+.1430804*e)/.96422),b=h((.0139322*b+.0971045*d+.7141733*e)/.82521);return new c(116*m-16,500*(g-m),200*(m-b),a.opacity)}function O(a,b,d,e){return 1===arguments.length?D(a):new c(a,b,d,null==
e?1:e)}function c(a,b,c,d){this.l=+a;this.a=+b;this.b=+c;this.opacity=+d}function h(a){return a>v?Math.pow(a,1/3):a/l+U}function ba(a){return a>Ba?a*a*a:l*(a-U)}function L(a){return 255*(.0031308>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055)}function ma(a){return.04045>=(a/=255)?a/12.92:Math.pow((a+.055)/1.055,2.4)}function B(a){if(a instanceof va)return new va(a.h,a.c,a.l,a.opacity);a instanceof c||(a=D(a));if(0===a.a&&0===a.b)return new va(NaN,0<a.l&&100>a.l?0:NaN,a.l,a.opacity);var b=Math.atan2(a.b,
a.a)*Ma;return new va(0>b?b+360:b,Math.sqrt(a.a*a.a+a.b*a.b),a.l,a.opacity)}function ia(a,b,c,d){return 1===arguments.length?B(a):new va(a,b,c,null==d?1:d)}function va(a,b,c,d){this.h=+a;this.c=+b;this.l=+c;this.opacity=+d}function qa(a){if(isNaN(a.h))return new c(a.l,0,0,a.opacity);var b=a.h*Ea;return new c(a.l,Math.cos(b)*a.c,Math.sin(b)*a.c,a.opacity)}function g(a,b,c,e){if(1===arguments.length){var g=a;if(g instanceof d)g=new d(g.h,g.s,g.l,g.opacity);else{g instanceof F||(g=ea(g));var m=g.g/255,
l=g.b/255,h=(x*l+g.r/255*-1.7884503806-3.5172982438*m)/(x+-1.7884503806-3.5172982438);l-=h;var k=(1.97294*(m-h)- -.29227*l)/-.90649;l=(m=Math.sqrt(k*k+l*l)/(1.97294*h*(1-h)))?Math.atan2(k,l)*Ma-120:NaN;g=new d(0>l?l+360:l,m,h,g.opacity)}}else g=new d(a,b,c,null==e?1:e);return g}function d(a,b,c,d){this.h=+a;this.s=+b;this.l=+c;this.opacity=+d}var M=1/.7,Q=/^#([0-9a-f]{3,8})$/,G=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,I=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,
ha=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,aa=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,sa=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,ya=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,
Na={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};b(H,C,{copy:function(a){return Object.assign(new this.constructor,this,a)},displayable:function(){return this.rgb().displayable()},hex:u,formatHex:u,formatHsl:function(){return J(this).formatHsl()},formatRgb:t,toString:t});b(F,T,e(H,{brighter:function(a){a=null==a?M:Math.pow(M,a);return new F(this.r*a,this.g*a,this.b*a,this.opacity)},darker:function(a){a=null==a?.7:Math.pow(.7,
a);return new F(this.r*a,this.g*a,this.b*a,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:W,formatHex:W,formatRgb:r,toString:r}));b(k,p,e(H,{brighter:function(a){a=null==a?M:Math.pow(M,a);return new k(this.h,this.s,this.l*a,this.opacity)},darker:function(a){a=null==a?.7:Math.pow(.7,a);return new k(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=
this.h%360+360*(0>this.h),b=isNaN(a)||isNaN(this.s)?0:this.s,c=this.l;b=c+(.5>c?c:1-c)*b;c=2*c-b;return new F(N(240<=a?a-240:a+120,c,b),N(a,c,b),N(120>a?a+240:a-120,c,b),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var a=this.opacity;a=isNaN(a)?1:Math.max(0,Math.min(1,a));return(1===a?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===a?")":", "+a+")")}}));
var Ea=Math.PI/180,Ma=180/Math.PI,U=4/29,Ba=6/29,l=3*Ba*Ba,v=Ba*Ba*Ba;b(c,O,e(H,{brighter:function(a){return new c(this.l+18*(null==a?1:a),this.a,this.b,this.opacity)},darker:function(a){return new c(this.l-18*(null==a?1:a),this.a,this.b,this.opacity)},rgb:function(){var a=(this.l+16)/116,b=isNaN(this.a)?a:a+this.a/500,c=isNaN(this.b)?a:a-this.b/200;b=.96422*ba(b);a=1*ba(a);c=.82521*ba(c);return new F(L(3.1338561*b-1.6168667*a-.4906146*c),L(-.9787684*b+1.9161415*a+.033454*c),L(.0719453*b-.2289914*
a+1.4052427*c),this.opacity)}}));b(va,ia,e(H,{brighter:function(a){return new va(this.h,this.c,this.l+18*(null==a?1:a),this.opacity)},darker:function(a){return new va(this.h,this.c,this.l-18*(null==a?1:a),this.opacity)},rgb:function(){return qa(this).rgb()}}));var x=1.78277*-.29227-.1347134789;b(d,g,e(H,{brighter:function(a){a=null==a?M:Math.pow(M,a);return new d(this.h,this.s,this.l*a,this.opacity)},darker:function(a){a=null==a?.7:Math.pow(.7,a);return new d(this.h,this.s,this.l*a,this.opacity)},
rgb:function(){var a=isNaN(this.h)?0:(this.h+120)*Ea,b=+this.l,c=isNaN(this.s)?0:this.s*b*(1-b),d=Math.cos(a);a=Math.sin(a);return new F(255*(b+c*(-.14861*d+1.78277*a)),255*(b+c*(-.29227*d+-.90649*a)),255*(b+1.97294*c*d),this.opacity)}}));a.color=C;a.cubehelix=g;a.gray=function(a,b){return new c(a,0,0,null==b?1:b)};a.hcl=ia;a.hsl=p;a.lab=O;a.lch=function(a,b,c,d){return 1===arguments.length?B(a):new va(c,b,a,null==d?1:d)};a.rgb=T;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[42]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(41)):"function"===typeof define&&define.amd?define(["exports","d3-color"],b):(a=a||self,b(a.d3=a.d3||{},a.d3))})(this,function(a,b){function e(a,b,c,d,e){var g=a*a,l=g*a;return((1-3*a+3*g-l)*b+(4-6*g+3*l)*c+(1+3*a+3*g-3*l)*d+l*e)/6}function H(a){var b=a.length-1;return function(c){var d=0>=c?c=0:1<=c?(c=1,b-1):Math.floor(c*b),g=a[d],l=a[d+1];return e((c-d/b)*b,0<d?a[d-1]:2*g-l,g,l,d<b-1?a[d+2]:2*
l-g)}}function u(a){var b=a.length;return function(c){var d=Math.floor((0>(c%=1)?++c:c)*b);return e((c-d/b)*b,a[(d+b-1)%b],a[d%b],a[(d+1)%b],a[(d+2)%b])}}function t(a){return function(){return a}}function C(a,b){return function(c){return a+c*b}}function w(a,b,c){return a=Math.pow(a,c),b=Math.pow(b,c)-a,c=1/c,function(d){return Math.pow(a+d*b,c)}}function P(a,b){var c=b-a;return c?C(a,180<c||-180>c?c-360*Math.round(c/360):c):t(isNaN(a)?b:a)}function ea(a){return 1===(a=+a)?T:function(b,c){return c-
b?w(b,c,a):t(isNaN(b)?c:b)}}function T(a,b){var c=b-a;return c?C(a,c):t(isNaN(a)?b:a)}function F(a){return function(c){var d=c.length,e=Array(d),g=Array(d),l=Array(d),m;for(m=0;m<d;++m){var h=b.rgb(c[m]);e[m]=h.r||0;g[m]=h.g||0;l[m]=h.b||0}e=a(e);g=a(g);l=a(l);h.opacity=1;return function(a){h.r=e(a);h.g=g(a);h.b=l(a);return h+""}}}function W(a,b){b||(b=[]);var c=a?Math.min(b.length,a.length):0,d=b.slice(),e;return function(g){for(e=0;e<c;++e)d[e]=a[e]*(1-g)+b[e]*g;return d}}function r(a){return ArrayBuffer.isView(a)&&
!(a instanceof DataView)}function S(a,b){var c=b?b.length:0,d=a?Math.min(c,a.length):0,e=Array(d),g=Array(c),l;for(l=0;l<d;++l)e[l]=O(a[l],b[l]);for(;l<c;++l)g[l]=b[l];return function(a){for(l=0;l<d;++l)g[l]=e[l](a);return g}}function z(a,b){var c=new Date;return a=+a,b=+b,function(d){return c.setTime(a*(1-d)+b*d),c}}function J(a,b){return a=+a,b=+b,function(c){return a*(1-c)+b*c}}function p(a,b){var c={},d={},e;if(null===a||"object"!==typeof a)a={};if(null===b||"object"!==typeof b)b={};for(e in b)e in
a?c[e]=O(a[e],b[e]):d[e]=b[e];return function(a){for(e in c)d[e]=c[e](a);return d}}function k(a){return function(){return a}}function N(a){return function(b){return a(b)+""}}function D(a,b){var c=g.lastIndex=d.lastIndex=0,e,l,m,h=-1,v=[],p=[];a+="";for(b+="";(e=g.exec(a))&&(l=d.exec(b));)(m=l.index)>c&&(m=b.slice(c,m),v[h]?v[h]+=m:v[++h]=m),(e=e[0])===(l=l[0])?v[h]?v[h]+=l:v[++h]=l:(v[++h]=null,p.push({i:h,x:J(e,l)})),c=d.lastIndex;c<b.length&&(m=b.slice(c),v[h]?v[h]+=m:v[++h]=m);return 2>v.length?
p[0]?N(p[0].x):k(b):(b=p.length,function(a){for(var c=0,d;c<b;++c)v[(d=p[c]).i]=d.x(a);return v.join("")})}function O(a,c){var d=typeof c,e;return null==c||"boolean"===d?t(c):("number"===d?J:"string"===d?(e=b.color(c))?(c=e,ia):D:c instanceof b.color?ia:c instanceof Date?z:r(c)?W:Array.isArray(c)?S:"function"!==typeof c.valueOf&&"function"!==typeof c.toString||isNaN(c)?p:J)(a,c)}function c(a,b,c,d,e,g){var l,m,h;if(l=Math.sqrt(a*a+b*b))a/=l,b/=l;if(h=a*c+b*d)c-=a*h,d-=b*h;if(m=Math.sqrt(c*c+d*d))c/=
m,d/=m,h/=m;a*d<b*c&&(a=-a,b=-b,h=-h,l=-l);return{translateX:e,translateY:g,rotate:Math.atan2(b,a)*M,skewX:Math.atan(h)*M,scaleX:l,scaleY:m}}function h(a,b,c,d){function e(a){return a.length?a.pop()+" ":""}function g(a,d,e,g,l,m){a!==e||d!==g?(l=l.push("translate(",null,b,null,c),m.push({i:l-4,x:J(a,e)},{i:l-2,x:J(d,g)})):(e||g)&&l.push("translate("+e+b+g+c)}function l(a,b,c,g){a!==b?(180<a-b?b+=360:180<b-a&&(a+=360),g.push({i:c.push(e(c)+"rotate(",null,d)-2,x:J(a,b)})):b&&c.push(e(c)+"rotate("+b+
d)}function m(a,b,c,g){a!==b?g.push({i:c.push(e(c)+"skewX(",null,d)-2,x:J(a,b)}):b&&c.push(e(c)+"skewX("+b+d)}function h(a,b,c,d,g,l){a!==c||b!==d?(g=g.push(e(g)+"scale(",null,",",null,")"),l.push({i:g-4,x:J(a,c)},{i:g-2,x:J(b,d)})):1===c&&1===d||g.push(e(g)+"scale("+c+","+d+")")}return function(b,c){var d=[],e=[];b=a(b);c=a(c);g(b.translateX,b.translateY,c.translateX,c.translateY,d,e);l(b.rotate,c.rotate,d,e);m(b.skewX,c.skewX,d,e);h(b.scaleX,b.scaleY,c.scaleX,c.scaleY,d,e);b=c=null;return function(a){for(var b=
-1,c=e.length,g;++b<c;)d[(g=e[b]).i]=g.x(a);return d.join("")}}}function ba(a){return((a=Math.exp(a))+1/a)/2}function L(a){return function(c,d){var e=a((c=b.hsl(c)).h,(d=b.hsl(d)).h),g=T(c.s,d.s),l=T(c.l,d.l),m=T(c.opacity,d.opacity);return function(a){c.h=e(a);c.s=g(a);c.l=l(a);c.opacity=m(a);return c+""}}}function ma(a){return function(c,d){var e=a((c=b.hcl(c)).h,(d=b.hcl(d)).h),g=T(c.c,d.c),l=T(c.l,d.l),m=T(c.opacity,d.opacity);return function(a){c.h=e(a);c.c=g(a);c.l=l(a);c.opacity=m(a);return c+
""}}}function B(a){return function Ua(c){function d(d,e){var g=a((d=b.cubehelix(d)).h,(e=b.cubehelix(e)).h),l=T(d.s,e.s),h=T(d.l,e.l),k=T(d.opacity,e.opacity);return function(a){d.h=g(a);d.s=l(a);d.l=h(Math.pow(a,c));d.opacity=k(a);return d+""}}c=+c;d.gamma=Ua;return d}(1)}var ia=function E(a){function c(a,c){var e=d((a=b.rgb(a)).r,(c=b.rgb(c)).r),g=d(a.g,c.g),l=d(a.b,c.b),m=T(a.opacity,c.opacity);return function(b){a.r=e(b);a.g=g(b);a.b=l(b);a.opacity=m(b);return a+""}}var d=ea(a);c.gamma=E;return c}(1),
va=F(H),qa=F(u),g=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,d=new RegExp(g.source,"g"),M=180/Math.PI,Q={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},G,I,ha,aa,sa=h(function(a){if("none"===a)return Q;G||(G=document.createElement("DIV"),I=document.documentElement,ha=document.defaultView);G.style.transform=a;a=ha.getComputedStyle(I.appendChild(G),null).getPropertyValue("transform");I.removeChild(G);a=a.slice(7,-1).split(",");return c(+a[0],+a[1],+a[2],+a[3],+a[4],+a[5])},"px, ",
"px)","deg)"),ya=h(function(a){if(null==a)return Q;aa||(aa=document.createElementNS("http://www.w3.org/2000/svg","g"));aa.setAttribute("transform",a);if(!(a=aa.transform.baseVal.consolidate()))return Q;a=a.matrix;return c(a.a,a.b,a.c,a.d,a.e,a.f)},", ",")",")"),Na=Math.SQRT2,Ea=L(P),Ma=L(T),U=ma(P),Ba=ma(T),l=B(P),v=B(T);a.interpolate=O;a.interpolateArray=function(a,b){return(r(b)?W:S)(a,b)};a.interpolateBasis=H;a.interpolateBasisClosed=u;a.interpolateCubehelix=l;a.interpolateCubehelixLong=v;a.interpolateDate=
z;a.interpolateDiscrete=function(a){var b=a.length;return function(c){return a[Math.max(0,Math.min(b-1,Math.floor(c*b)))]}};a.interpolateHcl=U;a.interpolateHclLong=Ba;a.interpolateHsl=Ea;a.interpolateHslLong=Ma;a.interpolateHue=function(a,b){var c=P(+a,+b);return function(a){a=c(a);return a-360*Math.floor(a/360)}};a.interpolateLab=function(a,c){var d=T((a=b.lab(a)).l,(c=b.lab(c)).l),e=T(a.a,c.a),g=T(a.b,c.b),l=T(a.opacity,c.opacity);return function(b){a.l=d(b);a.a=e(b);a.b=g(b);a.opacity=l(b);return a+
""}};a.interpolateNumber=J;a.interpolateNumberArray=W;a.interpolateObject=p;a.interpolateRgb=ia;a.interpolateRgbBasis=va;a.interpolateRgbBasisClosed=qa;a.interpolateRound=function(a,b){return a=+a,b=+b,function(c){return Math.round(a*(1-c)+b*c)}};a.interpolateString=D;a.interpolateTransformCss=sa;a.interpolateTransformSvg=ya;a.interpolateZoom=function(a,b){var c=a[0],d=a[1],e=a[2];a=b[2];var g=b[0]-c,l=b[1]-d,m=g*g+l*l;if(1E-12>m){var h=Math.log(a/e)/Na;a=function(a){return[c+a*g,d+a*l,e*Math.exp(Na*
a*h)]}}else{var k=Math.sqrt(m);b=(a*a-e*e+4*m)/(4*e*k);a=(a*a-e*e-4*m)/(4*a*k);var v=Math.log(Math.sqrt(b*b+1)-b);h=(Math.log(Math.sqrt(a*a+1)-a)-v)/Na;a=function(a){a*=h;var b=ba(v),m=Na*a+v;var p=((m=Math.exp(2*m))-1)/(m+1);var B=v;m=((B=Math.exp(B))-1/B)/2;p=e/(2*k)*(b*p-m);return[c+p*g,d+p*l,e*b/ba(Na*a+v)]}}a.duration=1E3*h;return a};a.piecewise=function(a,b){for(var c=0,d=b.length-1,e=b[0],g=Array(0>d?0:d);c<d;)g[c]=a(e,e=b[++c]);return function(a){var b=Math.max(0,Math.min(d-1,Math.floor(a*=
d)));return g[b](a-b)}};a.quantize=function(a,b){for(var c=Array(b),d=0;d<b;++d)c[d]=a(d/(b-1));return c};Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[43]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.d3=a.d3||{}))})(this,function(a){function b(a,b){if(0>(b=(a=b?a.toExponential(b-1):a.toExponential()).indexOf("e")))return null;var e=a.slice(0,b);return[1<e.length?e[0]+e.slice(2):e,+a.slice(b+1)]}function e(a){return a=b(Math.abs(a)),a?a[1]:NaN}function H(a,b){return function(e,k){for(var p=e.length,c=[],h=0,r=a[0],t=0;0<
p&&0<r;){t+r+1>k&&(r=Math.max(1,k-t));c.push(e.substring(p-=r,p+r));if((t+=r+1)>k)break;r=a[h=(h+1)%a.length]}return c.reverse().join(b)}}function u(a){return function(b){return b.replace(/[0-9]/g,function(b){return a[+b]})}}function t(a){if(!(b=F.exec(a)))throw Error("invalid format: "+a);var b;return new C({fill:b[1],align:b[2],sign:b[3],symbol:b[4],zero:b[5],width:b[6],comma:b[7],precision:b[8]&&b[8].slice(1),trim:b[9],type:b[10]})}function C(a){this.fill=void 0===a.fill?" ":a.fill+"";this.align=
void 0===a.align?"\x3e":a.align+"";this.sign=void 0===a.sign?"-":a.sign+"";this.symbol=void 0===a.symbol?"":a.symbol+"";this.zero=!!a.zero;this.width=void 0===a.width?void 0:+a.width;this.comma=!!a.comma;this.precision=void 0===a.precision?void 0:+a.precision;this.trim=!!a.trim;this.type=void 0===a.type?"":a.type+""}function w(a,e){e=b(a,e);if(!e)return a+"";a=e[0];e=e[1];return 0>e?"0."+Array(-e).join("0")+a:a.length>e+1?a.slice(0,e+1)+"."+a.slice(e+1):a+Array(e-a.length+2).join("0")}function P(a){return a}
function ea(a){function b(a){function b(a){var b=ma,d=C,l,v;if("c"===u)d=ea(a)+d,a="";else{a=+a;var x=0>a;a=isNaN(a)?J:ea(Math.abs(a),H);if(S){var m=a.length,r=1,t=-1;a:for(;r<m;++r)switch(a[r]){case ".":t=l=r;break;case "0":0===t&&(t=r);l=r;break;default:if(!+a[r])break a;0<t&&(t=0)}a=0<t?a.slice(0,t)+a.slice(l+1):a}x&&0===+a&&(x=!1);b=(x?"("===g?g:L:"-"===g||"("===g?"":g)+b;d=("s"===u?z[8+W/3]:"")+d+(x&&"("===g?")":"");if(T)for(x=-1,l=a.length;++x<l;)if(v=a.charCodeAt(x),48>v||57<v){d=(46===v?c+
a.slice(x+1):a.slice(x))+d;a=a.slice(0,x);break}}F&&!B&&(a=p(a,Infinity));v=b.length+a.length+d.length;x=v<N?Array(N-v+1).join(e):"";F&&B&&(a=p(x+a,x.length?N-d.length:Infinity),x="");switch(k){case "\x3c":a=b+a+d+x;break;case "\x3d":a=b+x+a+d;break;case "^":a=x.slice(0,v=x.length>>1)+b+a+d+x.slice(v);break;default:a=x+b+a+d}return h(a)}a=t(a);var e=a.fill,k=a.align,g=a.sign,d=a.symbol,B=a.zero,N=a.width,F=a.comma,H=a.precision,S=a.trim,u=a.type;"n"===u?(F=!0,u="g"):r[u]||(void 0===H&&(H=12),S=!0,
u="g");if(B||"0"===e&&"\x3d"===k)B=!0,e="0",k="\x3d";var ma="$"===d?D:"#"===d&&/[boxX]/.test(u)?"0"+u.toLowerCase():"",C="$"===d?O:/[%p]/.test(u)?ba:"",ea=r[u],T=/[defgprs%]/.test(u);H=void 0===H?6:/[gprs]/.test(u)?Math.max(1,Math.min(21,H)):Math.max(0,Math.min(20,H));b.toString=function(){return a+""};return b}var p=void 0===a.grouping||void 0===a.thousands?P:H(S.call(a.grouping,Number),a.thousands+""),D=void 0===a.currency?"":a.currency[0]+"",O=void 0===a.currency?"":a.currency[1]+"",c=void 0===
a.decimal?".":a.decimal+"",h=void 0===a.numerals?P:u(S.call(a.numerals,String)),ba=void 0===a.percent?"%":a.percent+"",L=void 0===a.minus?"-":a.minus+"",J=void 0===a.nan?"NaN":a.nan+"";return{format:b,formatPrefix:function(a,c){var h=b((a=t(a),a.type="f",a));a=3*Math.max(-8,Math.min(8,Math.floor(e(c)/3)));var k=Math.pow(10,-a),g=z[8+a/3];return function(a){return h(k*a)+g}}}}function T(b){J=ea(b);a.format=J.format;a.formatPrefix=J.formatPrefix;return J}var F=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;
t.prototype=C.prototype;C.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var W,r={"%":function(a,b){return(100*a).toFixed(b)},b:function(a){return Math.round(a).toString(2)},c:function(a){return a+""},d:function(a){return Math.round(a).toString(10)},e:function(a,b){return a.toExponential(b)},
f:function(a,b){return a.toFixed(b)},g:function(a,b){return a.toPrecision(b)},o:function(a){return Math.round(a).toString(8)},p:function(a,b){return w(100*a,b)},r:w,s:function(a,e){var k=b(a,e);if(!k)return a+"";var p=k[0];k=k[1];k=k-(W=3*Math.max(-8,Math.min(8,Math.floor(k/3))))+1;var r=p.length;return k===r?p:k>r?p+Array(k-r+1).join("0"):0<k?p.slice(0,k)+"."+p.slice(k):"0."+Array(1-k).join("0")+b(a,Math.max(0,e+k-1))[0]},X:function(a){return Math.round(a).toString(16).toUpperCase()},x:function(a){return Math.round(a).toString(16)}},
S=Array.prototype.map,z="y z a f p n µ m  k M G T P E Z Y".split(" "),J;T({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});a.FormatSpecifier=C;a.formatDefaultLocale=T;a.formatLocale=ea;a.formatSpecifier=t;a.precisionFixed=function(a){return Math.max(0,-e(Math.abs(a)))};a.precisionPrefix=function(a,b){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(e(b)/3)))-e(Math.abs(a)))};a.precisionRound=function(a,b){a=Math.abs(a);b=Math.abs(b)-a;return Math.max(0,e(b)-e(a))+1};Object.defineProperty(a,
"__esModule",{value:!0})})};
shadow$provide[44]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(32),w(42),w(43),w(24),w(25)):"function"===typeof define&&define.amd?define("exports d3-array d3-interpolate d3-format d3-time d3-time-format".split(" "),b):(a=a||self,b(a.d3=a.d3||{},a.d3,a.d3,a.d3,a.d3,a.d3))})(this,function(a,b,e,H,u,t){function C(a,b){switch(arguments.length){case 0:break;case 1:this.range(a);break;default:this.range(b).domain(a)}return this}function w(a,b){switch(arguments.length){case 0:break;
case 1:"function"===typeof a?this.interpolator(a):this.range(a);break;default:this.domain(a),"function"===typeof b?this.interpolator(b):this.range(b)}return this}function P(){function a(a){var g=a+"",l=b.get(g);if(!l){if(e!==ub)return e;b.set(g,l=c.push(a))}return d[(l-1)%d.length]}var b=new Map,c=[],d=[],e=ub;a.domain=function(d){if(!arguments.length)return c.slice();c=[];b=new Map;for(const a of d){const d=a+"";b.has(d)||b.set(d,c.push(a))}return a};a.range=function(b){return arguments.length?(d=
Array.from(b),a):d.slice()};a.unknown=function(b){return arguments.length?(e=b,a):e};a.copy=function(){return P(c,d).unknown(e)};C.apply(a,arguments);return a}function ea(){function a(){var a=d().length,c=l<g,x=c?l:g,r=c?g:l;m=(r-x)/Math.max(1,a-v+2*p);k&&(m=Math.floor(m));x+=(r-x-m*(a-v))*B;h=m*(1-v);k&&(x=Math.round(x),h=Math.round(h));a=b.range(a).map(function(a){return x+m*a});return e(c?a.reverse():a)}var c=P().unknown(void 0),d=c.domain,e=c.range,g=0,l=1,m,h,k=!1,v=0,p=0,B=.5;delete c.unknown;
c.domain=function(b){return arguments.length?(d(b),a()):d()};c.range=function(b){return arguments.length?([g,l]=b,g=+g,l=+l,a()):[g,l]};c.rangeRound=function(b){return[g,l]=b,g=+g,l=+l,k=!0,a()};c.bandwidth=function(){return h};c.step=function(){return m};c.round=function(b){return arguments.length?(k=!!b,a()):k};c.padding=function(b){return arguments.length?(v=Math.min(1,p=+b),a()):v};c.paddingInner=function(b){return arguments.length?(v=Math.min(1,b),a()):v};c.paddingOuter=function(b){return arguments.length?
(p=+b,a()):p};c.align=function(b){return arguments.length?(B=Math.max(0,Math.min(1,b)),a()):B};c.copy=function(){return ea(d(),[g,l]).round(k).paddingInner(v).paddingOuter(p).align(B)};return C.apply(a(),arguments)}function T(a){var b=a.copy;a.padding=a.paddingOuter;delete a.paddingInner;delete a.paddingOuter;a.copy=function(){return T(b())};return a}function F(a){return function(){return a}}function W(a){return+a}function r(a){return a}function S(a,b){return(b-=a=+a)?function(c){return(c-a)/b}:F(isNaN(b)?
NaN:.5)}function z(a,b){if(a>b){var c=a;a=b;b=c}return function(c){return Math.max(a,Math.min(b,c))}}function J(a,b,c){var d=a[0];a=a[1];var e=b[0];b=b[1];a<d?(d=S(a,d),e=c(b,e)):(d=S(d,a),e=c(e,b));return function(a){return e(d(a))}}function p(a,c,d){var e=Math.min(a.length,c.length)-1,g=Array(e),l=Array(e),m=-1;a[e]<a[0]&&(a=a.slice().reverse(),c=c.slice().reverse());for(;++m<e;)g[m]=S(a[m],a[m+1]),l[m]=d(c[m],c[m+1]);return function(c){var d=b.bisect(a,c,1,e)-1;return l[d](g[d](c))}}function k(a,
b){return b.domain(a.domain()).range(a.range()).interpolate(a.interpolate()).clamp(a.clamp()).unknown(a.unknown())}function N(){function a(){var a=Math.min(c.length,d.length);k!==r&&(k=z(c[0],c[a-1]));v=2<a?p:J;B=x=null;return b}function b(a){return isNaN(a=+a)?h:(B||(B=v(c.map(l),d,g)))(l(k(a)))}var c=Rb,d=Rb,g=e.interpolate,l,m,h,k=r,v,B,x;b.invert=function(a){return k(m((x||(x=v(d,c.map(l),e.interpolateNumber)))(a)))};b.domain=function(b){return arguments.length?(c=Array.from(b,W),a()):c.slice()};
b.range=function(b){return arguments.length?(d=Array.from(b),a()):d.slice()};b.rangeRound=function(b){return d=Array.from(b),g=e.interpolateRound,a()};b.clamp=function(b){return arguments.length?(k=b?!0:r,a()):k!==r};b.interpolate=function(b){return arguments.length?(g=b,a()):g};b.unknown=function(a){return arguments.length?(h=a,b):h};return function(b,c){l=b;m=c;return a()}}function D(a,c,d,e){d=b.tickStep(a,c,d);var g;e=H.formatSpecifier(null==e?",f":e);switch(e.type){case "s":return a=Math.max(Math.abs(a),
Math.abs(c)),null!=e.precision||isNaN(g=H.precisionPrefix(d,a))||(e.precision=g),H.formatPrefix(e,a);case "":case "e":case "g":case "p":case "r":null!=e.precision||isNaN(g=H.precisionRound(d,Math.max(Math.abs(a),Math.abs(c))))||(e.precision=g-("e"===e.type));break;case "f":case "%":null!=e.precision||isNaN(g=H.precisionFixed(d))||(e.precision=g-2*("%"===e.type))}return H.format(e)}function O(a){var c=a.domain;a.ticks=function(a){var d=c();return b.ticks(d[0],d[d.length-1],null==a?10:a)};a.tickFormat=
function(a,b){var d=c();return D(d[0],d[d.length-1],null==a?10:a,b)};a.nice=function(d){null==d&&(d=10);var e=c(),g=0,l=e.length-1,m=e[g],h=e[l];if(h<m){var k=m;m=h;h=k;k=g;g=l;l=k}k=b.tickIncrement(m,h,d);0<k?(m=Math.floor(m/k)*k,h=Math.ceil(h/k)*k,k=b.tickIncrement(m,h,d)):0>k&&(m=Math.ceil(m*k)/k,h=Math.floor(h*k)/k,k=b.tickIncrement(m,h,d));0<k?(e[g]=Math.floor(m/k)*k,e[l]=Math.ceil(h/k)*k,c(e)):0>k&&(e[g]=Math.ceil(m*k)/k,e[l]=Math.floor(h*k)/k,c(e));return a};return a}function c(){var a=N()(r,
r);a.copy=function(){return k(a,c())};C.apply(a,arguments);return O(a)}function h(a){function b(a){return isNaN(a=+a)?c:a}var c;b.invert=b;b.domain=b.range=function(c){return arguments.length?(a=Array.from(c,W),b):a.slice()};b.unknown=function(a){return arguments.length?(c=a,b):c};b.copy=function(){return h(a).unknown(c)};a=arguments.length?Array.from(a,W):[0,1];return O(b)}function ba(a,b){a=a.slice();var c=0,d=a.length-1,e=a[c],g=a[d];if(g<e){var l=c;c=d;d=l;l=e;e=g;g=l}a[c]=b.floor(e);a[d]=b.ceil(g);
return a}function L(a){return Math.log(a)}function ma(a){return Math.exp(a)}function B(a){return-Math.log(-a)}function ia(a){return-Math.exp(-a)}function va(a){return isFinite(a)?+("1e"+a):0>a?0:a}function qa(a){return 10===a?va:a===Math.E?Math.exp:function(b){return Math.pow(a,b)}}function g(a){return a===Math.E?Math.log:10===a&&Math.log10||2===a&&Math.log2||(a=Math.log(a),function(b){return Math.log(b)/a})}function d(a){return function(b){return-a(-b)}}function M(a){function c(){h=g(m);k=qa(m);
0>l()[0]?(h=d(h),k=d(k),a(B,ia)):a(L,ma);return e}var e=a(L,ma),l=e.domain,m=10,h,k;e.base=function(a){return arguments.length?(m=+a,c()):m};e.domain=function(a){return arguments.length?(l(a),c()):l()};e.ticks=function(a){var c=l(),d=c[0];c=c[c.length-1];var e;if(e=c<d)g=d,d=c,c=g;var g=h(d),v=h(c),p=null==a?10:+a,B=[];if(!(m%1)&&v-g<p){g=Math.floor(g);v=Math.ceil(v);if(0<d)for(;g<=v;++g){var x=1;for(a=k(g);x<m;++x){var r=a*x;if(!(r<d)){if(r>c)break;B.push(r)}}}else for(;g<=v;++g)for(x=m-1,a=k(g);1<=
x;--x)if(r=a*x,!(r<d)){if(r>c)break;B.push(r)}2*B.length<p&&(B=b.ticks(d,c,p))}else B=b.ticks(g,v,Math.min(v-g,p)).map(k);return e?B.reverse():B};e.tickFormat=function(a,b){null==b&&(b=10===m?".0e":",");"function"!==typeof b&&(b=H.format(b));if(Infinity===a)return b;null==a&&(a=10);var c=Math.max(1,m*a/e.ticks().length);return function(a){var d=a/k(Math.round(h(a)));d*m<m-.5&&(d*=m);return d<=c?b(a):""}};e.nice=function(){return l(ba(l(),{floor:function(a){return k(Math.floor(h(a)))},ceil:function(a){return k(Math.ceil(h(a)))}}))};
return e}function Q(){var a=M(N()).domain([1,10]);a.copy=function(){return k(a,Q()).base(a.base())};C.apply(a,arguments);return a}function G(a){return function(b){return Math.sign(b)*Math.log1p(Math.abs(b/a))}}function I(a){return function(b){return Math.sign(b)*Math.expm1(Math.abs(b))*a}}function ha(a){var b=1,c=a(G(b),I(b));c.constant=function(c){return arguments.length?a(G(b=+c),I(b)):b};return O(c)}function aa(){var a=ha(N());a.copy=function(){return k(a,aa()).constant(a.constant())};return C.apply(a,
arguments)}function Sa(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function ya(a){return 0>a?-Math.sqrt(-a):Math.sqrt(a)}function Na(a){return 0>a?-a*a:a*a}function Ea(a){var b=a(r,r),c=1;b.exponent=function(b){return arguments.length?(c=+b,1===c?a(r,r):.5===c?a(ya,Na):a(Sa(c),Sa(1/c))):c};return O(b)}function Ma(){var a=Ea(N());a.copy=function(){return k(a,Ma()).exponent(a.exponent())};C.apply(a,arguments);return a}function U(a){return Math.sign(a)*a*a}function Ba(){function a(a){a=
b(a);a=Math.sign(a)*Math.sqrt(Math.abs(a));return isNaN(a)?e:d?Math.round(a):a}var b=N()(r,r),c=[0,1],d=!1,e;a.invert=function(a){return b.invert(U(a))};a.domain=function(c){return arguments.length?(b.domain(c),a):b.domain()};a.range=function(d){return arguments.length?(b.range((c=Array.from(d,W)).map(U)),a):c.slice()};a.rangeRound=function(b){return a.range(b).round(!0)};a.round=function(b){return arguments.length?(d=!!b,a):d};a.clamp=function(c){return arguments.length?(b.clamp(c),a):b.clamp()};
a.unknown=function(b){return arguments.length?(e=b,a):e};a.copy=function(){return Ba(b.domain(),c).round(d).clamp(b.clamp()).unknown(e)};C.apply(a,arguments);return O(a)}function l(){function a(){var a=0,l=Math.max(1,e.length);for(g=Array(l-1);++a<l;)g[a-1]=b.quantile(d,a/l);return c}function c(a){return isNaN(a=+a)?m:e[b.bisect(g,a)]}var d=[],e=[],g=[],m;c.invertExtent=function(a){a=e.indexOf(a);return 0>a?[NaN,NaN]:[0<a?g[a-1]:d[0],a<g.length?g[a]:d[d.length-1]]};c.domain=function(c){if(!arguments.length)return d.slice();
d=[];for(let a of c)null==a||isNaN(a=+a)||d.push(a);d.sort(b.ascending);return a()};c.range=function(b){return arguments.length?(e=Array.from(b),a()):e.slice()};c.unknown=function(a){return arguments.length?(m=a,c):m};c.quantiles=function(){return g.slice()};c.copy=function(){return l().domain(d).range(e).unknown(m)};return C.apply(c,arguments)}function v(){function a(a){return a<=a?m[b.bisect(l,a,0,g)]:h}function c(){var b=-1;for(l=Array(g);++b<g;)l[b]=((b+1)*e-(b-g)*d)/(g+1);return a}var d=0,e=
1,g=1,l=[.5],m=[0,1],h;a.domain=function(a){return arguments.length?([d,e]=a,d=+d,e=+e,c()):[d,e]};a.range=function(a){return arguments.length?(g=(m=Array.from(a)).length-1,c()):m.slice()};a.invertExtent=function(a){a=m.indexOf(a);return 0>a?[NaN,NaN]:1>a?[d,l[0]]:a>=g?[l[g-1],e]:[l[a-1],l[a]]};a.unknown=function(b){return arguments.length?(h=b,a):a};a.thresholds=function(){return l.slice()};a.copy=function(){return v().domain([d,e]).range(m).unknown(h)};return C.apply(O(a),arguments)}function x(){function a(a){return a<=
a?d[b.bisect(c,a,0,g)]:e}var c=[.5],d=[0,1],e,g=1;a.domain=function(b){return arguments.length?(c=Array.from(b),g=Math.min(c.length,d.length-1),a):c.slice()};a.range=function(b){return arguments.length?(d=Array.from(b),g=Math.min(c.length,d.length-1),a):d.slice()};a.invertExtent=function(a){a=d.indexOf(a);return[c[a-1],c[a]]};a.unknown=function(b){return arguments.length?(e=b,a):e};a.copy=function(){return x().domain(c).range(d).unknown(e)};return C.apply(a,arguments)}function m(a){return new Date(a)}
function E(a){return a instanceof Date?+a:+new Date(+a)}function Ua(a,c,d,e,g,l,h,v,p){function B(b){return(h(b)<b?L:l(b)<b?D:g(b)<b?z:e(b)<b?O:c(b)<b?d(b)<b?ia:J:a(b)<b?F:oa)(b)}function x(c,d,e){null==c&&(c=10);if("number"===typeof c){var g=Math.abs(e-d)/c,l=b.bisector(function(a){return a[2]}).right(cb,g);l===cb.length?(d=b.tickStep(d/31536E6,e/31536E6,c),c=a):l?(l=cb[g/cb[l-1][2]<cb[l][2]/g?l-1:l],d=l[1],c=l[0]):(d=Math.max(b.tickStep(d,e,c),1),c=v);return c.every(d)}return c}var da=N()(r,r),
t=da.invert,fa=da.domain,L=p(".%L"),D=p(":%S"),z=p("%I:%M"),O=p("%I %p"),ia=p("%a %d"),J=p("%b %d"),F=p("%B"),oa=p("%Y"),cb=[[h,1,1E3],[h,5,5E3],[h,15,15E3],[h,30,3E4],[l,1,6E4],[l,5,3E5],[l,15,9E5],[l,30,18E5],[g,1,36E5],[g,3,108E5],[g,6,216E5],[g,12,432E5],[e,1,864E5],[e,2,1728E5],[d,1,6048E5],[c,1,2592E6],[c,3,7776E6],[a,1,31536E6]];da.invert=function(a){return new Date(t(a))};da.domain=function(a){return arguments.length?fa(Array.from(a,E)):fa().map(m)};da.ticks=function(a){var b=fa(),c=b[0];
b=b[b.length-1];var d=b<c;if(d){var e=c;c=b;b=e}e=(e=x(a,c,b))?e.range(c,b+1):[];return d?e.reverse():e};da.tickFormat=function(a,b){return null==b?B:p(b)};da.nice=function(a){var b=fa();return(a=x(a,b[0],b[b.length-1]))?fa(ba(b,a)):da};da.copy=function(){return k(da,Ua(a,c,d,e,g,l,h,v,p))};return da}function da(){function a(a){return isNaN(a=+a)?p:k(0===m?.5:(a=(h(a)-g)*m,v?Math.max(0,Math.min(1,a)):a))}function b(b){return function(c){var d,e;return arguments.length?([d,e]=c,k=b(d,e),a):[k(0),k(1)]}}
var c=0,d=1,g,l,m,h,k=r,v=!1,p;a.domain=function(b){return arguments.length?([c,d]=b,g=h(c=+c),l=h(d=+d),m=g===l?0:1/(l-g),a):[c,d]};a.clamp=function(b){return arguments.length?(v=!!b,a):v};a.interpolator=function(b){return arguments.length?(k=b,a):k};a.range=b(e.interpolate);a.rangeRound=b(e.interpolateRound);a.unknown=function(b){return arguments.length?(p=b,a):p};return function(b){h=b;g=b(c);l=b(d);m=g===l?0:1/(l-g);return a}}function oa(a,b){return b.domain(a.domain()).interpolator(a.interpolator()).clamp(a.clamp()).unknown(a.unknown())}
function Wa(){var a=O(da()(r));a.copy=function(){return oa(a,Wa())};return w.apply(a,arguments)}function Qa(){var a=M(da()).domain([1,10]);a.copy=function(){return oa(a,Qa()).base(a.base())};return w.apply(a,arguments)}function wa(){var a=ha(da());a.copy=function(){return oa(a,wa()).constant(a.constant())};return w.apply(a,arguments)}function fa(){var a=Ea(da());a.copy=function(){return oa(a,fa()).exponent(a.exponent())};return w.apply(a,arguments)}function cb(){function a(a){if(!isNaN(a=+a))return d((b.bisect(c,
a,1)-1)/(c.length-1))}var c=[],d=r;a.domain=function(d){if(!arguments.length)return c.slice();c=[];for(let a of d)null==a||isNaN(a=+a)||c.push(a);c.sort(b.ascending);return a};a.interpolator=function(b){return arguments.length?(d=b,a):d};a.range=function(){return c.map((a,b)=>d(b/(c.length-1)))};a.quantiles=function(a){return Array.from({length:a+1},(d,e)=>b.quantile(c,e/a))};a.copy=function(){return cb(d).domain(c)};return w.apply(a,arguments)}function kb(){function a(a){return isNaN(a=+a)?t:(a=
.5+((a=+x(a))-h)*(l*a<l*h?v:p),B(da?Math.max(0,Math.min(1,a)):a))}function b(b){return function(c){var d,g,l;return arguments.length?([d,g,l]=c,B=e.piecewise(b,[d,g,l]),a):[B(0),B(.5),B(1)]}}var c=0,d=.5,g=1,l=1,m,h,k,v,p,B=r,x,da=!1,t;a.domain=function(b){return arguments.length?([c,d,g]=b,m=x(c=+c),h=x(d=+d),k=x(g=+g),v=m===h?0:.5/(h-m),p=h===k?0:.5/(k-h),l=h<m?-1:1,a):[c,d,g]};a.clamp=function(b){return arguments.length?(da=!!b,a):da};a.interpolator=function(b){return arguments.length?(B=b,a):
B};a.range=b(e.interpolate);a.rangeRound=b(e.interpolateRound);a.unknown=function(b){return arguments.length?(t=b,a):t};return function(b){x=b;m=b(c);h=b(d);k=b(g);v=m===h?0:.5/(h-m);p=h===k?0:.5/(k-h);l=h<m?-1:1;return a}}function fb(){var a=O(kb()(r));a.copy=function(){return oa(a,fb())};return w.apply(a,arguments)}function qb(){var a=M(kb()).domain([.1,1,10]);a.copy=function(){return oa(a,qb()).base(a.base())};return w.apply(a,arguments)}function Ja(){var a=ha(kb());a.copy=function(){return oa(a,
Ja()).constant(a.constant())};return w.apply(a,arguments)}function pa(){var a=Ea(kb());a.copy=function(){return oa(a,pa()).exponent(a.exponent())};return w.apply(a,arguments)}const ub=Symbol("implicit");var Rb=[0,1];a.scaleBand=ea;a.scaleDiverging=fb;a.scaleDivergingLog=qb;a.scaleDivergingPow=pa;a.scaleDivergingSqrt=function(){return pa.apply(null,arguments).exponent(.5)};a.scaleDivergingSymlog=Ja;a.scaleIdentity=h;a.scaleImplicit=ub;a.scaleLinear=c;a.scaleLog=Q;a.scaleOrdinal=P;a.scalePoint=function(){return T(ea.apply(null,
arguments).paddingInner(1))};a.scalePow=Ma;a.scaleQuantile=l;a.scaleQuantize=v;a.scaleRadial=Ba;a.scaleSequential=Wa;a.scaleSequentialLog=Qa;a.scaleSequentialPow=fa;a.scaleSequentialQuantile=cb;a.scaleSequentialSqrt=function(){return fa.apply(null,arguments).exponent(.5)};a.scaleSequentialSymlog=wa;a.scaleSqrt=function(){return Ma.apply(null,arguments).exponent(.5)};a.scaleSymlog=aa;a.scaleThreshold=x;a.scaleTime=function(){return C.apply(Ua(u.timeYear,u.timeMonth,u.timeWeek,u.timeDay,u.timeHour,
u.timeMinute,u.timeSecond,u.timeMillisecond,t.timeFormat).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)};a.scaleUtc=function(){return C.apply(Ua(u.utcYear,u.utcMonth,u.utcWeek,u.utcDay,u.utcHour,u.utcMinute,u.utcSecond,u.utcMillisecond,t.utcFormat).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)};a.tickFormat=D;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[45]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(21),w(32),w(44),w(42)):"function"===typeof define&&define.amd?define(["exports","vega-util","d3-array","d3-scale","d3-interpolate"],b):(a=a||self,b(a.vega={},a.vega,a.d3,a.d3,a.d3))})(this,function(a,b,e,H,u){function t(a,b,c){b=a-b+2*c;return a?0<b?b:1:0}function C(a){return function(b){var c=b[0];b=b[1];if(b<c){var e=c;c=b;b=e}return[a.invert(c),a.invert(b)]}}function w(a){return function(b){var c=
a.range(),e=b[0];b=b[1];var g=-1,d;if(b<e){var h=e;e=b;b=h}h=0;for(d=c.length;h<d;++h)if(c[h]>=e&&c[h]<=b){0>g&&(g=h);var k=h}if(!(0>g))return e=a.invertExtent(c[g]),b=a.invertExtent(c[k]),[void 0===e[0]?e[1]:e[0],void 0===b[1]?b[0]:b[1]]}}function P(){function a(){var a=c().length,b=g[1]<g[0],B=g[b-0],z=g[1-b],O=t(a,r,L);d=(z-B)/(O||1);p&&(d=Math.floor(d));B+=(z-B-d*(a-r))*D;k=d*(1-r);p&&(B=Math.round(B),k=Math.round(k));a=e.range(a).map(function(a){return B+d*a});return h(b?a.reverse():a)}var b=
H.scaleOrdinal().unknown(void 0),c=b.domain,h=b.range,g=[0,1],d,k,p=!1,r=0,L=0,D=.5;delete b.unknown;b.domain=function(b){return arguments.length?(c(b),a()):c()};b.range=function(b){return arguments.length?(g=[+b[0],+b[1]],a()):g.slice()};b.rangeRound=function(b){g=[+b[0],+b[1]];p=!0;return a()};b.bandwidth=function(){return k};b.step=function(){return d};b.round=function(b){return arguments.length?(p=!!b,a()):p};b.padding=function(b){return arguments.length?(r=L=Math.max(0,Math.min(1,b)),a()):r};
b.paddingInner=function(b){return arguments.length?(r=Math.max(0,Math.min(1,b)),a()):r};b.paddingOuter=function(b){return arguments.length?(L=Math.max(0,Math.min(1,b)),a()):L};b.align=function(b){return arguments.length?(D=Math.max(0,Math.min(1,b)),a()):D};b.invertRange=function(a){if(null!=a[0]&&null!=a[1]){var b=+a[0],d=+a[1],p=(a=g[1]<g[0])?h().reverse():h(),B=p.length-1;if(b===b&&d===d){if(d<b){var r=b;b=d;d=r}if(!(d<p[0]||b>g[1-a])){var t=Math.max(0,e.bisectRight(p,b)-1);d=b===d?t:e.bisectRight(p,
d)-1;b-p[t]>k+1E-10&&++t;a&&(r=t,t=B-d,d=B-r);return t>d?void 0:c().slice(t,d+1)}}}};b.invert=function(a){return(a=b.invertRange([a,a]))?a[0]:a};b.copy=function(){return P().domain(c()).range(g).round(p).paddingInner(r).paddingOuter(L).align(D)};return a()}function ea(a){var b=a.copy;a.padding=a.paddingOuter;delete a.paddingInner;a.copy=function(){return ea(b())};return a}function T(a){return c.call(a,function(a){return+a})}function F(){function a(a){return null==a||a!==a?void 0:k[(e.bisect(c,a)-
1)%k.length]}var c=[],k=[];a.domain=function(b){return arguments.length?(c=T(b),a):c.slice()};a.range=function(b){return arguments.length?(k=h.call(b),a):k.slice()};a.tickFormat=function(a,e){return H.tickFormat(c[0],b.peek(c),null==a?10:a,e)};a.copy=function(){return F().domain(a.domain()).range(a.range())};return a}function W(a,c,e){const h=function(){var b=c();b.invertRange||(b.invertRange=b.invert?C(b):b.invertExtent?w(b):void 0);b.type=a;return b};h.metadata=b.toSet(b.array(e));return h}function r(a,
b,c){return 1<arguments.length?(ba[a]=W(a,b,c),this):S(a)?ba[a]:void 0}function S(a){return b.hasOwnProperty(ba,a)}function z(a,b){return(a=ba[a])&&a.metadata[b]}function J(a,b,c){return u.piecewise(p(b||"rgb",c),a)}function p(a,b){a=u[k(a)];return null!=b&&a&&a.gamma?a.gamma(b):a}function k(a){return"interpolate"+a.toLowerCase().split("-").map(function(a){return a[0].toUpperCase()+a.slice(1)}).join("")}function N(a){for(var b=a.length/6|0,c=Array(b),e=0;e<b;)c[e]="#"+a.slice(6*e,6*++e);return c}
function D(a,b){for(let c in a)O(c,b(a[c]))}function O(a,b){a=a&&a.toLowerCase();return 1<arguments.length?(ma[a]=b,this):ma[a]}var c=Array.prototype.map,h=Array.prototype.slice;const ba={};r("identity",H.scaleIdentity);r("linear",H.scaleLinear,"continuous");r("log",H.scaleLog,["continuous","log"]);r("pow",H.scalePow,"continuous");r("sqrt",H.scaleSqrt,"continuous");r("symlog",H.scaleSymlog,"continuous");r("time",H.scaleTime,["continuous","temporal"]);r("utc",H.scaleUtc,["continuous","temporal"]);
r("sequential",H.scaleSequential,["continuous","interpolating"]);r("sequential-linear",H.scaleSequential,["continuous","interpolating"]);r("sequential-log",H.scaleSequentialLog,["continuous","interpolating","log"]);r("sequential-pow",H.scaleSequentialPow,["continuous","interpolating"]);r("sequential-sqrt",H.scaleSequentialSqrt,["continuous","interpolating"]);r("sequential-symlog",H.scaleSequentialSymlog,["continuous","interpolating"]);r("diverging-linear",H.scaleDiverging,["continuous","interpolating"]);
r("diverging-log",H.scaleDivergingLog,["continuous","interpolating","log"]);r("diverging-pow",H.scaleDivergingPow,["continuous","interpolating"]);r("diverging-sqrt",H.scaleDivergingSqrt,["continuous","interpolating"]);r("diverging-symlog",H.scaleDivergingSymlog,["continuous","interpolating"]);r("quantile",H.scaleQuantile,["discretizing","quantile"]);r("quantize",H.scaleQuantize,"discretizing");r("threshold",H.scaleThreshold,"discretizing");r("bin-ordinal",F,["discrete","discretizing"]);r("ordinal",
H.scaleOrdinal,"discrete");r("band",P,"discrete");r("point",function(){return ea(P().paddingInner(1))},"discrete");const L=["clamp","base","constant","exponent"],ma={};D({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",
category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",
pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},N);D({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",
oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",
purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",
blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",
redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",
teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",
lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},
a=>J(N(a)));Object.defineProperty(a,"scaleImplicit",{enumerable:!0,get:function(){return H.scaleImplicit}});Object.defineProperty(a,"tickFormat",{enumerable:!0,get:function(){return H.tickFormat}});a.Band="band";a.BinOrdinal="bin-ordinal";a.Diverging="diverging";a.Identity="identity";a.Linear="linear";a.Log="log";a.Ordinal="ordinal";a.Point="point";a.Pow="pow";a.Quantile="quantile";a.Quantize="quantize";a.Sequential="sequential";a.Sqrt="sqrt";a.Symlog="symlog";a.Threshold="threshold";a.Time="time";
a.UTC="utc";a.bandSpace=t;a.interpolate=p;a.interpolateColors=J;a.interpolateRange=function(a,c){var e=c[0],h=b.peek(c)-e;return function(b){return a(e+b*h)}};a.isContinuous=function(a){return z(a,"continuous")};a.isDiscrete=function(a){return z(a,"discrete")};a.isDiscretizing=function(a){return z(a,"discretizing")};a.isInterpolating=function(a){return z(a,"interpolating")};a.isLogarithmic=function(a){return z(a,"log")};a.isQuantile=function(a){return z(a,"quantile")};a.isTemporal=function(a){return z(a,
"temporal")};a.isValidScaleType=S;a.quantizeInterpolator=function(a,b){for(var c=Array(b),e=b+1,g=0;g<b;)c[g]=a(++g/e);return c};a.scale=r;a.scaleCopy=function(a){const b=a.type;a=a.copy();a.type=b;return a};a.scaleFraction=function(a,c,e){var h=e-c,g;if(h&&Number.isFinite(h)){h=(g=a.type).indexOf("-");g=0>h?g:g.slice(h+1);var d=r(g)().domain([c,e]).range([0,1]);L.forEach(b=>a[b]?d[b](a[b]()):0);return d}return b.constant(.5)};a.scheme=O;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[46]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(45),w(34),w(21),w(43),w(31),w(32),w(42)):"function"===typeof define&&define.amd?define("exports vega-scale vega-time vega-util d3-format vega-dataflow d3-array d3-interpolate".split(" "),b):(a=a||self,b((a.vega=a.vega||{},a.vega.transforms={}),a.vega,a.vega,a.vega,a.d3,a.vega,a.d3,a.d3))})(this,function(a,b,e,H,u,t,C,w){function P(a,c,d){H.isNumber(c)&&(a.bins&&(c=Math.max(c,a.bins.length)),null!=
d&&(c=Math.min(c,~~(H.span(a.domain())/d)||1)));if(H.isObject(c)){var g=c.step;c=c.interval}H.isString(c)&&(c=a.type===b.Time?e.timeInterval(c):a.type==b.UTC?e.utcInterval(c):H.error("Only time and utc scales accept interval strings."),g&&(c=c.every(g)));return c}function ea(a,b,c){var d=a.range(),e=Math.floor(d[0]),g=Math.ceil(H.peek(d));e>g&&(d=g,g=e,e=d);b=b.filter(function(b){b=a(b);return e<=b&&b<=g});if(0<c&&1<b.length){for(d=[b[0],H.peek(b)];b.length>c&&3<=b.length;)b=b.filter(function(a,b){return!(b%
2)});3>b.length&&(b=d)}return b}function T(a,b){return a.bins?ea(a,a.bins):a.ticks?a.ticks(b):a.domain()}function F(a,c,d,g,l){var h=a.type;c=h===b.Time||g===b.Time?e.timeFormat(d):h===b.UTC||g===b.UTC?e.utcFormat(d):a.tickFormat?a.tickFormat(c,d):d?u.format(d):String;if(b.isLogarithmic(h)){d=u.formatSpecifier(d||",");if(null==d.precision){d.precision=12;switch(d.type){case "%":d.precision-=2;break;case "e":--d.precision}d=r(u.format(d),u.format(".1f")(1)[1])}else d=u.format(d);c=l||a.bins?d:W(c,
d)}return c}function W(a,b){return c=>a(c)?b(c):""}function r(a,b){return function(c){c=a(c);var d=c.indexOf(b);if(0>d)return c;a:{var e=c.lastIndexOf("e");if(!(0<e)){for(e=c.length;--e>d;){var g=c.charCodeAt(e);if(48<=g&&57>=g){e+=1;break a}}e=void 0}}for(g=e<c.length?c.slice(e):"";--e>d;)if("0"!==c[e]){++e;break}return c.slice(0,e)+g}}function S(a){t.Transform.call(this,null,a)}function z(a){t.Transform.call(this,null,a)}function J(){return t.ingest({})}function p(a){return a.exit}function k(a){t.Transform.call(this,
null,a)}function N(a,c){a.bins?(a=a.bins,c=a.slice(0,-1),c.max=H.peek(a),a=c):a.type===b.Log?a=D(a,c):v[a.type]?(a=a[v[a.type]](),a=[-Infinity].concat(a),a.max=Infinity):a=T(a,c);return a}function D(a,b){var c=T(a,b),d=a.base(),e=Math.log(d),g=Math.max(1,d*b/c.length);return c.filter(a=>{a/=Math.pow(d,Math.round(Math.log(a)/e));a*d<d-.5&&(a*=d);return a<=g})}function O(a,d,e,g,l,m){if(x[a.type]&&l!==b.Time&&l!==b.UTC){d=a[x[a.type]]();l=d.length;m=1<l?d[1]-d[0]:d[0];var k;for(k=1;k<l;++k)m=Math.min(m,
d[k]-d[k-1]);g=b.tickFormat(0,m,30,g)}else g=F(a,d,g,l,m);return"symbol"===e&&(v[a.type]||a.bins)?c(g):"discrete"===e?h(g):ba(g)}function c(a){return function(b,c,d){c=d[c+1];d=d.max;d=null!=d?d:Infinity;c=null!=c?c:d;b=Number.isFinite(b)?a(b):null;c=Number.isFinite(c)?a(c):null;return b&&c?b+" – "+c:c?"\x3c "+c:"≥ "+b}}function h(a){return function(b,c){return c?a(b):null}}function ba(a){return function(b){return a(b)}}function L(a){var c=a.domain(),d=c.length-1,e=+c[0];c=+H.peek(c);var g=c-e;a.type===
b.Threshold&&(a=d?g/d:.1,e-=a,g=c+a-e);return function(a){return(a-e)/g}}function ma(a){t.Transform.call(this,[],a)}function B(a){return a.source.x}function ia(a){return a.source.y}function va(a){return a.target.x}function qa(a){return a.target.y}function g(a){t.Transform.call(this,{},a)}function d(a,b,c,d){return"M"+a+","+b+"L"+c+","+d}function M(a,b,c,d){var e=c-a,g=d-b,l=Math.sqrt(e*e+g*g)/2;return"M"+a+","+b+"A"+l+","+l+" "+180*Math.atan2(g,e)/Math.PI+" 0 1 "+c+","+d}function Q(a,b,c,d){var e=
c-a,g=d-b,l=.2*(e+g);e=.2*(g-e);return"M"+a+","+b+"C"+(a+l)+","+(b+e)+" "+(c+e)+","+(d-l)+" "+c+","+d}function G(a){t.Transform.call(this,null,a)}function I(a){return b.isContinuous(a)&&a!==b.Sequential}function ha(a){t.Transform.call(this,null,a);this.modified(!0)}function aa(a,c,d){b.isLogarithmic(a)&&Math.abs(c.reduce(function(a,b){return a+(0>b?-1:0<b?1:0)},0))!==c.length&&d.warn("Log scale domain includes zero: "+H.stringValue(c));return c}function Sa(a,c,d){return H.isFunction(a)&&(c||d)?b.interpolateRange(a,
cc(c||[0,1],d)):a}function cc(a,b){return b?a.slice().reverse():a}function Na(a){t.Transform.call(this,null,a)}function Ea(a){t.Transform.call(this,null,a)}function Ma(a,b,c,d,e){b=(b-a.sum)/2;for(var g=a.length,l=0,h;l<g;++l)h=a[l],h[d]=b,h[e]=b+=Math.abs(c(h))}function U(a,b,c,d,e){b=1/a.sum;for(var g=0,l=a.length,h=0,m=0,k;h<l;++h)k=a[h],k[d]=g,k[e]=g=b*(m+=Math.abs(c(k)))}function Ba(a,b,c,d,e){for(var g=b=0,l=a.length,h=0,m,k;h<l;++h)k=a[h],m=+c(k),0>m?(k[d]=g,k[e]=g+=m):(k[d]=b,k[e]=b+=m)}function l(a,
b,c,d){var e=[],g=function(a){return a(k)},l;if(null==b)e.push(a.slice());else{var h={};var m=0;for(l=a.length;m<l;++m){var k=a[m];var v=b.map(g);var p=h[v];p||(h[v]=p=[],e.push(p));p.push(k)}}g=v=0;for(a=e.length;v<a;++v){p=e[v];b=m=0;for(l=p.length;m<l;++m)b+=Math.abs(d(p[m]));p.sum=b;b>g&&(g=b);c&&p.sort(c)}e.max=g;return e}H.inherits(S,t.Transform).transform=function(a,b){if(this.value&&!a.modified())return b.StopPropagation;b=b.fork(b.NO_SOURCE|b.NO_FIELDS);var c=this.value,d=a.scale,e=P(d,null==
a.count?a.values?a.values.length:10:a.count,a.minstep),g=a.format||F(d,e,a.formatSpecifier,a.formatType,!!a.values),l=a.values?ea(d,a.values,e):T(d,e);c&&(b.rem=c);c=l.map(function(a,b){return t.ingest({index:b/(l.length-1||1),value:a,label:g(a)})});a.extra&&c.length&&c.push(t.ingest({index:-1,extra:{value:c[0].value},label:""}));b.source=c;this.value=b.add=c;return b};H.inherits(z,t.Transform).transform=function(a,b){var c=b.dataflow,d=b.fork(b.NO_SOURCE|b.NO_FIELDS),e=a.item||J,g=a.key||t.tupleid,
l=this.value;H.isArray(d.encode)&&(d.encode=null);l&&(a.modified("key")||b.modified(g))&&H.error("DataJoin does not support modified key function or fields.");l||(b=b.addAll(),this.value=l=H.fastmap().test(p),l.lookup=function(a){return l.get(g(a))});b.visit(b.ADD,function(a){var b=g(a),c=l.get(b);c?c.exit?(l.empty--,d.add.push(c)):d.mod.push(c):(l.set(b,c=e(a)),d.add.push(c));c.datum=a;c.exit=!1});b.visit(b.MOD,function(a){var b=g(a);if(b=l.get(b))b.datum=a,d.mod.push(b)});b.visit(b.REM,function(a){var b=
g(a);b=l.get(b);a!==b.datum||b.exit||(d.rem.push(b),b.exit=!0,++l.empty)});b.changed(b.ADD_MOD)&&d.modifies("datum");a.clean&&l.empty>c.cleanThreshold&&c.runAfter(l.clean);return d};H.inherits(k,t.Transform).transform=function(a,b){var c=b.fork(b.ADD_REM),d=a.mod||!1,e=a.encoders,g=b.encode;if(H.isArray(g))if(c.changed()||g.every(function(a){return e[a]}))g=g[0],c.encode=null;else return b.StopPropagation;var l="enter"===g,h=e.update||H.falsy,m=e.enter||H.falsy,k=e.exit||H.falsy,v=(g&&!l?e[g]:h)||
H.falsy;b.changed(b.ADD)&&(b.visit(b.ADD,function(b){m(b,a);h(b,a)}),c.modifies(m.output),c.modifies(h.output),v!==H.falsy&&v!==h&&(b.visit(b.ADD,function(b){v(b,a)}),c.modifies(v.output)));b.changed(b.REM)&&k!==H.falsy&&(b.visit(b.REM,function(b){k(b,a)}),c.modifies(k.output));if(l||v!==H.falsy)g=b.MOD|(a.modified()?b.REFLOW:0),l?(b.visit(g,function(b){var e=m(b,a)||d;(v(b,a)||e)&&c.mod.push(b)}),c.mod.length&&c.modifies(m.output)):b.visit(g,function(b){(v(b,a)||d)&&c.mod.push(b)}),c.mod.length&&
c.modifies(v.output);return c.changed()?c:b.StopPropagation};const v={[b.Quantile]:"quantiles",[b.Quantize]:"thresholds",[b.Threshold]:"domain"},x={[b.Quantile]:"quantiles",[b.Quantize]:"domain"};H.inherits(ma,t.Transform).transform=function(a,c){if(null!=this.value&&!a.modified())return c.StopPropagation;var d=c.fork(c.NO_SOURCE|c.NO_FIELDS),e=this.value,g=a.type||"symbol",l=a.scale,h=+a.limit,m=P(l,null==a.count?5:a.count,a.minstep),k=!!a.values||"symbol"===g,v=a.format||O(l,m,g,a.formatSpecifier,
a.formatType,k),p=a.values||N(l,m),x;e&&(d.rem=e);if("symbol"===g){if(h&&p.length>h){c.dataflow.warn("Symbol legend count exceeds limit, filtering items.");e=p.slice(0,h-1);var r=!0}else e=p;if(H.isFunction(x=a.size)){a.values||0!==l(e[0])||(e=e.slice(1));var B=e.reduce(function(b,c){return Math.max(b,x(c,a))},0)}else x=H.constant(B=x||8);e=e.map(function(b,c){return t.ingest({index:c,label:v(b,c,e),value:b,offset:B,size:x(b,a)})});r&&(r=p[e.length],e.push(t.ingest({index:e.length,label:`\u2026${p.length-
e.length} entries`,value:r,offset:B,size:x(r,a)})))}else if("gradient"===g){c=l.domain();var E=b.scaleFraction(l,c[0],H.peek(c));3>p.length&&!a.values&&c[0]!==H.peek(c)&&(p=[c[0],H.peek(c)]);e=p.map(function(a,b){return t.ingest({index:b,label:v(a,b,p),value:a,perc:E(a)})})}else x=p.length-1,E=L(l),e=p.map(function(a,b){return t.ingest({index:b,label:v(a,b,p),value:a,perc:b?E(a):0,perc2:b===x?1:E(p[b+1])})});d.source=e;this.value=d.add=e;return d};var m=H.fastmap({line:d,"line-radial":function(a,
b,c,e){return d(b*Math.cos(a),b*Math.sin(a),e*Math.cos(c),e*Math.sin(c))},arc:M,"arc-radial":function(a,b,c,d){return M(b*Math.cos(a),b*Math.sin(a),d*Math.cos(c),d*Math.sin(c))},curve:Q,"curve-radial":function(a,b,c,d){return Q(b*Math.cos(a),b*Math.sin(a),d*Math.cos(c),d*Math.sin(c))},"orthogonal-horizontal":function(a,b,c,d){return"M"+a+","+b+"V"+d+"H"+c},"orthogonal-vertical":function(a,b,c,d){return"M"+a+","+b+"H"+c+"V"+d},"orthogonal-radial":function(a,b,c,d){var e=Math.cos(c),g=Math.sin(c);return"M"+
b*Math.cos(a)+","+b*Math.sin(a)+"A"+b+","+b+" 0 0,"+((Math.abs(c-a)>Math.PI?c<=a:c>a)?1:0)+" "+b*e+","+b*g+"L"+d*e+","+d*g},"diagonal-horizontal":function(a,b,c,d){var e=(a+c)/2;return"M"+a+","+b+"C"+e+","+b+" "+e+","+d+" "+c+","+d},"diagonal-vertical":function(a,b,c,d){var e=(b+d)/2;return"M"+a+","+b+"C"+a+","+e+" "+c+","+e+" "+c+","+d},"diagonal-radial":function(a,b,c,d){var e=Math.cos(a);a=Math.sin(a);var g=Math.cos(c);c=Math.sin(c);var l=(b+d)/2;return"M"+b*e+","+b*a+"C"+l*e+","+l*a+" "+l*g+","+
l*c+" "+d*g+","+d*c}});g.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},
{name:"as",type:"string","default":"path"}]};H.inherits(g,t.Transform).transform=function(a,b){var c=a.sourceX||B,d=a.sourceY||ia,e=a.targetX||va,g=a.targetY||qa,l=a.as||"path",h=a.shape||"line",k=m.get(h+"-"+(a.orient||"vertical"))||m.get(h);k||H.error("LinkPath unsupported type: "+a.shape+(a.orient?"-"+a.orient:""));b.visit(b.SOURCE,function(a){a[l]=k(c(a),d(a),e(a),g(a))});return b.reflow(a.modified()).modifies(l)};G.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},
{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};H.inherits(G,t.Transform).transform=function(a,b){var c=a.as||["startAngle","endAngle"],d=c[0],e=c[1],g=a.startAngle||0,l=null!=a.endAngle?a.endAngle:2*Math.PI,h=b.source,m=h.map(a.field||H.one),k=m.length,v=g;g=(l-g)/C.sum(m);l=C.range(k);var p;a.sort&&l.sort(function(a,
b){return m[a]-m[b]});for(p=0;p<k;++p){var x=m[l[p]];var r=h[l[p]];r[d]=v;r[e]=v+=x*g}this.value=m;return b.reflow(a.modified()).modifies(c)};var E=H.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));H.inherits(ha,t.Transform).transform=function(a,c){var d=c.dataflow,e=this.value;var g=a.type;var l="";if(g===b.Sequential)g=b.Sequential+"-"+
b.Linear;else{var h=a.type;if(h=b.isContinuous(h)&&h!==b.Time&&h!==b.UTC&&(a.scheme||a.range&&a.range.length&&a.range.every(H.isString)))l=a.rawDomain?a.rawDomain.length:a.domain?a.domain.length+ +(null!=a.domainMid):0,l=2===l?b.Sequential+"-":3===l?b.Diverging+"-":"";g=(l+g||b.Linear).toLowerCase()}e&&g===e.type||(this.value=e=b.scale(g)());for(g in a)E[g]||"padding"===g&&I(e.type)||(H.isFunction(e[g])?e[g](a[g]):d.warn("Unsupported scale property: "+g));l=g=e;(h=a.domainRaw)?(e.domain(aa(e.type,
h,d)),h=h.length):h=-1;if(-1<h)d=h;else{var m=a.domain;h=e.type;var k;!(k=a.zero)&&(k=void 0===a.zero)&&(k=e.type,k=!e.bins&&(k===b.Linear||k===b.Pow||k===b.Sqrt));if(m){if(I(h)&&a.padding&&m[0]!==H.peek(m)){var v=a.range,p=a.padding;var x=a.exponent;var r=a.constant;v=Math.abs(H.peek(v)-v[0]);p=v/(v-2*p);x=h===b.Log?H.zoomLog(m,null,p):h===b.Sqrt?H.zoomPow(m,null,p,.5):h===b.Pow?H.zoomPow(m,null,p,x||1):h===b.Symlog?H.zoomSymlog(m,null,p,r||1):H.zoomLinear(m,null,p);m=m.slice();m[0]=x[0];m[m.length-
1]=x[1]}if(k||null!=a.domainMin||null!=a.domainMax||null!=a.domainMid)x=(m=m.slice()).length-1||1,k&&(0<m[0]&&(m[0]=0),0>m[x]&&(m[x]=0)),null!=a.domainMin&&(m[0]=a.domainMin),null!=a.domainMax&&(m[x]=a.domainMax),null!=a.domainMid&&(k=a.domainMid,(k<m[0]||k>m[x])&&d.warn("Scale domainMid exceeds domain min or max.",k),m.splice(x,0,k));e.domain(aa(h,m,d));h===b.Ordinal&&e.unknown(a.domainImplicit?b.scaleImplicit:void 0);a.nice&&e.nice&&e.nice(!0!==a.nice&&P(e,a.nice)||null);d=m.length}else d=0}(h=
a.bins)&&!H.isArray(h)&&(k=l.domain(),e=k[0],k=H.peek(k),m=null==h.start?e:h.start,x=null==h.stop?k:h.stop,(h=h.step)||H.error("Scale bins parameter missing step property."),m<e&&(m=h*Math.ceil(e/h)),x>k&&(x=h*Math.floor(k/h)),h=C.range(m,x+h/2,h));h?l.bins=h:l.bins&&delete l.bins;l.type===b.BinOrdinal&&(h?a.domain||a.domainRaw||(l.domain(h),d=h.length):l.bins=l.domain());e=d;a:{l=g.type;d=a.round||!1;h=a.range;if(null!=a.rangeStep)l!==b.Band&&l!==b.Point&&H.error("Only band and point scales support rangeStep."),
h=[0,a.rangeStep*b.bandSpace(e,l===b.Point?1:(null!=a.paddingInner?a.paddingInner:a.padding)||0,(null!=a.paddingOuter?a.paddingOuter:a.padding)||0)];else if(a.scheme&&(h=a.schemeExtent,H.isArray(a.scheme)?k=b.interpolateColors(a.scheme,a.interpolate,a.interpolateGamma):(k=a.scheme.toLowerCase(),(k=b.scheme(k))||H.error(`Unrecognized scheme name: ${a.scheme}`)),e=l===b.Threshold?e+1:l===b.BinOrdinal?e-1:l===b.Quantile||l===b.Quantize?+a.schemeCount||5:e,h=b.isInterpolating(l)?Sa(k,h,a.reverse):H.isFunction(k)?
b.quantizeInterpolator(Sa(k,h),e):l===b.Ordinal?k:k.slice(0,e),H.isFunction(h)))if(g.interpolator){g.interpolator(h);break a}else H.error(`Scale type ${l} does not support interpolating color schemes.`);h&&b.isInterpolating(l)?g.interpolator(b.interpolateColors(cc(h,a.reverse),a.interpolate,a.interpolateGamma)):(h&&a.interpolate&&g.interpolate?g.interpolate(b.interpolate(a.interpolate,a.interpolateGamma)):H.isFunction(g.round)?g.round(d):H.isFunction(g.rangeRound)&&g.interpolate(d?w.interpolateRound:
w.interpolate),h&&g.range(cc(h,a.reverse)))}return c.fork(c.NO_SOURCE|c.NO_FIELDS)};H.inherits(Na,t.Transform).transform=function(a,b){var c=a.modified("sort")||b.changed(b.ADD)||b.modified(a.sort.fields)||b.modified("datum");c&&b.source.sort(t.stableCompare(a.sort));this.modified(c);return b};var Ua=["y0","y1"];Ea.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",
values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":Ua}]};H.inherits(Ea,t.Transform).transform=function(a,b){var c=a.as||Ua,d=c[0],e=c[1],g=t.stableCompare(a.sort),h=a.field||H.one,m="center"===a.offset?Ma:"normalize"===a.offset?U:Ba,k;g=l(b.source,a.groupby,g,h);var v=0;var p=g.length;for(k=g.max;v<p;++v)m(g[v],k,h,d,e);return b.reflow(a.modified()).modifies(c)};a.axisticks=S;a.datajoin=z;a.encode=k;a.legendentries=ma;a.linkpath=g;a.pie=G;a.scale=ha;a.sortitems=
Na;a.stack=Ea;a.validTicks=ea;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[47]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(32)):"function"===typeof define&&define.amd?define(["exports","d3-array"],b):(a=a||self,b(a.d3=a.d3||{},a.d3))})(this,function(a,b){function e(){this.reset()}function u(a,b,c){var f=a.s=b+c,d=f-b;a.t=b-(f-d)+(c-d)}function w(a){return 1<a?0:-1>a?hb:Math.acos(a)}function t(a){return 1<a?vb:-1>a?-vb:Math.asin(a)}function C(a){return(a=Ca(a/2))*a}function G(){}function P(a,b){if(a&&Ud.hasOwnProperty(a.type))Ud[a.type](a,
b)}function ea(a,b,c){var f=-1;c=a.length-c;for(b.lineStart();++f<c;){var d=a[f];b.point(d[0],d[1],d[2])}b.lineEnd()}function T(a,b){var c=-1,f=a.length;for(b.polygonStart();++c<f;)ea(a[c],b,1);b.polygonEnd()}function F(a,b){if(a&&Dc.hasOwnProperty(a.type))Dc[a.type](a,b);else P(a,b)}function W(){La.point=S}function r(){z(Za,Y)}function S(a,b){La.point=z;Za=a;Y=b;a*=Ia;b*=Ia;ra=a;Pb=V(b=b/2+yd);Ub=Ca(b)}function z(a,b){a*=Ia;b*=Ia;b=b/2+yd;var c=a-ra,f=0<=c?1:-1,d=f*c;c=V(b);b=Ca(b);var e=Ub*b,n=
Pb*c+e*V(d);f=e*f*Ca(d);Ka.add(Nb(f,n));ra=a;Pb=c;Ub=b}function J(a){return[Nb(a[1],a[0]),t(a[2])]}function p(a){var b=a[0];a=a[1];var c=V(a);return[c*V(b),c*Ca(b),Ca(a)]}function k(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function N(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function D(a,b){a[0]+=b[0];a[1]+=b[1];a[2]+=b[2]}function O(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function c(a){var b=xb(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b;a[1]/=b;a[2]/=b}function h(a,b){Ta.push(Z=
[Fa=a,Ga=a]);b<bb&&(bb=b);b>Aa&&(Aa=b)}function ba(a,b){var f=p([a*Ia,b*Ia]);if(Rc){var d=N(Rc,f);d=N([d[1],-d[0],0],d);c(d);d=J(d);var e=a-Ec,n=0<e?1:-1,g=d[0]*Gb*n;e=180<Ha(e);e^(n*Ec<g&&g<n*a)?(d=d[1]*Gb,d>Aa&&(Aa=d)):(g=(g+360)%360-180,e^(n*Ec<g&&g<n*a))?(d=-d[1]*Gb,d<bb&&(bb=d)):(b<bb&&(bb=b),b>Aa&&(Aa=b));e?a<Ec?qa(Fa,a)>qa(Fa,Ga)&&(Ga=a):qa(a,Ga)>qa(Fa,Ga)&&(Fa=a):Ga>=Fa?(a<Fa&&(Fa=a),a>Ga&&(Ga=a)):a>Ec?qa(Fa,a)>qa(Fa,Ga)&&(Ga=a):qa(a,Ga)>qa(Fa,Ga)&&(Fa=a)}else Ta.push(Z=[Fa=a,Ga=a]);b<bb&&
(bb=b);b>Aa&&(Aa=b);Rc=f;Ec=a}function L(){Da.point=ba}function ma(){Z[0]=Fa;Z[1]=Ga;Da.point=h;Rc=null}function B(a,b){if(Rc){var c=a-Ec;wc.add(180<Ha(c)?c+(0<c?360:-360):c)}else Od=a,Qc=b;La.point(a,b);ba(a,b)}function ia(){La.lineStart()}function va(){B(Od,Qc);La.lineEnd();1E-6<Ha(wc)&&(Fa=-(Ga=180));Z[0]=Fa;Z[1]=Ga;Rc=null}function qa(a,b){return 0>(b-=a)?b+360:b}function g(a,b){return a[0]-b[0]}function d(a,b){return a[0]<=a[1]?a[0]<=b&&b<=a[1]:b<a[0]||a[1]<b}function M(a,b){a*=Ia;b*=Ia;var c=
V(b);Q(c*V(a),c*Ca(a),Ca(b))}function Q(a,b,c){++qd;ne+=(a-ne)/qd;Jc+=(b-Jc)/qd;Kc+=(c-Kc)/qd}function la(){Xb.point=I}function I(a,b){a*=Ia;b*=Ia;var c=V(b);nc=c*V(a);oc=c*Ca(a);Ib=Ca(b);Xb.point=ha;Q(nc,oc,Ib)}function ha(a,b){a*=Ia;b*=Ia;var c=V(b),f=c*V(a);a=c*Ca(a);b=Ca(b);var d=Nb(xb((d=oc*b-Ib*a)*d+(d=Ib*f-nc*b)*d+(d=nc*a-oc*f)*d),nc*f+oc*a+Ib*b);Ac+=d;hd+=d*(nc+(nc=f));Wc+=d*(oc+(oc=a));zd+=d*(Ib+(Ib=b));Q(nc,oc,Ib)}function aa(){Xb.point=M}function sa(){Xb.point=Na}function ya(){Ea(Bc,oe);
Xb.point=M}function Na(a,b){Bc=a;oe=b;a*=Ia;b*=Ia;Xb.point=Ea;var c=V(b);nc=c*V(a);oc=c*Ca(a);Ib=Ca(b);Q(nc,oc,Ib)}function Ea(a,b){a*=Ia;b*=Ia;var c=V(b),f=c*V(a);a=c*Ca(a);b=Ca(b);c=oc*b-Ib*a;var d=Ib*f-nc*b,e=nc*a-oc*f,n=xb(c*c+d*d+e*e),g=t(n);n=n&&-g/n;Xc+=n*c;Vd+=n*d;Lc+=n*e;Ac+=g;hd+=g*(nc+(nc=f));Wc+=g*(oc+(oc=a));zd+=g*(Ib+(Ib=b));Q(nc,oc,Ib)}function Ma(a){return function(){return a}}function U(a,b){function c(c,f){return c=a(c,f),b(c[0],c[1])}a.invert&&b.invert&&(c.invert=function(c,f){return c=
b.invert(c,f),c&&a.invert(c[0],c[1])});return c}function Ba(a,b){return[Ha(a)>hb?a+Math.round(-a/bc)*bc:a,b]}function l(a,b,c){return(a%=bc)?b||c?U(x(a),m(b,c)):x(a):b||c?m(b,c):Ba}function v(a){return function(b,c){return b+=a,[b>hb?b-bc:b<-hb?b+bc:b,c]}}function x(a){var b=v(a);b.invert=v(-a);return b}function m(a,b){function c(a,b){var c=V(b),g=V(a)*c;a=Ca(a)*c;b=Ca(b);c=b*f+g*d;return[Nb(a*e-c*n,g*f-b*d),t(c*e+a*n)]}var f=V(a),d=Ca(a),e=V(b),n=Ca(b);c.invert=function(a,b){var c=V(b),g=V(a)*c;
a=Ca(a)*c;b=Ca(b);c=b*e-a*n;return[Nb(a*e+b*n,g*f+c*d),t(c*f-g*d)]};return c}function E(a){function b(b){b=a(b[0]*Ia,b[1]*Ia);return b[0]*=Gb,b[1]*=Gb,b}a=l(a[0]*Ia,a[1]*Ia,2<a.length?a[2]*Ia:0);b.invert=function(b){b=a.invert(b[0]*Ia,b[1]*Ia);return b[0]*=Gb,b[1]*=Gb,b};return b}function Ua(a,b,c,f,d,e){if(c){var n=V(b),g=Ca(b);c*=f;if(null==d)d=b+f*bc,e=b-c/2;else if(d=da(n,d),e=da(n,e),0<f?d<e:d>e)d+=f*bc;for(;0<f?d>e:d<e;d-=c)b=J([n,-g*V(d),-g*Ca(d)]),a.point(b[0],b[1])}}function da(a,b){b=p(b);
b[0]-=a;c(b);a=w(-b[1]);return((0>-b[2]?-a:a)+bc-1E-6)%bc}function oa(){var a=[],b;return{point:function(a,c){b.push([a,c])},lineStart:function(){a.push(b=[])},lineEnd:G,rejoin:function(){1<a.length&&a.push(a.pop().concat(a.shift()))},result:function(){var c=a;a=[];b=null;return c}}}function Wa(a,b){return 1E-6>Ha(a[0]-b[0])&&1E-6>Ha(a[1]-b[1])}function Qa(a,b,c,f){this.x=a;this.z=b;this.o=c;this.e=f;this.v=!1;this.n=this.p=null}function wa(a,b,c,f,d){var e=[],n=[];a.forEach(function(a){if(!(0>=(b=
a.length-1))){var b,c=a[0],f=a[b];if(Wa(c,f)){d.lineStart();for(g=0;g<b;++g)d.point((c=a[g])[0],c[1]);d.lineEnd()}else e.push(b=new Qa(c,a,null,!0)),n.push(b.o=new Qa(c,null,b,!1)),e.push(b=new Qa(f,a,null,!1)),n.push(b.o=new Qa(f,null,b,!0))}});if(e.length){n.sort(b);fa(e);fa(n);var g=0;for(a=n.length;g<a;++g)n[g].e=c=!c;c=e[0];for(var l;;){for(var h=c,m=!0;h.v;)if((h=h.n)===c)return;b=h.z;d.lineStart();do{h.v=h.o.v=!0;if(h.e){if(m)for(g=0,a=b.length;g<a;++g)d.point((l=b[g])[0],l[1]);else f(h.x,
h.n.x,1,d);h=h.n}else{if(m)for(b=h.p.z,g=b.length-1;0<=g;--g)d.point((l=b[g])[0],l[1]);else f(h.x,h.p.x,-1,d);h=h.p}h=h.o;b=h.z;m=!m}while(!h.v);d.lineEnd()}}}function fa(a){if(b=a.length){for(var b,c=0,f=a[0],d;++c<b;)f.n=d=a[c],d.p=f,f=d;f.n=d=a[0];d.p=f}}function cb(a){return Ha(a[0])<=hb?a[0]:Hb(a[0])*((Ha(a[0])+hb)%bc-hb)}function kb(a,b){var f=cb(b);b=b[1];var d=Ca(b),e=[Ca(f),-V(f),0],n=0,g=0;jb.reset();1===d?b=vb+1E-6:-1===d&&(b=-vb-1E-6);d=0;for(var l=a.length;d<l;++d)if(m=(h=a[d]).length){var h,
m,A=h[m-1],k=cb(A),K=A[1]/2+yd,v=Ca(K),Z=V(K);for(K=0;K<m;++K,k=ta,v=x,Z=r,A=y){var y=h[K],ta=cb(y);r=y[1]/2+yd;var x=Ca(r),r=V(r),ob=ta-k,Da=0<=ob?1:-1,B=Da*ob,E=B>hb;v*=x;jb.add(Nb(v*Da*Ca(B),Z*r+v*V(B)));n+=E?ob+Da*bc:ob;E^k>=f^ta>=f&&(A=N(p(A),p(y)),c(A),k=N(e,A),c(k),k=(E^0<=ob?-1:1)*t(k[2]),b>k||b===k&&(A[0]||A[1]))&&(g+=E^0<=ob?1:-1)}}return(-1E-6>n||1E-6>n&&-1E-6>jb)^g&1}function fb(a,c,f,d){return function(e){function n(b,c){a(b,c)&&e.point(b,c)}function g(a,b){K.point(a,b)}function l(){r.point=
g;K.lineStart()}function h(){r.point=n;K.lineEnd()}function m(a,b){x.push([a,b]);Z.point(a,b)}function A(){Z.lineStart();x=[]}function k(){m(x[0][0],x[0][1]);Z.lineEnd();var a=Z.clean(),b=v.result(),c=b.length,f;x.pop();p.push(x);x=null;if(c)if(a&1){if(c=b[0],0<(b=c.length-1)){y||(e.polygonStart(),y=!0);e.lineStart();for(a=0;a<b;++a)e.point((f=c[a])[0],f[1]);e.lineEnd()}}else 1<c&&a&2&&b.push(b.pop().concat(b.shift())),ta.push(b.filter(qb))}var K=c(e),v=oa(),Z=c(v),y=!1,p,ta,x,r={point:n,lineStart:l,
lineEnd:h,polygonStart:function(){r.point=m;r.lineStart=A;r.lineEnd=k;ta=[];p=[]},polygonEnd:function(){r.point=n;r.lineStart=l;r.lineEnd=h;ta=b.merge(ta);var a=kb(p,d);ta.length?(y||(e.polygonStart(),y=!0),wa(ta,Ja,a,f,e)):a&&(y||(e.polygonStart(),y=!0),e.lineStart(),f(null,null,1,e),e.lineEnd());y&&(e.polygonEnd(),y=!1);ta=p=null},sphere:function(){e.polygonStart();e.lineStart();f(null,null,1,e);e.lineEnd();e.polygonEnd()}};return r}}function qb(a){return 1<a.length}function Ja(a,b){return(0>(a=
a.x)[0]?a[1]-vb-1E-6:vb-a[1])-(0>(b=b.x)[0]?b[1]-vb-1E-6:vb-b[1])}function pa(a){function b(a,b){return V(a)*V(b)>d}function c(a,b,c){var f=p(a),e=p(b),n=[1,0,0];e=N(f,e);var g=k(e,e);f=e[0];var l=g-f*f;if(!l)return!c&&a;g=d*g/l;l=-d*f/l;f=N(n,e);n=O(n,g);e=O(e,l);D(n,e);e=k(n,f);g=k(f,f);l=e*e-g*(k(n,n)-1);if(!(0>l)){var h=xb(l);l=O(f,(-e-h)/g);D(l,n);l=J(l);if(!c)return l;c=a[0];var m=b[0];a=a[1];b=b[1];if(m<c){var A=c;c=m;m=A}var K=m-c,v=1E-6>Ha(K-hb);!v&&b<a&&(A=a,a=b,b=A);if(v||1E-6>K?v?0<a+
b^l[1]<(1E-6>Ha(l[0]-c)?a:b):a<=l[1]&&l[1]<=b:K>hb^(c<=l[0]&&l[0]<=m))return b=O(f,(-e+h)/g),D(b,n),[l,J(b)]}}function f(b,c){var f=n?a:hb-a,d=0;b<-f?d|=1:b>f&&(d|=2);c<-f?d|=4:c>f&&(d|=8);return d}var d=V(a),e=6*Ia,n=0<d,g=1E-6<Ha(d);return fb(b,function(a){var d,e,l,h,m;return{lineStart:function(){h=l=!1;m=1},point:function(A,k){var K=[A,k],v=b(A,k);k=n?v?0:f(A,k):v?f(A+(0>A?hb:-hb),k):0;!d&&(h=l=v)&&a.lineStart();v!==l&&(A=c(d,K),!A||Wa(d,A)||Wa(K,A))&&(K[0]+=1E-6,K[1]+=1E-6,v=b(K[0],K[1]));if(v!==
l)m=0,v?(a.lineStart(),A=c(K,d),a.point(A[0],A[1])):(A=c(d,K),a.point(A[0],A[1]),a.lineEnd()),d=A;else if(g&&d&&n^v){var Z;k&e||!(Z=c(K,d,!0))||(m=0,n?(a.lineStart(),a.point(Z[0][0],Z[0][1]),a.point(Z[1][0],Z[1][1]),a.lineEnd()):(a.point(Z[1][0],Z[1][1]),a.lineEnd(),a.lineStart(),a.point(Z[0][0],Z[0][1])))}!v||d&&Wa(d,K)||a.point(K[0],K[1]);d=K;l=v;e=k},lineEnd:function(){l&&a.lineEnd();d=null},clean:function(){return m|(h&&l)<<1}}},function(b,c,f,d){Ua(d,a,e,f,b,c)},n?[0,-a]:[-hb,a-hb])}function ub(a,
b,c,f,d,e){var n=a[0],g=a[1],l=0,h=1,m=b[0]-n,A=b[1]-g;c-=n;if(m||!(0<c)){c/=m;if(0>m){if(c<l)return;c<h&&(h=c)}else if(0<m){if(c>h)return;c>l&&(l=c)}c=d-n;if(m||!(0>c)){c/=m;if(0>m){if(c>h)return;c>l&&(l=c)}else if(0<m){if(c<l)return;c<h&&(h=c)}c=f-g;if(A||!(0<c)){c/=A;if(0>A){if(c<l)return;c<h&&(h=c)}else if(0<A){if(c>h)return;c>l&&(l=c)}c=e-g;if(A||!(0>c)){c/=A;if(0>A){if(c>h)return;c>l&&(l=c)}else if(0<A){if(c<l)return;c<h&&(h=c)}0<l&&(a[0]=n+l*m,a[1]=g+l*A);1>h&&(b[0]=n+h*m,b[1]=g+h*A);return!0}}}}}
function Rb(a,c,f,d){function e(b,e,g,h){var m=0,A=0;if(null==b||(m=n(b,g))!==(A=n(e,g))||0>l(b,e)^0<g){do h.point(0===m||3===m?a:f,1<m?d:c);while((m=(m+g+4)%4)!==A)}else h.point(e[0],e[1])}function n(b,d){return 1E-6>Ha(b[0]-a)?0<d?0:3:1E-6>Ha(b[0]-f)?0<d?2:1:1E-6>Ha(b[1]-c)?0<d?1:0:0<d?3:2}function g(a,b){return l(a.x,b.x)}function l(a,b){var c=n(a,1),f=n(b,1);return c!==f?c-f:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(n){function l(b,e){a<=b&&b<=f&&c<=e&&e<=d&&m.point(b,
e)}function h(b,e){var n=a<=b&&b<=f&&c<=e&&e<=d;K&&v.push([b,e]);if(ob)Z=b,y=e,p=n,ob=!1,n&&(m.lineStart(),m.point(b,e));else if(n&&r)m.point(b,e);else{var g=[ta=Math.max(-1E9,Math.min(1E9,ta)),x=Math.max(-1E9,Math.min(1E9,x))],l=[b=Math.max(-1E9,Math.min(1E9,b)),e=Math.max(-1E9,Math.min(1E9,e))];ub(g,l,a,c,f,d)?(r||(m.lineStart(),m.point(g[0],g[1])),m.point(l[0],l[1]),n||m.lineEnd(),Da=!1):n&&(m.lineStart(),m.point(b,e),Da=!1)}ta=b;x=e;r=n}var m=n,A=oa(),k,K,v,Z,y,p,ta,x,r,ob,Da,t={point:l,lineStart:function(){t.point=
h;K&&K.push(v=[]);ob=!0;r=!1;ta=x=NaN},lineEnd:function(){k&&(h(Z,y),p&&r&&A.rejoin(),k.push(A.result()));t.point=l;r&&m.lineEnd()},polygonStart:function(){m=A;k=[];K=[];Da=!0},polygonEnd:function(){for(var c,f=c=0,l=K.length;f<l;++f){var h=K[f],A=1,Z=h.length,y=h[0],p=y[0];for(y=y[1];A<Z;++A){var ta=p;var x=y;y=h[A];p=y[0];y=y[1];x<=d?y>d&&(p-ta)*(d-x)>(y-x)*(a-ta)&&++c:y<=d&&(p-ta)*(d-x)<(y-x)*(a-ta)&&--c}}f=Da&&c;l=(k=b.merge(k)).length;if(f||l)n.polygonStart(),f&&(n.lineStart(),e(null,null,1,
n),n.lineEnd()),l&&wa(k,g,c,e,n),n.polygonEnd();m=n;k=K=v=null}};return t}}function Va(){dd.point=dd.lineEnd=G}function Bb(a,b){a*=Ia;b*=Ia;be=a;rd=Ca(b);cd=V(b);dd.point=ka}function ka(a,b){a*=Ia;b*=Ia;var c=Ca(b);b=V(b);var f=Ha(a-be),d=V(f);f=Ca(f);f*=b;var e=cd*c-rd*b*d;d=rd*c+cd*b*d;bd.add(Nb(xb(f*f+e*e),d));be=a;rd=c;cd=b}function Cb(a){bd.reset();F(a,dd);return+bd}function Db(a,b){Ya[0]=a;Ya[1]=b;return Cb(Fc)}function $a(a,b){return a&&mb.hasOwnProperty(a.type)?mb[a.type](a,b):!1}function Lb(a,
b){for(var c,f,d,e=0,n=a.length;e<n;e++){f=Db(a[e],b);if(0===f||0<e&&(d=Db(a[e],a[e-1]),0<d&&c<=d&&f<=d&&(c+f-d)*(1-Math.pow((c-f)/d,2))<1E-12*d))return!0;c=f}return!1}function tc(a,b){return!!kb(a.map(rb),Tb(b))}function rb(a){return a=a.map(Tb),a.pop(),a}function Tb(a){return[a[0]*Ia,a[1]*Ia]}function Eb(a,c,f){var d=b.range(a,c-1E-6,f).concat(c);return function(a){return d.map(function(b){return[a,b]})}}function Xa(a,c,f){var d=b.range(a,c-1E-6,f).concat(c);return function(a){return d.map(function(b){return[b,
a]})}}function xa(){function a(){return{type:"MultiLineString",coordinates:c()}}function c(){return b.range(wb(n/K)*K,e,K).map(p).concat(b.range(wb(m/v)*v,h,v).map(ta)).concat(b.range(wb(d/A)*A,f,A).filter(function(a){return 1E-6<Ha(a%K)}).map(Z)).concat(b.range(wb(l/k)*k,g,k).filter(function(a){return 1E-6<Ha(a%v)}).map(y))}var f,d,e,n,g,l,h,m,A=10,k=A,K=90,v=360,Z,y,p,ta,x=2.5;a.lines=function(){return c().map(function(a){return{type:"LineString",coordinates:a}})};a.outline=function(){return{type:"Polygon",
coordinates:[p(n).concat(ta(h).slice(1),p(e).reverse().slice(1),ta(m).reverse().slice(1))]}};a.extent=function(b){return arguments.length?a.extentMajor(b).extentMinor(b):a.extentMinor()};a.extentMajor=function(b){if(!arguments.length)return[[n,m],[e,h]];n=+b[0][0];e=+b[1][0];m=+b[0][1];h=+b[1][1];n>e&&(b=n,n=e,e=b);m>h&&(b=m,m=h,h=b);return a.precision(x)};a.extentMinor=function(b){if(!arguments.length)return[[d,l],[f,g]];d=+b[0][0];f=+b[1][0];l=+b[0][1];g=+b[1][1];d>f&&(b=d,d=f,f=b);l>g&&(b=l,l=
g,g=b);return a.precision(x)};a.step=function(b){return arguments.length?a.stepMajor(b).stepMinor(b):a.stepMinor()};a.stepMajor=function(b){if(!arguments.length)return[K,v];K=+b[0];v=+b[1];return a};a.stepMinor=function(b){if(!arguments.length)return[A,k];A=+b[0];k=+b[1];return a};a.precision=function(b){if(!arguments.length)return x;x=+b;Z=Eb(l,g,90);y=Xa(d,f,x);p=Eb(m,h,90);ta=Xa(n,e,x);return a};return a.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}
function Fb(a){return a}function qc(){K.point=Sb}function Sb(a,b){K.point=ab;pc=Tc=a;ce=A=b}function ab(a,b){Yb.add(A*a-Tc*b);Tc=a;A=b}function fc(){ab(pc,ce)}function sb(a,b){Jb+=a;sc+=b;++ze}function ac(){id.point=gb}function gb(a,b){id.point=db;sb(Qd=a,Uc=b)}function db(a,b){var c=a-Qd,f=b-Uc;c=xb(c*c+f*f);Jf+=c*(Qd+a)/2;$e+=c*(Uc+b)/2;Ie+=c;sb(Qd=a,Uc=b)}function Ob(){id.point=sb}function gc(){id.point=Ic}function jc(){td(Hg,Lf)}function Ic(a,b){id.point=td;sb(Hg=Qd=a,Lf=Uc=b)}function td(a,b){var c=
a-Qd,f=b-Uc;c=xb(c*c+f*f);Jf+=c*(Qd+a)/2;$e+=c*(Uc+b)/2;Ie+=c;c=Uc*a-Qd*b;Kf+=c*(Qd+a);hg+=c*(Uc+b);Je+=3*c;sb(Qd=a,Uc=b)}function kc(a){this._context=a}function Vc(a,b){xf.point=Nc;Nf=Of=a;uf=wf=b}function Nc(a,b){Of-=a;wf-=b;af.add(xb(Of*Of+wf*wf));Of=a;wf=b}function Cc(){this._string=[]}function rc(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function dc(a){return function(b){var c=new Kb,f;for(f in a)c[f]=a[f];c.stream=b;return c}}function Kb(){}function $b(a,
b,c){var f=a.clipExtent&&a.clipExtent();a.scale(150).translate([0,0]);null!=f&&a.clipExtent(null);F(c,a.stream(y));b(y.result());null!=f&&a.clipExtent(f);return a}function hc(a,b,c){return $b(a,function(c){var f=b[1][0]-b[0][0],d=b[1][1]-b[0][1],e=Math.min(f/(c[1][0]-c[0][0]),d/(c[1][1]-c[0][1]));f=+b[0][0]+(f-e*(c[1][0]+c[0][0]))/2;c=+b[0][1]+(d-e*(c[1][1]+c[0][1]))/2;a.scale(150*e).translate([f,c])},c)}function lc(a,b,c){return $b(a,function(c){var f=+b,d=f/(c[1][0]-c[0][0]);f=(f-d*(c[1][0]+c[0][0]))/
2;c=-d*c[0][1];a.scale(150*d).translate([f,c])},c)}function mc(a,b,c){return $b(a,function(c){var f=+b,d=f/(c[1][1]-c[0][1]),e=-d*c[0][0];c=(f-d*(c[1][1]+c[0][1]))/2;a.scale(150*d).translate([e,c])},c)}function uc(a){return dc({point:function(b,c){b=a(b,c);this.stream.point(b[0],b[1])}})}function ud(a,b){function c(f,d,e,n,g,l,h,m,A,k,K,v,Z,y){var p=h-f,ta=m-d,x=p*p+ta*ta;if(x>4*b&&Z--){var r=n+k,ob=g+K,Da=l+v,B=xb(r*r+ob*ob+Da*Da),E=t(Da/=B),L=1E-6>Ha(Ha(Da)-1)||1E-6>Ha(e-A)?(e+A)/2:Nb(ob,r),D=a(L,
E);E=D[0];D=D[1];var z=E-f,fa=D-d,O=ta*z-p*fa;if(O*O/x>b||.3<Ha((p*z+ta*fa)/x-.5)||n*k+g*K+l*v<Lg)c(f,d,e,n,g,l,E,D,L,r/=B,ob/=B,Da,Z,y),y.point(E,D),c(E,D,L,r,ob,Da,h,m,A,k,K,v,Z,y)}}return function(b){function f(c,f){c=a(c,f);b.point(c[0],c[1])}function d(){ta=NaN;t.point=e;b.lineStart()}function e(f,d){var e=p([f,d]);d=a(f,d);c(ta,x,y,r,ob,Da,ta=d[0],x=d[1],y=f,r=e[0],ob=e[1],Da=e[2],16,b);b.point(ta,x)}function n(){t.point=f;b.lineEnd()}function g(){d();t.point=l;t.lineEnd=h}function l(a,b){e(m=
a,b);A=ta;k=x;K=r;v=ob;Z=Da;t.point=e}function h(){c(ta,x,y,r,ob,Da,A,k,m,K,v,Z,16,b);t.lineEnd=n;n()}var m,A,k,K,v,Z,y,ta,x,r,ob,Da,t={point:f,lineStart:d,lineEnd:n,polygonStart:function(){b.polygonStart();t.lineStart=g},polygonEnd:function(){b.polygonEnd();t.lineStart=d}};return t}}function Td(a){return dc({point:function(b,c){b=a(b,c);return this.stream.point(b[0],b[1])}})}function ae(a,b,c){function f(f,d){return[b+a*f,c-a*d]}f.invert=function(f,d){return[(f-b)/a,(c-d)/a]};return f}function Oc(a,
b,c,f){function d(a,f){return[n*a-g*f+b,c-g*a-n*f]}var e=V(f);f=Ca(f);var n=e*a,g=f*a,l=e/a,h=f/a,m=(f*c-e*b)/a,A=(f*b+e*c)/a;d.invert=function(a,b){return[l*a-h*b+m,A-h*a-l*b]};return d}function vc(a){return kd(function(){return a})()}function kd(a){function b(a){return D(a[0]*Ia,a[1]*Ia)}function c(a){return(a=D.invert(a[0],a[1]))&&[a[0]*Gb,a[1]*Gb]}function f(){var a=Oc(n,0,0,y).apply(null,e(m,A));a=(y?Oc:ae)(n,g-a[0],h-a[1],y);Z=l(k,K,v);L=U(e,a);D=U(Z,L);a=L;E=+B?ud(a,B):uc(a);return d()}function d(){z=
fa=null;return b}var e,n=150,g=480,h=250,m=0,A=0,k=0,K=0,v=0,Z,y=0,p=null,ta=Pd,x=null,r,ob,Da,t=Fb,B=.5,E,L,D,z,fa;b.stream=function(a){return z&&fa===a?z:z=yf(Td(Z)(ta(E(t(fa=a)))))};b.preclip=function(a){return arguments.length?(ta=a,p=void 0,d()):ta};b.postclip=function(a){return arguments.length?(t=a,x=r=ob=Da=null,d()):t};b.clipAngle=function(a){return arguments.length?(ta=+a?pa(p=a*Ia):(p=null,Pd),d()):p*Gb};b.clipExtent=function(a){return arguments.length?(t=null==a?(x=r=ob=Da=null,Fb):Rb(x=
+a[0][0],r=+a[0][1],ob=+a[1][0],Da=+a[1][1]),d()):null==x?null:[[x,r],[ob,Da]]};b.scale=function(a){return arguments.length?(n=+a,f()):n};b.translate=function(a){return arguments.length?(g=+a[0],h=+a[1],f()):[g,h]};b.center=function(a){return arguments.length?(m=a[0]%360*Ia,A=a[1]%360*Ia,f()):[m*Gb,A*Gb]};b.rotate=function(a){return arguments.length?(k=a[0]%360*Ia,K=a[1]%360*Ia,v=2<a.length?a[2]%360*Ia:0,f()):[k*Gb,K*Gb,v*Gb]};b.angle=function(a){return arguments.length?(y=a%360*Ia,f()):y*Gb};b.precision=
function(a){if(arguments.length){var b=L;var c=B=a*a;b=(E=+c?ud(b,c):uc(b),d())}else b=xb(B);return b};b.fitExtent=function(a,c){return hc(b,a,c)};b.fitSize=function(a,c){return hc(b,[[0,0],a],c)};b.fitWidth=function(a,c){return lc(b,a,c)};b.fitHeight=function(a,c){return mc(b,a,c)};return function(){e=a.apply(this,arguments);b.invert=e.invert&&c;return f()}}function $c(a){var b=0,c=hb/3,f=kd(a);a=f(b,c);a.parallels=function(a){return arguments.length?f(b=a[0]*Ia,c=a[1]*Ia):[b*Gb,c*Gb]};return a}
function Mb(a){function b(a,b){return[a*c,Ca(b)/c]}var c=V(a);b.invert=function(a,b){return[a/c,t(b*c)]};return b}function lb(a,b){function c(a,b){b=xb(e-2*d*Ca(b))/d;return[b*Ca(a*=d),n-b*V(a)]}var f=Ca(a),d=(f+Ca(b))/2;if(1E-6>Ha(d))return Mb(a);var e=1+f*(2*d-f),n=xb(e)/d;c.invert=function(a,b){b=n-b;return[Nb(a,Ha(b))/d*Hb(b),t((e-(a*a+b*b)*d*d)/(2*d))]};return c}function ld(){return $c(lb).scale(155.424).center([0,33.6442])}function ke(){return ld().parallels([29.5,45.5]).scale(1070).translate([480,
250]).rotate([96,0]).center([-.6,38.7])}function Gd(a){var b=a.length;return{point:function(c,f){for(var d=-1;++d<b;)a[d].point(c,f)},sphere:function(){for(var c=-1;++c<b;)a[c].sphere()},lineStart:function(){for(var c=-1;++c<b;)a[c].lineStart()},lineEnd:function(){for(var c=-1;++c<b;)a[c].lineEnd()},polygonStart:function(){for(var c=-1;++c<b;)a[c].polygonStart()},polygonEnd:function(){for(var c=-1;++c<b;)a[c].polygonEnd()}}}function Hd(a){return function(b,c){var f=V(b),d=V(c);f=a(f*d);return[f*d*
Ca(b),f*Ca(c)]}}function ic(a){return function(b,c){var f=xb(b*b+c*c),d=a(f),e=Ca(d);d=V(d);return[Nb(b*e,f*d),t(f&&c*e/f)]}}function gd(a,b){return[a,X(tb((vb+b)/2))]}function Id(a){function b(){var b=hb*d(),f=c(E(c.rotate()).invert([0,0]));return n(null==g?[[f[0]-b,f[1]-b],[f[0]+b,f[1]+b]]:a===gd?[[Math.max(f[0]-b,g),l],[Math.min(f[0]+b,h),m]]:[[g,Math.max(f[1]-b,l)],[h,Math.min(f[1]+b,m)]])}var c=vc(a),f=c.center,d=c.scale,e=c.translate,n=c.clipExtent,g=null,l,h,m;c.scale=function(a){return arguments.length?
(d(a),b()):d()};c.translate=function(a){return arguments.length?(e(a),b()):e()};c.center=function(a){return arguments.length?(f(a),b()):f()};c.clipExtent=function(a){return arguments.length?(null==a?g=l=h=m=null:(g=+a[0][0],l=+a[0][1],h=+a[1][0],m=+a[1][1]),b()):null==g?null:[[g,l],[h,m]]};return b()}function vd(a,b){function c(a,b){0<e?b<-vb+1E-6&&(b=-vb+1E-6):b>vb-1E-6&&(b=vb-1E-6);b=e/zc(tb((vb+b)/2),d);return[b*Ca(d*a),e-b*V(d*a)]}var f=V(a),d=a===b?Ca(a):X(f/V(b))/X(tb((vb+b)/2)/tb((vb+a)/2)),
e=f*zc(tb((vb+a)/2),d)/d;if(!d)return gd;c.invert=function(a,b){b=e-b;var c=Hb(d)*xb(a*a+b*b);return[Nb(a,Ha(b))/d*Hb(b),2*eb(zc(e/c,1/d))-vb]};return c}function md(a,b){return[a,b]}function Jd(a,b){function c(a,b){b=e-b;a*=d;return[b*Ca(a),e-b*V(a)]}var f=V(a),d=a===b?Ca(a):(f-V(b))/(b-a),e=f/d+a;if(1E-6>Ha(d))return md;c.invert=function(a,b){b=e-b;return[Nb(a,Ha(b))/d*Hb(b),e-Hb(d)*xb(a*a+b*b)]};return c}function Pc(a,b){b=t(Af*Ca(b));var c=b*b,f=c*c*c;return[a*V(b)/(Af*(1.340264+3*-.081106*c+f*
(7*8.93E-4+.034164*c))),b*(1.340264+-.081106*c+f*(8.93E-4+.003796*c))]}function Kd(a,b){var c=V(b),f=V(a)*c;return[c*Ca(a)/f,Ca(b)/f]}function wd(a,b,c,f){return 1===a&&1===b&&0===c&&0===f?Fb:dc({point:function(d,e){this.stream.point(d*a+c,e*b+f)}})}function xd(a,b){var c=b*b,f=c*c;return[a*(.8707-.131979*c+f*(-.013791+f*(.003971*c-.001529*f))),b*(1.007226+c*(.015085+f*(-.044475+.028874*c-.005916*f)))]}function Ld(a,b){return[V(b)*Ca(a),Ca(b)]}function Md(a,b){var c=V(b),f=1+V(a)*c;return[c*Ca(a)/
f,Ca(b)/f]}function Nd(a,b){return[X(tb((vb+b)/2)),-a]}e.prototype={constructor:e,reset:function(){this.s=this.t=0},add:function(a){u(nb,a,this.t);u(this,nb.s,this.s);this.s?this.t+=nb.t:this.s=nb.t},valueOf:function(){return this.s}};var nb=new e,hb=Math.PI,vb=hb/2,yd=hb/4,bc=2*hb,Gb=180/hb,Ia=hb/180,Ha=Math.abs,eb=Math.atan,Nb=Math.atan2,V=Math.cos,wb=Math.ceil,ib=Math.exp,X=Math.log,zc=Math.pow,Ca=Math.sin,Hb=Math.sign||function(a){return 0<a?1:0>a?-1:0},xb=Math.sqrt,tb=Math.tan,Dc={Feature:function(a,
b){P(a.geometry,b)},FeatureCollection:function(a,b){a=a.features;for(var c=-1,f=a.length;++c<f;)P(a[c].geometry,b)}},Ud={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates;b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,f=-1,d=c.length;++f<d;)a=c[f],b.point(a[0],a[1],a[2])},LineString:function(a,b){ea(a.coordinates,b,0)},MultiLineString:function(a,b){a=a.coordinates;for(var c=-1,f=a.length;++c<f;)ea(a[c],b,0)},Polygon:function(a,b){T(a.coordinates,b)},MultiPolygon:function(a,
b){a=a.coordinates;for(var c=-1,f=a.length;++c<f;)T(a[c],b)},GeometryCollection:function(a,b){a=a.geometries;for(var c=-1,f=a.length;++c<f;)P(a[c],b)}},Ka=new e,ca=new e,Za,Y,ra,Pb,Ub,La={point:G,lineStart:G,lineEnd:G,polygonStart:function(){Ka.reset();La.lineStart=W;La.lineEnd=r},polygonEnd:function(){var a=+Ka;ca.add(0>a?bc+a:a);this.lineStart=this.lineEnd=this.point=G},sphere:function(){ca.add(bc)}},Fa,bb,Ga,Aa,Ec,Od,Qc,Rc,wc=new e,Ta,Z,Da={point:h,lineStart:L,lineEnd:ma,polygonStart:function(){Da.point=
B;Da.lineStart=ia;Da.lineEnd=va;wc.reset();La.polygonStart()},polygonEnd:function(){La.polygonEnd();Da.point=h;Da.lineStart=L;Da.lineEnd=ma;0>Ka?(Fa=-(Ga=180),bb=-(Aa=90)):1E-6<wc?Aa=90:-1E-6>wc&&(bb=-90);Z[0]=Fa;Z[1]=Ga},sphere:function(){Fa=-(Ga=180);bb=-(Aa=90)}},qd,Ac,ne,Jc,Kc,hd,Wc,zd,Xc,Vd,Lc,Bc,oe,nc,oc,Ib,Xb={sphere:G,point:M,lineStart:la,lineEnd:aa,polygonStart:function(){Xb.lineStart=sa;Xb.lineEnd=ya},polygonEnd:function(){Xb.lineStart=la;Xb.lineEnd=aa}};Ba.invert=Ba;var jb=new e,Pd=fb(function(){return!0},
function(a){var b=NaN,c=NaN,f=NaN,d;return{lineStart:function(){a.lineStart();d=1},point:function(e,n){var g=0<e?hb:-hb,l=Ha(e-b);if(1E-6>Ha(l-hb))a.point(b,c=0<(c+n)/2?vb:-vb),a.point(f,c),a.lineEnd(),a.lineStart(),a.point(g,c),a.point(e,c),d=0;else if(f!==g&&l>=hb){1E-6>Ha(b-f)&&(b-=1E-6*f);1E-6>Ha(e-g)&&(e-=1E-6*g);l=b;var h=c,m=e,A,k,K=Ca(l-m);c=1E-6<Ha(K)?eb((Ca(h)*(k=V(n))*Ca(m)-Ca(n)*(A=V(h))*Ca(l))/(A*k*K)):(h+n)/2;a.point(f,c);a.lineEnd();a.lineStart();a.point(g,c);d=0}a.point(b=e,c=n);f=
g},lineEnd:function(){a.lineEnd();b=c=NaN},clean:function(){return 2-d}}},function(a,b,c,f){null==a?(c*=vb,f.point(-hb,c),f.point(0,c),f.point(hb,c),f.point(hb,0),f.point(hb,-c),f.point(0,-c),f.point(-hb,-c),f.point(-hb,0),f.point(-hb,c)):1E-6<Ha(a[0]-b[0])?(a=a[0]<b[0]?hb:-hb,c=c*a/2,f.point(-a,c),f.point(0,c),f.point(a,c)):f.point(b[0],b[1])},[-hb,-vb]),bd=new e,be,rd,cd,dd={sphere:G,point:G,lineStart:function(){dd.point=Bb;dd.lineEnd=Va},lineEnd:G,polygonStart:G,polygonEnd:G},Ya=[null,null],Fc=
{type:"LineString",coordinates:Ya},yb={Feature:function(a,b){return $a(a.geometry,b)},FeatureCollection:function(a,b){a=a.features;for(var c=-1,f=a.length;++c<f;)if($a(a[c].geometry,b))return!0;return!1}},mb={Sphere:function(){return!0},Point:function(a,b){return 0===Db(a.coordinates,b)},MultiPoint:function(a,b){a=a.coordinates;for(var c=-1,f=a.length;++c<f;)if(0===Db(a[c],b))return!0;return!1},LineString:function(a,b){return Lb(a.coordinates,b)},MultiLineString:function(a,b){a=a.coordinates;for(var c=
-1,f=a.length;++c<f;)if(Lb(a[c],b))return!0;return!1},Polygon:function(a,b){return tc(a.coordinates,b)},MultiPolygon:function(a,b){a=a.coordinates;for(var c=-1,f=a.length;++c<f;)if(tc(a[c],b))return!0;return!1},GeometryCollection:function(a,b){a=a.geometries;for(var c=-1,f=a.length;++c<f;)if($a(a[c],b))return!0;return!1}},Cd=new e,Yb=new e,pc,ce,Tc,A,K={point:G,lineStart:G,lineEnd:G,polygonStart:function(){K.lineStart=qc;K.lineEnd=fc},polygonEnd:function(){K.lineStart=K.lineEnd=K.point=G;Cd.add(Ha(Yb));
Yb.reset()},result:function(){var a=Cd/2;Cd.reset();return a}},ta=Infinity,ob=ta,f=-ta,n=f,y={point:function(a,b){a<ta&&(ta=a);a>f&&(f=a);b<ob&&(ob=b);b>n&&(n=b)},lineStart:G,lineEnd:G,polygonStart:G,polygonEnd:G,result:function(){var a=[[ta,ob],[f,n]];f=n=-(ob=ta=Infinity);return a}},Jb=0,sc=0,ze=0,Jf=0,$e=0,Ie=0,Kf=0,hg=0,Je=0,Hg,Lf,Qd,Uc,id={point:sb,lineStart:ac,lineEnd:Ob,polygonStart:function(){id.lineStart=gc;id.lineEnd=jc},polygonEnd:function(){id.point=sb;id.lineStart=ac;id.lineEnd=Ob},result:function(){var a=
Je?[Kf/Je,hg/Je]:Ie?[Jf/Ie,$e/Ie]:ze?[Jb/ze,sc/ze]:[NaN,NaN];Jb=sc=ze=Jf=$e=Ie=Kf=hg=Je=0;return a}};kc.prototype={_radius:4.5,pointRadius:function(a){return this._radius=a,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(a,b){switch(this._point){case 0:this._context.moveTo(a,b);this._point=1;break;case 1:this._context.lineTo(a,b);break;
default:this._context.moveTo(a+this._radius,b),this._context.arc(a,b,this._radius,0,bc)}},result:G};var af=new e,cf,Nf,uf,Of,wf,xf={point:G,lineStart:function(){xf.point=Vc},lineEnd:function(){cf&&Nc(Nf,uf);xf.point=G},polygonStart:function(){cf=!0},polygonEnd:function(){cf=null},result:function(){var a=+af;af.reset();return a}};Cc.prototype={_radius:4.5,_circle:rc(4.5),pointRadius:function(a){(a=+a)!==this._radius&&(this._radius=a,this._circle=null);return this},polygonStart:function(){this._line=
0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(a,b){switch(this._point){case 0:this._string.push("M",a,",",b);this._point=1;break;case 1:this._string.push("L",a,",",b);break;default:null==this._circle&&(this._circle=rc(this._radius)),this._string.push("M",a,",",b,this._circle)}},result:function(){if(this._string.length){var a=this._string.join("");this._string=[];return a}return null}};
Kb.prototype={constructor:Kb,point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Lg=V(30*Ia),yf=dc({point:function(a,b){this.stream.point(a*Ia,b*Ia)}}),ee=Hd(function(a){return xb(2/(1+a))});ee.invert=ic(function(a){return 2*t(a/2)});var zf=Hd(function(a){return(a=w(a))&&a/Ca(a)});
zf.invert=ic(function(a){return a});gd.invert=function(a,b){return[a,2*eb(ib(b))-vb]};md.invert=md;var Af=xb(3)/2;Pc.invert=function(a,b){for(var c=b,f=c*c,d=f*f*f,e=0,n;12>e&&!(n=c*(1.340264+-.081106*f+d*(8.93E-4+.003796*f))-b,f=1.340264+3*-.081106*f+d*(7*8.93E-4+.034164*f),c-=n/=f,f=c*c,d=f*f*f,1E-12>Ha(n));++e);return[Af*a*(1.340264+3*-.081106*f+d*(7*8.93E-4+.034164*f))/V(c),t(Ca(c)/Af)]};Kd.invert=ic(eb);xd.invert=function(a,b){var c=b,f=25;do{var d=c*c;var e=d*d;c-=e=(c*(1.007226+d*(.015085+
e*(-.044475+.028874*d-.005916*e)))-b)/(1.007226+d*(.045255+e*(-.311325+.259866*d-.005916*11*e)))}while(1E-6<Ha(e)&&0<--f);return[a/(.8707+(d=c*c)*(-.131979+d*(-.013791+d*d*d*(.003971-.001529*d)))),c]};Ld.invert=ic(t);Md.invert=ic(function(a){return 2*eb(a)});Nd.invert=function(a,b){return[-b,2*eb(ib(a))-vb]};a.geoAlbers=ke;a.geoAlbersUsa=function(){function a(a){var b=a[0];a=a[1];return m=null,(e.point(b,a),m)||(g.point(b,a),m)||(h.point(b,a),m)}function b(){c=f=null;return a}var c,f,d=ke(),e,n=ld().rotate([154,
0]).center([-2,58.5]).parallels([55,65]),g,l=ld().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h,m,A={point:function(a,b){m=[a,b]}};a.invert=function(a){var b=d.scale(),c=d.translate(),f=(a[0]-c[0])/b;b=(a[1]-c[1])/b;return(.12<=b&&.234>b&&-.425<=f&&-.214>f?n:.166<=b&&.234>b&&-.214<=f&&-.115>f?l:d).invert(a)};a.stream=function(a){return c&&f===a?c:c=Gd([d.stream(f=a),n.stream(a),l.stream(a)])};a.precision=function(a){if(!arguments.length)return d.precision();d.precision(a);n.precision(a);l.precision(a);
return b()};a.scale=function(b){if(!arguments.length)return d.scale();d.scale(b);n.scale(.35*b);l.scale(b);return a.translate(d.translate())};a.translate=function(a){if(!arguments.length)return d.translate();var c=d.scale(),f=+a[0],m=+a[1];e=d.translate(a).clipExtent([[f-.455*c,m-.238*c],[f+.455*c,m+.238*c]]).stream(A);g=n.translate([f-.307*c,m+.201*c]).clipExtent([[f-.425*c+1E-6,m+.12*c+1E-6],[f-.214*c-1E-6,m+.234*c-1E-6]]).stream(A);h=l.translate([f-.205*c,m+.212*c]).clipExtent([[f-.214*c+1E-6,
m+.166*c+1E-6],[f-.115*c-1E-6,m+.234*c-1E-6]]).stream(A);return b()};a.fitExtent=function(b,c){return hc(a,b,c)};a.fitSize=function(b,c){return hc(a,[[0,0],b],c)};a.fitWidth=function(b,c){return lc(a,b,c)};a.fitHeight=function(b,c){return mc(a,b,c)};return a.scale(1070)};a.geoArea=function(a){ca.reset();F(a,La);return 2*ca};a.geoAzimuthalEqualArea=function(){return vc(ee).scale(124.75).clipAngle(179.999)};a.geoAzimuthalEqualAreaRaw=ee;a.geoAzimuthalEquidistant=function(){return vc(zf).scale(79.4188).clipAngle(179.999)};
a.geoAzimuthalEquidistantRaw=zf;a.geoBounds=function(a){var b,c,f;Aa=Ga=-(Fa=bb=Infinity);Ta=[];F(a,Da);if(b=Ta.length){Ta.sort(g);a=1;var e=Ta[0];for(c=[e];a<b;++a){var n=Ta[a];d(e,n[0])||d(e,n[1])?(qa(e[0],n[1])>qa(e[0],e[1])&&(e[1]=n[1]),qa(n[0],e[1])>qa(e[0],e[1])&&(e[0]=n[0])):c.push(e=n)}var l=-Infinity;b=c.length-1;a=0;for(e=c[b];a<=b;e=n,++a)n=c[a],(f=qa(e[1],n[0]))>l&&(l=f,Fa=n[0],Ga=e[1])}Ta=Z=null;return Infinity===Fa||Infinity===bb?[[NaN,NaN],[NaN,NaN]]:[[Fa,bb],[Ga,Aa]]};a.geoCentroid=
function(a){qd=Ac=ne=Jc=Kc=hd=Wc=zd=Xc=Vd=Lc=0;F(a,Xb);a=Xc;var b=Vd,c=Lc,f=a*a+b*b+c*c;return 1E-12>f&&(a=hd,b=Wc,c=zd,1E-6>Ac&&(a=ne,b=Jc,c=Kc),f=a*a+b*b+c*c,1E-12>f)?[NaN,NaN]:[Nb(b,a)*Gb,t(c/xb(f))*Gb]};a.geoCircle=function(){function a(){var a=b.apply(this,arguments),g=c.apply(this,arguments)*Ia,h=f.apply(this,arguments)*Ia;d=[];e=l(-a[0]*Ia,-a[1]*Ia,0).invert;Ua(n,g,h,1);a={type:"Polygon",coordinates:[d]};d=e=null;return a}var b=Ma([0,0]),c=Ma(90),f=Ma(6),d,e,n={point:function(a,b){d.push(a=
e(a,b));a[0]*=Gb;a[1]*=Gb}};a.center=function(c){return arguments.length?(b="function"===typeof c?c:Ma([+c[0],+c[1]]),a):b};a.radius=function(b){return arguments.length?(c="function"===typeof b?b:Ma(+b),a):c};a.precision=function(b){return arguments.length?(f="function"===typeof b?b:Ma(+b),a):f};return a};a.geoClipAntimeridian=Pd;a.geoClipCircle=pa;a.geoClipExtent=function(){var a=0,b=0,c=960,f=500,d,e,n;return n={stream:function(n){return d&&e===n?d:d=Rb(a,b,c,f)(e=n)},extent:function(g){return arguments.length?
(a=+g[0][0],b=+g[0][1],c=+g[1][0],f=+g[1][1],d=e=null,n):[[a,b],[c,f]]}}};a.geoClipRectangle=Rb;a.geoConicConformal=function(){return $c(vd).scale(109.5).parallels([30,30])};a.geoConicConformalRaw=vd;a.geoConicEqualArea=ld;a.geoConicEqualAreaRaw=lb;a.geoConicEquidistant=function(){return $c(Jd).scale(131.154).center([0,13.9389])};a.geoConicEquidistantRaw=Jd;a.geoContains=function(a,b){return(a&&yb.hasOwnProperty(a.type)?yb[a.type]:$a)(a,b)};a.geoDistance=Db;a.geoEqualEarth=function(){return vc(Pc).scale(177.158)};
a.geoEqualEarthRaw=Pc;a.geoEquirectangular=function(){return vc(md).scale(152.63)};a.geoEquirectangularRaw=md;a.geoGnomonic=function(){return vc(Kd).scale(144.049).clipAngle(60)};a.geoGnomonicRaw=Kd;a.geoGraticule=xa;a.geoGraticule10=function(){return xa()()};a.geoIdentity=function(){function a(){k=K=null;return v}var b=1,c=0,f=0,d=1,e=1,n=Fb,g=null,l,h,m,A=Fb,k,K,v;return v={stream:function(a){return k&&K===a?k:k=n(A(K=a))},postclip:function(b){return arguments.length?(A=b,g=l=h=m=null,a()):A},clipExtent:function(b){return arguments.length?
(A=null==b?(g=l=h=m=null,Fb):Rb(g=+b[0][0],l=+b[0][1],h=+b[1][0],m=+b[1][1]),a()):null==g?null:[[g,l],[h,m]]},scale:function(g){return arguments.length?(n=wd((b=+g)*d,b*e,c,f),a()):b},translate:function(g){return arguments.length?(n=wd(b*d,b*e,c=+g[0],f=+g[1]),a()):[c,f]},reflectX:function(g){return arguments.length?(n=wd(b*(d=g?-1:1),b*e,c,f),a()):0>d},reflectY:function(g){return arguments.length?(n=wd(b*d,b*(e=g?-1:1),c,f),a()):0>e},fitExtent:function(a,b){return hc(v,a,b)},fitSize:function(a,b){return hc(v,
[[0,0],a],b)},fitWidth:function(a,b){return lc(v,a,b)},fitHeight:function(a,b){return mc(v,a,b)}}};a.geoInterpolate=function(a,b){var c=a[0]*Ia,f=a[1]*Ia;a=b[0]*Ia;b=b[1]*Ia;var d=V(f),e=Ca(f),n=V(b),g=Ca(b),l=d*V(c),h=d*Ca(c),m=n*V(a),A=n*Ca(a),k=2*t(xb(C(b-f)+d*n*C(a-c))),K=Ca(k);a=k?function(a){var b=Ca(a*=k)/K,c=Ca(k-a)/K;a=c*l+b*m;var f=c*h+b*A;b=c*e+b*g;return[Nb(f,a)*Gb,Nb(b,xb(a*a+f*f))*Gb]}:function(){return[c*Gb,f*Gb]};a.distance=k;return a};a.geoLength=Cb;a.geoMercator=function(){return Id(gd).scale(961/
bc)};a.geoMercatorRaw=gd;a.geoNaturalEarth1=function(){return vc(xd).scale(175.295)};a.geoNaturalEarth1Raw=xd;a.geoOrthographic=function(){return vc(Ld).scale(249.5).clipAngle(90.000001)};a.geoOrthographicRaw=Ld;a.geoPath=function(a,b){function c(a){a&&("function"===typeof f&&e.pointRadius(+f.apply(this,arguments)),F(a,d(e)));return e.result()}var f=4.5,d,e;c.area=function(a){F(a,d(K));return K.result()};c.measure=function(a){F(a,d(xf));return xf.result()};c.bounds=function(a){F(a,d(y));return y.result()};
c.centroid=function(a){F(a,d(id));return id.result()};c.projection=function(b){return arguments.length?(d=null==b?(a=null,Fb):(a=b).stream,c):a};c.context=function(a){if(!arguments.length)return b;e=null==a?(b=null,new Cc):new kc(b=a);"function"!==typeof f&&e.pointRadius(f);return c};c.pointRadius=function(a){if(!arguments.length)return f;f="function"===typeof a?a:(e.pointRadius(+a),+a);return c};return c.projection(a).context(b)};a.geoProjection=vc;a.geoProjectionMutator=kd;a.geoRotation=E;a.geoStereographic=
function(){return vc(Md).scale(250).clipAngle(142)};a.geoStereographicRaw=Md;a.geoStream=F;a.geoTransform=function(a){return{stream:dc(a)}};a.geoTransverseMercator=function(){var a=Id(Nd),b=a.center,c=a.rotate;a.center=function(a){return arguments.length?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])};a.rotate=function(a){return arguments.length?c([a[0],a[1],2<a.length?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])};return c([0,0,90]).scale(159.155)};a.geoTransverseMercatorRaw=Nd;Object.defineProperty(a,"__esModule",
{value:!0})})};
shadow$provide[48]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(47),w(32)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-array"],b):b(a.d3=a.d3||{},a.d3,a.d3)})(this,function(a,b,e){function u(a){return 1<a?ra:-1>a?-ra:Math.asin(a)}function w(a){return 1<a?0:-1>a?Y:Math.acos(a)}function t(a){return 0<a?Math.sqrt(a):0}function C(a){return(zc(a)-zc(-a))/2}function G(a){return(zc(a)+zc(-a))/2}function P(a){function b(a,b){var c=X(a),f=X(b);
b=ca(b);c*=f;c=-((1-c?Hb((1+c)/2)/(1-c):-.5)+d/(1+c));return[c*f*ca(a),c*b]}var c=Za(a/2),d=2*Hb(X(a/2))/(c*c);b.invert=function(b,c){var f=t(b*b+c*c),e=-a/2,n=50;if(!f)return[0,0];do{var g=e/2;var l=X(g);var h=ca(g);g=Za(g);var m=Hb(1/l);e-=l=(2/g*m-d*g-f)/(-m/(h*h)+1-d/(2*l*l))}while(1E-6<V(l)&&0<--n);n=ca(e);return[ib(b*n,f*X(e)),u(c*n/f)]};return b}function ea(a,b){var c=X(b);var d=(d=w(c*X(a/=2)))?d/Math.sin(d):1;return[2*c*ca(a)*d,ca(b)*d]}function T(a){function b(a,b){var n=X(b),l=X(a/=2);
return[(1+n)*ca(a),(f*b>-ib(l,e)-.001?0:10*-f)+g+ca(b)*d-(1+n)*c*l]}var c=ca(a),d=X(a),f=0<=a?1:-1,e=Za(f*a),g=(1+c-d)/2;b.invert=function(a,b){var n=0,l=0,h=50;do{var m=X(n),A=ca(n),k=X(l),K=ca(l),v=1+k,Z=v*A-a,y=g+K*d-v*c*m-b,p=v*m/2,ta=-A*K;A=c*v*A/2;k=d*k+c*m*K;m=ta*A-k*p;ta=(y*ta-Z*k)/m/2;Z=(Z*A-y*p)/m;n-=ta;l-=Z}while((1E-6<V(ta)||1E-6<V(Z))&&0<--h);return f*l>-ib(X(n),e)-.001?[2*n,l]:null};return b}function F(a,b){b=Za(b/2);var c=t(1-b*b),d=1+c*X(a/=2);a=ca(a)*c/d;b/=d;d=a*a;c=b*b;return[4/
3*a*(3+d-3*c),4/3*b*(3+3*d-c)]}function W(a,b){var c=V(b);return c<Pb?[a,Hb(Za(Pb+b/2))]:[a*X(c)*(2*La-1/ca(c)),Ka(b)*(2*La*(c-Pb)-Hb(Za(c/2)))]}function r(a){function c(a,c){c=b.geoAzimuthalEquidistantRaw(a,c);if(V(a)>ra){a=ib(c[1],c[0]);var f=t(c[0]*c[0]+c[1]*c[1]),e=d*Ud((a-ra)/d)+ra,g=ib(ca(a-=e),2-X(a));a=e+u(Y/f*ca(g))-g;c[0]=f*X(a);c[1]=f*ca(a)}return c}var d=2*Y/a;c.invert=function(a,c){var f=t(a*a+c*c);if(f>ra){var e=ib(c,a);a=d*Ud((e-ra)/d)+ra;c=e>a?-1:1;e=f*X(a-e);e=1/Za(c*w((e-Y)/t(Y*
(Y-2*e)+f*f)));e=a+2*wb((e+c*t(e*e-3))/3);a=f*X(e);c=f*ca(e)}return b.geoAzimuthalEquidistantRaw.invert(a,c)};return c}function S(a,c){function d(d,f){d=b.geoAzimuthalEqualAreaRaw(d/c,f);d[0]*=a;return d}2>arguments.length&&(c=a);if(1===c)return b.geoAzimuthalEqualAreaRaw;if(Infinity===c)return z;d.invert=function(d,f){d=b.geoAzimuthalEqualAreaRaw.invert(d/a,f);d[0]*=c;return d};return d}function z(a,b){return[a*X(b)/X(b/=2),2*ca(b)]}function J(a,b,c){var d=100;c=void 0===c?0:+c;b=+b;do{var f=a(c);
var e=a(c+1E-6);f===e&&(e=f+1E-6);c-=f=-1E-6*(f-b)/(f-e)}while(0<d--&&1E-6<V(f));return 0>d?NaN:c}function p(a,b,c){void 0===b&&(b=40);void 0===c&&(c=1E-12);return function(d,f,e,g){e=void 0===e?0:+e;g=void 0===g?0:+g;for(var n=0;n<b;n++){var l=a(e,g),h=l[0]-d,m=l[1]-f;if(V(h)<c&&V(m)<c)break;var k=h*h+m*m;if(k>A)e-=v/=2,g-=y/=2;else{var A=k;k=(0<e?-1:1)*c;var K=(0<g?-1:1)*c;var v=a(e+k,g);var Z=a(e,g+K);var y=(v[0]-l[0])/k;k=(v[1]-l[1])/k;v=(Z[0]-l[0])/K;l=(Z[1]-l[1])/K;K=l*y-k*v;K=(.5>V(K)?.5:1)/
K;v=(m*v-h*l)*K;y=(h*k-m*y)*K;e+=v;g+=y;if(V(v)<c&&V(y)<c)break}}return[e,g]}}function k(){function a(a,c){if(-1.4>a+c){var f=(a-c+1.6)*(a+c+1.4)/8;a+=f;c-=.8*f*ca(c+Y/2)}f=b(a,c);a=(1-X(a*c))/12;0>f[1]&&(f[0]*=1+a);0<f[1]&&(f[1]*=1+a/1.5*f[0]*f[0]);return f}var b=S(1.68,2);a.invert=p(a);return a}function N(a,b){a*=ca(b);var c=30,d;do b-=d=(b+ca(b)-a)/(1+X(b));while(1E-6<V(d)&&0<--c);return b/2}function D(a,b,c){function d(f,d){return[a*f*X(d=N(c,d)),b*ca(d)]}d.invert=function(f,d){return d=u(d/b),
[f/(a*X(d)),u((2*d+ca(2*d))/c)]};return d}function O(a,b){var c=N(Y,b);return[2.00276*a/(1/X(b)+1.11072/X(c)),(b+La*ca(c))/2.00276]}function c(a){var c=0,d=b.geoProjectionMutator(a);a=d(c);a.parallel=function(a){return arguments.length?d(c=a*Aa):c*Ga};return a}function h(a,b){return[a*X(b),b]}function ba(a){function b(b,f){var d=c+a-f;b=d?b*X(f)/d:d;return[d*ca(b),c-d*X(b)]}if(!a)return h;var c=1/Za(a);b.invert=function(b,f){var d=t(b*b+(f=c-f)*f),e=c+a-d;return[d/X(e)*ib(b,f),e]};return b}function L(a){function b(b,
c){b=(c=ra-c)?b*a*ca(c)/c:c;return[c*ca(b)/a,ra-c*X(b)]}b.invert=function(b,c){b*=a;var f=ra-c;c=t(b*b+f*f);b=ib(b,f);return[(c?c/ca(c):1)*b/a,ra-c]};return b}function ma(a,b,c,d,f,e){var n=X(e);if(1<V(a)||1<V(e))a=w(c*f+b*d*n);else{a=ca(a/2);var g=ca(e/2);a=2*u(t(a*a+b*d*g*g))}return 1E-6<V(a)?[a,ib(d*ca(e),b*f-c*d*n)]:[0,0]}function B(a,b,c){return w((a*a+b*b-c*c)/(2*a*b))}function ia(a,b,c){var d=[[a[0],a[1],ca(a[1]),X(a[1])],[b[0],b[1],ca(b[1]),X(b[1])],[c[0],c[1],ca(c[1]),X(c[1])]];a=d[2];for(c=
0;3>c;++c,a=b)b=d[c],a.v=ma(b[1]-a[1],a[3],a[2],b[3],b[2],b[0]-a[0]),a.point=[0,0];a=B(d[0].v[0],d[2].v[0],d[1].v[0]);var f=B(d[0].v[0],d[1].v[0],d[2].v[0]),e=Y-a;d[2].point[1]=0;d[0].point[0]=-(d[1].point[0]=d[0].v[0]/2);var g=[d[2].point[0]=d[0].point[0]+d[2].v[0]*X(a),2*(d[0].point[1]=d[1].point[1]=d[2].v[0]*ca(a))];return function(a,b){var c=ca(b),n=X(b),l=Array(3),h;for(h=0;3>h;++h){var m=d[h];l[h]=ma(b-m[1],m[3],m[2],n,c,a-m[0]);if(!l[h][0])return m.point;var k=l[h];m=l[h][1]-m.v[1];m-=2*Y*
Ca((m+Y)/(2*Y));k[1]=m}a=g.slice();for(h=0;3>h;++h)b=B(d[h].v[0],l[h][0],l[2==h?0:h+1][0]),0>l[h][1]&&(b=-b),h?1==h?(b=f-b,a[0]-=l[h][0]*X(b),a[1]-=l[h][0]*ca(b)):(b=e-b,a[0]+=l[h][0]*X(b),a[1]+=l[h][0]*ca(b)):(a[0]+=l[h][0]*X(b),a[1]-=l[h][0]*ca(b));a[0]/=3;a[1]/=3;return a}}function va(a){return a[0]*=Aa,a[1]*=Aa,a}function qa(a,c,d){var e=b.geoCentroid({type:"MultiPoint",coordinates:[a,c,d]});e=[-e[0],-e[1]];var f=b.geoRotation(e);a=ia(va(f(a)),va(f(c)),va(f(d)));a.invert=p(a);a=b.geoProjection(a).rotate(e);
var n=a.center;delete a.rotate;a.center=function(a){return arguments.length?n(f(a)):f.invert(n())};return a.clipAngle(90)}function g(a,b){b=t(1-ca(b));return[2/Fa*a*b,Fa*(1-b)]}function d(a){function b(a,b){return[a,(a?a/ca(a):1)*(ca(b)*X(a)-c*X(b))]}var c=Za(a);b.invert=c?function(a,b){a&&(b*=ca(a)/a);var f=X(a);return[a,2*ib(t(f*f+c*c-b*b)-f,c-b)]}:function(a,b){return[a,u(a?b*Za(a)/a:b)]};return b}function M(a,b){return[wc*a*(2*X(2*b/3)-1)/Fa,wc*Fa*ca(b/3)]}function Q(a){function b(a,b){return[a*
c,ca(b)/c]}var c=X(a);b.invert=function(a,b){return[a/c,u(b*c)]};return b}function la(a){function b(a,b){return[a*c,(1+c)*Za(b/2)]}var c=X(a);b.invert=function(a,b){return[a/c,2*wb(b/(1+c))]};return b}function I(a,b){var c=t(8/(3*Y));return[c*a*(1-V(b)/Y),c*b]}function ha(a,b){var c=t(4-3*ca(V(b)));return[2/t(6*Y)*a*c,Ka(b)*t(2*Y/3)*(2-c)]}function aa(a,b){var c=t(Y*(4+Y));return[2/c*a*(1+t(1-4*b*b/(Y*Y))),4/c*b]}function sa(a,b){var c=(2+ra)*ca(b);b/=2;for(var d=0,f=Infinity;10>d&&1E-6<V(f);d++)f=
X(b),b-=f=(b+ca(b)*(f+2)-c)/(2*f*(1+f));return[2/t(Y*(4+Y))*a*(1+X(b)),2*t(Y/(4+Y))*ca(b)]}function ya(a,b){return[a*(1+X(b))/t(2+Y),2*b/t(2+Y)]}function Na(a,b){for(var c=(1+ra)*ca(b),d=0,f=Infinity;10>d&&1E-6<V(f);d++)b-=f=(b+ca(b)-c)/(1+X(b));c=t(2+Y);return[a*(1+X(b))/c,2*b/c]}function Ea(a,b){var c=ca(a/=2);a=X(a);var d=t(X(b)),f=X(b/=2);b=ca(b)/(f+La*a*d);var e=t(2/(1+b*b));c=t((La*f+(a+c)*d)/(La*f+(a-c)*d));return[Ta*(e*(c-1/c)-2*Hb(c)),Ta*(e*b*(c+1/c)-2*wb(b))]}function Ma(a,b){b=Za(b/2);
return[a*Z*t(1-b*b),(1+Z)*b]}function U(a,b){var c=b/2,d=X(c);return[2*a/Fa*X(b)*d*d,Fa*Za(c)]}function Ba(a){function b(b,c){var d=X(c),e=ca(c);return[d/(f+a*d)*b,f*c+a*e]}function c(a,c){a=b(a,c);return[a[0]*l,a[1]/l]}function d(a){return c(0,a)[1]}var f=1-a,e=b(Y,0)[0]-b(-Y,0)[0],g=b(0,ra)[1]-b(0,-ra)[1],l=t(2*g/e);c.invert=function(b,c){c=J(d,c);return[b/l*(a+f/X(c)),c]};return c}function l(a){return[2*a[0],2*wb(ca(a[1]*Aa))*Ga]}function v(a,c){function d(c,d){c=b.geoAzimuthalEquidistantRaw(c,
d);d=c[0];var g=c[1],n=d*d+g*g;if(n>f){var l=t(n);d=ib(g,d);n=e*Ud(d/e);g=d-n;var h=a*X(g),k=(a*ca(g)-g*ca(h))/(ra-h),A=x(g,k),v=(Y-a)/m(A,h,Y);d=l;var K=50,Z;do d-=Z=(a+m(A,h,d)*v-l)/(A(d)*v);while(1E-6<V(Z)&&0<--K);g*=ca(d);d<ra&&(g-=k*(d-ra));l=ca(n);n=X(n);c[0]=d*n-g*l;c[1]=d*l+g*n}return c}var e=2*Y/c,f=a*a;d.invert=function(c,d){var g=c*c+d*d;if(g>f){var n=t(g);d=ib(d,c);g=e*Ud(d/e);d-=g;c=n*X(d);d=n*ca(d);n=c-ra;for(var l=ca(c),h=d/l,k=c<ra?Infinity:0,A=10;;){var v=a*ca(h),K=a*X(h),Z=ca(K),
p=ra-K,y=(v-h*Z)/p,r=x(h,y);if(1E-12>V(k)||!--A)break;h-=k=(h*l-y*n-d)/(l-2*n*(p*(K+h*v*X(K)-Z)-v*(v-h*Z))/(p*p))}n=a+m(r,K,c)*(Y-a)/m(r,K,Y);d=g+h;c=n*X(d);d=n*ca(d)}return b.geoAzimuthalEquidistantRaw.invert(c,d)};return d}function x(a,b){return function(c){var d=a*X(c);c<ra&&(d-=b);return t(1+d*d)}}function m(a,b,c){var d=(c-b)/50;c=a(b)+a(c);for(var f=1;50>f;++f)c+=2*a(b+=d);return.5*c*d}function E(a,b,c,d,f,e,g,l){function n(n,h){if(!h)return[a*n/Y,0];var m=h*h,k=a+m*(b+m*(c+m*d)),A=h*(f-1+m*
(e-l+m*g));A=(k*k+A*A)/(2*A);n=n*u(k/A)/Y;return[A*ca(n),h*(1+m*l)+A*(1-X(n))]}8>arguments.length&&(l=0);n.invert=function(n,h){var m=Y*n/a,k=h,A=50;do{var v=k*k,K=a+v*(b+v*(c+v*d)),Z=k*(f-1+v*(e-l+v*g)),p=K*K+Z*Z,y=2*Z;var x=p/y;var r=x*x;var ta=u(K/x)/Y;var Da=m*ta,B=K*K,E=(2*b+v*(4*c+6*v*d))*k,L=f+v*(3*e+5*v*g);Z=(2*(K*E+Z*(L-1))*y-2*p*(L-1))/(y*y);p=X(Da);L=ca(Da);y=x*p;Da=x*L;r=m/Y*(1/t(1-B/r))*(E*x-K*Z)/r;K=Da-n;v=k*(1+v*l)+x-y-h;x=Z*L+y*r;B=y*ta;Z=1+Z-(Z*p-Da*r);ta*=Da;p=x*ta-Z*B;if(!p)break;
m-=x=(v*x-K*Z)/p;k-=ta=(K*ta-v*B)/p}while((1E-6<V(x)||1E-6<V(ta))&&0<--A);return[m,k]};return n}function Ua(a,b){var c=a*a,d=b*b;return[a*(1-.162388*d)*(.87-9.52426E-4*c*c),b*(1+d/12)]}function da(a){function b(b,d){var f=0<b?-.5:.5;b=a(b+f*Y,d);b[0]-=f*c;return b}var c=a(ra,0)[0]-a(-ra,0)[0];a.invert&&(b.invert=function(b,d){var f=0<b?-.5:.5;b=a.invert(b+f*c,d);f=b[0]-f*Y;f<-Y?f+=2*Y:f>Y&&(f-=2*Y);b[0]=f;return b});return b}function oa(a,b){var c=Ka(a),d=Ka(b),f=X(b),e=X(a)*f;a=ca(a)*f;b=ca(d*b);
a=V(ib(a,b));b=u(e);1E-6<V(a-ra)&&(a%=ra);e=Wa(a>Y/4?ra-a:a,b);a>Y/4&&(b=e[0],e[0]=-e[1],e[1]=-b);return e[0]*=c,e[1]*=-d,e}function Wa(a,b){if(b===ra)return[0,0];var c=ca(b),d=c*c,f=d*d,e=1+f,g=1+3*f,l=1-f,h=u(1/t(e)),m=l+d*e*h,k=(1-c)/m,v=t(k),A=k*e,K=t(A),Z=v*l;if(0===a)return[0,-(Z+d*K)];var p=X(b),x=1/p,r=2*c*p;h=(-m*p-(1-c)*(-3*d+h*g)*r)/(m*m);c=-x*r;e=-x*(d*e*h+k*g*r);l=-2*x*(.5*h/v*l-2*d*v*r);v=4*a/Y;if(a>.222*Y||b<Y/4&&a>.175*Y){b=(Z+d*t(A*(1+f)-Z*Z))/(1+f);if(a>Y/4)return[b,b];f=b;x=.5*
b;b=.5*(x+f);a=50;do{r=t(A-b*b);r=b*(l+c*r)+e*u(b/K)-v;if(!r)break;0>r?x=b:f=b;b=.5*(x+f)}while(1E-6<V(f-x)&&0<--a)}else{b=1E-6;a=25;do r=b*b,f=t(A-r),g=l+c*f,x=b*g+e*u(b/K)-v,r=g+(e-c*r)/f,b-=f=f?x/r:0;while(1E-6<V(f)&&0<--a)}return[b,-Z-d*t(A-b*b)]}function Qa(a,b){if(1E-6>b){var c=ca(a);var d=X(a);var f=b*(a-c*d)/4;return[c-f*d,d+f*c,1-b*c*c/2,a-f]}if(.999999<=b){f=(1-b)/4;d=G(a);c=zc(2*a);c=(c-1)/(c+1);b=1/d;var e=d*C(a);return[c+f*(e-a)/(d*d),b-f*c*b*(e-a),b+f*c*b*(e+a),2*wb(zc(a))-ra+f*(e-a)/
d]}var g=[1,0,0,0,0,0,0,0,0],l=[t(b),0,0,0,0,0,0,0,0],h=0;d=t(1-b);for(e=1;1E-6<V(l[h]/g[h])&&8>h;)f=g[h++],l[h]=(f-d)/2,g[h]=(f+d)/2,d=t(f*d),e*=2;b=e*g[h]*a;do c=l[h]*ca(d=b)/g[h],b=(u(c)+b)/2;while(--h);return[ca(b),c=X(b),c/X(b-d),b]}function wa(a,b){if(!b)return a;if(1===b)return Hb(Za(a/2+Pb));var c=1,d=t(1-b),f=t(b);for(b=0;1E-6<V(f);b++)a%Y?(f=wb(d*Za(a)/c),0>f&&(f+=Y),a+=f+~~(a/Y)*Y):a+=a,f=(c+d)/2,d=t(c*d),f=((c=f)-d)/2;return a/(Dc(2,b)*c)}function fa(a,b){var c=(La-1)/(La+1),d=t(1-c*c),
f=wa(ra,d*d),e=Hb(Za(Y/4+V(b)/2));e=zc(-1*e)/t(c);c=e*X(-1*a);var g=e*ca(-1*a);a=c*c;e=g+1;g=1-a-g*g;a=[.5*((0<=c?ra:-ra)-ib(g,2*c)),-.25*Hb(g*g+4*a)+.5*Hb(e*e+a)];c=a[0];a=a[1];d*=d;e=V(c);g=V(a);g=C(g);if(e){var l=1/ca(e);e=1/(Za(e)*Za(e));g=-(e+d*g*g*l*l-1+d);g=(-g+t(g*g-4*(d-1)*e))/2;d=[wa(wb(1/t(g)),d)*Ka(c),wa(wb(t((g/e-1)/d)),1-d)*Ka(a)]}else d=[0,wa(wb(g),1-d)*Ka(a)];return[-d[1],(0<=b?1:-1)*(.5*f-d[0])]}function cb(a){function b(a,b){var e=f(a,b);a=e[0];b=e[1];e=ca(b);b=X(b);var g=X(a),n=
w(c*e+d*b*g),l=ca(n);n=1E-6<V(l)?n/l:1;return[n*d*ca(a),(V(a)>ra?n:-n)*(c*b-d*e*g)]}var c=ca(a),d=X(a),f=kb(a);f.invert=kb(-a);b.invert=function(a,b){var d=t(a*a+b*b),e=-ca(d),g=X(d),n=d*g,l=-b*e,h=d*c,m=t(n*n+l*l-h*h);n=ib(n*h+l*m,l*h-n*m);a=(d>ra?-1:1)*ib(a*e,d*X(n)*g+b*ca(n)*e);return f.invert(a,n)};return b}function kb(a){var b=ca(a),c=X(a);return function(a,d){var f=X(d),e=X(a)*f;a=ca(a)*f;d=ca(d);return[ib(a,e*c-d*b),u(d*c+e*b)]}}function fb(a){function b(b,n){var v=V(n);if(v>c){var A=tb(a-
1,xb(0,Ca((b+Y)/h)));b+=Y*(a-1)/a-A*h;b=g(b,v);b[0]=b[0]*bb/d-bb*(a-1)/(2*a)+A*bb/a;b[1]=f+4*(b[1]-e)*l/bb;0>n&&(b[1]=-b[1])}else b=Kc(b,n);b[0]*=m;b[1]/=k;return b}var c=Jc*Aa,d=g(Y,c)[0]-g(-Y,c)[0],f=Kc(0,c)[1],e=g(0,c)[1],l=Fa-e,h=bb/a,m=4/bb,k=f+l*l*4/bb;b.invert=function(b,c){b/=m;c*=k;var n=V(c);if(n>f){var v=tb(a-1,xb(0,Ca((b+Y)/h)));b=(b+Y*(a-1)/a-v*h)*d/bb;b=g.invert(b,.25*(n-f)*bb/l+e);b[0]-=Y*(a-1)/a-v*h;0>c&&(b[1]=-b[1]);return b}return Kc.invert(b,c)};return b}function qb(a,b){return[a,
b&1?89.999999:Jc]}function Ja(a,b){return[a,b&1?-89.999999:-Jc]}function pa(a){return[.999999*a[0],a[1]]}function ub(a){var b=[].concat(e.range(-180,180+a/2,a).map(qb),e.range(180,-180-a/2,-a).map(Ja));return{type:"Polygon",coordinates:[180===a?b.map(pa):b]}}function Rb(a){function b(b,d){var n=1-ca(d);if(n&&2>n){var k=ra-d,v=25;do{var A=ca(k);var Z=X(k);d=f+ib(A,c-Z);Z=1+m-2*c*Z;k-=A=(k-h*f-c*A+Z*d-.5*n*g)/(2*c*A*d)}while(1E-12<V(A)&&0<--v);n=e*t(Z);b=b*d/Y}else n=e*(a+n),b=b*f/Y;return[n*ca(b),
l-n*X(b)]}var c=1+a,d=ca(1/c),f=u(d),e=2*t(Y/(g=Y+4*f*c)),g,l=.5*e*(c+t(a*(2+a))),h=a*a,m=c*c;b.invert=function(a,b){var d=a*a+(b-=l)*b;b=(1+m-d/(e*e))/(2*c);var n=w(b),k=ca(n),v=f+ib(k,c-b);return[u(a/t(d))*Y/v,u(1-2*(n-h*f-c*k+(1+m-2*c*b)*v)/g)]};return b}function Va(a,b){return-.7109889596207567<b?(a=Qc(a,b),a[1]+=.0528035274542,a):h(a,b)}function Bb(a,b){return.7109889596207567<V(b)?(a=Qc(a,b),a[1]-=0<b?.0528035274542:-.0528035274542,a):h(a,b)}function ka(a,b,c,d){function f(c){return t(1+a*X(2*
c)+b*X(4*c))}function e(d){d*=c;return(2*d+(1+a-b/2)*ca(2*d)+(a+b)/2*ca(4*d)+b/2*ca(6*d))/c}function g(a){return f(a)*ca(a)}var l=t(4*Y/(2*c+(1+a-b/2)*ca(2*c)+(a+b)/2*ca(4*c)+b/2*ca(6*c))),h=t(d*ca(c)*t((1+a*X(2*c)+b*X(4*c))/(1+a+b))),m=c*e(1),k=function(a,b){var d=c*J(e,m*ca(b)/c,b/Y);isNaN(d)&&(d=c*Ka(b));b=l*f(d);return[b*h*a/Y*X(d),b/h*ca(d)]};k.invert=function(a,b){b=J(g,b*h/l);return[a*Y/(X(b)*l*h*f(b)),u(c*e(b/c)/m)]};0===c&&(l=t(d/Y),k=function(a,b){return[a*l,ca(b)/l]},k.invert=function(a,
b){return[a/l,u(b*l)]});return k}function Cb(a,b,c,d,f,e,g,l,h,m,k){if(k.nanEncountered)return NaN;var n=c-b;var v=a(b+.25*n);var A=a(c-.25*n);if(isNaN(v))k.nanEncountered=!0;else if(isNaN(A))k.nanEncountered=!0;else{var Z=n*(d+4*v+f)/12;var K=n*(f+4*A+e)/12;var p=Z+K;g=(p-g)/15;if(m>h)return k.maxDepthCount++,p+g;if(Math.abs(g)<l)return p+g;n=b+.5*n;b=Cb(a,b,n,d,v,f,Z,.5*l,h,m+1,k);if(isNaN(b))return k.nanEncountered=!0,NaN;a=Cb(a,n,c,f,A,e,K,.5*l,h,m+1,k);return isNaN(a)?(k.nanEncountered=!0,NaN):
b+a}}function Db(a,b,c,d,f){void 0===d&&(d=1E-8);void 0===f&&(f=20);var e=a(b),g=a(.5*(b+c)),l=a(c);return Cb(a,b,c,e,g,l,(e+4*g+l)*(c-b)/6,d,f,1,{maxDepthCount:0,nanEncountered:!1})}function $a(a,b,c){function d(c){return a+(1-a)*Dc(1-Dc(c,b),1/b)}function f(a){var b=0,c=1E3,d=500;do l[d]>a?c=d:b=d,d=b+c>>1;while(d>b);(b=l[d+1]-l[d])&&(b=(a-l[d+1])/b);return(d+1+b)/1E3}for(var e=1/Db(d,0,1,1E-4),g=1.00000001*e,l=[],h=0;1E3>=h;h++)l.push(Db(d,0,h/1E3,1E-4)*g);var m=2*f(1)/Y*e/c;c=function(a,b){var c=
f(V(ca(b)));a*=d(c);c/=m;return[a,0<=b?c:-c]};c.invert=function(a,b){var c;b*=m;1>V(b)&&(c=Ka(b)*u(Db(d,0,V(b),1E-4)*e));return[a/d(V(b)),c]};return c}function Lb(a,b){for(var c=-1,d=a.length,f=a[0],e,g,l,h=[];++c<d;){e=a[c];g=(e[0]-f[0])/b;l=(e[1]-f[1])/b;for(var m=0;m<b;++m)h.push([f[0]+m*g,f[1]+m*l]);f=e}h.push(e);return h}function tc(a){var b=[],c,d=a[0].length;for(c=0;c<d;++c){var f=a[0][c];var g=f[0][0];var l=f[0][1];var h=f[1][1];var m=f[2][0];f=f[2][1];b.push(Lb([[g+1E-6,l+1E-6],[g+1E-6,h-
1E-6],[m-1E-6,h-1E-6],[m-1E-6,f+1E-6]],30))}for(c=a[1].length-1;0<=c;--c)f=a[1][c],g=f[0][0],l=f[0][1],h=f[1][1],m=f[2][0],f=f[2][1],b.push(Lb([[m-1E-6,f-1E-6],[m-1E-6,h+1E-6],[g+1E-6,h+1E-6],[g+1E-6,l-1E-6]],30));return{type:"Polygon",coordinates:[e.merge(b)]}}function rb(a,c,d){function e(b,d){for(var f=0>d?-1:1,e=c[+(0>d)],g=0,l=e.length-1;g<l&&b>e[g][2][0];++g);b=a(b-e[g][1][0],d);b[0]+=a(e[g][1][0],f*d>f*e[g][0][1]?e[g][0][1]:d)[0];return b}var f,g;d?e.invert=d(e):a.invert&&(e.invert=function(b,
d){for(var f=g[+(0>d)],l=c[+(0>d)],n=0,h=f.length;n<h;++n){var m=f[n];if(m[0][0]<=b&&b<m[1][0]&&m[0][1]<=d&&d<m[1][1])return f=a.invert(b-a(l[n][1][0],0)[0],d),f[0]+=l[n][1][0],l=e(f[0],f[1]),b=[b,d],1E-6>V(l[0]-b[0])&&1E-6>V(l[1]-b[1])?f:null}});var l=b.geoProjection(e),h=l.stream;l.stream=function(a){var c=l.rotate(),d=h(a),e=(l.rotate([0,0]),h(a));l.rotate(c);d.sphere=function(){b.geoStream(f,e)};return d};l.lobes=function(b){if(!arguments.length)return c.map(function(a){return a.map(function(a){return[[a[0][0]*
Ga,a[0][1]*Ga],[a[1][0]*Ga,a[1][1]*Ga],[a[2][0]*Ga,a[2][1]*Ga]]})});f=tc(b);c=b.map(function(a){return a.map(function(a){return[[a[0][0]*Aa,a[0][1]*Aa],[a[1][0]*Aa,a[1][1]*Aa],[a[2][0]*Aa,a[2][1]*Aa]]})});g=c.map(function(b){return b.map(function(b){var c=a(b[0][0],b[0][1])[0],d=a(b[2][0],b[2][1])[0],f=a(b[1][0],b[0][1])[1];b=a(b[1][0],b[1][1])[1];if(f>b){var e=f;f=b;b=e}return[[c,f],[d,b]]})});return l};null!=c&&l.lobes(c);return l}function Tb(a,b){return[3/bb*a*t(Y*Y/3-b*b),b]}function Eb(a){function b(b,
c){if(1E-6>V(V(c)-ra))return[0,0>c?-2:2];c=ca(c);c=Dc((1+c)/(1-c),a/2);var d=.5*(c+1/c)+X(b*=a);return[2*ca(b)/d,(c-1/c)/d]}b.invert=function(b,c){var d=V(c);if(1E-6>V(d-2))return b?null:[0,Ka(c)*ra];if(2<d)return null;b/=2;c/=2;d=b*b;var e=c*c;c=2*c/(1+d+e);c=Dc((1+c)/(1-c),1/a);return[ib(2*b,1-d-e)/a,u((c-1)/(c+1))]};return b}function Xa(a,b){return[a*(1+t(X(b)))/2,b/(X(b/2)*X(a/6))]}function xa(a,b){var c=a*a,d=b*b;return[a*(.975534+d*(-.119161+-.0143059*c+-.0547009*d)),b*(1.00384+c*(.0802894+
-.02855*d+1.99025E-4*c)+d*(.0998909+-.0491032*d))]}function Fb(a,b){return[ca(a)/X(b),Za(b)*X(a)]}function qc(a){function b(b,e){var f=e-a,g=1E-6>V(f)?b*c:1E-6>V(g=Pb+e/2)||1E-6>V(V(g)-ra)?0:b*f/Hb(Za(g)/d);return[g,f]}var c=X(a),d=Za(Pb+a/2);b.invert=function(b,e){var f,g=e+a;return[1E-6>V(e)?b/c:1E-6>V(f=Pb+g/2)||1E-6>V(V(f)-ra)?0:b*Hb(Za(f)/d)/e,g]};return b}function Sb(a,b){return[a,1.25*Hb(Za(Pb+.4*b))]}function ab(a){function b(b,d){var f=X(d),e=2/(1+f*X(b));b=e*f*ca(b);d=e*ca(d);e=c;f=a[e];
for(var g=f[0],l=f[1],h;0<=--e;)f=a[e],g=f[0]+b*(h=g)-d*l,l=f[1]+b*l+d*h;g=b*(h=g)-d*l;return[g,b*l+d*h]}var c=a.length-1;b.invert=function(b,d){var f=20,e=b,g=d;do{for(var l=c,h=a[l],m=h[0],k=h[1],v=0,A=0,Z;0<=--l;)h=a[l],v=m+e*(Z=v)-g*A,A=k+e*A+g*Z,m=h[0]+e*(Z=m)-g*k,k=h[1]+e*k+g*Z;v=m+e*(Z=v)-g*A;A=k+e*A+g*Z;m=e*(Z=m)-g*k-b;k=e*k+g*Z-d;h=v*v+A*A;e-=l=(m*v+k*A)/h;g-=m=(k*v-m*A)/h}while(1E-12<V(l)+V(m)&&0<--f);if(f)return b=t(e*e+g*g),d=2*wb(.5*b),f=ca(d),[ib(e*f,b*X(d)),b?u(g*f/b):0]};return b}
function fc(a,c){a=b.geoProjection(ab(a)).rotate(c).clipAngle(90);var d=b.geoRotation(c),e=a.center;delete a.rotate;a.center=function(a){return arguments.length?e(d(a)):d.invert(e())};return a}function sb(a,b){b=u(7*ca(b)/(3*jb));return[jb*a*(2*X(2*b/3)-1)/Pd,9*ca(b/3)/Pd]}function ac(a,b){for(var c=(1+Ub)*ca(b),d=0,f;25>d&&!(b-=f=(ca(b/2)+ca(b)-c)/(.5*X(b/2)+X(b)),1E-6>V(f));d++);return[a*(1+2*X(b)/X(b/2))/(3*La),2*t(3)*ca(b/2)/t(2+La)]}function gb(a,b){var c=t(6/(4+Y)),d=(1+Y/4)*ca(b);b/=2;for(var f=
0,e;25>f&&!(b-=e=(b/2+ca(b)-d)/(.5+X(b)),1E-6>V(e));f++);return[c*(.5+X(b))*a/1.5,c*b]}function db(a,b){var c=b*b,d=c*c,f=c*d;return[a*(.84719-.13063*c+f*f*(-.04515+.05494*c-.02326*d+.00331*f)),b*(1.01183+d*d*(-.02625+.01926*c-.00396*d))]}function Ob(a,b){return[a*(1+X(b))/2,2*(b-Za(b/2))]}function gc(a,b){var c=ca(b),d=X(b),f=Ka(a);if(0===a||V(b)===ra)return[0,b];if(0===b)return[a,0];if(V(a)===ra)return[a*d,ra*c];a=Y/(2*a)-2*a/Y;var e=2*b/Y,g=(1-e*e)/(c-e),l=a*a,h=g*g;e=1+l/h;var m=1+h/l,k=(a*c/
g-a/2)/e,v=(h*c/l+g/2)/m;c=v*v-(h*c*c/l+g*c-1)/m;return[ra*(k+t(k*k+d*d/e)*f),ra*(v+t(0>c?0:c)*Ka(-b*a)*f)]}function jc(a,b){var c=b*b;return[a,b*(1.0148+c*c*(.23185+c*(-.14499+.02406*c)))]}function Ic(a,b){if(1E-6>V(b))return[a,0];var c=Za(b);a*=ca(b);return[ca(a)/c,b+(1-X(a))/c]}function td(a,b){var c=Vc(a[1],a[0]),d=Vc(b[1],b[0]),f=ib(c[0]*d[1]-c[1]*d[0],c[0]*d[0]+c[1]*d[1]);c=t(c[0]*c[0]+c[1]*c[1])/t(d[0]*d[0]+d[1]*d[1]);return kc([1,0,a[0][0],0,1,a[0][1]],kc([c,0,0,0,c,0],kc([X(f),ca(f),0,-ca(f),
X(f),0],[1,0,-b[0][0],0,1,-b[0][1]])))}function kc(a,b){return[a[0]*b[0]+a[1]*b[3],a[0]*b[1]+a[1]*b[4],a[0]*b[2]+a[1]*b[5]+a[2],a[3]*b[0]+a[4]*b[3],a[3]*b[1]+a[4]*b[4],a[3]*b[2]+a[4]*b[5]+a[5]]}function Vc(a,b){return[a[0]-b[0],a[1]-b[1]]}function Nc(a,c,d){function e(a,b){a.edges=Kb(a.face);if(b.face){var c=a.shared=dc(a.face,b.face),d=td(c.map(b.project),c.map(a.project));a.transform=b.transform?kc(b.transform,d):d;d=b.edges;for(var f=0,g=d.length;f<g;++f)rc(c[0],d[f][1])&&rc(c[1],d[f][0])&&(d[f]=
a),rc(c[0],d[f][0])&&rc(c[1],d[f][1])&&(d[f]=a);d=a.edges;f=0;for(g=d.length;f<g;++f)rc(c[0],d[f][0])&&rc(c[1],d[f][1])&&(d[f]=b),rc(c[0],d[f][1])&&rc(c[1],d[f][0])&&(d[f]=b)}else a.transform=b.transform;a.children&&a.children.forEach(function(b){e(b,a)});return a}function f(a,b){var d=c(a,b);a=d.project([a*Ga,b*Ga]);if(d=d.transform)return[d[0]*a[0]+d[1]*a[1]+d[2],-(d[3]*a[0]+d[4]*a[1]+d[5])];a[1]=-a[1];return a}function g(a,b){var d=a.project.invert,f=a.transform,e=b;if(f){var l=1/(f[0]*f[4]-f[1]*
f[3]);f=[l*f[4],-l*f[1],l*(f[1]*f[5]-f[2]*f[4]),-l*f[3],l*f[0],l*(f[2]*f[3]-f[0]*f[5])];e=[f[0]*e[0]+f[1]*e[1]+f[2],f[3]*e[0]+f[4]*e[1]+f[5]]}if(f=d)d=n=d(e),d=c(d[0]*Aa,d[1]*Aa),f=a===d;if(f)return n;var n;a=a.children;d=0;for(e=a&&a.length;d<e;++d)if(n=g(a[d],b))return n}e(a,{transform:null});$b(a)&&(f.invert=function(b,c){return(b=g(a,[b,-c]))&&(b[0]*=Aa,b[1]*=Aa,b)});var l=b.geoProjection(f),h=l.stream;l.stream=function(b){var c=l.rotate(),d=h(b),f=(l.rotate([0,0]),h(b));l.rotate(c);d.sphere=
function(){f.polygonStart();f.lineStart();Cc(f,a);f.lineEnd();f.polygonEnd()};return d};return l.angle(null==d?-30:d*Ga)}function Cc(a,c,d){var e,f=c.edges,g=f.length;var l={type:"MultiPoint",coordinates:c.face};var h=c.face.filter(function(a){return 90!==V(a[1])}),m=b.geoBounds({type:"MultiPoint",coordinates:h});h=!1;var k=-1,v=m[1][0]-m[0][0];m=180===v||360===v?[(m[0][0]+m[1][0])/2,(m[0][1]+m[1][1])/2]:b.geoCentroid(l);if(d)for(;++k<g&&f[k]!==d;);++k;for(v=0;v<g;++v)l=f[(v+k)%g],Array.isArray(l)?
(h||(a.point((e=b.geoInterpolate(l[0],m)(1E-6))[0],e[1]),h=!0),a.point((e=b.geoInterpolate(l[1],m)(1E-6))[0],e[1])):(h=!1,l!==d&&Cc(a,l,c))}function rc(a,b){return a&&b&&a[0]===b[0]&&a[1]===b[1]}function dc(a,b){for(var c,d,f=a.length,e=null,g=0;g<f;++g){c=a[g];for(var l=b.length;0<=--l;)if(d=b[l],c[0]===d[0]&&c[1]===d[1]){if(e)return[e,c];e=c}}}function Kb(a){for(var b=a.length,c=[],d=a[b-1],f=0;f<b;++f)c.push([d,d=a[f]]);return c}function $b(a){return a.project.invert||a.children&&a.children.some($b)}
function hc(a,b){a=g(a,b);return[a[0]*dd,a[1]]}function lc(a,b){for(var c=0,d=a.length,f=0;c<d;++c)f+=a[c]*b[c];return f}function mc(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function uc(a){return[ib(a[1],a[0])*Ga,u(xb(-1,tb(1,a[2])))*Ga]}function ud(a){var b=a[0]*Aa;a=a[1]*Aa;var c=X(a);return[c*X(b),c*ca(b),ca(a)]}function Td(){}function ae(a,b){return{type:"FeatureCollection",features:a.features.map(function(a){return Oc(a,b)})}}function Oc(a,b){return{type:"Feature",
id:a.id,properties:a.properties,geometry:kd(a.geometry,b)}}function vc(a,b){return{type:"GeometryCollection",geometries:a.geometries.map(function(a){return kd(a,b)})}}function kd(a,c){if(!a)return null;if("GeometryCollection"===a.type)return vc(a,c);switch(a.type){case "Point":var d=yb;break;case "MultiPoint":d=yb;break;case "LineString":d=mb;break;case "MultiLineString":d=mb;break;case "Polygon":d=Cd;break;case "MultiPolygon":d=Cd;break;case "Sphere":d=Cd;break;default:return null}b.geoStream(a,
c(d));return d.result()}function $c(a){function c(b,c){var f=V(b)<ra;c=a(f?b:0<b?b-Y:b+Y,c);b=(c[0]-c[1])*Ub;c=(c[0]+c[1])*Ub;if(f)return[b,c];f=d*Ub;var e=0<b^0<c?-1:1;return[e*b-Ka(c)*f,e*c-Ka(b)*f]}var d=a(ra,0)[0]-a(-ra,0)[0];a.invert&&(c.invert=function(b,c){var f=(b+c)*Ub,e=(c-b)*Ub,g=V(f)<.5*d&&V(e)<.5*d;if(!g){var l=d*Ub,h=0<f^0<e?-1:1;b=-h*b+(0<e?1:-1)*l;c=-h*c+(0<f?1:-1)*l;f=(-b-c)*Ub;e=(b-c)*Ub}c=a.invert(f,e);g||(c[0]+=0<f?Y:-Y);return c});return b.geoProjection(c).rotate([-90,-90,45]).clipAngle(179.999)}
function Mb(){return $c(fa).scale(111.48)}function lb(a){function b(b,d){b=c?Za(b*c/2)/c:b/2;if(!d)return[2*b,-a];b=2*wb(b*ca(d));var f=1/Za(d);return[ca(b)*f,d+(1-X(b))*f-a]}var c=ca(a);b.invert=function(b,d){if(1E-6>V(d+=a))return[c?2*wb(c*b/2)/c:b,0];var f=b*b+d*d,e=0,g=10;do{var l=Za(e);var h=1/X(e),m=f-2*d*e+e*e;e-=l=(l*m+2*(e-d))/(2+m*h*h+2*(e-d)*l)}while(1E-6<V(l)&&0<--g);b*=l=Za(e);d=Za(V(d)<V(e+1/l)?.5*u(b):.5*w(b)+Y/4)/ca(e);return[c?2*wb(c*d)/c:2*d,e]};return b}function ld(a,b){var c=tb(18,
36*V(b)/Y),d=Ca(c);c-=d;var f=(h=Yb[d])[0],e=h[1],g=(h=Yb[++d])[0],l=h[1];d=(h=Yb[tb(19,++d)])[0];h=h[1];var h;return[a*(g+c*(d-f)/2+c*c*(d-2*g+f)/2),(0<b?ra:-ra)*(l+c*(h-e)/2+c*c*(h-2*l+e)/2)]}function ke(a){function b(b,c){var d=X(c),e=(a-1)/(a-d*X(b));return[e*d*ca(b),e*ca(c)]}b.invert=function(b,c){var d=b*b+c*c,e=t(d);d=(a-t(1-d*(a+1)/(a-1)))/((a-1)/e+e/(a-1));return[ib(b*d,e*t(1-d*d)),e?u(c*d/e):0]};return b}function Gd(a,b){function c(b,c){b=d(b,c);c=b[1];var g=c*e/(a-1)+f;return[b[0]*f/g,
c/g]}var d=ke(a);if(!b)return d;var f=X(b),e=ca(b);c.invert=function(b,c){var g=(a-1)/(a-1-c*e);return d.invert(g*b,g*c*f)};return c}function Hd(a){return 0<a.length}function ic(a){return-90===a||90===a?[0,a]:[-180,Math.floor(1E4*a)/1E4]}function gd(a){var b=a[0],c=a[1],d=!1;-179.9999>=b?(b=-180,d=!0):179.9999<=b&&(b=180,d=!0);-89.9999>=c?(c=-90,d=!0):89.9999<=c&&(c=90,d=!0);return d?[b,c]:a}function Id(a){return a.map(gd)}function vd(a,b,c){for(var d=0,f=a.length;d<f;++d){var e=a[d].slice();c.push({index:-1,
polygon:b,ring:e});for(var g=0,l=e.length;g<l;++g){var h=e[g],m=h[0],k=h[1];if(-179.9999>=m||179.9999<=m||-89.9999>=k||89.9999<=k){e[g]=gd(h);for(h=g+1;h<l;++h){var v=e[h];m=v[0];v=v[1];if(-179.9999<m&&179.9999>m&&-89.9999<v&&89.9999>v)break}if(h!==g+1){g?(g={index:-1,polygon:b,ring:e.slice(0,g+1)},g.ring[g.ring.length-1]=ic(k),c[c.length-1]=g):c.pop();if(h>=l)break;c.push({index:-1,polygon:b,ring:e=e.slice(h-1)});e[0]=ic(e[0][1]);g=-1;l=e.length}}}}}function md(a){var b,c=a.length,d={},f={};for(b=
0;b<c;++b){var e=a[b];var g=e.ring[0];var l=e.ring[e.ring.length-1];g[0]===l[0]&&g[1]===l[1]?(e.polygon.push(e.ring),a[b]=null):(e.index=b,d[g]=f[l]=e)}for(b=0;b<c;++b)if(e=a[b]){g=e.ring[0];l=e.ring[e.ring.length-1];var h=f[g];var m=d[l];delete d[g];delete f[l];g[0]===l[0]&&g[1]===l[1]?e.polygon.push(e.ring):h?(delete f[g],delete d[h.ring[0]],h.ring.pop(),a[h.index]=null,e={index:-1,polygon:h.polygon,ring:h.ring.concat(e.ring)},h===m?e.polygon.push(e.ring):(e.index=c++,a.push(d[e.ring[0]]=f[e.ring[e.ring.length-
1]]=e))):m?(delete d[l],delete f[m.ring[m.ring.length-1]],e.ring.pop(),e={index:c++,polygon:m.polygon,ring:e.ring.concat(m.ring)},a[m.index]=null,a.push(d[e.ring[0]]=f[e.ring[e.ring.length-1]]=e)):(e.ring.push(e.ring[0]),e.polygon.push(e.ring))}}function Jd(a){var b={type:"Feature",geometry:Pc(a.geometry)};null!=a.id&&(b.id=a.id);null!=a.bbox&&(b.bbox=a.bbox);null!=a.properties&&(b.properties=a.properties);return b}function Pc(a){if(null==a)return a;switch(a.type){case "GeometryCollection":var b=
{type:"GeometryCollection",geometries:a.geometries.map(Pc)};break;case "Point":b={type:"Point",coordinates:gd(a.coordinates)};break;case "MultiPoint":case "LineString":b={type:a.type,coordinates:Id(a.coordinates)};break;case "MultiLineString":b={type:"MultiLineString",coordinates:a.coordinates.map(Id)};break;case "Polygon":var c=[];vd(a.coordinates,c,b=[]);md(b);b={type:"Polygon",coordinates:c};break;case "MultiPolygon":b=[];c=-1;var d=a.coordinates.length;for(var f=Array(d);++c<d;)vd(a.coordinates[c],
f[c]=[],b);md(b);b={type:"MultiPolygon",coordinates:f.filter(Hd)};break;default:return a}null!=a.bbox&&(b.bbox=a.bbox);return b}function Kd(a,b){b=Za(b/2);var c=ca(Pb*b);return[a*(.74482-.34588*c*c),1.70711*b]}function wd(a,c,d){var e=b.geoInterpolate(c,d);d=e(.5);c=b.geoRotation([-d[0],-d[1]])(c);e=e.distance/2;var f=-u(ca(c[1]*Aa)/ca(e));d=[-d[0],-d[1],-(0<c[0]?Y-f:f)*Ga];a=b.geoProjection(a(e)).rotate(d);var g=b.geoRotation(d),l=a.center;delete a.rotate;a.center=function(a){return arguments.length?
l(g(a)):g.invert(l())};return a.clipAngle(90)}function xd(a){function c(a,c){a=b.geoGnomonicRaw(a,c);a[0]*=d;return a}var d=X(a);c.invert=function(a,c){return b.geoGnomonicRaw.invert(a/d,c)};return c}function Ld(a,b){return wd(xd,a,b)}function Md(a){function c(b,c){var g=w(X(c)*X(b-d));b=w(X(c)*X(b-e));g*=g;b*=b;return[(g-b)/(2*a),(0>c?-1:1)*t(4*f*b-(f-g+b)*(f-g+b))/(2*a)]}if(!(a*=2))return b.geoAzimuthalEquidistantRaw;var d=-a/2,e=-d,f=a*a,g=Za(e),l=.5/ca(e);c.invert=function(a,b){var c=b*b,f=X(t(c+
(n=a+d)*n));a=X(t(c+(n=a+e)*n));var n,h;return[ib(h=f-a,n=(f+a)*g),(0>b?-1:1)*w(t(n*n+h*h)*l)]};return c}function Nd(a,b){return wd(Md,a,b)}function nb(a,b){if(1E-6>V(b))return[a,0];var c=V(b/ra),d=u(c);if(1E-6>V(a)||1E-6>V(V(b)-ra))return[0,Ka(b)*Y*Za(d/2)];var f=X(d);d=V(Y/a-a/Y)/2;var e=d*d;f/=c+f-1;c=f*(2/c-1);var g=c*c,l=g+e,h=f-g,m=e+f;return[Ka(a)*Y*(d*h+t(e*h*h-l*(f*f-g)))/l,Ka(b)*Y*(c*m-d*t((e+1)*l-m*m))/l]}function hb(a,b){if(1E-6>V(b))return[a,0];var c=V(b/ra),d=u(c);if(1E-6>V(a)||1E-6>
V(V(b)-ra))return[0,Ka(b)*Y*Za(d/2)];var f=X(d);d=V(Y/a-a/Y)/2;var e=d*d;c=f*(t(1+e)-d*f)/(1+e*c*c);return[Ka(a)*Y*c,Ka(b)*Y*t(1-c*(2*d+c))]}function vb(a,b){if(1E-6>V(b))return[a,0];var c=b/ra,d=u(c);if(1E-6>V(a)||1E-6>V(V(b)-ra))return[0,Y*Za(d/2)];b=(Y/a-a/Y)/2;c/=1+X(d);return[Y*(Ka(a)*t(b*b+1-c*c)-b),Y*c]}function yd(a,b){if(!b)return[a,0];var c=V(b);if(!a||c===ra)return[0,b];var d=c/ra;c=d*d;var f=(8*d-c*(c+2)-5)/(2*c*(d-1)),e=f*f,g=d*f,l=c+e+2*g;d+=3*f;f=a/ra;f+=1/f;f=Ka(V(a)-ra)*t(f*f-4);
var h=f*f;c=(f*(l+e-1)+2*t(l*(c+e*h-1)+(1-c)*(c*(d*d+4*e)+12*g*e+4*e*e)))/(4*l+h);return[Ka(a)*ra*c,Ka(b)*ra*t(1+f*V(c)-c*c)]}function bc(a,b,c,d,f){function e(e,g){g=c*ca(d*g);var l=t(1-g*g),n=t(2/(1+l*X(e*=f)));return[a*l*n*ca(e),b*g*n]}e.invert=function(e,g){var l=e/a,n=g/b;l=t(l*l+n*n);n=2*u(l/2);return[ib(e*Za(n),a*l)/f,l&&u(g*ca(n)/(b*c*l))/d]};return e}function Gb(a,b,c,d){var f=Y/3;a=xb(a,1E-6);b=xb(b,1E-6);a=tb(a,ra);b=tb(b,Y-1E-6);c=xb(c,0);c=tb(c,99.999999);d=xb(d,1E-6);var e=d/100;c=w((c/
100+1)*X(f))/f;f=ca(a)/ca(c*ra);d=b/Y;b=t(e*ca(a/2)/ca(b/2));a=b/t(d*f*c);b=1/(b*t(d*f*c));return bc(a,b,f,c,d)}function Ia(){var a=65*Aa,c=60*Aa,d=20,e=200,f=b.geoProjectionMutator(Gb),g=f(a,c,d,e);g.poleline=function(b){return arguments.length?f(a=+b*Aa,c,d,e):a*Ga};g.parallels=function(b){return arguments.length?f(a,c=+b*Aa,d,e):c*Ga};g.inflation=function(b){return arguments.length?f(a,c,d=+b,e):d};g.ratio=function(b){return arguments.length?f(a,c,d,e=+b):e};return g.scale(163.775)}function Ha(a,
b){return[a*t(1-3*b*b/(Y*Y)),b]}function eb(a,b){var c=X(b),d=X(a)*c,f=1-d;b=X(a=ib(ca(a)*c,-ca(b)));a=ca(a);c=t(1-d*d);return[a*c-b*f,-b*c-a*f]}function Nb(a,b){var c=ea(a,b);return[(c[0]+a/ra)/2,(c[1]+b)/2]}var V=Math.abs,wb=Math.atan,ib=Math.atan2,X=Math.cos,zc=Math.exp,Ca=Math.floor,Hb=Math.log,xb=Math.max,tb=Math.min,Dc=Math.pow,Ud=Math.round,Ka=Math.sign||function(a){return 0<a?1:0>a?-1:0},ca=Math.sin,Za=Math.tan,Y=Math.PI,ra=Y/2,Pb=Y/4,Ub=Math.SQRT1_2,La=t(2),Fa=t(Y),bb=2*Y,Ga=180/Y,Aa=Y/180;
ea.invert=function(a,b){if(!(a*a+4*b*b>Y*Y+1E-6)){var c=a,d=b,f=25;do{var e=ca(c),g=ca(c/2),l=X(c/2),h=ca(d),m=X(d),k=ca(2*d),v=h*h,Z=m*m,p=g*g,x=1-Z*l*l,r=x?w(m*l)*t(A=1/x):A=0,A;x=2*r*m*g-a;var Da=r*h-b,B=A*(Z*p+r*m*l*v),K=A*(.5*e*k-2*r*h*g);e=.25*A*(k*g-r*h*Z*e);m=A*(v*l+r*p*m);l=K*e-m*B;if(!l)break;K=(Da*K-x*m)/l;x=(x*e-Da*B)/l;c-=K;d-=x}while((1E-6<V(K)||1E-6<V(x))&&0<--f);return[c,d]}};F.invert=function(a,b){a*=.375;b*=.375;if(!a&&1<V(b))return null;var c=1+a*a+b*b,d=t((c-t(c*c-4*b*b))/2);c=
u(d)/3;d?(d=V(b/d),d=Hb(d+t(d*d-1))/3):(d=V(a),d=Hb(d+t(d*d+1))/3);var f=X(c),e=G(d),g=e*e-f*f;return[2*Ka(a)*ib(C(d)*f,.25-g),2*Ka(b)*ib(e*ca(c),.25+g)]};var Ec=t(8),Od=Hb(1+La);W.invert=function(a,b){if((f=V(b))<Od)return[a,2*wb(zc(b))-ra];var c=Pb,d=25,f;do{var e=X(c/2);var g=Za(c/2);c-=e=(Ec*(c-Pb)-Hb(g)-f)/(Ec-e*e/(2*g))}while(1E-12<V(e)&&0<--d);return[a/(X(c)*(Ec-1/ca(c))),Ka(b)*c]};z.invert=function(a,b){b=2*u(b/2);return[a*X(b/2)/X(b),b]};var Qc=D(La/ra,La,Y);O.invert=function(a,b){var c=
2.00276*b;b=0>b?-Pb:Pb;var d=25;do{var f=c-La*ca(b);b-=f=(ca(2*b)+2*b-Y*ca(f))/(2*X(2*b)+2+Y*X(f)*La*X(b))}while(1E-6<V(f)&&0<--d);f=c-La*ca(b);return[a*(1/X(f)+1.11072/X(b))/2.00276,f]};h.invert=function(a,b){return[a/X(b),b]};var Rc=D(1,4/Y,Y);g.invert=function(a,b){var c=(c=b/Fa-1)*c;return[0<c?a*t(Y/c)/2:0,u(1-c)]};var wc=t(3);M.invert=function(a,b){b=3*u(b/(wc*Fa));return[Fa*a/(wc*(2*X(2*b/3)-1)),b]};I.invert=function(a,b){var c=t(8/(3*Y));b/=c;return[a/(c*(1-V(b)/Y)),b]};ha.invert=function(a,
b){var c=2-V(b)/t(2*Y/3);return[a*t(6*Y)/(2*c),Ka(b)*u((4-c*c)/3)]};aa.invert=function(a,b){var c=t(Y*(4+Y))/2;return[a*c/(1+t(1-b*b*(4+Y)/(4*Y))),b*c/2]};sa.invert=function(a,b){b=b*t((4+Y)/Y)/2;var c=u(b),d=X(c);return[a/(2/t(Y*(4+Y))*(1+d)),u((c+b*(d+2))/(2+ra))]};ya.invert=function(a,b){var c=t(2+Y);b=b*c/2;return[c*a/(1+X(b)),b]};Na.invert=function(a,b){var c=1+ra,d=t(c/2);return[2*a*d/(1+X(b*=d)),u((b+ca(b))/c)]};var Ta=3+2*La;Ea.invert=function(a,b){if(!(f=F.invert(a/1.2,1.065*b)))return null;
var c=f[0];f=f[1];var d=20,f;a/=Ta;b/=Ta;do{var e=c/2,g=f/2,l=ca(e),h=X(e),m=ca(g),k=X(g),v=X(f),Z=t(v),p=m/(k+La*h*Z),x=p*p,r=t(2/(1+x)),A=(La*k+(h+l)*Z)/(La*k+(h-l)*Z),Da=t(A),B=Da-1/Da,E=Da+1/Da;g=r*B-2*Hb(Da)-a;e=r*p*E-2*wb(p)-b;var K=m&&Ub*Z*l*x/m,L=(La*h*k+Z)/(2*(k+La*h*Z)*(k+La*h*Z)*Z),D=-.5*p*r*r*r,z=D*K;D*=L;var fa=(fa=2*k+La*Z*(h-l))*fa*Da;h=(La*h*k*Z+v)/fa;m=-(La*l*m)/(Z*fa);l=B*z-2*h/Da+r*(h+h/A);Da=B*D-2*m/Da+r*(m+m/A);K=p*E*z-2*K/(1+x)+r*E*K+r*p*(h-h/A);x=p*E*D-2*L/(1+x)+r*E*L+r*p*(m-
m/A);p=Da*K-x*l;if(!p)break;x=(e*Da-g*x)/p;g=(g*K-e*l)/p;c-=x;f=xb(-ra,tb(ra,f-g))}while((1E-6<V(x)||1E-6<V(g))&&0<--d);return 1E-6>V(V(f)-ra)?[0,f]:d&&[c,f]};var Z=X(35*Aa);Ma.invert=function(a,b){b/=1+Z;return[a&&a/(Z*t(1-b*b)),2*wb(b)]};U.invert=function(a,b){var c=wb(b/Fa);b=X(c);c*=2;return[a*Fa/2/(X(c)*b*b),c]};var Da=E(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),qd=E(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),Ac=E(5/6*Y,-.62636,-.0344,0,1.3493,-.05524,0,.045);
Ua.invert=function(a,b){var c=a,d=b,f=50,e;do{var g=d*d;d-=e=(d*(1+g/12)-b)/(1+g/4)}while(1E-6<V(e)&&0<--f);f=50;a/=1-.162388*g;do{var l=(l=c*c)*l;c-=e=(c*(.87-9.52426E-4*l)-a)/(.87-.00476213*l)}while(1E-6<V(e)&&0<--f);return[c,d]};var ne=E(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);oa.invert=function(a,b){1<V(a)&&(a=2*Ka(a)-a);1<V(b)&&(b=2*Ka(b)-b);var c=Ka(a),d=Ka(b),f=-c*a,e=-d*b;b=1>e/f;a=b?e:f;var g=b?f:e,l=0,h=1;f=.5;for(var m=50;;){e=f*f;var k=t(f),v=u(1/t(1+e)),Z=1-e+f*(1+e)*
v,p=(1-k)/Z,x=t(p),r=p*(1+e),Da=x*(1-e),A=t(r-a*a);Da=g+Da+f*A;if(1E-12>V(h-l)||0===--m||0===Da)break;0<Da?l=f:h=f;f=.5*(l+h)}m?(g=u(k),m=X(g),l=1/m,h=2*k*m,k=(-Z*m-(1-k)*(-3*f+v*(1+3*e))*h)/(Z*Z),f=[Y/4*(a*(-2*l*(.5*k/x*(1-e)-2*f*x*h)+-l*h*A)+-l*(f*(1+e)*k+p*(1+3*e)*h)*u(a/t(r))),g]):f=null;a=f[0];f=f[1];e=X(f);b&&(a=-ra-a);return[c*(ib(ca(a)*e,-ca(f))+Y),d*u(X(a)*e)]};fa.invert=function(a,b){var c=(La-1)/(La+1),d=t(1-c*c);b=.5*wa(ra,d*d)-b;a=-a;d*=d;if(b)if(b=Qa(b,d),a){a=Qa(a,1-d);var f=a[1]*a[1]+
d*b[0]*b[0]*a[0]*a[0];b=[[b[0]*a[2]/f,b[1]*b[2]*a[0]*a[1]/f],[b[1]*a[1]/f,-b[0]*b[2]*a[0]*a[2]/f],[b[2]*a[1]*a[2]/f,-d*b[0]*b[1]*a[0]/f]]}else b=[[b[0],0],[b[1],0],[b[2],0]];else a=Qa(a,1-d),b=[[0,a[0]/a[1]],[1/a[1],0],[a[2]/a[1],0]];d=b[0];b=b[1];a=b[0]*b[0]+b[1]*b[1];d=[(d[0]*b[0]+d[1]*b[1])/a,(d[1]*b[0]-d[0]*b[1])/a];return[ib(d[1],d[0])/-1,2*wb(zc(-.5*Hb(c*d[0]*d[0]+c*d[1]*d[1])))-ra]};var Jc=u(1-1/3)*Ga,Kc=Q(0);Va.invert=function(a,b){return-.7109889596207567<b?Qc.invert(a,b-.0528035274542):
h.invert(a,b)};Bb.invert=function(a,b){return.7109889596207567<V(b)?Qc.invert(a,b+(0<b?.0528035274542:-.0528035274542)):h.invert(a,b)};var hd=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Wc=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],zd=[[[[-180,
0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Xc=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],Vd=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],Lc=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,
90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];Tb.invert=function(a,b){return[bb/3*a/t(Y*Y/3-b*b),b]};var Bc=Y/La;Xa.invert=function(a,b){var c=V(a),d=V(b),f=1E-6,e=ra;d<Bc?e*=d/Bc:f+=6*w(Bc/d);for(var g=0;25>g;g++){var l=ca(e),h=t(X(e)),m=ca(e/2),k=X(e/2),v=ca(f/6),Z=X(f/6),p=.5*f*(1+h)-c,x=e/(k*Z)-d;l=h?-.25*f*l/h:0;h=.5*(1+h);m=(1+.5*e*m/k)/(k*Z);v=e/k*(v/6)/(Z*Z);k=l*v-m*h;v=(p*v-x*h)/k;p=(x*l-p*m)/k;e-=v;f-=p;if(1E-6>V(v)&&1E-6>V(p))break}return[0>
a?-f:f,0>b?-e:e]};xa.invert=function(a,b){var c=Ka(a)*Y,d=b/2,f=50;do{var e=c*c,g=d*d,l=c*d,h=c*(.975534+g*(-.119161+-.0143059*e+-.0547009*g))-a,m=d*(1.00384+e*(.0802894+-.02855*g+1.99025E-4*e)+g*(.0998909+-.0491032*g))-b,k=.975534-g*(.119161+.0429177*e+.0547009*g),v=-l*(.238322+.2188036*g+.0286118*e);l*=.1605788+7.961E-4*e+-.0571*g;g=1.00384+e*(.0802894+1.99025E-4*e)+g*(3*(.0998909-.02855*e)-.245516*g);e=v*l-g*k;v=(m*v-h*g)/e;h=(h*l-m*k)/e;c-=v;d-=h}while((1E-6<V(v)||1E-6<V(h))&&0<--f);return f&&
[c,d]};Fb.invert=function(a,b){var c=a*a,d=b*b+1,f=c+d;c=a?Ub*t((f-t(f*f-4*c))/c):1/t(d);return[u(a*c),Ka(b)*w(c)]};Sb.invert=function(a,b){return[a,2.5*wb(zc(.8*b))-.625*Y]};var oe=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],nc=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],oc=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7.388E-4,-.1435792],[.0075848,
-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Ib=[[.9245,0],[0,0],[.01943,0]],Xb=[[.721316,0],[0,0],[-.00881625,-.00617325]],jb=t(6),Pd=t(7);sb.invert=function(a,b){b=3*u(b*Pd/9);return[a*Pd/(jb*(2*X(2*b/3)-1)),u(3*ca(b)*jb/7)]};ac.invert=function(a,b){b=b*t(2+La)/(2*t(3));var c=2*u(b);return[3*La*a/(1+2*X(c)/X(c/2)),u((b+ca(c))/(1+Ub))]};gb.invert=function(a,b){var c=t(6/(4+Y));b/=c;1E-6>V(V(b)-ra)&&(b=0>b?-ra:ra);return[1.5*a/(c*(.5+X(b))),u((b/2+ca(b))/(1+Y/4))]};db.invert=function(a,b){var c=
b,d=25;do{var f=c*c;var e=f*f;c-=f=(c*(1.01183+e*e*(-.02625+.01926*f-.00396*e))-b)/(1.01183+e*e*(-.23625+.21186*f+-.05148*e))}while(1E-12<V(f)&&0<--d);f=c*c;e=f*f;b=f*e;return[a/(.84719-.13063*f+b*b*(-.04515+.05494*f-.02326*e+.00331*b)),c]};Ob.invert=function(a,b){for(var c=b/2,d=0,f=Infinity;10>d&&1E-6<V(f);++d)f=X(b/2),b-=f=(b-Za(b/2)-c)/(1-.5/(f*f));return[2*a/(1+X(b)),b]};var bd=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];gc.invert=
function(a,b){a/=ra;b/=ra;var c=a*a,d=c+b*b,f=Y*Y;return[a?(d-1+t((1-d)*(1-d)+4*c))/(2*a)*ra:0,J(function(a){return d*(Y*ca(a)-2*a)*Y+4*a*a*(b-ca(a))+2*Y*a-f*b},0)]};var be=5*.23185;jc.invert=function(a,b){1.790857183<b?b=1.790857183:-1.790857183>b&&(b=-1.790857183);var c=b;do{var d=c*c;c-=d=(c*(1.0148+d*d*(.23185+d*(-.14499+.02406*d)))-b)/(1.0148+d*d*(be+d*(-1.01493+.21654*d)))}while(1E-6<V(d));return[a,c]};Ic.invert=function(a,b){if(1E-6>V(b))return[a,0];var c=a*a+b*b,d=.5*b,f=10;do{var e=Za(d);
var g=1/X(d),l=c-2*b*d+d*d;d-=e=(e*l+2*(d-b))/(2+l*g*g+2*(d-b)*e)}while(1E-6<V(e)&&0<--f);e=Za(d);return[(V(b)<V(d+1/e)?u(a*e):Ka(a)*(w(V(a*e))+ra))/ca(d),d]};var rd=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],cd=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(a){return a.map(function(a){return rd[a]})}),dd=2/t(3);hc.invert=function(a,b){return g.invert(a/dd,b)};var Ya=[],Fc=[],yb={point:function(a,b){Ya.push([a,b])},result:function(){var a=Ya.length?2>Ya.length?{type:"Point",
coordinates:Ya[0]}:{type:"MultiPoint",coordinates:Ya}:null;Ya=[];return a}},mb={lineStart:Td,point:function(a,b){Ya.push([a,b])},lineEnd:function(){Ya.length&&(Fc.push(Ya),Ya=[])},result:function(){var a=Fc.length?2>Fc.length?{type:"LineString",coordinates:Fc[0]}:{type:"MultiLineString",coordinates:Fc}:null;Fc=[];return a}},Cd={polygonStart:Td,lineStart:Td,point:function(a,b){Ya.push([a,b])},lineEnd:function(){var a=Ya.length;if(a){do Ya.push(Ya[0].slice());while(4>++a);Fc.push(Ya);Ya=[]}},polygonEnd:Td,
result:function(){if(!Fc.length)return null;var a=[],b=[];Fc.forEach(function(c){if(4>(f=c.length))var d=!1;else{d=0;for(var f,e=c[f-1][1]*c[0][0]-c[f-1][0]*c[0][1];++d<f;)e+=c[d-1][1]*c[d][0]-c[d-1][0]*c[d][1];d=0>=e}d?a.push([c]):b.push(c)});b.forEach(function(b){var c=b[0];a.some(function(a){for(var d=a[0],f=c[0],e=c[1],g=!1,l=0,h=d.length,m=h-1;l<h;m=l++){var k=d[l],v=k[0];k=k[1];var Z=d[m];m=Z[0];Z=Z[1];k>e^Z>e&&f<(m-v)*(e-k)/(Z-k)+v&&(g=!g)}if(g)return a.push(b),!0})||a.push([b])});Fc=[];return a.length?
1<a.length?{type:"MultiPolygon",coordinates:a}:{type:"Polygon",coordinates:a[0]}:null}},Yb=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Yb.forEach(function(a){a[1]*=1.0144});ld.invert=function(a,b){var c=b/ra,d=90*c,f=tb(18,V(d/5)),e=xb(0,Ca(f));do{var g=Yb[e][1],l=Yb[e+1][1],h=Yb[tb(19,e+
2)][1],m=h-g;g=h-2*l+g;l=2*(V(c)-l)/m;m=g/m;m=l*(1-m*l*(1-2*m*l));if(0<=m||1===e){d=(0<=b?5:-5)*(m+f);c=50;do f=tb(18,V(d)/5),e=Ca(f),m=f-e,g=Yb[e][1],l=Yb[e+1][1],h=Yb[tb(19,e+2)][1],d-=(f=(0<=b?ra:-ra)*(l+m*(h-g)/2+m*m*(h-2*l+g)/2)-b)*Ga;while(1E-12<V(f)&&0<--c);break}}while(0<=--e);b=Yb[e][0];f=Yb[e+1][0];e=Yb[tb(19,e+2)][0];return[a/(f+m*(e-b)/2+m*m*(e-2*f+b)/2),d*Aa]};Kd.invert=function(a,b){b/=1.70711;var c=ca(Pb*b);return[a/(.74482-.34588*c*c),2*wb(b)]};nb.invert=function(a,b){if(1E-6>V(b))return[a,
0];if(1E-6>V(a))return[0,ra*ca(2*wb(b/Y))];var c=(a/=Y)*a,d=(b/=Y)*b,f=c+d,e=f*f,g=-V(b)*(1+f),l=g-2*d+c,h=-2*g+1+2*d+e,m=d/h+(2*l*l*l/(h*h*h)-9*g*l/(h*h))/27,k=(g-l*l/(3*h))/h;g=2*t(-k/3);m=w(3*m/(k*g))/3;return[Y*(f-1+t(1+2*(c-d)+e))/(2*a),Ka(b)*Y*(-g*X(m+Y/3)-l/(3*h))]};hb.invert=function(a,b){if(!a)return[0,ra*ca(2*wb(b/Y))];var c=V(a/Y),d=(1-c*c-(b/=Y)*b)/(2*c),f=t(d*d+1);return[Ka(a)*Y*(f-d),Ka(b)*ra*ca(2*ib(t((1-2*d*c)*(d+f)-c),t(f+d+c)))]};vb.invert=function(a,b){if(!b)return[a,0];b/=Y;var c=
(Y*Y*(1-b*b)-a*a)/(2*Y*a);return[a?Y*(Ka(a)*t(c*c+1)-c):0,ra*ca(2*wb(b))]};yd.invert=function(a,b){if(!a||!b)return[a,b];b/=Y;var c=Ka(a)*a/ra,d=(c*c-1+4*b*b)/V(c),f=d*d;b*=2;var e=50;do{var g=b*b;var l=(8*b-g*(g+2)-5)/(2*g*(b-1));var h=(3*b-g*b-10)/(2*g*b),m=l*l,k=b*l,v=b+l,Z=v*v,p=b+3*l,x=-2*v*(4*k*m+(1-4*g+3*g*g)*(1+h)+m*(-6+14*g-f+(-8+8*g-2*f)*h)+k*(-8+12*g+(-10+10*g-f)*h));g=t(Z*(g+m*f-1)+(1-g)*(g*(p*p+4*m)+m*(12*k+4*m)));b-=l=(d*(Z+m-1)+2*g-c*(4*Z+f))/(d*(2*l*h+2*v*(1+h))+x/g-8*v*(d*(-1+m+Z)+
2*g)*(1+h)/(f+4*Z))}while(1E-6<l&&0<--e);return[Ka(a)*(t(d*d+4)+d)*Y/4,ra*b]};var pc=4*Y+3*t(3),ce=2*t(2*Y*t(3)/pc),Tc=D(ce*t(3)/Y,ce,pc/6);Ha.invert=function(a,b){return[a/t(1-3*b*b/(Y*Y)),b]};eb.invert=function(a,b){var c=(a*a+b*b)/-2,d=t(-c*(2+c)),f=b*c+a*d;a=a*c-b*d;b=t(a*a+f*f);return[ib(d*f,b*(1+c)),b?-u(d*a/b):0]};Nb.invert=function(a,b){var c=a,d=b,f=25;do{var e=X(d),g=ca(d),l=ca(2*d),h=g*g,m=e*e,k=ca(c),v=X(c/2),Z=ca(c/2),p=Z*Z,x=1-m*v*v,r=x?w(e*v)*t(Da=1/x):Da=0,Da;x=.5*(2*r*e*Z+c/ra)-a;
var B=.5*(r*g+d)-b,E=.5*Da*(m*p+r*e*v*h)+.5/ra,L=Da*(k*l/4-r*g*Z);g=.125*Da*(l*Z-r*g*m*k);h=.5*Da*(h*v+r*p*e)+.5;e=L*g-h*E;L=(B*L-x*h)/e;x=(x*g-B*E)/e;c-=L;d-=x}while((1E-6<V(L)||1E-6<V(x))&&0<--f);return[c,d]};a.geoNaturalEarth=b.geoNaturalEarth1;a.geoNaturalEarthRaw=b.geoNaturalEarth1Raw;a.geoAiry=function(){var a=ra,c=b.geoProjectionMutator(P),d=c(a);d.radius=function(b){return arguments.length?c(a=b*Aa):a*Ga};return d.scale(179.976).clipAngle(147)};a.geoAiryRaw=P;a.geoAitoff=function(){return b.geoProjection(ea).scale(152.63)};
a.geoAitoffRaw=ea;a.geoArmadillo=function(){var a=20*Aa,c=0<=a?1:-1,d=Za(c*a),e=b.geoProjectionMutator(T),f=e(a),g=f.stream;f.parallel=function(b){if(!arguments.length)return a*Ga;d=Za((c=0<=(a=b*Aa)?1:-1)*a);return e(a)};f.stream=function(b){var e=f.rotate(),l=g(b),h=(f.rotate([0,0]),g(b)),m=f.precision();f.rotate(e);l.sphere=function(){h.polygonStart();h.lineStart();for(var b=-180*c;180>c*b;b+=90*c)h.point(b,90*c);if(a)for(;-180<=c*(b-=3*c*m);)h.point(b,c*-ib(X(b*Aa/2),d)*Ga);h.lineEnd();h.polygonEnd()};
return l};return f.scale(218.695).center([0,28.0974])};a.geoArmadilloRaw=T;a.geoAugust=function(){return b.geoProjection(F).scale(66.1603)};a.geoAugustRaw=F;a.geoBaker=function(){return b.geoProjection(W).scale(112.314)};a.geoBakerRaw=W;a.geoBerghaus=function(){var a=5,c=b.geoProjectionMutator(r),d=c(a),e=d.stream,f=-X(.01*Aa),g=ca(.01*Aa);d.lobes=function(b){return arguments.length?c(a=+b):a};d.stream=function(b){var c=d.rotate(),l=e(b),h=(d.rotate([0,0]),e(b));d.rotate(c);l.sphere=function(){h.polygonStart();
h.lineStart();for(var b=0,c=360/a,d=2*Y/a,e=90-180/a,l=ra;b<a;++b,e-=c,l-=d)h.point(ib(g*X(l),f)*Ga,u(g*ca(l))*Ga),-90>e?(h.point(-90,-180-e-.01),h.point(-90,-180-e+.01)):(h.point(90,e+.01),h.point(90,e-.01));h.lineEnd();h.polygonEnd()};return l};return d.scale(87.8076).center([0,17.1875]).clipAngle(179.999)};a.geoBerghausRaw=r;a.geoBertin1953=function(){return b.geoProjection(k()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])};a.geoBertin1953Raw=k;a.geoBoggs=function(){return b.geoProjection(O).scale(160.857)};
a.geoBoggsRaw=O;a.geoBonne=function(){return c(ba).scale(123.082).center([0,26.1441]).parallel(45)};a.geoBonneRaw=ba;a.geoBottomley=function(){var a=.5,c=b.geoProjectionMutator(L),d=c(a);d.fraction=function(b){return arguments.length?c(a=+b):a};return d.scale(158.837)};a.geoBottomleyRaw=L;a.geoBromley=function(){return b.geoProjection(Rc).scale(152.63)};a.geoBromleyRaw=Rc;a.geoChamberlin=qa;a.geoChamberlinRaw=ia;a.geoChamberlinAfrica=function(){return qa([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,
2])};a.geoCollignon=function(){return b.geoProjection(g).scale(95.6464).center([0,30])};a.geoCollignonRaw=g;a.geoCraig=function(){return c(d).scale(249.828).clipAngle(90)};a.geoCraigRaw=d;a.geoCraster=function(){return b.geoProjection(M).scale(156.19)};a.geoCrasterRaw=M;a.geoCylindricalEqualArea=function(){return c(Q).parallel(38.58).scale(195.044)};a.geoCylindricalEqualAreaRaw=Q;a.geoCylindricalStereographic=function(){return c(la).scale(124.75)};a.geoCylindricalStereographicRaw=la;a.geoEckert1=
function(){return b.geoProjection(I).scale(165.664)};a.geoEckert1Raw=I;a.geoEckert2=function(){return b.geoProjection(ha).scale(165.664)};a.geoEckert2Raw=ha;a.geoEckert3=function(){return b.geoProjection(aa).scale(180.739)};a.geoEckert3Raw=aa;a.geoEckert4=function(){return b.geoProjection(sa).scale(180.739)};a.geoEckert4Raw=sa;a.geoEckert5=function(){return b.geoProjection(ya).scale(173.044)};a.geoEckert5Raw=ya;a.geoEckert6=function(){return b.geoProjection(Na).scale(173.044)};a.geoEckert6Raw=Na;
a.geoEisenlohr=function(){return b.geoProjection(Ea).scale(62.5271)};a.geoEisenlohrRaw=Ea;a.geoFahey=function(){return b.geoProjection(Ma).scale(137.152)};a.geoFaheyRaw=Ma;a.geoFoucaut=function(){return b.geoProjection(U).scale(135.264)};a.geoFoucautRaw=U;a.geoFoucautSinusoidal=function(){var a=.5,c=b.geoProjectionMutator(Ba),d=c(a);d.alpha=function(b){return arguments.length?c(a=+b):a};return d.scale(168.725)};a.geoFoucautSinusoidalRaw=Ba;a.geoGilbert=function(a){function c(a){return e([a[0]/2,u(Za(a[1]/
2*Aa))*Ga])}function d(a){c[a]=function(){return arguments.length?(e[a].apply(e,arguments),c):e[a]()}}null==a&&(a=b.geoOrthographic);var e=a(),f=b.geoEquirectangular().scale(Ga).precision(0).clipAngle(null).translate([0,0]);e.invert&&(c.invert=function(a){return l(e.invert(a))});c.stream=function(a){var b=e.stream(a);a=f.stream({point:function(a,c){b.point(a/2,u(Za(-c/2*Aa))*Ga)},lineStart:function(){b.lineStart()},lineEnd:function(){b.lineEnd()},polygonStart:function(){b.polygonStart()},polygonEnd:function(){b.polygonEnd()}});
a.sphere=b.sphere;return a};c.rotate=function(a){return arguments.length?(f.rotate(a),c):f.rotate()};c.center=function(a){return arguments.length?(e.center([a[0]/2,u(Za(a[1]/2*Aa))*Ga]),c):l(e.center())};d("angle");d("clipAngle");d("clipExtent");d("fitExtent");d("fitHeight");d("fitSize");d("fitWidth");d("scale");d("translate");d("precision");return c.scale(249.5)};a.geoGingery=function(){var a=6,c=30*Aa,d=X(c),e=ca(c),f=b.geoProjectionMutator(v),g=f(c,a),l=g.stream,h=-X(.01*Aa),m=ca(.01*Aa);g.radius=
function(b){if(!arguments.length)return c*Ga;d=X(c=b*Aa);e=ca(c);return f(c,a)};g.lobes=function(b){return arguments.length?f(c,a=+b):a};g.stream=function(b){var c=g.rotate(),f=l(b),n=(g.rotate([0,0]),l(b));g.rotate(c);f.sphere=function(){n.polygonStart();n.lineStart();for(var b=0,c=2*Y/a,f=0;b<a;++b,f-=c)n.point(ib(m*X(f),h)*Ga,u(m*ca(f))*Ga),n.point(ib(e*X(f-c/2),d)*Ga,u(e*ca(f-c/2))*Ga);n.lineEnd();n.polygonEnd()};return f};return g.rotate([90,-40]).scale(91.7095).clipAngle(179.999)};a.geoGingeryRaw=
v;a.geoGinzburg4=function(){return b.geoProjection(Da).scale(149.995)};a.geoGinzburg4Raw=Da;a.geoGinzburg5=function(){return b.geoProjection(qd).scale(153.93)};a.geoGinzburg5Raw=qd;a.geoGinzburg6=function(){return b.geoProjection(Ac).scale(130.945)};a.geoGinzburg6Raw=Ac;a.geoGinzburg8=function(){return b.geoProjection(Ua).scale(131.747)};a.geoGinzburg8Raw=Ua;a.geoGinzburg9=function(){return b.geoProjection(ne).scale(131.087)};a.geoGinzburg9Raw=ne;a.geoGringorten=function(){return b.geoProjection(da(oa)).scale(239.75)};
a.geoGringortenRaw=oa;a.geoGuyou=function(){return b.geoProjection(da(fa)).scale(151.496)};a.geoGuyouRaw=fa;a.geoHammer=function(){var a=2,c=b.geoProjectionMutator(S),d=c(a);d.coefficient=function(b){return arguments.length?c(a=+b):a};return d.scale(169.529)};a.geoHammerRaw=S;a.geoHammerRetroazimuthal=function(){var a=0,c=b.geoProjectionMutator(cb),d=c(a),e=d.rotate,f=d.stream,g=b.geoCircle();d.parallel=function(b){if(!arguments.length)return a*Ga;var f=d.rotate();return c(a=b*Aa).rotate(f)};d.rotate=
function(b){if(!arguments.length)return b=e.call(d),b[1]+=a*Ga,b;e.call(d,[b[0],b[1]-a*Ga]);g.center([-b[0],-b[1]]);return d};d.stream=function(a){a=f(a);a.sphere=function(){a.polygonStart();var b=g.radius(89.99)().coordinates[0],c=b.length-1,d=-1,f;for(a.lineStart();++d<c;)a.point((f=b[d])[0],f[1]);a.lineEnd();b=g.radius(90.01)().coordinates[0];for(a.lineStart();0<=--d;)a.point((f=b[d])[0],f[1]);a.lineEnd();a.polygonEnd()};return a};return d.scale(79.4187).parallel(45).clipAngle(179.999)};a.geoHammerRetroazimuthalRaw=
cb;a.geoHealpix=function(){var a=4,c=b.geoProjectionMutator(fb),d=c(a),e=d.stream;d.lobes=function(b){return arguments.length?c(a=+b):a};d.stream=function(c){var f=d.rotate(),g=e(c),l=(d.rotate([0,0]),e(c));d.rotate(f);g.sphere=function(){b.geoStream(ub(180/a),l)};return g};return d.scale(239.75)};a.geoHealpixRaw=fb;a.geoHill=function(){var a=1,c=b.geoProjectionMutator(Rb),d=c(a);d.ratio=function(b){return arguments.length?c(a=+b):a};return d.scale(167.774).center([0,18.67])};a.geoHillRaw=Rb;a.geoHomolosine=
function(){return b.geoProjection(Bb).scale(152.63)};a.geoHomolosineRaw=Bb;a.geoHufnagel=function(){var a=1,c=0,d=45*Aa,e=2,f=b.geoProjectionMutator(ka),g=f(a,c,d,e);g.a=function(b){return arguments.length?f(a=+b,c,d,e):a};g.b=function(b){return arguments.length?f(a,c=+b,d,e):c};g.psiMax=function(b){return arguments.length?f(a,c,d=+b*Aa,e):d*Ga};g.ratio=function(b){return arguments.length?f(a,c,d,e=+b):e};return g.scale(180.739)};a.geoHufnagelRaw=ka;a.geoHyperelliptical=function(){var a=0,c=2.5,d=
1.183136,e=b.geoProjectionMutator($a),f=e(a,c,d);f.alpha=function(b){return arguments.length?e(a=+b,c,d):a};f.k=function(b){return arguments.length?e(a,c=+b,d):c};f.gamma=function(b){return arguments.length?e(a,c,d=+b):d};return f.scale(152.63)};a.geoHyperellipticalRaw=$a;a.geoInterrupt=rb;a.geoInterruptedBoggs=function(){return rb(O,hd).scale(160.857)};a.geoInterruptedHomolosine=function(){return rb(Bb,Wc).scale(152.63)};a.geoInterruptedMollweide=function(){return rb(Qc,zd).scale(169.529)};a.geoInterruptedMollweideHemispheres=
function(){return rb(Qc,Xc).scale(169.529).rotate([20,0])};a.geoInterruptedSinuMollweide=function(){return rb(Va,Vd,p).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};a.geoInterruptedSinusoidal=function(){return rb(h,Lc).scale(152.63).rotate([-20,0])};a.geoKavrayskiy7=function(){return b.geoProjection(Tb).scale(158.837)};a.geoKavrayskiy7Raw=Tb;a.geoLagrange=function(){var a=.5,c=b.geoProjectionMutator(Eb),d=c(a);d.spacing=function(b){return arguments.length?c(a=+b):a};return d.scale(124.75)};
a.geoLagrangeRaw=Eb;a.geoLarrivee=function(){return b.geoProjection(Xa).scale(97.2672)};a.geoLarriveeRaw=Xa;a.geoLaskowski=function(){return b.geoProjection(xa).scale(139.98)};a.geoLaskowskiRaw=xa;a.geoLittrow=function(){return b.geoProjection(Fb).scale(144.049).clipAngle(89.999)};a.geoLittrowRaw=Fb;a.geoLoximuthal=function(){return c(qc).parallel(40).scale(158.837)};a.geoLoximuthalRaw=qc;a.geoMiller=function(){return b.geoProjection(Sb).scale(108.318)};a.geoMillerRaw=Sb;a.geoModifiedStereographic=
fc;a.geoModifiedStereographicRaw=ab;a.geoModifiedStereographicAlaska=function(){return fc(oe,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)};a.geoModifiedStereographicGs48=function(){return fc(nc,[95,-38]).scale(1E3).clipAngle(55).center([-96.5563,38.8675])};a.geoModifiedStereographicGs50=function(){return fc(oc,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])};a.geoModifiedStereographicMiller=function(){return fc(Ib,[-20,-18]).scale(209.091).center([20,
16.7214]).clipAngle(82)};a.geoModifiedStereographicLee=function(){return fc(Xb,[165,10]).scale(250).clipAngle(130).center([-165,-10])};a.geoMollweide=function(){return b.geoProjection(Qc).scale(169.529)};a.geoMollweideRaw=Qc;a.geoMtFlatPolarParabolic=function(){return b.geoProjection(sb).scale(164.859)};a.geoMtFlatPolarParabolicRaw=sb;a.geoMtFlatPolarQuartic=function(){return b.geoProjection(ac).scale(188.209)};a.geoMtFlatPolarQuarticRaw=ac;a.geoMtFlatPolarSinusoidal=function(){return b.geoProjection(gb).scale(166.518)};
a.geoMtFlatPolarSinusoidalRaw=gb;a.geoNaturalEarth2=function(){return b.geoProjection(db).scale(175.295)};a.geoNaturalEarth2Raw=db;a.geoNellHammer=function(){return b.geoProjection(Ob).scale(152.63)};a.geoNellHammerRaw=Ob;a.geoInterruptedQuarticAuthalic=function(){return rb(S(Infinity),bd).rotate([20,0]).scale(152.63)};a.geoNicolosi=function(){return b.geoProjection(gc).scale(127.267)};a.geoNicolosiRaw=gc;a.geoPatterson=function(){return b.geoProjection(jc).scale(139.319)};a.geoPattersonRaw=jc;a.geoPolyconic=
function(){return b.geoProjection(Ic).scale(103.74)};a.geoPolyconicRaw=Ic;a.geoPolyhedral=Nc;a.geoPolyhedralButterfly=function(a){a=a||function(a){a=b.geoCentroid({type:"MultiPoint",coordinates:a});return b.geoGnomonic().scale(1).translate([0,0]).rotate([-a[0],-a[1]])};var c=cd.map(function(b){return{face:b,project:a(b)}});[-1,0,0,1,0,1,4,5].forEach(function(a,b){(a=c[a])&&(a.children||(a.children=[])).push(c[b])});return Nc(c[0],function(a,b){return c[a<-Y/2?0>b?6:4:0>a?0>b?2:0:a<Y/2?0>b?3:1:0>b?
7:5]}).angle(-30).scale(101.858).center([0,45])};a.geoPolyhedralCollignon=function(a){a=a||function(a){a=b.geoCentroid({type:"MultiPoint",coordinates:a});return b.geoProjection(hc).translate([0,0]).scale(1).rotate(0<a[1]?[-a[0],0]:[180-a[0],180])};var c=cd.map(function(b){return{face:b,project:a(b)}});[-1,0,0,1,0,1,4,5].forEach(function(a,b){(a=c[a])&&(a.children||(a.children=[])).push(c[b])});return Nc(c[0],function(a,b){return c[a<-Y/2?0>b?6:4:0>a?0>b?2:0:a<Y/2?0>b?3:1:0>b?7:5]}).angle(-30).scale(121.906).center([0,
48.5904])};a.geoPolyhedralWaterman=function(a){a=a||function(a){a=6===a.length?b.geoCentroid({type:"MultiPoint",coordinates:a}):a[0];return b.geoGnomonic().scale(1).translate([0,0]).rotate([-a[0],-a[1]])};var c=cd.map(function(a){a=a.map(ud);for(var b=a.length,c=a[b-1],d,f=[],e=0;e<b;++e)d=a[e],f.push(uc([.9486832980505138*c[0]+.31622776601683794*d[0],.9486832980505138*c[1]+.31622776601683794*d[1],.9486832980505138*c[2]+.31622776601683794*d[2]]),uc([.9486832980505138*d[0]+.31622776601683794*c[0],
.9486832980505138*d[1]+.31622776601683794*c[1],.9486832980505138*d[2]+.31622776601683794*c[2]])),c=d;return f}),d=[],e=[-1,0,0,1,0,1,4,5];c.forEach(function(a,b){for(var f=cd[b],g=f.length,l=d[b]=[],h=0;h<g;++h)c.push([f[h],a[(2*h+2)%(2*g)],a[(2*h+1)%(2*g)]]),e.push(b),l.push(mc(ud(a[(2*h+2)%(2*g)]),ud(a[(2*h+1)%(2*g)])))});var f=c.map(function(b){return{project:a(b),face:b}});e.forEach(function(a,b){(a=f[a])&&(a.children||(a.children=[])).push(f[b])});return Nc(f[0],function(a,b){var c=X(b);c=[c*
X(a),c*ca(a),ca(b)];a=a<-Y/2?0>b?6:4:0>a?0>b?2:0:a<Y/2?0>b?3:1:0>b?7:5;b=d[a];return f[0>lc(b[0],c)?8+3*a:0>lc(b[1],c)?3*a+9:0>lc(b[2],c)?3*a+10:a]}).angle(-30).scale(110.625).center([0,45])};a.geoProject=function(a,b){b=b.stream;if(!b)throw Error("invalid projection");switch(a&&a.type){case "Feature":var c=Oc;break;case "FeatureCollection":c=ae;break;default:c=kd}return c(a,b)};a.geoGringortenQuincuncial=function(){return $c(oa).scale(176.423)};a.geoPeirceQuincuncial=Mb;a.geoPierceQuincuncial=Mb;
a.geoQuantize=function(a,b){function c(a){var c=a.length,d=2,f=Array(c);f[0]=+a[0].toFixed(b);for(f[1]=+a[1].toFixed(b);d<c;)f[d]=a[d],++d;return f}function d(a){for(var b=c(a[0]),d=[b],f=1;f<a.length;f++){var e=c(a[f]);if(2<e.length||e[0]!=b[0]||e[1]!=b[1])d.push(e),b=e}1===d.length&&1<a.length&&d.push(c(a[a.length-1]));return d}function f(a){return a.map(d)}function e(a){if(null==a)return a;switch(a.type){case "GeometryCollection":var b={type:"GeometryCollection",geometries:a.geometries.map(e)};
break;case "Point":b={type:"Point",coordinates:c(a.coordinates)};break;case "MultiPoint":b={type:a.type,coordinates:a.coordinates.map(c)};break;case "LineString":b={type:a.type,coordinates:d(a.coordinates)};break;case "MultiLineString":case "Polygon":b={type:a.type,coordinates:f(a.coordinates)};break;case "MultiPolygon":b={type:"MultiPolygon",coordinates:a.coordinates.map(f)};break;default:return a}null!=a.bbox&&(b.bbox=a.bbox);return b}function g(a){var b={type:"Feature",properties:a.properties,
geometry:e(a.geometry)};null!=a.id&&(b.id=a.id);null!=a.bbox&&(b.bbox=a.bbox);return b}if(!(0<=(b=+b)&&20>=b))throw Error("invalid digits");if(null!=a)switch(a.type){case "Feature":return g(a);case "FeatureCollection":var l={type:"FeatureCollection",features:a.features.map(g)};null!=a.bbox&&(l.bbox=a.bbox);return l;default:return e(a)}return a};a.geoQuincuncial=$c;a.geoRectangularPolyconic=function(){return c(lb).scale(131.215)};a.geoRectangularPolyconicRaw=lb;a.geoRobinson=function(){return b.geoProjection(ld).scale(152.63)};
a.geoRobinsonRaw=ld;a.geoSatellite=function(){var a=2,c=0,d=b.geoProjectionMutator(Gd),e=d(a,c);e.distance=function(b){return arguments.length?d(a=+b,c):a};e.tilt=function(b){return arguments.length?d(a,c=b*Aa):c*Ga};return e.scale(432.147).clipAngle(w(1/a)*Ga-1E-6)};a.geoSatelliteRaw=Gd;a.geoSinuMollweide=function(){return b.geoProjection(Va).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};a.geoSinuMollweideRaw=Va;a.geoSinusoidal=function(){return b.geoProjection(h).scale(152.63)};a.geoSinusoidalRaw=
h;a.geoStitch=function(a){if(null==a)return a;switch(a.type){case "Feature":return Jd(a);case "FeatureCollection":var b={type:"FeatureCollection",features:a.features.map(Jd)};null!=a.bbox&&(b.bbox=a.bbox);return b;default:return Pc(a)}};a.geoTimes=function(){return b.geoProjection(Kd).scale(146.153)};a.geoTimesRaw=Kd;a.geoTwoPointAzimuthal=Ld;a.geoTwoPointAzimuthalRaw=xd;a.geoTwoPointAzimuthalUsa=function(){return Ld([-158,21.5],[-77,39]).clipAngle(60).scale(400)};a.geoTwoPointEquidistant=Nd;a.geoTwoPointEquidistantRaw=
Md;a.geoTwoPointEquidistantUsa=function(){return Nd([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)};a.geoVanDerGrinten=function(){return b.geoProjection(nb).scale(79.4183)};a.geoVanDerGrintenRaw=nb;a.geoVanDerGrinten2=function(){return b.geoProjection(hb).scale(79.4183)};a.geoVanDerGrinten2Raw=hb;a.geoVanDerGrinten3=function(){return b.geoProjection(vb).scale(79.4183)};a.geoVanDerGrinten3Raw=vb;a.geoVanDerGrinten4=function(){return b.geoProjection(yd).scale(127.16)};a.geoVanDerGrinten4Raw=yd;
a.geoWagner=Ia;a.geoWagner7=function(){return Ia().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)};a.geoWagnerRaw=Gb;a.geoWagner4=function(){return b.geoProjection(Tc).scale(176.84)};a.geoWagner4Raw=Tc;a.geoWagner6=function(){return b.geoProjection(Ha).scale(152.63)};a.geoWagner6Raw=Ha;a.geoWiechel=function(){return b.geoProjection(eb).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)};a.geoWiechelRaw=eb;a.geoWinkel3=function(){return b.geoProjection(Nb).scale(158.837)};a.geoWinkel3Raw=
Nb;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[49]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(47),w(48)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-geo-projection"],b):(a=a||self,b(a.vega={},a.d3,a.d3GeoProjection))})(this,function(a,b,e){function u(a,e){return function W(){var r=e();r.type=a;r.path=b.geoPath().projection(r);r.copy=r.copy||function(){var a=W();C.forEach(function(b){if(r[b])a[b](r[b]())});a.path.pointRadius(r.path.pointRadius());return a};return r}}
function w(a,b){if(!a||"string"!==typeof a)throw Error("Projection type must be a name string.");a=a.toLowerCase();return 1<arguments.length?(G[a]=u(a,b),this):G[a]||null}var t=b.geoPath(),C="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),G={albers:b.geoAlbers,albersusa:b.geoAlbersUsa,azimuthalequalarea:b.geoAzimuthalEqualArea,azimuthalequidistant:b.geoAzimuthalEquidistant,
conicconformal:b.geoConicConformal,conicequalarea:b.geoConicEqualArea,conicequidistant:b.geoConicEquidistant,equalEarth:b.geoEqualEarth,equirectangular:b.geoEquirectangular,gnomonic:b.geoGnomonic,identity:b.geoIdentity,mercator:b.geoMercator,mollweide:e.geoMollweide,naturalEarth1:b.geoNaturalEarth1,orthographic:b.geoOrthographic,stereographic:b.geoStereographic,transversemercator:b.geoTransverseMercator},P;for(P in G)w(P,G[P]);a.getProjectionPath=function(a){return a&&a.path||t};a.projection=w;a.projectionProperties=
C;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[50]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(31),w(21),w(32),w(33),w(49),w(47),w(41),w(36)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util d3-array vega-statistics vega-projection d3-geo d3-color vega-canvas".split(" "),b):(a=a||self,b((a.vega=a.vega||{},a.vega.transforms={}),a.vega,a.vega,a.d3,a.vega,a.vega,a.d3,a.d3,a.vega))})(this,function(a,b,e,u,w,t,C,G,P){function H(){}function T(){function a(a,c){return c.map(c=>
b(a,c))}function b(a,b){var d=[],e=[];c(a,b,function(c){k(c,a,b);for(var g=0,l=c.length,h=c[l-1][1]*c[0][0]-c[l-1][0]*c[0][1];++g<l;)h+=c[g-1][1]*c[g][0]-c[g-1][0]*c[g][1];0<h?d.push([c]):e.push(c)});e.forEach(function(a){for(var b=0,c=d.length,e;b<c;++b){a:{var g=(e=d[b])[0];for(var l=a,h=-1,m=l.length;++h<m;){b:{var k=g;for(var v=l[h],p=v[0],x=v[1],r=-1,B=0,t=k.length,E=t-1;B<t;E=B++){var L=k[B],D=L[0],z=L[1],O=k[E];E=O[0];var u=O[1],ba,J=L;L=O;O=v;if(ba=(L[0]-J[0])*(O[1]-J[1])===(O[0]-J[0])*(L[1]-
J[1]))J=J[ba=+(J[0]===L[0])],O=O[ba],L=L[ba],ba=J<=O&&O<=L||L<=O&&O<=J;if(ba){k=0;break b}z>x!==u>x&&p<(E-D)*(x-z)/(u-z)+D&&(r=-r)}k=r}if(k){g=k;break a}}g=0}if(-1!==g){e.push(a);break}}});return{type:"MultiPolygon",value:b,coordinates:d}}function c(a,b,c){function d(a){var b=[a[0][0]+k,a[0][1]+m];a=[a[1][0]+k,a[1][1]+m];var d=2*b[0]+b[1]*(g+1)*4,h=2*a[0]+a[1]*(g+1)*4,v,p;(v=l[d])?(p=e[h])?(delete l[v.end],delete e[p.start],v===p?(v.ring.push(a),c(v.ring)):e[v.start]=l[p.end]={start:v.start,end:p.end,
ring:v.ring.concat(p.ring)}):(delete l[v.end],v.ring.push(a),l[v.end=h]=v):(v=e[h])?(p=l[d])?(delete e[v.start],delete l[p.end],v===p?(v.ring.push(a),c(v.ring)):e[p.start]=l[v.end]={start:p.start,end:v.end,ring:p.ring.concat(v.ring)}):(delete e[v.start],v.ring.unshift(b),e[v.start=d]=v):e[d]=l[h]={start:d,end:h,ring:[b,a]}}var e=[],l=[],m;var k=m=-1;var v=a[0]>=b;for(Ea[v<<1].forEach(d);++k<g-1;){var p=v;v=a[k+1]>=b;Ea[p|v<<1].forEach(d)}for(Ea[v<<0].forEach(d);++m<h-1;){k=-1;v=a[m*g+g]>=b;var x=
a[m*g]>=b;for(Ea[v<<1|x<<2].forEach(d);++k<g-1;){p=v;v=a[m*g+g+k+1]>=b;var r=x;x=a[m*g+k+1]>=b;Ea[p|v<<1|x<<2|r<<3].forEach(d)}Ea[v|x<<3].forEach(d)}k=-1;x=a[m*g]>=b;for(Ea[x<<2].forEach(d);++k<g-1;)r=x,x=a[m*g+k+1]>=b,Ea[x<<2|r<<3].forEach(d);Ea[x<<3].forEach(d)}function d(a,b,c){a.forEach(function(a){var d=a[0],e=a[1],l=d|0,m=e|0,k=b[m*g+l];if(0<d&&d<g&&l===d){var v=b[m*g+l-1];a[0]=d+(c-v)/(k-v)-.5}0<e&&e<h&&m===e&&(v=b[(m-1)*g+l],a[1]=e+(c-v)/(k-v)-.5)})}var g=1,h=1,k=d;a.contour=b;a.size=function(b){if(!arguments.length)return[g,
h];var c=Math.ceil(b[0]),d=Math.ceil(b[1]);0<c&&0<d||e.error("invalid size");return g=c,h=d,a};a.smooth=function(b){return arguments.length?(k=b?d:H,a):k===d};return a}function F(a,b,c){return function(d){var g=e.extent(d);d=c?Math.min(g[0],0):g[0];g=g[1];var l=g-d;d=b?u.tickStep(d,g,a):l/(a+1);return u.range(d,g,d)}}function W(a){b.Transform.call(this,null,a)}function r(a,b,c){const d=F(c.levels||10,c.nice,!1!==c.zero);return"shared"!==c.resolve?d:d(a.map(a=>u.max(b(a).values)))}function S(a,b,c,
d){var g=d.scale||b.scale;let l=d.translate||b.translate;e.isFunction(g)&&(g=g(c,d));e.isFunction(l)&&(l=l(c,d));if(1!==g&&null!=g||l)c=(e.isNumber(g)?g:g[0])||1,g=(e.isNumber(g)?g:g[1])||1,a.forEach(z(b,c,g,l&&l[0]||0,l&&l[1]||0))}function z(a,b,c,d,e){function g(a){a.forEach(l)}function l(a){p&&a.reverse();a.forEach(h)}function h(a){a[0]=(a[0]-k)*b+d;a[1]=(a[1]-v)*c+e}const k=a.x1||0,v=a.y1||0,p=0>b*c;return function(a){a.coordinates.forEach(g);return a}}function J(a,b,c){a=0<=a?a:w.bandwidthNRD(b,
c);return Math.round((Math.sqrt(4*a*a+1)-1)/2)}function p(a){return e.isFunction(a)?a:e.constant(+a)}function k(){function a(a,e){const l=J(g[0],a,b)>>r,m=J(g[1],a,c)>>r,v=l?l+2:0,p=m?m+2:0,x=2*v+(h>>r),B=2*p+(k>>r),t=new Float32Array(x*B),E=new Float32Array(x*B);let L=t;a.forEach(a=>{const e=v+(+b(a)>>r),g=p+(+c(a)>>r);0<=e&&e<x&&0<=g&&g<B&&(t[e+g*x]+=+d(a))});0<l&&0<m?(N(x,B,t,E,l),D(x,B,E,t,m),N(x,B,t,E,l),D(x,B,E,t,m),N(x,B,t,E,l),D(x,B,E,t,m)):0<l?(N(x,B,t,E,l),N(x,B,E,t,l),N(x,B,t,E,l),L=E):
0<m&&(D(x,B,t,E,m),D(x,B,E,t,m),D(x,B,t,E,m),L=E);a=e?Math.pow(2,-2*r):1/u.sum(L);for(let b=0,c=x*B;b<c;++b)L[b]*=a;return{values:L,scale:1<<r,width:x,height:B,x1:v,y1:p,x2:v+(h>>r),y2:p+(k>>r)}}var b=a=>a[0],c=a=>a[1],d=e.one,g=[-1,-1],h=960,k=500,r=2;a.x=function(c){return arguments.length?(b=p(c),a):b};a.y=function(b){return arguments.length?(c=p(b),a):c};a.weight=function(b){return arguments.length?(d=p(b),a):d};a.size=function(b){if(!arguments.length)return[h,k];var c=Math.ceil(b[0]),d=Math.ceil(b[1]);
0<=c||0<=c||e.error("invalid size");return h=c,k=d,a};a.cellSize=function(b){if(!arguments.length)return 1<<r;1<=(b=+b)||e.error("invalid cell size");r=Math.floor(Math.log(b)/Math.LN2);return a};a.bandwidth=function(b){if(!arguments.length)return g;b=e.array(b);1===b.length&&(b=[+b[0],+b[0]]);2!==b.length&&e.error("invalid bandwidth");return g=b,a};return a}function N(a,b,c,d,e){const g=(e<<1)+1;for(let l=0;l<b;++l)for(let b=0,h=0;b<a+e;++b)b<a&&(h+=c[b+l*a]),b>=e&&(b>=g&&(h-=c[b-g+l*a]),d[b-e+l*
a]=h/Math.min(b+1,a-1+g-b,g))}function D(a,b,c,d,e){const g=(e<<1)+1;for(let l=0;l<a;++l)for(let h=0,m=0;h<b+e;++h)h<b&&(m+=c[l+h*a]),h>=e&&(h>=g&&(m-=c[l+(h-g)*a]),d[l+(h-e)*a]=m/Math.min(h+1,b-1+g-h,g))}function O(a){b.Transform.call(this,null,a)}function c(a,b){Ma.forEach(c=>null!=b[c]?a[c](b[c]):0);return a}function h(a,b){var c=[],d=a=>a(k),e;if(null==b)c.push(a);else{var g={};var h=0;for(e=a.length;h<e;++h){var k=a[h];var p=b.map(d);var r=g[p];r||(g[p]=r=[],r.dims=p,c.push(r));r.push(k)}}return c}
function ba(a){b.Transform.call(this,null,a)}function L(a){b.Transform.call(this,null,a)}function ma(a){b.Transform.call(this,null,a)}function B(a,b){var c=a.pointRadius();a.context(null);null!=b&&a.pointRadius(b);return c}function ia(a){b.Transform.call(this,null,a)}function va(a){b.Transform.call(this,null,a)}function qa(a,b,c){var d=null==c?function(c){return a(b(c))}:function(d){var e=a.pointRadius();d=a.pointRadius(c)(b(d));a.pointRadius(e);return d};d.context=function(b){a.context(b);return d};
return d}function g(a){b.Transform.call(this,[],a);this.generator=C.geoGraticule()}function d(a){b.Transform.call(this,null,a)}function M(a,b){let c;e.isFunction(a)?(c=c=>G.rgb(a(c,b)),c.dep=la(a)):c=e.constant(G.rgb(a||"#888"));return c}function Q(a,b){let c;e.isFunction(a)?(c=c=>a(c,b),c.dep=la(a)):a?c=e.constant(a):(c=a=>a.$value/a.$max||0,c.dep=!0);return c}function la(a){if(!e.isFunction(a))return!1;a=e.toSet(e.accessorFields(a));return a.$x||a.$y||a.$value||a.$max}function I(a,b,c,d){const g=
a.width;var l=a.height;const h=a.x1||0,k=a.y1||0,v=a.x2||g;l=a.y2||l;const p=a.values;a=p?a=>p[a]:e.zero;const r=P.canvas(v-h,l-k),B=r.getContext("2d"),t=B.getImageData(0,0,v-h,l-k),L=t.data;for(let e=k,m=0;e<l;++e){b.$y=e-k;for(let l=h,k=e*g;l<v;++l,m+=4){b.$x=l-h;b.$value=a(l+k);const e=c(b);L[m+0]=e.r;L[m+1]=e.g;L[m+2]=e.b;L[m+3]=~~(255*d(b))}}B.putImageData(t,0,0);return r}function ha(a){b.Transform.call(this,null,a);this.modified(!0)}function aa(a,b){var c=cc(b.fit);b.extent?a.fitExtent(b.extent,
c):b.size?a.fitSize(b.size,c):0}function Sa(a){var b=t.projection((a||"mercator").toLowerCase());b||e.error("Unrecognized projection type: "+a);return b()}function cc(a){a=e.array(a);return 1===a.length?a[0]:{type:"FeatureCollection",features:a.reduce((a,b)=>a.concat(Na(b)),[])}}function Na(a){return"FeatureCollection"===a.type?a.features:e.array(a).filter(a=>null!=a).map(a=>"Feature"===a.type?a:{type:"Feature",geometry:a})}const Ea=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,
.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];W.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],
"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};e.inherits(W,b.Transform).transform=function(a,c){if(this.value&&!c.changed()&&!a.modified())return c.StopPropagation;var d=c.fork(c.NO_SOURCE|c.NO_FIELDS);c=c.materialize(c.SOURCE).source;var g=a.field||e.identity,h=T().smooth(!1!==a.smooth),m=
a.thresholds||r(c,g,a),k=null===a.as?null:a.as||"contour",p=[];c.forEach(c=>{const d=g(c),l=h.size([d.width,d.height])(d.values,e.isArray(m)?m:m(d.values));S(l,d,c,a);l.forEach(a=>{p.push(b.rederive(c,b.ingest(null!=k?{[k]:a}:a)))})});this.value&&(d.rem=this.value);this.value=d.source=d.add=p;return d};O.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",
type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const Ma="x y weight size cellSize bandwidth".split(" ");e.inherits(O,b.Transform).transform=function(a,d){function g(a,b){for(let c=0;c<p.length;++c)a[p[c]]=b[c];return a}if(this.value&&!d.changed()&&!a.modified())return d.StopPropagation;var v=d.fork(d.NO_SOURCE|d.NO_FIELDS);
d=d.materialize(d.SOURCE).source;d=h(d,a.groupby);var p=(a.groupby||[]).map(e.accessorName),m=c(k(),a),r=a.as||"grid",B=[];B=d.map(c=>b.ingest(g({[r]:m(c,a.counts)},c.dims)));this.value&&(v.rem=this.value);this.value=v.source=v.add=B;return v};ba.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},
{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};e.inherits(ba,b.Transform).transform=function(a,d){if(this.value&&!d.changed()&&!a.modified())return d.StopPropagation;var g=d.fork(d.NO_SOURCE|d.NO_FIELDS),h=T().smooth(!1!==a.smooth),p=a.values,m=a.thresholds||F(a.count||10,a.nice,!!p),r=a.size;if(!p){p=d.materialize(d.SOURCE).source;a=c(k(),a)(p,!0);var B=
z(a,a.scale||1,a.scale||1,0,0);r=[a.width,a.height];p=a.values}m=e.isArray(m)?m:m(p);p=h.size(r)(p,m);B&&p.forEach(B);this.value&&(g.rem=this.value);this.value=g.source=g.add=(p||[]).map(b.ingest);return g};L.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};e.inherits(L,b.Transform).transform=function(a,b){var c=this._features,d=this._points,g=a.fields,h=g&&g[0],k=g&&g[1],p=a.geojson||!g&&e.identity;g=b.ADD;a=a.modified()||
b.changed(b.REM)||b.modified(e.accessorFields(p))||h&&b.modified(e.accessorFields(h))||k&&b.modified(e.accessorFields(k));if(!this.value||a)g=b.SOURCE,this._features=c=[],this._points=d=[];p&&b.visit(g,function(a){c.push(p(a))});h&&k&&(b.visit(g,function(a){var b=h(a);a=k(a);null!=b&&null!=a&&(b=+b)===b&&(a=+a)===a&&d.push([b,a])}),c=c.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:d}}));this.value={type:"FeatureCollection",features:c}};ma.Definition={type:"GeoPath",metadata:{modifies:!0},
params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};e.inherits(ma,b.Transform).transform=function(a,b){var c=b.fork(b.ALL),d=this.value,g=a.field||e.identity,h=a.as||"path",k=c.SOURCE;!d||a.modified()?(this.value=d=t.getProjectionPath(a.projection),c.materialize().reflow()):k=g===e.identity||b.modified(g.fields)?c.ADD_MOD:c.ADD;a=B(d,a.pointRadius);c.visit(k,function(a){a[h]=d(g(a))});d.pointRadius(a);
return c.modifies(h)};ia.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};e.inherits(ia,b.Transform).transform=function(a,b){function c(a){var b=d([e(a),g(a)]);b?(a[k]=b[0],a[p]=b[1]):(a[k]=void 0,a[p]=void 0)}var d=a.projection,e=a.fields[0],g=a.fields[1],h=a.as||["x","y"],k=h[0],p=h[1];a.modified()?b=b.materialize().reflow(!0).visit(b.SOURCE,
c):(a=b.modified(e.fields)||b.modified(g.fields),b.visit(a?b.ADD_MOD:b.ADD,c));return b.modifies(h)};va.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};e.inherits(va,b.Transform).transform=function(a,b){b=b.fork(b.ALL);var c=this.value,d=a.as||"shape",g=b.ADD;if(!c||a.modified())this.value=c=qa(t.getProjectionPath(a.projection),
a.field||e.field("datum"),a.pointRadius),b.materialize().reflow(),g=b.SOURCE;b.visit(g,function(a){a[d]=c});return b.modifies(d)};g.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",
array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};e.inherits(g,b.Transform).transform=function(a,c){var d=this.value,g=this.generator;if(!d.length||a.modified())for(var h in a)if(e.isFunction(g[h]))g[h](a[h]);a=g();d.length?c.mod.push(b.replace(d[0],a)):c.add.push(b.ingest(a));d[0]=a;return c};d.Definition={type:"heatmap",metadata:{modifies:!0},
params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"as",type:"string","default":"image"}]};e.inherits(d,b.Transform).transform=function(a,b){if(!b.changed()&&!a.modified())return b.StopPropagation;var c=b.materialize(b.SOURCE).source,d="shared"===a.resolve,g=a.field||e.identity,h=Q(a.opacity,a),k=M(a.color,a),p=a.as||"image",r={$x:0,$y:0,$value:0,
$max:d?u.max(c.map(a=>u.max(g(a).values))):0};c.forEach(a=>{const b=g(a),c=e.extend({},a,r);d||(c.$max=u.max(b.values||[]));a[p]=I(b,c,k.dep?k:e.constant(k(c)),h.dep?h:e.constant(h(c)))});return b.reflow(!0).modifies(p)};e.inherits(ha,b.Transform).transform=function(a,b){var c=this.value;!c||a.modified("type")?(this.value=c=Sa(a.type),t.projectionProperties.forEach(function(b){if(null!=a[b]){var d=c,g=a[b];if(e.isFunction(d[b]))d[b](g)}})):t.projectionProperties.forEach(function(b){if(a.modified(b)){var d=
c,g=a[b];if(e.isFunction(d[b]))d[b](g)}});null!=a.pointRadius&&c.path.pointRadius(a.pointRadius);a.fit&&aa(c,a);return b.fork(b.NO_SOURCE|b.NO_FIELDS)};a.contour=ba;a.geojson=L;a.geopath=ma;a.geopoint=ia;a.geoshape=va;a.graticule=g;a.heatmap=d;a.isocontour=W;a.kde2d=O;a.projection=ha;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[51]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.d3=a.d3||{}))})(this,function(a){function b(a,b,e,t){if(isNaN(b)||isNaN(e))return a;var r,u=a._root;t={data:t};var z=a._x0,J=a._y0,p=a._x1,k=a._y1,F,D,O,c;if(!u)return a._root=t,a;for(;u.length;)if((O=b>=(F=(z+p)/2))?z=F:p=F,(c=e>=(D=(J+k)/2))?J=D:k=D,r=u,!(u=u[O|=c<<1]))return r[O]=t,a;var h=+a._x.call(null,u.data);var ba=
+a._y.call(null,u.data);if(b===h&&e===ba)return t.next=u,r?r[O]=t:a._root=t,a;do r=r?r[O]=Array(4):a._root=Array(4),(O=b>=(F=(z+p)/2))?z=F:p=F,(c=e>=(D=(J+k)/2))?J=D:k=D;while((O|=c<<1)===(c=(ba>=D)<<1|h>=F));return r[c]=u,r[O]=t,a}function e(a,b,e,t,r){this.node=a;this.x0=b;this.y0=e;this.x1=t;this.y1=r}function u(a){return a[0]}function w(a){return a[1]}function t(a,b,e){b=new C(null==b?u:b,null==e?w:e,NaN,NaN,NaN,NaN);return null==a?b:b.addAll(a)}function C(a,b,e,t,r,u){this._x=a;this._y=b;this._x0=
e;this._y0=t;this._x1=r;this._y1=u;this._root=void 0}function G(a){for(var b={data:a.data},e=b;a=a.next;)e=e.next={data:a.data};return b}var P=t.prototype=C.prototype;P.copy=function(){var a=new C(this._x,this._y,this._x0,this._y0,this._x1,this._y1),b=this._root,e,t;if(!b)return a;if(!b.length)return a._root=G(b),a;for(e=[{source:b,target:a._root=Array(4)}];b=e.pop();)for(var r=0;4>r;++r)if(t=b.source[r])t.length?e.push({source:t,target:b.target[r]=Array(4)}):b.target[r]=G(t);return a};P.add=function(a){var e=
+this._x.call(null,a),t=+this._y.call(null,a);return b(this.cover(e,t),e,t,a)};P.addAll=function(a){var e,t,u=a.length,r,S,z=Array(u),J=Array(u),p=Infinity,k=Infinity,N=-Infinity,D=-Infinity;for(t=0;t<u;++t)isNaN(r=+this._x.call(null,e=a[t]))||isNaN(S=+this._y.call(null,e))||(z[t]=r,J[t]=S,r<p&&(p=r),r>N&&(N=r),S<k&&(k=S),S>D&&(D=S));if(p>N||k>D)return this;this.cover(p,k).cover(N,D);for(t=0;t<u;++t)b(this,z[t],J[t],a[t]);return this};P.cover=function(a,b){if(isNaN(a=+a)||isNaN(b=+b))return this;
var e=this._x0,t=this._y0,r=this._x1,u=this._y1;if(isNaN(e))r=(e=Math.floor(a))+1,u=(t=Math.floor(b))+1;else{for(var z=r-e,J=this._root,p,k;e>a||a>=r||t>b||b>=u;)switch(k=(b<t)<<1|a<e,p=Array(4),p[k]=J,J=p,z*=2,k){case 0:r=e+z;u=t+z;break;case 1:e=r-z;u=t+z;break;case 2:r=e+z;t=u-z;break;case 3:e=r-z,t=u-z}this._root&&this._root.length&&(this._root=J)}this._x0=e;this._y0=t;this._x1=r;this._y1=u;return this};P.data=function(){var a=[];this.visit(function(b){if(!b.length){do a.push(b.data);while(b=
b.next)}});return a};P.extent=function(a){return arguments.length?this.cover(+a[0][0],+a[0][1]).cover(+a[1][0],+a[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};P.find=function(a,b,t){var u=this._x0,r=this._y0,F,z,J,p,k=this._x1,N=this._y1,D=[],O=this._root,c;O&&D.push(new e(O,u,r,k,N));null==t?t=Infinity:(u=a-t,r=b-t,k=a+t,N=b+t,t*=t);for(;c=D.pop();)if(!(!(O=c.node)||(F=c.x0)>k||(z=c.y0)>N||(J=c.x1)<u||(p=c.y1)<r))if(O.length){c=(F+J)/2;var h=(z+p)/2;D.push(new e(O[3],
c,h,J,p),new e(O[2],F,h,c,p),new e(O[1],c,z,J,h),new e(O[0],F,z,c,h));if(O=(b>=h)<<1|a>=c)c=D[D.length-1],D[D.length-1]=D[D.length-1-O],D[D.length-1-O]=c}else if(c=a-+this._x.call(null,O.data),h=b-+this._y.call(null,O.data),c=c*c+h*h,c<t){var ba=Math.sqrt(t=c);u=a-ba;r=b-ba;k=a+ba;N=b+ba;ba=O.data}return ba};P.remove=function(a){if(isNaN(p=+this._x.call(null,a))||isNaN(k=+this._y.call(null,a)))return this;var b,e=this._root,t,r=this._x0,u=this._y0,z=this._x1,J=this._y1,p,k,N,D,O,c;if(!e)return this;
if(e.length)for(;;){(O=p>=(N=(r+z)/2))?r=N:z=N;(c=k>=(D=(u+J)/2))?u=D:J=D;if(!(b=e,e=e[O|=c<<1]))return this;if(!e.length)break;if(b[O+1&3]||b[O+2&3]||b[O+3&3]){var h=b;var ba=O}}for(;e.data!==a;)if(!(t=e,e=e.next))return this;(a=e.next)&&delete e.next;if(t)return a?t.next=a:delete t.next,this;if(!b)return this._root=a,this;a?b[O]=a:delete b[O];(e=b[0]||b[1]||b[2]||b[3])&&e===(b[3]||b[2]||b[1]||b[0])&&!e.length&&(h?h[ba]=e:this._root=e);return this};P.removeAll=function(a){for(var b=0,e=a.length;b<
e;++b)this.remove(a[b]);return this};P.root=function(){return this._root};P.size=function(){var a=0;this.visit(function(b){if(!b.length){do++a;while(b=b.next)}});return a};P.visit=function(a){var b=[],t,u=this._root,r,C,z,J;for(u&&b.push(new e(u,this._x0,this._y0,this._x1,this._y1));t=b.pop();)if(!a(u=t.node,C=t.x0,z=t.y0,J=t.x1,t=t.y1)&&u.length){var p=(C+J)/2,k=(z+t)/2;(r=u[3])&&b.push(new e(r,p,k,J,t));(r=u[2])&&b.push(new e(r,C,k,p,t));(r=u[1])&&b.push(new e(r,p,z,J,k));(r=u[0])&&b.push(new e(r,
C,z,p,k))}return this};P.visitAfter=function(a){var b=[],t=[],u;for(this._root&&b.push(new e(this._root,this._x0,this._y0,this._x1,this._y1));u=b.pop();){var r=u.node;if(r.length){var C,z=u.x0,J=u.y0,p=u.x1,k=u.y1,N=(z+p)/2,D=(J+k)/2;(C=r[0])&&b.push(new e(C,z,J,N,D));(C=r[1])&&b.push(new e(C,N,J,p,D));(C=r[2])&&b.push(new e(C,z,D,N,k));(C=r[3])&&b.push(new e(C,N,D,p,k))}t.push(u)}for(;u=t.pop();)a(u.node,u.x0,u.y0,u.x1,u.y1);return this};P.x=function(a){return arguments.length?(this._x=a,this):this._x};
P.y=function(a){return arguments.length?(this._y=a,this):this._y};a.quadtree=t;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[52]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.d3=a.d3||{}))})(this,function(a){function b(){for(var a=0,b=arguments.length,t={},u;a<b;++a){if(!(u=arguments[a]+"")||u in t||/[\s.]/.test(u))throw Error("illegal type: "+u);t[u]=[]}return new e(t)}function e(a){this._=a}function u(a,b){return a.trim().split(/^|\s+/).map(function(a){var e="",t=a.indexOf(".");0<=t&&(e=a.slice(t+
1),a=a.slice(0,t));if(a&&!b.hasOwnProperty(a))throw Error("unknown type: "+a);return{type:a,name:e}})}function w(a,b,e){for(var u=0,C=a.length;u<C;++u)if(a[u].name===b){a[u]=t;a=a.slice(0,u).concat(a.slice(u+1));break}null!=e&&a.push({name:b,value:e});return a}var t={value:function(){}};e.prototype=b.prototype={constructor:e,on:function(a,b){var e=this._,t=u(a+"",e),C,F=-1,H=t.length;if(2>arguments.length)for(;++F<H;){var r;if(r=C=(a=t[F]).type){a:{r=e[C];for(var S=0,z=r.length;S<z;++S)if((C=r[S]).name===
a.name){C=C.value;break a}C=void 0}r=C}if(r)return C}else{if(null!=b&&"function"!==typeof b)throw Error("invalid callback: "+b);for(;++F<H;)if(C=(a=t[F]).type)e[C]=w(e[C],a.name,b);else if(null==b)for(C in e)e[C]=w(e[C],a.name,null);return this}},copy:function(){var a={},b=this._,t;for(t in b)a[t]=b[t].slice();return new e(a)},call:function(a,b){if(0<(u=arguments.length-2))for(var e=Array(u),t=0,u,F;t<u;++t)e[t]=arguments[t+2];if(!this._.hasOwnProperty(a))throw Error("unknown type: "+a);F=this._[a];
t=0;for(u=F.length;t<u;++t)F[t].value.apply(b,e)},apply:function(a,b,e){if(!this._.hasOwnProperty(a))throw Error("unknown type: "+a);a=this._[a];for(var t=0,u=a.length;t<u;++t)a[t].value.apply(b,e)}};a.dispatch=b;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[53]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.d3=a.d3||{}))})(this,function(a){function b(){return z||(k(e),z=p.now()+J)}function e(){z=0}function u(){this._call=this._time=this._next=null}function w(a,b,e){var c=new u;c.restart(a,b,e);return c}function t(){b();++ea;for(var a=W,e;a;)0<=(e=z-a._time)&&a._call.call(null,e),a=a._next;--ea}function C(){z=(S=p.now())+J;ea=
T=0;try{t()}finally{ea=0;for(var a,b=W,e,c=Infinity;b;)b._call?(c>b._time&&(c=b._time),a=b,b=b._next):(e=b._next,b._next=null,b=a?a._next=e:W=e);r=a;P(c);z=0}}function G(){var a=p.now(),b=a-S;1E3<b&&(J-=b,S=a)}function P(a){ea||(T&&(T=clearTimeout(T)),24<a-z?(Infinity>a&&(T=setTimeout(C,a-p.now()-J)),F&&(F=clearInterval(F))):(F||(S=p.now(),F=setInterval(G,1E3)),ea=1,k(C)))}var ea=0,T=0,F=0,W,r,S=0,z=0,J=0,p="object"===typeof performance&&performance.now?performance:Date,k="object"===typeof window&&
window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};u.prototype=w.prototype={constructor:u,restart:function(a,e,k){if("function"!==typeof a)throw new TypeError("callback is not a function");k=(null==k?b():+k)+(null==e?0:+e);this._next||r===this||(r?r._next=this:W=this,r=this);this._call=a;this._time=k;P()},stop:function(){this._call&&(this._call=null,this._time=Infinity,P())}};a.interval=function(a,e,k){var c=new u,h=e;if(null==e)return c.restart(a,
e,k),c;e=+e;k=null==k?b():+k;c.restart(function ma(b){b+=h;c.restart(ma,h+=e,k);a(b)},e,k);return c};a.now=b;a.timeout=function(a,b,e){var c=new u;b=null==b?0:+b;c.restart(function(e){c.stop();a(e+b)},b,e);return c};a.timer=w;a.timerFlush=t;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[54]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(51),w(52),w(53)):"function"===typeof define&&define.amd?define(["exports","d3-quadtree","d3-dispatch","d3-timer"],b):b(a.d3=a.d3||{},a.d3,a.d3,a.d3)})(this,function(a,b,e,u){function w(a){return function(){return a}}function t(){return 1E-6*(Math.random()-.5)}function C(a){return a.x+a.vx}function H(a){return a.y+a.vy}function P(a){return a.index}function G(a,b){a=a.get(b);if(!a)throw Error("missing: "+
b);return a}function T(a){return a.x}function F(a){return a.y}var W=Math.PI*(3-Math.sqrt(5));a.forceCenter=function(a,b){function e(){var e,k=r.length,t=0,u=0;for(e=0;e<k;++e){var z=r[e];t+=z.x;u+=z.y}t=t/k-a;u=u/k-b;for(e=0;e<k;++e)z=r[e],z.x-=t,z.y-=u}var r;null==a&&(a=0);null==b&&(b=0);e.initialize=function(a){r=a};e.x=function(b){return arguments.length?(a=+b,e):a};e.y=function(a){return arguments.length?(b=+a,e):b};return e};a.forceCollide=function(a){function e(){function a(a,b,c,e,h){var d=
a.data;a=a.r;var g=J+a;if(d)d.index>L.index&&(b=z-d.x-d.vx,c=B-d.y-d.vy,e=b*b+c*c,e<g*g&&(0===b&&(b=t(),e+=b*b),0===c&&(c=t(),e+=c*c),e=(g-(e=Math.sqrt(e)))/e*N,L.vx+=(b*=e)*(g=(a*=a)/(F+a)),L.vy+=(c*=e)*g,d.vx-=b*(g=1-g),d.vy-=c*g));else return b>z+g||e<z-g||c>B+g||h<B-g}for(var c,e=p.length,u,L,z,B,J,F,w=0;w<D;++w)for(u=b.quadtree(p,C,H).visitAfter(r),c=0;c<e;++c)L=p[c],J=k[L.index],F=J*J,z=L.x+L.vx,B=L.y+L.vy,u.visit(a)}function r(a){if(a.data)return a.r=k[a.data.index];for(var b=a.r=0;4>b;++b)a[b]&&
a[b].r>a.r&&(a.r=a[b].r)}function u(){if(p){var b,c=p.length;k=Array(c);for(b=0;b<c;++b){var e=p[b];k[e.index]=+a(e,b,p)}}}var p,k,N=1,D=1;"function"!==typeof a&&(a=w(null==a?1:+a));e.initialize=function(a){p=a;u()};e.iterations=function(a){return arguments.length?(D=+a,e):D};e.strength=function(a){return arguments.length?(N=+a,e):N};e.radius=function(b){return arguments.length?(a="function"===typeof b?b:w(+b),u(),e):a};return e};a.forceLink=function(a){function b(b){for(var e=0,h=a.length;e<F;++e)for(var k=
0,g,d,p,r,B;k<h;++k)g=a[k],d=g.source,g=g.target,p=g.x+g.vx-d.x-d.vx||t(),r=g.y+g.vy-d.y-d.vy||t(),B=Math.sqrt(p*p+r*r),B=(B-c[k])/B*b*D[k],p*=B,r*=B,g.vx-=p*(B=L[k]),g.vy-=r*B,d.vx+=p*(B=1-B),d.vy+=r*B}function e(){if(h){var b=h.length,e=a.length,t=new Map(h.map((a,b)=>[k(a,b,h),a]));var u=0;for(ba=Array(b);u<e;++u)b=a[u],b.index=u,"object"!==typeof b.source&&(b.source=G(t,b.source)),"object"!==typeof b.target&&(b.target=G(t,b.target)),ba[b.source.index]=(ba[b.source.index]||0)+1,ba[b.target.index]=
(ba[b.target.index]||0)+1;u=0;for(L=Array(e);u<e;++u)b=a[u],L[u]=ba[b.source.index]/(ba[b.source.index]+ba[b.target.index]);D=Array(e);r();c=Array(e);p()}}function r(){if(h)for(var b=0,c=a.length;b<c;++b)D[b]=+u(a[b],b,a)}function p(){if(h)for(var b=0,e=a.length;b<e;++b)c[b]=+O(a[b],b,a)}var k=P,u=function(a){return 1/Math.min(ba[a.source.index],ba[a.target.index])},D,O=w(30),c,h,ba,L,F=1;null==a&&(a=[]);b.initialize=function(a){h=a;e()};b.links=function(c){return arguments.length?(a=c,e(),b):a};
b.id=function(a){return arguments.length?(k=a,b):k};b.iterations=function(a){return arguments.length?(F=+a,b):F};b.strength=function(a){return arguments.length?(u="function"===typeof a?a:w(+a),r(),b):u};b.distance=function(a){return arguments.length?(O="function"===typeof a?a:w(+a),p(),b):O};return b};a.forceManyBody=function(){function a(a){var c=p.length,e=b.quadtree(p,T,F).visitAfter(u);N=a;for(a=0;a<c;++a)k=p[a],e.visit(J)}function e(){if(p){var a,b=p.length;O=Array(b);for(a=0;a<b;++a){var c=
p[a];O[c.index]=+D(c,a,p)}}}function u(a){var b=0,c,e,h=0,k,g,d;if(a.length){for(k=g=d=0;4>d;++d)(c=a[d])&&(e=Math.abs(c.value))&&(b+=c.value,h+=e,k+=e*c.x,g+=e*c.y);a.x=k/h;a.y=g/h}else{c=a;c.x=c.data.x;c.y=c.data.y;do b+=O[c.data.index];while(c=c.next)}a.value=b}function J(a,b,e,p){if(!a.value)return!0;e=a.x-k.x;var r=a.y-k.y;b=p-b;p=e*e+r*r;if(b*b/ba<p)return p<h&&(0===e&&(e=t(),p+=e*e),0===r&&(r=t(),p+=r*r),p<c&&(p=Math.sqrt(c*p)),k.vx+=e*a.value*N/p,k.vy+=r*a.value*N/p),!0;if(!(a.length||p>=
h)){if(a.data!==k||a.next)0===e&&(e=t(),p+=e*e),0===r&&(r=t(),p+=r*r),p<c&&(p=Math.sqrt(c*p));do a.data!==k&&(b=O[a.data.index]*N/p,k.vx+=e*b,k.vy+=r*b);while(a=a.next)}}var p,k,N,D=w(-30),O,c=1,h=Infinity,ba=.81;a.initialize=function(a){p=a;e()};a.strength=function(b){return arguments.length?(D="function"===typeof b?b:w(+b),e(),a):D};a.distanceMin=function(b){return arguments.length?(c=b*b,a):Math.sqrt(c)};a.distanceMax=function(b){return arguments.length?(h=b*b,a):Math.sqrt(h)};a.theta=function(b){return arguments.length?
(ba=b*b,a):Math.sqrt(ba)};return a};a.forceRadial=function(a,b,e){function r(a){for(var c=0,p=k.length;c<p;++c){var r=k[c],t=r.x-b||1E-6,B=r.y-e||1E-6,D=Math.sqrt(t*t+B*B);D=(z[c]-D)*u[c]*a/D;r.vx+=t*D;r.vy+=B*D}}function p(){if(k){var b,e=k.length;u=Array(e);z=Array(e);for(b=0;b<e;++b)z[b]=+a(k[b],b,k),u[b]=isNaN(z[b])?0:+t(k[b],b,k)}}var k,t=w(.1),u,z;"function"!==typeof a&&(a=w(+a));null==b&&(b=0);null==e&&(e=0);r.initialize=function(a){k=a;p()};r.strength=function(a){return arguments.length?(t=
"function"===typeof a?a:w(+a),p(),r):t};r.radius=function(b){return arguments.length?(a="function"===typeof b?b:w(+b),p(),r):a};r.x=function(a){return arguments.length?(b=+a,r):b};r.y=function(a){return arguments.length?(e=+a,r):e};return r};a.forceSimulation=function(a){function b(){r();F.call("tick",k);N<D&&(L.stop(),F.call("end",k))}function r(b){var e,p=a.length;void 0===b&&(b=1);for(var r=0;r<b;++r)for(N+=(c-N)*O,ba.forEach(function(a){a(N)}),e=0;e<p;++e){var g=a[e];null==g.fx?g.x+=g.vx*=h:(g.x=
g.fx,g.vx=0);null==g.fy?g.y+=g.vy*=h:(g.y=g.fy,g.vy=0)}return k}function t(){for(var b=0,c=a.length,e;b<c;++b){e=a[b];e.index=b;null!=e.fx&&(e.x=e.fx);null!=e.fy&&(e.y=e.fy);if(isNaN(e.x)||isNaN(e.y)){var h=10*Math.sqrt(b),g=b*W;e.x=h*Math.cos(g);e.y=h*Math.sin(g)}if(isNaN(e.vx)||isNaN(e.vy))e.vx=e.vy=0}}function p(b){b.initialize&&b.initialize(a);return b}var k,N=1,D=.001,O=1-Math.pow(D,1/300),c=0,h=.6,ba=new Map,L=u.timer(b),F=e.dispatch("tick","end");null==a&&(a=[]);t();return k={tick:r,restart:function(){return L.restart(b),
k},stop:function(){return L.stop(),k},nodes:function(b){return arguments.length?(a=b,t(),ba.forEach(p),k):a},alpha:function(a){return arguments.length?(N=+a,k):N},alphaMin:function(a){return arguments.length?(D=+a,k):D},alphaDecay:function(a){return arguments.length?(O=+a,k):+O},alphaTarget:function(a){return arguments.length?(c=+a,k):c},velocityDecay:function(a){return arguments.length?(h=1-a,k):1-h},force:function(a,b){return 1<arguments.length?(null==b?ba.delete(a):ba.set(a,p(b)),k):ba.get(a)},
find:function(b,c,e){var h,g=a.length;e=null==e?Infinity:e*e;for(h=0;h<g;++h){var d=a[h];var k=b-d.x;var p=c-d.y;k=k*k+p*p;if(k<e){var r=d;e=k}}return r},on:function(a,b){return 1<arguments.length?(F.on(a,b),k):F.on(a)}}};a.forceX=function(a){function b(a){for(var b=0,c=p.length,e;b<c;++b)e=p[b],e.vx+=(t[b]-e.x)*k[b]*a}function e(){if(p){var b,e=p.length;k=Array(e);t=Array(e);for(b=0;b<e;++b)k[b]=isNaN(t[b]=+a(p[b],b,p))?0:+r(p[b],b,p)}}var r=w(.1),p,k,t;"function"!==typeof a&&(a=w(null==a?0:+a));
b.initialize=function(a){p=a;e()};b.strength=function(a){return arguments.length?(r="function"===typeof a?a:w(+a),e(),b):r};b.x=function(k){return arguments.length?(a="function"===typeof k?k:w(+k),e(),b):a};return b};a.forceY=function(a){function b(a){for(var b=0,c=p.length,e;b<c;++b)e=p[b],e.vy+=(t[b]-e.y)*k[b]*a}function e(){if(p){var b,e=p.length;k=Array(e);t=Array(e);for(b=0;b<e;++b)k[b]=isNaN(t[b]=+a(p[b],b,p))?0:+r(p[b],b,p)}}var r=w(.1),p,k,t;"function"!==typeof a&&(a=w(null==a?0:+a));b.initialize=
function(a){p=a;e()};b.strength=function(a){return arguments.length?(r="function"===typeof a?a:w(+a),e(),b):r};b.y=function(k){return arguments.length?(a="function"===typeof k?k:w(+k),e(),b):a};return b};Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[55]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(31),w(21),w(54)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-force"],b):(a=a||self,b((a.vega=a.vega||{},a.vega.transforms={}),a.vega,a.vega,a.d3))})(this,function(a,b,e,u){function w(a){b.Transform.call(this,null,a)}function t(a,b){return function(){a.touch(b).run()}}function C(a,b){a=u.forceSimulation(a);var e=!1,p=a.stop,k=a.restart;a.stopped=function(){return e};
a.restart=function(){e=!1;return k()};a.stop=function(){e=!0;return p()};return H(a,b,!0).on("end",function(){e=!0})}function H(a,b,r,p){var k=e.array(b.forces),t;var u=0;for(t=T.length;u<t;++u){var z=T[u];if("forces"!==z&&b.modified(z))a[z](b[z])}u=0;for(t=k.length;u<t;++u){var c="forces"+u;if(r||b.modified("forces",u)){z=void 0;var h=k[u];e.hasOwnProperty(G,h.force)||e.error("Unrecognized force: "+h.force);var ba=G[h.force]();for(z in h)e.isFunction(ba[z])&&P(ba[z],h[z],h);z=ba}else{if(z=p)a:{ba=
z=void 0;h=k[u];var L=p;for(ba in h)if(e.isFunction(z=h[ba])&&L.modified(e.accessorFields(z))){z=1;break a}z=0}z=z?a.force(c):null}z&&a.force(c,z)}for(t=a.numForces||0;u<t;++u)a.force("forces"+u,null);a.numForces=k.length;return a}function P(a,b,t){a(e.isFunction(b)?function(a){return b(a,t)}:b)}var G={center:u.forceCenter,collide:u.forceCollide,nbody:u.forceManyBody,link:u.forceLink,x:u.forceX,y:u.forceY},T=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],F=["static","iterations"],W=["x",
"y","vx","vy"];w.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number","default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},
{name:"y",type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",
"default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":W}]};var r=e.inherits(w,b.Transform);r.transform=function(a,b){var e=this.value,p=b.changed(b.ADD_REM),k=a.modified(T),r=a.iterations||300;e?(p&&
(b.modifies("index"),e.nodes(b.source)),(k||b.changed(b.MOD))&&H(e,a,0,b)):(this.value=e=C(b.source,a),e.on("tick",t(b.dataflow,this)),a.static||(p=!0,e.tick()),b.modifies("index"));if(k||p||a.modified(F)||b.changed()&&a.restart)if(e.alpha(Math.max(e.alpha(),a.alpha||1)).alphaDecay(1-Math.pow(e.alphaMin(),1/r)),a.static)for(e.stop();0<=--r;)e.tick();else if(e.stopped()&&e.restart(),!p)return b.StopPropagation;return this.finish(a,b)};r.finish=function(a,b){for(var e=b.dataflow,p=this._argops,k=0,
t=p.length,r;k<t;++k)if(r=p[k],"forces"===r.name&&"link"===r.op._argval.force){r=r.op._argops;for(var u=0,c=r.length,h;u<c;++u)if("links"===r[u].name&&(h=r[u].op.source)){e.pulse(h,e.changeset().reflow());break}}return b.reflow(a.modified()).modifies(W)};a.force=w;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[56]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.d3=a.d3||{}))})(this,function(a){function b(a,b){return a.parent===b.parent?1:2}function e(a,b){return a+b.x}function u(a,b){return Math.max(a,b.y)}function w(a){for(var b;b=a.children;)a=b[0];return a}function t(a){for(var b;b=a.children;)a=b[b.length-1];return a}function C(a){var b=0,c=a.children,d=c&&c.length;if(d)for(;0<=
--d;)b+=c[d].value;else b=1;a.value=b}function G(a,b){var c=new F(a);a=+a.value&&(c.value=a.value);var d,e=[c],g,l,h,k;for(null==b&&(b=P);d=e.pop();)if(a&&(d.value=+d.data.value),(l=b(d.data))&&(k=l.length))for(d.children=Array(k),h=k-1;0<=h;--h)e.push(g=d.children[h]=new F(l[h])),g.parent=d,g.depth=d.depth+1;return c.eachBefore(T)}function P(a){return a.children}function ea(a){a.data=a.data.data}function T(a){var b=0;do a.height=b;while((a=a.parent)&&a.height<++b)}function F(a){this.data=a;this.depth=
this.height=0;this.parent=null}function W(a){var b=0;a=Na.call(a);for(var c=a.length,d,e;c;)e=Math.random()*c--|0,d=a[c],a[c]=a[e],a[e]=d;c=a.length;d=[];for(var g;b<c;)if(e=a[b],g&&S(g,e))++b;else{a:if(b=d,z(e,b))b=[e];else{for(d=0;d<b.length;++d)if(r(e,b[d])&&z(J(b[d],e),b)){b=[b[d],e];break a}for(d=0;d<b.length-1;++d)for(g=d+1;g<b.length;++g)if(r(J(b[d],b[g]),e)&&r(J(b[d],e),b[g])&&r(J(b[g],e),b[d])&&z(p(b[d],b[g],e),b)){b=[b[d],b[g],e];break a}throw Error();}a:{b=d=b;switch(b.length){case 1:b=
b[0];b={x:b.x,y:b.y,r:b.r};break a;case 2:b=J(b[0],b[1]);break a;case 3:b=p(b[0],b[1],b[2]);break a}b=void 0}g=b;b=0}return g}function r(a,b){var c=a.r-b.r,d=b.x-a.x;a=b.y-a.y;return 0>c||c*c<d*d+a*a}function S(a,b){var c=a.r-b.r+1E-6,d=b.x-a.x;a=b.y-a.y;return 0<c&&c*c>d*d+a*a}function z(a,b){for(var c=0;c<b.length;++c)if(!S(a,b[c]))return!1;return!0}function J(a,b){var c=a.x,d=a.y;a=a.r;var e=b.x,g=b.y;b=b.r;var l=e-c,h=g-d,k=b-a,v=Math.sqrt(l*l+h*h);return{x:(c+e+l/v*k)/2,y:(d+g+h/v*k)/2,r:(v+
a+b)/2}}function p(a,b,c){var d=a.x,e=a.y;a=a.r;var g=b.x,l=b.y,h=b.r,k=c.x,v=c.y,p=c.r;c=d-g;b=d-k;var r=e-l,t=e-v,x=h-a,u=p-a,B=d*d+e*e-a*a;l=B-g*g-l*l+h*h;v=B-k*k-v*v+p*p;k=b*r-c*t;g=(r*v-t*l)/(2*k)-d;r=(t*x-r*u)/k;t=(b*l-c*v)/(2*k)-e;c=(c*u-b*x)/k;b=r*r+c*c-1;x=2*(a+g*r+t*c);a=g*g+t*t-a*a;a=-(b?(x+Math.sqrt(x*x-4*b*a))/(2*b):a/x);return{x:d+g+r*a,y:e+t+c*a,r:a}}function k(a,b,c){var d=a.x-b.x,e=a.y-b.y,g=d*d+e*e;if(g){var l=b.r+c.r;l*=l;var h=a.r+c.r;h*=h;if(l>h){var k=(g+h-l)/(2*g);l=Math.sqrt(Math.max(0,
h/g-k*k));c.x=a.x-k*d-l*e;c.y=a.y-k*e+l*d}else k=(g+l-h)/(2*g),l=Math.sqrt(Math.max(0,l/g-k*k)),c.x=b.x+k*d-l*e,c.y=b.y+k*e+l*d}else c.x=b.x+c.r,c.y=b.y}function N(a,b){var c=a.r+b.r-1E-6,d=b.x-a.x;a=b.y-a.y;return 0<c&&c*c>d*d+a*a}function D(a){var b=a._,c=a.next._,d=b.r+c.r;a=(b.x*c.r+c.x*b.r)/d;b=(b.y*c.r+c.y*b.r)/d;return a*a+b*b}function O(a){this._=a;this.previous=this.next=null}function c(a){if(!(c=a.length))return 0;var b,c;var d=a[0];d.x=0;d.y=0;if(!(1<c))return d.r;var e=a[1];d.x=-e.r;e.x=
d.r;e.y=0;if(!(2<c))return d.r+e.r;k(e,d,b=a[2]);d=new O(d);e=new O(e);b=new O(b);d.next=b.previous=e;e.next=d.previous=b;b.next=e.previous=d;var g=3;a:for(;g<c;++g){k(d._,e._,b=a[g]);b=new O(b);var l=e.next;var h=d.previous;var p=e._.r;var r=d._.r;do if(p<=r){if(N(l._,b._)){e=l;d.next=e;e.previous=d;--g;continue a}p+=l._.r;l=l.next}else{if(N(h._,b._)){d=h;d.next=e;e.previous=d;--g;continue a}r+=h._.r;h=h.previous}while(l!==h.next);b.previous=d;b.next=e;d.next=e.previous=e=b;for(l=D(d);(b=b.next)!==
e;)(h=D(b))<l&&(d=b,l=h);e=d.next}d=[e._];for(b=e;(b=b.next)!==e;)d.push(b._);b=W(d);for(g=0;g<c;++g)d=a[g],d.x-=b.x,d.y-=b.y;return b.r}function h(a){if("function"!==typeof a)throw Error();return a}function ba(){return 0}function L(a){return function(){return a}}function ma(a){return Math.sqrt(a.value)}function B(a){return function(b){b.children||(b.r=Math.max(0,+a(b)||0))}}function ia(a,b){return function(d){if(e=d.children){var e,g,l=e.length,h=a(d)*b||0;if(h)for(g=0;g<l;++g)e[g].r+=h;var k=c(e);
if(h)for(g=0;g<l;++g)e[g].r-=h;d.r=k+h}}}function va(a){return function(b){var c=b.parent;b.r*=a;c&&(b.x=c.x+a*b.x,b.y=c.y+a*b.y)}}function qa(a){a.x0=Math.round(a.x0);a.y0=Math.round(a.y0);a.x1=Math.round(a.x1);a.y1=Math.round(a.y1)}function g(a,b,c,d,e){var g=a.children,l=-1,h=g.length;for(d=a.value&&(d-b)/a.value;++l<h;)a=g[l],a.y0=c,a.y1=e,a.x0=b,a.x1=b+=a.value*d}function d(a){return a.id}function M(a){return a.parentId}function Q(a,b){return a.parent===b.parent?1:2}function la(a){var b=a.children;
return b?b[0]:a.t}function I(a){var b=a.children;return b?b[b.length-1]:a.t}function ha(a,b){this._=a;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=b}function aa(a){a=new ha(a,0);for(var b,c=[a],d,e,g;b=c.pop();)if(e=b._.children)for(b.children=Array(d=e.length),g=d-1;0<=g;--g)c.push(d=b.children[g]=new ha(e[g],g)),d.parent=b;(a.parent=new ha(null,0)).children=[a];return a}function sa(a,b,c,d,e){var g=a.children,l=-1,h=g.length;for(e=a.value&&(e-
c)/a.value;++l<h;)a=g[l],a.x0=b,a.x1=d,a.y0=c,a.y1=c+=a.value*e}function ya(a,b,c,d,e,h){for(var l=[],m=b.children,k,v,p=k=0,r=m.length,t,x=b.value,u,B,L,z,ba,E;k<r;){b=e-c;t=h-d;do u=m[p++].value;while(!u&&p<r);B=L=u;E=Math.max(t/b,b/t)/(x*a);z=u*u*E;for(ba=Math.max(L/z,z/B);p<r;++p){u+=v=m[p].value;v<B&&(B=v);v>L&&(L=v);z=u*u*E;z=Math.max(L/z,z/B);if(z>ba){u-=v;break}ba=z}l.push(k={value:u,dice:b<t,children:m.slice(k,p)});k.dice?g(k,c,d,e,x?d+=t*u/x:h):sa(k,c,d,x?c+=b*u/x:e,h);x-=u;k=p}return l}
F.prototype=G.prototype={constructor:F,count:function(){return this.eachAfter(C)},each:function(a){var b,c=[this],d;do{var e=c.reverse();for(c=[];b=e.pop();)if(a(b),b=b.children){var g=0;for(d=b.length;g<d;++g)c.push(b[g])}}while(c.length);return this},eachAfter:function(a){for(var b,c=[this],d=[],e,g;b=c.pop();)if(d.push(b),b=b.children)for(e=0,g=b.length;e<g;++e)c.push(b[e]);for(;b=d.pop();)a(b);return this},eachBefore:function(a){for(var b,c=[this],d;b=c.pop();)if(a(b),b=b.children)for(d=b.length-
1;0<=d;--d)c.push(b[d]);return this},sum:function(a){return this.eachAfter(function(b){for(var c=+a(b.data)||0,d=b.children,e=d&&d.length;0<=--e;)c+=d[e].value;b.value=c})},sort:function(a){return this.eachBefore(function(b){b.children&&b.children.sort(a)})},path:function(a){var b=this;var c=b;var d=a;if(c!==d){var e=c.ancestors(),g=d.ancestors(),h=null;c=e.pop();for(d=g.pop();c===d;)h=c,c=e.pop(),d=g.pop();c=h}for(d=[b];b!==c;)b=b.parent,d.push(b);for(b=d.length;a!==c;)d.splice(b,0,a),a=a.parent;
return d},ancestors:function(){for(var a=this,b=[a];a=a.parent;)b.push(a);return b},descendants:function(){var a=[];this.each(function(b){a.push(b)});return a},leaves:function(){var a=[];this.eachBefore(function(b){b.children||a.push(b)});return a},links:function(){var a=this,b=[];a.each(function(c){c!==a&&b.push({source:c.parent,target:c})});return b},copy:function(){return G(this).eachBefore(ea)}};var Na=Array.prototype.slice,Ea={depth:-1},Ma={};ha.prototype=Object.create(F.prototype);var U=(1+
Math.sqrt(5))/2,Ba=function x(a){function b(b,c,d,e,g){ya(a,b,c,d,e,g)}b.ratio=function(a){return x(1<(a=+a)?a:1)};return b}(U);U=function m(a){function b(b,c,d,e,h){if((m=b._squarify)&&m.ratio===a)for(var m,k,p,r=-1,t,u=m.length,x=b.value;++r<u;){b=m[r];k=b.children;p=b.value=0;for(t=k.length;p<t;++p)b.value+=k[p].value;b.dice?g(b,c,d,e,d+=(h-d)*b.value/x):sa(b,c,d,c+=(e-c)*b.value/x,h);x-=b.value}else b._squarify=m=ya(a,b,c,d,e,h),m.ratio=a}b.ratio=function(a){return m(1<(a=+a)?a:1)};return b}(U);
a.cluster=function(){function a(a){var b,m=0;a.eachAfter(function(a){var d=a.children;if(d){var g=d.reduce(e,0)/d.length;a.x=g;a.y=1+d.reduce(u,0)}else a.x=b?m+=c(a,b):0,a.y=0,b=a});var k=w(a),p=t(a),r=k.x-c(k,p)/2,x=p.x+c(p,k)/2;return a.eachAfter(h?function(b){b.x=(b.x-a.x)*d;b.y=(a.y-b.y)*g}:function(b){b.x=(b.x-r)/(x-r)*d;b.y=(1-(a.y?b.y/a.y:1))*g})}var c=b,d=1,g=1,h=!1;a.separation=function(b){return arguments.length?(c=b,a):c};a.size=function(b){return arguments.length?(h=!1,d=+b[0],g=+b[1],
a):h?null:[d,g]};a.nodeSize=function(b){return arguments.length?(h=!0,d=+b[0],g=+b[1],a):h?[d,g]:null};return a};a.hierarchy=G;a.pack=function(){function a(a){a.x=c/2;a.y=d/2;b?a.eachBefore(B(b)).eachAfter(ia(e,.5)).eachBefore(va(1)):a.eachBefore(B(ma)).eachAfter(ia(ba,1)).eachAfter(ia(e,a.r/Math.min(c,d))).eachBefore(va(Math.min(c,d)/(2*a.r)));return a}var b=null,c=1,d=1,e=ba;a.radius=function(c){return arguments.length?(b=null==c?null:h(c),a):b};a.size=function(b){return arguments.length?(c=+b[0],
d=+b[1],a):[c,d]};a.padding=function(b){return arguments.length?(e="function"===typeof b?b:L(+b),a):e};return a};a.packEnclose=W;a.packSiblings=function(a){c(a);return a};a.partition=function(){function a(a){var g=a.height+1;a.x0=a.y0=e;a.x1=c;a.y1=d/g;a.eachBefore(b(d,g));h&&a.eachBefore(qa);return a}function b(a,b){return function(c){c.children&&g(c,c.x0,a*(c.depth+1)/b,c.x1,a*(c.depth+2)/b);var d=c.x0,h=c.y0,m=c.x1-e,k=c.y1-e;m<d&&(d=m=(d+m)/2);k<h&&(h=k=(h+k)/2);c.x0=d;c.y0=h;c.x1=m;c.y1=k}}var c=
1,d=1,e=0,h=!1;a.round=function(b){return arguments.length?(h=!!b,a):h};a.size=function(b){return arguments.length?(c=+b[0],d=+b[1],a):[c,d]};a.padding=function(b){return arguments.length?(e=+b,a):e};return a};a.stratify=function(){function a(a){var d,e=a.length,g=Array(e),h,m={};for(d=0;d<e;++d){var k=a[d];var p=g[d]=new F(k);null!=(h=b(k,d,a))&&(h+="")&&(k="$"+(p.id=h),m[k]=k in m?Ma:p)}for(d=0;d<e;++d)if(p=g[d],h=c(a[d],d,a),null!=h&&(h+="")){k=m["$"+h];if(!k)throw Error("missing: "+h);if(k===
Ma)throw Error("ambiguous: "+h);k.children?k.children.push(p):k.children=[p];p.parent=k}else{if(r)throw Error("multiple roots");var r=p}if(!r)throw Error("no root");r.parent=Ea;r.eachBefore(function(a){a.depth=a.parent.depth+1;--e}).eachBefore(T);r.parent=null;if(0<e)throw Error("cycle");return r}var b=d,c=M;a.id=function(c){return arguments.length?(b=h(c),a):b};a.parentId=function(b){return arguments.length?(c=h(b),a):c};return a};a.tree=function(){function a(a){var m=aa(a);m.eachAfter(b);m.parent.m=
-m.z;m.eachBefore(c);if(k)a.eachBefore(d);else{var p=a,r=a,t=a;a.eachBefore(function(a){a.x<p.x&&(p=a);a.x>r.x&&(r=a);a.depth>t.depth&&(t=a)});m=p===r?1:e(p,r)/2;var u=m-p.x,x=g/(r.x+m+u),B=h/(t.depth||1);a.eachBefore(function(a){a.x=(a.x+u)*x;a.y=a.depth*B})}return a}function b(a){var b=a.children,c=a.parent.children,d=a.i?c[a.i-1]:null;if(b){for(var g=0,h=0,m=a.children,k=m.length,p;0<=--k;)p=m[k],p.z+=g,p.m+=g,g+=p.s+(h+=p.c);b=(b[0].z+b[b.length-1].z)/2;d?(a.z=d.z+e(a._,d._),a.m=a.z-b):a.z=b}else d&&
(a.z=d.z+e(a._,d._));b=a.parent;c=a.parent.A||c[0];if(d){h=g=a;m=g.parent.children[0];k=g.m;p=h.m;for(var r=d.m,t=m.m,u;d=I(d),g=la(g),d&&g;){m=la(m);h=I(h);h.a=a;u=d.z+r-g.z-k+e(d._,g._);if(0<u){var x=d.a.parent===a.parent?d.a:c,B=a,L=u,z=L/(B.i-x.i);B.c-=z;B.s+=L;x.c+=z;B.z+=L;B.m+=L;k+=u;p+=u}r+=d.m;k+=g.m;t+=m.m;p+=h.m}d&&!I(h)&&(h.t=d,h.m+=r-p);g&&!la(m)&&(m.t=g,m.m+=k-t,c=a)}b.A=c}function c(a){a._.x=a.z+a.parent.m;a.m+=a.parent.m}function d(a){a.x*=g;a.y=a.depth*h}var e=Q,g=1,h=1,k=null;a.separation=
function(b){return arguments.length?(e=b,a):e};a.size=function(b){return arguments.length?(k=!1,g=+b[0],h=+b[1],a):k?null:[g,h]};a.nodeSize=function(b){return arguments.length?(k=!0,g=+b[0],h=+b[1],a):k?[g,h]:null};return a};a.treemap=function(){function a(a){a.x0=a.y0=0;a.x1=e;a.y1=g;a.eachBefore(b);k=[0];d&&a.eachBefore(qa);return a}function b(a){var b=k[a.depth],d=a.x0+b,e=a.y0+b,g=a.x1-b,h=a.y1-b;g<d&&(d=g=(d+g)/2);h<e&&(e=h=(e+h)/2);a.x0=d;a.y0=e;a.x1=g;a.y1=h;a.children&&(b=k[a.depth+1]=p(a)/
2,d+=B(a)-b,e+=r(a)-b,g-=t(a)-b,h-=u(a)-b,g<d&&(d=g=(d+g)/2),h<e&&(e=h=(e+h)/2),c(a,d,e,g,h))}var c=Ba,d=!1,e=1,g=1,k=[0],p=ba,r=ba,t=ba,u=ba,B=ba;a.round=function(b){return arguments.length?(d=!!b,a):d};a.size=function(b){return arguments.length?(e=+b[0],g=+b[1],a):[e,g]};a.tile=function(b){return arguments.length?(c=h(b),a):c};a.padding=function(b){return arguments.length?a.paddingInner(b).paddingOuter(b):a.paddingInner()};a.paddingInner=function(b){return arguments.length?(p="function"===typeof b?
b:L(+b),a):p};a.paddingOuter=function(b){return arguments.length?a.paddingTop(b).paddingRight(b).paddingBottom(b).paddingLeft(b):a.paddingTop()};a.paddingTop=function(b){return arguments.length?(r="function"===typeof b?b:L(+b),a):r};a.paddingRight=function(b){return arguments.length?(t="function"===typeof b?b:L(+b),a):t};a.paddingBottom=function(b){return arguments.length?(u="function"===typeof b?b:L(+b),a):u};a.paddingLeft=function(b){return arguments.length?(B="function"===typeof b?b:L(+b),a):B};
return a};a.treemapBinary=function(a,b,c,d,e){function g(a,b,c,d,e,m,k){if(a>=b-1)a=h[a],a.x0=d,a.y0=e,a.x1=m,a.y1=k;else{for(var p=r[a],t=c/2+p,u=a+1,B=b-1;u<B;){var x=u+B>>>1;r[x]<t?u=x+1:B=x}t-r[u-1]<r[u]-t&&a+1<u&&--u;p=r[u]-p;t=c-p;m-d>k-e?(c=(d*t+m*p)/c,g(a,u,p,d,e,c,k),g(u,b,t,c,e,m,k)):(c=(e*t+k*p)/c,g(a,u,p,d,e,m,c),g(u,b,t,d,c,m,k))}}var h=a.children,m,k=h.length,p,r=Array(k+1);for(r[0]=p=m=0;m<k;++m)r[m+1]=p+=h[m].value;g(0,k,a.value,b,c,d,e)};a.treemapDice=g;a.treemapResquarify=U;a.treemapSlice=
sa;a.treemapSliceDice=function(a,b,c,d,e){(a.depth&1?sa:g)(a,b,c,d,e)};a.treemapSquarify=Ba;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[57]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(31),w(21),w(56)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-hierarchy"],b):(a=a||self,b((a.vega=a.vega||{},a.vega.transforms={}),a.vega,a.vega,a.d3))})(this,function(a,b,e,u){function w(a,b,e){var c={};a.each(function(a){var h=a.data;e(h)&&(c[b(h)]=a)});a.lookup=c;return a}function t(a){b.Transform.call(this,null,a)}function C(a){return a.values}function H(){function a(b,
c){if(c>=e.length)return b;for(var h=-1,k=b.length,p=e[c++],r,g,d={},t,u={};++h<k;)r=p(g=b[h])+"",(t=d[r])?t.push(g):d[r]=[g];for(r in d)u[r]=a(d[r],c);return u}function b(a,c){if(++c>e.length)return a;var h=[],k;for(k in a)h.push({key:k,values:b(a[k],c)});return h}var e=[],k;return k={entries:c=>b(a(c,0),0),key:a=>{e.push(a);return k}}}function P(a){b.Transform.call(this,null,a)}function G(a,b,e){for(var c,h=0,k=b.length;h<k;++h)if(c=b[h],c in e)a[c](e[c])}function T(a,b){return a.parent===b.parent?
1:2}function F(a){P.call(this,a)}function W(a){P.call(this,a)}function r(a){b.Transform.call(this,null,a)}function S(a){P.call(this,a)}function z(a){b.Transform.call(this,[],a)}function J(a){P.call(this,a)}t.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};e.inherits(t,b.Transform).transform=function(a,c){c.source||e.error("Nest transform requires an upstream data source.");var h=a.generate,k=a.modified(),p=
c.clone(),r=this.value;if(!r||k||c.changed())r&&r.each(a=>{a.children&&b.isTuple(a.data)&&p.rem.push(a.data)}),this.value=r=u.hierarchy({values:e.array(a.keys).reduce((a,b)=>{a.key(b);return a},H()).entries(p.source)},C),h&&r.each(a=>{a.children&&(a=b.ingest(a.data),p.add.push(a),p.source.push(a))}),w(r,b.tupleid,b.tupleid);p.source.root=r;return p};e.inherits(P,b.Transform).transform=function(a,c){c.source&&c.source.root||e.error(this.constructor.name+" transform requires a backing tree data source.");
var h=this.layout(a.method),k=this.fields,p=c.source.root,r=a.as||k;a.field?p.sum(a.field):p.count();a.sort&&p.sort(b.stableCompare(a.sort,a=>a.data));G(h,this.params,a);h.separation&&h.separation(!1!==a.separation?T:e.one);try{this.value=h(p)}catch(B){e.error(B)}p.each(function(a){for(var b=a.data,c=0,e=k.length-1;c<e;++c)b[r[c]]=a[k[c]];b[r[e]]=a.children?a.children.length:0});return c.reflow(a.modified()).modifies(r).modifies("leaf")};var p=["x","y","r","depth","children"];F.Definition={type:"Pack",
metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:p.length,"default":p}]};var k=e.inherits(F,P);k.layout=u.pack;k.params=["radius","size","padding"];k.fields=p;p="x0 y0 x1 y1 depth children".split(" ");W.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",
type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:p.length,"default":p}]};k=e.inherits(W,P);k.layout=u.partition;k.params=["size","round","padding"];k.fields=p;r.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};e.inherits(r,b.Transform).transform=
function(a,b){b.source||e.error("Stratify transform requires an upstream data source.");var c=this.value,k=a.modified(),p=b.fork(b.ALL).materialize(b.SOURCE);b=!this.value||k||b.changed(b.ADD_REM)||b.modified(a.key.fields)||b.modified(a.parentKey.fields);p.source=p.source.slice();b&&(c=p.source.length?w(u.stratify().id(a.key).parentId(a.parentKey)(p.source),a.key,e.truthy):w(u.stratify()([{}]),a.key,a.key));p.source.root=this.value=c;return p};var N={tidy:u.tree,cluster:u.cluster};p=["x","y","depth",
"children"];S.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:p.length,"default":p}]};k=e.inherits(S,P);k.layout=function(a){a=a||"tidy";if(e.hasOwnProperty(N,a))return N[a]();
e.error("Unrecognized Tree layout method: "+a)};k.params=["size","nodeSize"];k.fields=p;z.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};e.inherits(z,b.Transform).transform=function(a,c){a=this.value;var h=c.source&&c.source.root,k=c.fork(c.NO_SOURCE),p={};h||e.error("TreeLinks transform requires a tree data source.");c.changed(c.ADD_REM)?(k.rem=a,c.visit(c.SOURCE,function(a){p[b.tupleid(a)]=1}),h.each(function(a){var c=a.data;(a=a.parent&&a.parent.data)&&p[b.tupleid(c)]&&
p[b.tupleid(a)]&&k.add.push(b.ingest({source:a,target:c}))}),this.value=k.add):c.changed(c.MOD)&&(c.visit(c.MOD,function(a){p[b.tupleid(a)]=1}),a.forEach(function(a){(p[b.tupleid(a.source)]||p[b.tupleid(a.target)])&&k.mod.push(a)}));return k};var D={binary:u.treemapBinary,dice:u.treemapDice,slice:u.treemapSlice,slicedice:u.treemapSliceDice,squarify:u.treemapSquarify,resquarify:u.treemapResquarify};p="x0 y0 x1 y1 depth children".split(" ");J.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},
params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},
{name:"ratio",type:"number","default":1.618033988749895},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:p.length,"default":p}]};k=e.inherits(J,P);k.layout=function(){var a=u.treemap();a.ratio=function(b){var c=a.tile();c.ratio&&a.tile(c.ratio(b))};a.method=function(b){e.hasOwnProperty(D,b)?a.tile(D[b]):e.error("Unrecognized Treemap layout method: "+b)};return a};k.params="method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" ");
k.fields=p;a.nest=t;a.pack=F;a.partition=W;a.stratify=r;a.tree=S;a.treelinks=z;a.treemap=J;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[58]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(33),w(31),w(21)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],b):(a=a||self,b((a.vega=a.vega||{},a.vega.transforms={}),a.vega,a.vega,a.vega))})(this,function(a,b,e,u){function w(a,b){var e=[],t=function(a){return a(z)},u;if(null==b)e.push(a);else{var r={};var w=0;for(u=a.length;w<u;++w){var z=a[w];var J=b.map(t);var p=r[J];p||(r[J]=p=[],p.dims=
J,e.push(p));p.push(z)}}return e}function t(a){e.Transform.call(this,null,a)}function C(a){e.Transform.call(this,null,a)}t.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};u.inherits(t,e.Transform).transform=function(a,t){var C=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||a.modified()){t=
t.materialize(t.SOURCE).source;t=w(t,a.groupby);const F=(a.groupby||[]).map(u.accessorName),H=F.length,r=a.as||[u.accessorName(a.x),u.accessorName(a.y)],G=[];t.forEach(t=>{b.regressionLoess(t,a.x,a.y,a.bandwidth||.3).forEach(a=>{const b={};for(let a=0;a<H;++a)b[F[a]]=t.dims[a];b[r[0]]=a[0];b[r[1]]=a[1];G.push(e.ingest(b))})});this.value&&(C.rem=this.value);this.value=C.add=C.source=G}return C};const H={linear:b.regressionLinear,log:b.regressionLog,exp:b.regressionExp,pow:b.regressionPow,quad:b.regressionQuad,
poly:b.regressionPoly};C.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(H)},{name:"order",type:"number","default":3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};u.inherits(C,e.Transform).transform=function(a,t){var C=t.fork(t.NO_SOURCE|
t.NO_FIELDS);if(!this.value||t.changed()||a.modified()){var F=t.materialize(t.SOURCE).source;F=w(F,a.groupby);const G=(a.groupby||[]).map(u.accessorName),r=a.method||"linear",S=a.order||3,z="poly"===r?S:"quad"===r?2:1,J=a.as||[u.accessorName(a.x),u.accessorName(a.y)],p=H[r],k=[];let N=a.extent;u.hasOwnProperty(H,r)||u.error("Invalid regression method: "+r);null!=N&&"log"===r&&0>=N[0]&&(t.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),N=null);F.forEach(D=>{if(D.length<=
z)t.dataflow.warn("Skipping regression with more parameters than data points.");else{var w=p(D,a.x,a.y,S);if(a.params)k.push(e.ingest({keys:D.dims,coef:w.coef,rSquared:w.rSquared}));else{var c=N||u.extent(D,a.x),h=a=>{const b={};for(let a=0;a<G.length;++a)b[G[a]]=D.dims[a];b[J[0]]=a[0];b[J[1]]=a[1];k.push(e.ingest(b))};"linear"===r?c.forEach(a=>h([a,w.predict(a)])):b.sampleCurve(w.predict,c,25,200).forEach(h)}}});this.value&&(C.rem=this.value);this.value=C.add=C.source=k}return C};a.loess=t;a.regression=
C;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[59]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.d3=a.d3||{}))})(this,function(a){function b(a,b){a/=Math.abs(a)+Math.abs(b);return(0<b?3-a:1+a)/4}function e(a,b,e,k){a-=e;b-=k;return a*a+b*b}function u(a,b,e,k,p,r){k=(k-b)*(p-a);a=(e-a)*(r-b);return Math.abs(k-a)>=3.3306690738754716E-16*Math.abs(k+a)?k-a:0}function w(a,b,e,k,p,r){return 0>(u(p,r,a,b,e,k)||u(a,b,e,k,p,r)||
u(e,k,p,r,a,b))}function t(a,b,e,k){if(20>=k-e)for(var c=e+1;c<=k;c++){for(var h=a[c],p=b[h],r=c-1;r>=e&&b[a[r]]>p;)a[r+1]=a[r--];a[r+1]=h}else{c=e+1;h=k;C(a,e+k>>1,c);b[a[e]]>b[a[k]]&&C(a,e,k);b[a[c]]>b[a[k]]&&C(a,c,k);b[a[e]]>b[a[c]]&&C(a,e,c);p=a[c];for(r=b[p];;){do c++;while(b[a[c]]<r);do h--;while(b[a[h]]>r);if(h<c)break;C(a,c,h)}a[e+1]=a[h];a[h]=p;k-c+1>=h-e?(t(a,b,c,k),t(a,b,e,h-1)):(t(a,b,e,h-1),t(a,b,c,k))}}function C(a,b,e){const c=a[b];a[b]=a[e];a[e]=c}function G(a){return a[0]}function P(a){return a[1]}
function ea(a){return a[0]}function T(a){return a[1]}function F(a){const {triangles:b,coords:c}=a;for(a=0;a<b.length;a+=3){const e=2*b[a],h=2*b[a+1],k=2*b[a+2];if(1E-10<(c[k]-c[e])*(c[h+1]-c[e+1])-(c[h]-c[e])*(c[k+1]-c[e+1]))return!1}return!0}function W(a,b,e){return[a+Math.sin(a+b)*e,b+Math.cos(a-b)*e]}function*r(a,b,e,k){let c=0;for(const h of a)yield b.call(k,h,c,a),yield e.call(k,h,c,a),++c}const S=Math.pow(2,-52),z=new Uint32Array(512);class J{static from(a,b,e){b=void 0===b?G:b;e=void 0===e?
P:e;const c=a.length,h=new Float64Array(2*c);for(let k=0;k<c;k++){const c=a[k];h[2*k]=b(c);h[2*k+1]=e(c)}return new J(h)}constructor(a){const b=a.length>>1;if(0<b&&"number"!==typeof a[0])throw Error("Expected coords to contain numbers.");this.coords=a;a=Math.max(2*b-5,0);this._triangles=new Uint32Array(3*a);this._halfedges=new Int32Array(3*a);this._hashSize=Math.ceil(Math.sqrt(b));this._hullPrev=new Uint32Array(b);this._hullNext=new Uint32Array(b);this._hullTri=new Uint32Array(b);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);
this._ids=new Uint32Array(b);this._dists=new Float64Array(b);this.update()}update(){const {coords:a,_hullPrev:b,_hullNext:k,_hullTri:p,_hullHash:r}=this;var u=a.length>>1,z=Infinity,D=Infinity,J=-Infinity,g=-Infinity;for(var d=0;d<u;d++){var F=a[2*d];var N=a[2*d+1];F<z&&(z=F);N<D&&(D=N);F>J&&(J=F);N>g&&(g=N);this._ids[d]=d}J=(z+J)/2;D=(D+g)/2;z=Infinity;for(g=0;g<u;g++)if(d=e(J,D,a[2*g],a[2*g+1]),d<z){var C=g;z=d}D=a[2*C];g=a[2*C+1];z=Infinity;for(J=0;J<u;J++)if(J!==C&&(d=e(D,g,a[2*J],a[2*J+1]),d<
z&&0<d)){var O=J;z=d}z=a[2*O];J=a[2*O+1];N=Infinity;for(d=0;d<u;d++)if(d!==C&&d!==O){F=z-D;var H=J-g;var G=a[2*d]-D;var P=a[2*d+1]-g,W=F*F+H*H,T=G*G+P*P,ea=.5/(F*P-H*G);H=(P*W-H*T)*ea;F=(F*T-G*W)*ea;F=H*H+F*F;if(F<N){var I=d;N=F}}d=a[2*I];F=a[2*I+1];if(Infinity===N){for(C=0;C<u;C++)this._dists[C]=a[2*C]-a[0]||a[2*C+1]-a[1];t(this._ids,this._dists,0,u-1);C=new Uint32Array(u);O=0;for(let a=0,b=-Infinity;a<u;a++)I=this._ids[a],this._dists[I]>b&&(C[O++]=I,b=this._dists[I]);this.hull=C.subarray(0,O);this.triangles=
new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{w(D,g,z,J,d,F)&&(N=O,G=z,W=J,O=I,z=d,J=F,I=N,d=G,F=W);G=z-D;N=J-g;W=d-D;P=F-g;T=G*G+N*N;ea=W*W+P*P;H=.5/(G*P-N*W);N=D+(P*T-N*ea)*H;G=g+(G*ea-W*T)*H;this._cx=N;this._cy=G;for(W=0;W<u;W++)this._dists[W]=e(a[2*W],a[2*W+1],N,G);t(this._ids,this._dists,0,u-1);this._hullStart=C;u=3;k[C]=b[I]=O;k[O]=b[C]=I;k[I]=b[O]=C;p[C]=0;p[O]=1;p[I]=2;r.fill(-1);r[this._hashKey(D,g)]=C;r[this._hashKey(z,J)]=O;r[this._hashKey(d,F)]=I;this.trianglesLen=0;this._addTriangle(C,
O,I,-1,-1,-1);for(let c=0,e,h;c<this._ids.length;c++){D=this._ids[c];g=a[2*D];z=a[2*D+1];if(0<c&&Math.abs(g-e)<=S&&Math.abs(z-h)<=S)continue;e=g;h=z;if(D===C||D===O||D===I)continue;J=0;for(let a=0,b=this._hashKey(g,z);a<this._hashSize&&(J=r[(b+a)%this._hashSize],-1===J||J===k[J]);a++);d=J=b[J];let l;for(;l=k[d],!w(g,z,a[2*d],a[2*d+1],a[2*l],a[2*l+1]);)if(d=l,d===J){d=-1;break}if(-1!==d){F=this._addTriangle(d,D,k[d],-1,-1,p[d]);p[D]=this._legalize(F+2);p[d]=F;u++;for(N=k[d];l=k[N],w(g,z,a[2*N],a[2*
N+1],a[2*l],a[2*l+1]);)F=this._addTriangle(N,D,l,p[D],-1,p[N]),p[D]=this._legalize(F+2),k[N]=N,u--,N=l;if(d===J)for(;l=b[d],w(g,z,a[2*l],a[2*l+1],a[2*d],a[2*d+1]);)F=this._addTriangle(l,D,d,-1,p[d],p[l]),this._legalize(F+2),p[l]=F,k[d]=d,u--,d=l;this._hullStart=b[D]=d;k[d]=b[N]=D;k[D]=N;r[this._hashKey(g,z)]=D;r[this._hashKey(a[2*d],a[2*d+1])]=d}}this.hull=new Uint32Array(u);for(let a=0,b=this._hullStart;a<u;a++)this.hull[a]=b,b=k[b];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=
this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(a,e){return Math.floor(b(a-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(a){const {_triangles:b,_halfedges:c,coords:e}=this;let k=0;for(var p;;){const h=c[a];var r=a-a%3;p=r+(a+2)%3;if(-1===h){if(0===k)break;a=z[--k];continue}const B=h-h%3,L=B+(h+2)%3;var t=b[p],u=b[a],g=b[r+(a+1)%3];r=b[L];{var d=e[2*r],D=e[2*r+1];var J=e[2*t]-d;const a=e[2*t+1]-D,b=e[2*u]-d;u=e[2*u+1]-D;d=e[2*g]-d;D=e[2*g+1]-D;g=b*b+u*u;const c=d*d+D*D;J=0>
J*(u*c-g*D)-a*(b*c-g*d)+(J*J+a*a)*(b*D-u*d)}if(J){b[a]=r;b[h]=t;t=c[L];if(-1===t){r=this._hullStart;do{if(this._hullTri[r]===L){this._hullTri[r]=a;break}r=this._hullPrev[r]}while(r!==this._hullStart)}this._link(a,t);this._link(h,c[p]);this._link(p,L);p=B+(h+1)%3;k<z.length&&(z[k++]=p)}else{if(0===k)break;a=z[--k]}}return p}_link(a,b){this._halfedges[a]=b;-1!==b&&(this._halfedges[b]=a)}_addTriangle(a,b,e,k,p,r){const c=this.trianglesLen;this._triangles[c]=a;this._triangles[c+1]=b;this._triangles[c+
2]=e;this._link(c,k);this._link(c+1,p);this._link(c+2,r);this.trianglesLen+=3;return c}}class p{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(a,b){this._+=`M${this._x0=this._x1=+a},${this._y0=this._y1=+b}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(a,b){this._+=`L${this._x1=+a},${this._y1=+b}`}arc(a,b,e){a=+a;b=+b;e=+e;const c=a+e,h=b;if(0>e)throw Error("negative radius");if(null===this._x1)this._+=`M${c},${h}`;else if(1E-6<Math.abs(this._x1-
c)||1E-6<Math.abs(this._y1-h))this._+="L"+c+","+h;e&&(this._+=`A${e},${e},0,1,1,${a-e},${b}A${e},${e},0,1,1,${this._x1=c},${this._y1=h}`)}rect(a,b,e,k){this._+=`M${this._x0=this._x1=+a},${this._y0=this._y1=+b}h${+e}v${+k}h${-e}Z`}value(){return this._||null}}class k{constructor(){this._=[]}moveTo(a,b){this._.push([a,b])}closePath(){this._.push(this._[0].slice())}lineTo(a,b){this._.push([a,b])}value(){return this._.length?this._:null}}class N{constructor(a,b){var [c,e,h,k]=void 0===b?[0,0,960,500]:
b;if(!((h=+h)>=(c=+c)&&(k=+k)>=(e=+e)))throw Error("invalid bounds");this.delaunay=a;this._circumcenters=new Float64Array(2*a.points.length);this.vectors=new Float64Array(2*a.points.length);this.xmax=h;this.xmin=c;this.ymax=k;this.ymin=e;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:a,hull:b,triangles:e},vectors:k}=this;var p=this.circumcenters=this._circumcenters.subarray(0,e.length/3*2);for(let b=0,c=0,h=e.length,k,B;b<h;b+=3,c+=2){var r=2*
e[b],t=2*e[b+1],u=2*e[b+2],z=a[r];r=a[r+1];var g=a[u],d=a[u+1];u=a[t]-z;t=a[t+1]-r;var D=g-z;const h=d-r,J=u*u+t*t,L=D*D+h*h,F=2*(u*h-t*D);F?1E-8>Math.abs(F)?(k=(z+g)/2,B=(r+d)/2):(g=1/F,k=z+(h*J-t*L)*g,B=r+(u*L-D*J)*g):(k=(z+g)/2-1E8*h,B=(r+d)/2+1E8*D);p[c]=k;p[c+1]=B}p=b[b.length-1];r=4*p;u=a[2*p];t=a[2*p+1];k.fill(0);for(D=0;D<b.length;++D)p=b[D],z=r,g=u,d=t,r=4*p,u=a[2*p],t=a[2*p+1],k[z+2]=k[r]=d-t,k[z+3]=k[r+1]=u-g}render(a){const b=null==a?a=new p:void 0,{delaunay:{halfedges:c,inedges:e,hull:k},
circumcenters:r,vectors:t}=this;if(1>=k.length)return null;for(let b=0,d=c.length;b<d;++b){var u=c[b];if(!(u<b)){var z=2*Math.floor(b/3);u=2*Math.floor(u/3);this._renderSegment(r[z],r[z+1],r[u],r[u+1],a)}}z=k[k.length-1];for(u=0;u<k.length;++u){var g=z;z=k[u];var d=2*Math.floor(e[z]/3);const b=r[d];d=r[d+1];g*=4;(g=this._project(b,d,t[g+2],t[g+3]))&&this._renderSegment(b,d,g[0],g[1],a)}return b&&b.value()}renderBounds(a){const b=null==a?a=new p:void 0;a.rect(this.xmin,this.ymin,this.xmax-this.xmin,
this.ymax-this.ymin);return b&&b.value()}renderCell(a,b){const c=null==b?b=new p:void 0;a=this._clip(a);if(null!==a){b.moveTo(a[0],a[1]);for(var e=a.length;a[0]===a[e-2]&&a[1]===a[e-1]&&1<e;)e-=2;for(let c=2;c<e;c+=2)a[c]===a[c-2]&&a[c+1]===a[c-1]||b.lineTo(a[c],a[c+1]);b.closePath();return c&&c.value()}}*cellPolygons(){var {delaunay:{points:a}}=this;for(let b=0,c=a.length/2;b<c;++b)(a=this.cellPolygon(b))&&(yield a)}cellPolygon(a){const b=new k;this.renderCell(a,b);return b.value()}_renderSegment(a,
b,e,k,p){const c=this._regioncode(a,b),h=this._regioncode(e,k);if(0===c&&0===h)p.moveTo(a,b),p.lineTo(e,k);else if(a=this._clipSegment(a,b,e,k,c,h))p.moveTo(a[0],a[1]),p.lineTo(a[2],a[3])}contains(a,b,e){return(b=+b,b!==b)||(e=+e,e!==e)?!1:this.delaunay._step(a,b,e)===a}*neighbors(a){const b=this._clip(a);if(b)for(const c of this.delaunay.neighbors(a))if(a=this._clip(c))a:for(let e=0,h=b.length;e<h;e+=2)for(let k=0,p=a.length;k<p;k+=2)if(b[e]==a[k]&&b[e+1]==a[k+1]&&b[(e+2)%h]==a[(k+p-2)%p]&&b[(e+
3)%h]==a[(k+p-1)%p]){yield c;break a}}_cell(a){const {circumcenters:b,delaunay:{inedges:c,halfedges:e,triangles:k}}=this,p=c[a];if(-1===p)return null;const r=[];let t=p;do{const c=Math.floor(t/3);r.push(b[2*c],b[2*c+1]);t=2===t%3?t-2:t+1;if(k[t]!==a)break;t=e[t]}while(t!==p&&-1!==t);return r}_clip(a){if(0===a&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const b=this._cell(a);if(null===b)return null;const {vectors:c}=this,e=
4*a;return c[e]||c[e+1]?this._clipInfinite(a,b,c[e],c[e+1],c[e+2],c[e+3]):this._clipFinite(a,b)}_clipFinite(a,b){const c=b.length;let e=null;let h=b[c-2],k=b[c-1];let p=this._regioncode(h,k),r;for(let u=0;u<c;u+=2){var t=h;var g=k;h=b[u];k=b[u+1];var d=p;p=this._regioncode(h,k);if(0===d&&0===p)r=0,e?e.push(h,k):e=[h,k];else{let b,c;if(0===d){if(null===(t=this._clipSegment(t,g,h,k,d,p)))continue;[g,d,b,c]=t}else{if(null===(t=this._clipSegment(h,k,t,g,p,d)))continue;[b,c,g,d]=t;t=r;r=this._edgecode(g,
d);t&&r&&this._edge(a,t,r,e,e.length);e?e.push(g,d):e=[g,d]}t=r;r=this._edgecode(b,c);t&&r&&this._edge(a,t,r,e,e.length);e?e.push(b,c):e=[b,c]}}if(e)t=r,r=this._edgecode(e[0],e[1]),t&&r&&this._edge(a,t,r,e,e.length);else if(this.contains(a,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return e}_clipSegment(a,b,e,k,p,r){for(;;){if(0===p&&0===r)return[a,b,e,k];if(p&r)return null;let h;var c=p||r;c&8?(c=a+(e-a)*
(this.ymax-b)/(k-b),h=this.ymax):c&4?(c=a+(e-a)*(this.ymin-b)/(k-b),h=this.ymin):c&2?(h=b+(k-b)*(this.xmax-a)/(e-a),c=this.xmax):(h=b+(k-b)*(this.xmin-a)/(e-a),c=this.xmin);p?(a=c,b=h,p=this._regioncode(a,b)):(e=c,k=h,r=this._regioncode(e,k))}}_clipInfinite(a,b,e,k,p,r){b=Array.from(b);let c;(c=this._project(b[0],b[1],e,k))&&b.unshift(c[0],c[1]);(c=this._project(b[b.length-2],b[b.length-1],p,r))&&b.push(c[0],c[1]);if(b=this._clipFinite(a,b))for(let c=0,e=b.length,g,d=this._edgecode(b[e-2],b[e-1]);c<
e;c+=2)g=d,d=this._edgecode(b[c],b[c+1]),g&&d&&(c=this._edge(a,g,d,b,c),e=b.length);else this.contains(a,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(b=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return b}_edge(a,b,e,k,p){for(;b!==e;){let c,e;switch(b){case 5:b=4;continue;case 4:b=6;c=this.xmax;e=this.ymin;break;case 6:b=2;continue;case 2:b=10;c=this.xmax;e=this.ymax;break;case 10:b=8;continue;case 8:b=9;c=this.xmin;e=this.ymax;break;case 9:b=1;continue;
case 1:b=5,c=this.xmin,e=this.ymin}k[p]===c&&k[p+1]===e||!this.contains(a,c,e)||(k.splice(p,0,c,e),p+=2)}if(4<k.length)for(a=0;a<k.length;a+=2)if(b=(a+2)%k.length,e=(a+4)%k.length,k[a]===k[b]&&k[b]===k[e]||k[a+1]===k[b+1]&&k[b+1]===k[e+1])k.splice(b,2),a-=2;return p}_project(a,b,e,k){let c=Infinity,h,p,r;if(0>k){if(b<=this.ymin)return null;(h=(this.ymin-b)/k)<c&&(r=this.ymin,p=a+(c=h)*e)}else if(0<k){if(b>=this.ymax)return null;(h=(this.ymax-b)/k)<c&&(r=this.ymax,p=a+(c=h)*e)}if(0<e){if(a>=this.xmax)return null;
(h=(this.xmax-a)/e)<c&&(p=this.xmax,r=b+h*k)}else if(0>e){if(a<=this.xmin)return null;(h=(this.xmin-a)/e)<c&&(p=this.xmin,r=b+h*k)}return[p,r]}_edgecode(a,b){return(a===this.xmin?1:a===this.xmax?2:0)|(b===this.ymin?4:b===this.ymax?8:0)}_regioncode(a,b){return(a<this.xmin?1:a>this.xmax?2:0)|(b<this.ymin?4:b>this.ymax?8:0)}}const D=2*Math.PI;class O{static from(a,b,e,k){b=void 0===b?ea:b;e=void 0===e?T:e;if("length"in a){{const c=a.length,h=new Float64Array(2*c);for(let p=0;p<c;++p){const c=a[p];h[2*
p]=b.call(k,c,p,a);h[2*p+1]=e.call(k,c,p,a)}a=h}}else a=Float64Array.from(r(a,b,e,k));return new O(a)}constructor(a){this._delaunator=new J(a);this.inedges=new Int32Array(a.length/2);this._hullIndex=new Int32Array(a.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){var a=this._delaunator;const b=this.points;if(a.hull&&2<a.hull.length&&F(a)){this.collinear=Int32Array.from({length:b.length/2},(a,b)=>b).sort((a,c)=>b[2*a]-b[2*
c]||b[2*a+1]-b[2*c+1]);a=this.collinear[0];var e=this.collinear[this.collinear.length-1];a=[b[2*a],b[2*a+1],b[2*e],b[2*e+1]];a=1E-8*Math.sqrt(Math.pow(a[3]-a[1],2)+Math.pow(a[2]-a[0],2));for(let c=0,h=b.length/2;c<h;++c)e=W(b[2*c],b[2*c+1],a),b[2*c]=e[0],b[2*c+1]=e[1];this._delaunator=new J(b)}else delete this.collinear;a=this.halfedges=this._delaunator.halfedges;e=this.hull=this._delaunator.hull;const k=this.triangles=this._delaunator.triangles,p=this.inedges.fill(-1),r=this._hullIndex.fill(-1);
for(let b=0,c=a.length;b<c;++b){const c=k[2===b%3?b-2:b+1];if(-1===a[b]||-1===p[c])p[c]=b}for(let a=0,b=e.length;a<b;++a)r[e[a]]=a;2>=e.length&&0<e.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=e[0],this.triangles[1]=e[1],this.triangles[2]=e[1],p[e[0]]=1,2===e.length&&(p[e[1]]=0))}voronoi(a){return new N(this,a)}*neighbors(a){const {inedges:b,hull:c,_hullIndex:e,halfedges:k,triangles:p,collinear:r}=this;if(r){var t=r.indexOf(a);
0<t&&(yield r[t-1]);t<r.length-1&&(yield r[t+1])}else{var u=b[a];if(-1!==u){var g=u;do{yield(t=p[g]);g=2===g%3?g-2:g+1;if(p[g]!==a)break;g=k[g];if(-1===g){a=c[(e[a]+1)%c.length];a!==t&&(yield a);break}}while(g!==u)}}}find(a,b,e){e=void 0===e?0:e;if((a=+a,a!==a)||(b=+b,b!==b))return-1;const c=e;let h;for(;0<=(h=this._step(e,a,b))&&h!==e&&h!==c;)e=h;return h}_step(a,b,e){const {inedges:c,hull:h,_hullIndex:k,halfedges:p,triangles:r,points:t}=this;if(-1===c[a]||!t.length)return(a+1)%(t.length>>1);let g=
a,d=Math.pow(b-t[2*a],2)+Math.pow(e-t[2*a+1],2);const u=c[a];let z=u;do{let c=r[z];const u=Math.pow(b-t[2*c],2)+Math.pow(e-t[2*c+1],2);u<d&&(d=u,g=c);z=2===z%3?z-2:z+1;if(r[z]!==a)break;z=p[z];if(-1===z){z=h[(k[a]+1)%h.length];if(z!==c&&Math.pow(b-t[2*z],2)+Math.pow(e-t[2*z+1],2)<d)return z;break}}while(z!==u);return g}render(a){const b=null==a?a=new p:void 0,{points:c,halfedges:e,triangles:k}=this;for(let b=0,h=e.length;b<h;++b){var r=e[b];if(r<b)continue;const h=2*k[b];r=2*k[r];a.moveTo(c[h],c[h+
1]);a.lineTo(c[r],c[r+1])}this.renderHull(a);return b&&b.value()}renderPoints(a,b){b=void 0===b?2:b;const c=null==a?a=new p:void 0,{points:e}=this;for(let c=0,h=e.length;c<h;c+=2){const h=e[c],k=e[c+1];a.moveTo(h+b,k);a.arc(h,k,b,0,D)}return c&&c.value()}renderHull(a){const b=null==a?a=new p:void 0,{hull:c,points:e}=this;var k=2*c[0];const r=c.length;a.moveTo(e[k],e[k+1]);for(k=1;k<r;++k){const b=2*c[k];a.lineTo(e[b],e[b+1])}a.closePath();return b&&b.value()}hullPolygon(){const a=new k;this.renderHull(a);
return a.value()}renderTriangle(a,b){const c=null==b?b=new p:void 0,{points:e,triangles:h}=this,k=2*h[a*=3],r=2*h[a+1];a=2*h[a+2];b.moveTo(e[k],e[k+1]);b.lineTo(e[r],e[r+1]);b.lineTo(e[a],e[a+1]);b.closePath();return c&&c.value()}*trianglePolygons(){const {triangles:a}=this;for(let b=0,c=a.length/3;b<c;++b)yield this.trianglePolygon(b)}trianglePolygon(a){const b=new k;this.renderTriangle(a,b);return b.value()}}a.Delaunay=O;a.Voronoi=N;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[60]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(31),w(21),w(59)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-delaunay"],b):(a=a||self,b((a.vega=a.vega||{},a.vega.transforms={}),a.vega,a.vega,a.d3))})(this,function(a,b,e,u){function w(a){b.Transform.call(this,null,a)}w.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",
type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};const t=[-1E5,-1E5,1E5,1E5];e.inherits(w,b.Transform).transform=function(a,b){const e=a.as||"path",w=b.source;if(!w||!w.length)return b;var C=a.size;C=C?[0,0,C[0],C[1]]:(C=a.extent)?[C[0][0],C[0][1],C[1][0],C[1][1]]:t;C=this.value=u.Delaunay.from(w,a.x,a.y).voronoi(C);for(let a=0,b=w.length;a<b;++a){var F=
C.cellPolygon(a),H=w[a];if(F){{const a=F[0][0],b=F[0][1];let e=F.length-1;for(;F[e][0]===a&&F[e][1]===b;--e);F="M"+F.slice(0,e+1).join("L")+"Z"}}else F=null;H[e]=F}return b.reflow(a.modified()).modifies(e)};a.voronoi=w;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[61]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(36),w(31),w(21),w(45),w(33)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),b):(a=a||self,b((a.vega=a.vega||{},a.vega.transforms={}),a.vega,a.vega,a.vega,a.vega,a.vega))})(this,function(a,b,e,u,w,t){function C(){function a(a){a.width=a.height=1;var b=Math.sqrt(a.getContext("2d").getImageData(0,0,1,1).data.length>>2);
a.width=2048/b;a.height=2048/b;a=a.getContext("2d");a.fillStyle=a.strokeStyle="red";a.textAlign="center";return{context:a,ratio:b}}function e(a,b,c){for(var d=b.x,e=b.y,g=Math.sqrt(r[0]*r[0]+r[1]*r[1]),h=B(r),k=.5>P()?1:-1,p=-k,t,u;t=h(p+=k);){u=~~t[0];t=~~t[1];if(Math.min(Math.abs(u),Math.abs(t))>=g)break;b.x=d+u;b.y=e+t;if(!(0>b.x+b.x0||0>b.y+b.y0||b.x+b.x1>r[0]||b.y+b.y1>r[1])){if(!(u=!c)){a:{u=r[0];u>>=5;t=b.sprite;var z=b.width>>5;var D=b.x-(z<<4);for(var J=D&127,F=32-J,l=b.y1-b.y0,v=(b.y+b.y0)*
u+(D>>5),x=0;x<l;x++){for(var m=D=0;m<=z;m++)if((D<<F|(m<z?(D=t[x*z+m])>>>J:0))&a[v+m]){u=!0;break a}v+=u}u=!1}u=!u}if(u&&(!c||b.x+b.x1>c[0].x&&b.x+b.x0<c[1].x&&b.y+b.y1>c[0].y&&b.y+b.y0<c[1].y)){c=b.sprite;d=b.width>>5;e=r[0]>>5;p=b.x-(d<<4);g=p&127;h=32-g;k=b.y1-b.y0;p=(b.y+b.y0)*e+(p>>5);for(t=0;t<k;t++){for(z=u=0;z<=d;z++)a[p+z]=a[p+z]|u<<h|(z<d?(u=c[t*d+z])>>>g:0);p+=e}b.sprite=null;return!0}}}return!1}var r=[256,256],t,u,c,h,z,J,w,B=ea,C=[],P=Math.random,W={layout:function(){for(var g=a(b.canvas()),
d=T((r[0]>>5)*r[1]),k=null,p=C.length,D=-1,B=[],F=C.map(function(a){return{text:t(a),font:u(a),style:h(a),weight:z(a),rotate:J(a),size:~~(c(a)+1E-14),padding:w(a),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:a}}).sort(function(a,b){return b.size-a.size});++D<p;){var N=F[D];N.x=r[0]*(P()+.5)>>1;N.y=r[1]*(P()+.5)>>1;H(g,N,F,D);N.hasText&&e(d,N,k)&&(B.push(N),k?G(k,N):k=[{x:N.x+N.x0,y:N.y+N.y0},{x:N.x+N.x1,y:N.y+N.y1}],N.x-=r[0]>>1,N.y-=r[1]>>1)}return B},words:function(a){return arguments.length?
(C=a,W):C},size:function(a){return arguments.length?(r=[+a[0],+a[1]],W):r},font:function(a){return arguments.length?(u=F(a),W):u},fontStyle:function(a){return arguments.length?(h=F(a),W):h},fontWeight:function(a){return arguments.length?(z=F(a),W):z},rotate:function(a){return arguments.length?(J=F(a),W):J},text:function(a){return arguments.length?(t=F(a),W):t},spiral:function(a){return arguments.length?(B=S[a]||a,W):B},fontSize:function(a){return arguments.length?(c=F(a),W):c},padding:function(a){return arguments.length?
(w=F(a),W):w},random:function(a){return arguments.length?(P=a,W):P}};return W}function H(a,b,e,t){if(!b.sprite){var k=a.context,c=a.ratio;k.clearRect(0,0,2048/c,2048/c);var h=a=0,p=0,u=e.length;for(--t;++t<u;){b=e[t];k.save();k.font=b.style+" "+b.weight+" "+~~((b.size+1)/c)+"px "+b.font;var z=k.measureText(b.text+"m").width*c;var D=b.size<<1;if(b.rotate){var J=Math.sin(b.rotate*r),F=Math.cos(b.rotate*r),w=z*F,g=z*J;F*=D;z=D*J;z=Math.max(Math.abs(w+z),Math.abs(w-z))+31>>5<<5;D=~~Math.max(Math.abs(g+
F),Math.abs(g-F))}else z=z+31>>5<<5;D>p&&(p=D);2048<=a+z&&(a=0,h+=p,p=0);if(2048<=h+D)break;k.translate((a+(z>>1))/c,(h+(D>>1))/c);b.rotate&&k.rotate(b.rotate*r);k.fillText(b.text,0,0);b.padding&&(k.lineWidth=2*b.padding,k.strokeText(b.text,0,0));k.restore();b.width=z;b.height=D;b.xoff=a;b.yoff=h;b.x1=z>>1;b.y1=D>>1;b.x0=-b.x1;b.y0=-b.y1;b.hasText=!0;a+=z}u=k.getImageData(0,0,2048/c,2048/c).data;for(w=[];0<=--t;)if(b=e[t],b.hasText){z=b.width;k=z>>5;D=b.y1-b.y0;for(c=0;c<D*k;c++)w[c]=0;a=b.xoff;if(null==
a)break;h=b.yoff;g=0;J=-1;for(p=0;p<D;p++){for(c=0;c<z;c++)F=u[2048*(h+p)+(a+c)<<2]?1<<31-c%32:0,w[k*p+(c>>5)]|=F,g|=F;g?J=p:(b.y0++,D--,p--,h++)}b.y1=b.y0+J;b.sprite=w.slice(0,(b.y1-b.y0)*k)}}}function G(a,b){var e=a[0];a=a[1];b.x+b.x0<e.x&&(e.x=b.x+b.x0);b.y+b.y0<e.y&&(e.y=b.y+b.y0);b.x+b.x1>a.x&&(a.x=b.x+b.x1);b.y+b.y1>a.y&&(a.y=b.y+b.y1)}function ea(a){var b=a[0]/a[1];return function(a){return[b*(a*=.1)*Math.cos(a),a*Math.sin(a)]}}function T(a){for(var b=[],e=-1;++e<a;)b[e]=0;return b}function F(a){return"function"===
typeof a?a:function(){return a}}function W(a){e.Transform.call(this,C(),a)}var r=Math.PI/180,S={archimedean:ea,rectangular:function(a){var b=4*a[0]/a[1],e=0,p=0;return function(a){var c=0>a?-1:1;switch(Math.sqrt(1+4*c*a)-c&3){case 0:e+=b;break;case 1:p+=4;break;case 2:e-=b;break;default:p-=4}return[e,p]}}},z="x y font fontSize fontStyle fontWeight angle".split(" "),J="text font rotate fontSize fontStyle fontWeight".split(" ");W.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",
type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",
expr:!0},{name:"as",type:"string",array:!0,length:7,"default":z}]};u.inherits(W,e.Transform).transform=function(a,b){function e(c){c=a[c];return u.isFunction(c)&&b.modified(c.fields)}!a.size||a.size[0]&&a.size[1]||u.error("Wordcloud size dimensions must be non-zero.");var k=a.modified();if(k||b.changed(b.ADD_REM)||J.some(e)){var p=b.materialize(b.SOURCE).source,c=this.value,h=a.as||z,r=a.fontSize||14,F;u.isFunction(r)?F=a.fontSizeRange:r=u.constant(r);if(F){var C=r,B=w.scale("sqrt")().domain(u.extent(p,
C)).range(F);r=function(a){return B(C(a))}}p.forEach(function(a){a[h[0]]=NaN;a[h[1]]=NaN;a[h[3]]=0});p=c.words(p).text(a.text).size(a.size||[500,500]).padding(a.padding||1).spiral(a.spiral||"archimedean").rotate(a.rotate||0).font(a.font||"sans-serif").fontStyle(a.fontStyle||"normal").fontWeight(a.fontWeight||"normal").fontSize(r).random(t.random).layout();r=c.size();c=r[0]>>1;r=r[1]>>1;F=0;for(var H=p.length,G,P;F<H;++F)G=p[F],P=G.datum,P[h[0]]=G.x+c,P[h[1]]=G.y+r,P[h[2]]=G.font,P[h[3]]=G.size,P[h[4]]=
G.style,P[h[5]]=G.weight,P[h[6]]=G.rotate;return b.reflow(k).modifies(h)}};a.wordcloud=W;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[62]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(32),w(31),w(21)):"function"===typeof define&&define.amd?define(["exports","d3-array","vega-dataflow","vega-util"],b):(a=a||self,b((a.vega=a.vega||{},a.vega.transforms={}),a.d3,a.vega,a.vega))})(this,function(a,b,e,u){function w(a){return new Uint8Array(a)}function t(a){return new Uint16Array(a)}function C(a){return new Uint32Array(a)}function H(){var a=8,b=[],e=C(0),k=G(0,a),r=G(0,a);return{data:function(){return b},
seen:function(){var a=e;var k=b.length;a.length>=k||(k=new a.constructor(k),k.set(a),a=k);return e=a},add:function(a){for(var e=0,c=b.length,h=a.length,k;e<h;++e)k=a[e],k._index=c++,b.push(k)},remove:function(a,e){var c=b.length;a=Array(c-a);var h=b,p,t;for(p=0;!e[p]&&p<c;++p)a[p]=b[p],h[p]=p;for(t=p;p<c;++p){var u=b[p];e[p]?h[p]=-1:(h[p]=t,k[t]=k[p],r[t]=r[p],a[t]=u,u._index=t++);k[p]=0}b=a;return h},size:function(){return b.length},curr:function(){return k},prev:function(){return r},reset:function(a){r[a]=
k[a]},all:function(){return 257>a?255:65537>a?65535:4294967295},set:function(a,b){k[a]|=b},clear:function(a,b){k[a]&=~b},resize:function(b,e){if(b>k.length||e>a)a=Math.max(e,a),k=G(b,a,k),r=G(b,a)}}}function G(a,b,e){a=(257>b?w:65537>b?t:C)(a);e&&a.set(e);return a}function ea(a,b,e){var k=1<<b;return{one:k,zero:~k,range:e.slice(),bisect:a.bisect,index:a.index,size:a.size,onAdd:function(a,b){var e=this.bisect(this.range,a.value);a=a.index;var c=e[0];e=e[1];var h=a.length,p;for(p=0;p<c;++p)b[a[p]]|=
k;for(p=e;p<h;++p)b[a[p]]|=k;return this}}}function T(){var a=C(0),e=[],p=0;return{insert:function(b,r,t){if(!r.length)return[];var k=p,c=r.length,h=Array(c),u=C(c),z;for(z=0;z<c;++z)h[z]=b(r[z]),u[z]=z;h=F(h,u);if(k){b=e;r=a;e=Array(k+c);a=C(k+c);z=h;var D=e,J=a,w=0,N=0,H;for(H=0;w<k&&N<c;++H)b[w]<z[N]?(D[H]=b[w],J[H]=r[w++]):(D[H]=z[N],J[H]=u[N++]+t);for(;w<k;++w,++H)D[H]=b[w],J[H]=r[w];for(;N<c;++N,++H)D[H]=z[N],J[H]=u[N]+t}else{if(0<t)for(z=0;z<c;++z)u[z]+=t;e=h;a=u}p=k+c;return{index:u,value:h}},
remove:function(b,r){var k=p,t,c,h;for(c=0;!r[a[c]]&&c<k;++c);for(h=c;c<k;++c)r[t=a[c]]||(a[h]=t,e[h]=e[c],++h);p=k-b},bisect:function(a,r){if(r)var k=r.length;else r=e,k=p;return[b.bisectLeft(r,a[0],0,k),b.bisectRight(r,a[1],0,k)]},reindex:function(b){for(var e=0,k=p;e<k;++e)a[e]=b[a[e]]},index:function(){return a},size:function(){return p}}}function F(a,e){a.sort.call(e,function(b,e){b=a[b];e=a[e];return b<e?-1:b>e?1:0});return b.permute(a,e)}function W(a){e.Transform.call(this,H(),a);this._dims=
this._indices=null}function r(a){e.Transform.call(this,null,a)}W.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};var S=u.inherits(W,e.Transform);S.transform=function(a,b){return this._dims?a.modified("fields")||a.fields.some(function(a){return b.modified(a.fields)})?this.reinit(a,b):this.eval(a,b):this.init(a,b)};S.init=function(a,b){for(var e=a.fields,
k=a.query,r=this._indices={},t=this._dims=[],u=k.length,c=0,h;c<u;++c)h=e[c].fname,h=r[h]||(r[h]=T()),t.push(ea(h,c,k[c]));return this.eval(a,b)};S.reinit=function(a,b){var e=b.materialize().fork(),k=a.fields,r=a.query,t=this._indices,u=this._dims,c=this.value,h=c.curr(),z=c.prev(),F=c.all(),w=e.rem=e.add,B=e.mod,J=r.length,C={},H,g,d;z.set(h);b.rem.length&&(d=this.remove(a,b,e));b.add.length&&c.add(b.add);if(b.mod.length){var G={};var P=b.mod;var S=0;for(g=P.length;S<g;++S)G[P[S]._index]=1}for(S=
0;S<J;++S){var W=k[S];if(!u[S]||a.modified("fields",S)||b.modified(W.fields))g=W.fname,(P=C[g])||(t[g]=H=T(),C[g]=P=H.insert(W,b.source,0)),u[S]=ea(H,S,r[S]).onAdd(P,h)}S=0;for(g=c.data().length;S<g;++S)d[S]||(z[S]!==h[S]?w.push(S):G[S]&&h[S]!==F&&B.push(S));c.mask=(1<<J)-1;return e};S.eval=function(a,b){var e=b.materialize().fork(),k=this._dims.length,r=0;b.rem.length&&(this.remove(a,b,e),r|=(1<<k)-1);a.modified("query")&&!a.modified("fields")&&(r|=this.update(a,b,e));b.add.length&&(this.insert(a,
b,e),r|=(1<<k)-1);b.mod.length&&(this.modify(b,e),r|=(1<<k)-1);this.value.mask=r;return e};S.insert=function(a,b,e){b=b.add;var k=this.value,p=this._dims,r=this._indices;a=a.fields;var t={};e=e.add;var c=k.size(),h=c+b.length,u=p.length;k.resize(h,u);k.add(b);var z=k.curr(),F=k.prev(),w=k.all();for(k=0;k<u;++k){var J=a[k].fname;J=t[J]||(t[J]=r[J].insert(a[k],b,c));p[k].onAdd(J,z)}for(;c<h;++c)F[c]=w,z[c]!==w&&e.push(c)};S.modify=function(a,b){b=b.mod;var e=this.value,k=e.curr();e=e.all();a=a.mod;
var r;var t=0;for(r=a.length;t<r;++t){var u=a[t]._index;k[u]!==e&&b.push(u)}};S.remove=function(a,b,e){a=this._indices;var k=this.value,p=k.curr(),r=k.prev();k=k.all();var t={};e=e.rem;var c=b.rem,h,u;var z=0;for(h=c.length;z<h;++z){var F=c[z]._index;t[F]=1;r[F]=u=p[F];p[F]=k;u!==k&&e.push(F)}for(F in a)a[F].remove(h,t);this.reindex(b,h,t);return t};S.reindex=function(a,b,e){var k=this._indices,p=this.value;a.runAfter(function(){var a=p.remove(b,e),r;for(r in k)k[r].reindex(a)})};S.update=function(a,
b,e){var k=this._dims,p=a.query;b=b.stamp;var r=k.length,t=0,c;for(c=e.filters=0;c<r;++c)if(a.modified("query",c)){var h=c;++t}if(1===t)t=k[h].one,this.incrementOne(k[h],p[h],e.add,e.rem);else for(t=c=0;c<r;++c)a.modified("query",c)&&(t|=k[c].one,this.incrementAll(k[c],p[c],b,e.add),e.rem=e.add);return t};S.incrementAll=function(a,b,e,k){var p=this.value,r=p.seen(),t=p.curr();p=p.prev();var c=a.index(),h=a.bisect(a.range),u=a.bisect(b),z=u[0];u=u[1];var F=h[0];h=h[1];var w=a.one,J;if(z<F){var C=z;
for(J=Math.min(F,u);C<J;++C){var H=c[C];r[H]!==e&&(p[H]=t[H],r[H]=e,k.push(H));t[H]^=w}}else if(z>F)for(C=F,J=Math.min(z,h);C<J;++C)H=c[C],r[H]!==e&&(p[H]=t[H],r[H]=e,k.push(H)),t[H]^=w;if(u>h)for(C=Math.max(z,h),J=u;C<J;++C)H=c[C],r[H]!==e&&(p[H]=t[H],r[H]=e,k.push(H)),t[H]^=w;else if(u<h)for(C=Math.max(F,u),J=h;C<J;++C)H=c[C],r[H]!==e&&(p[H]=t[H],r[H]=e,k.push(H)),t[H]^=w;a.range=b.slice()};S.incrementOne=function(a,b,e,k){var p=this.value.curr(),r=a.index(),t=a.bisect(a.range),c=a.bisect(b),h=
c[0];c=c[1];var u=t[0];t=t[1];var z=a.one,F;if(h<u){var w=h;for(F=Math.min(u,c);w<F;++w){var C=r[w];p[C]^=z;e.push(C)}}else if(h>u)for(w=u,F=Math.min(h,t);w<F;++w)C=r[w],p[C]^=z,k.push(C);if(c>t)for(w=Math.max(h,t),F=c;w<F;++w)C=r[w],p[C]^=z,e.push(C);else if(c<t)for(w=Math.max(u,c),F=t;w<F;++w)C=r[w],p[C]^=z,k.push(C);a.range=b.slice()};r.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",
type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};u.inherits(r,e.Transform).transform=function(a,b){var e=~(a.ignore||0);a=a.filter;var k=a.mask;if(0===(k&e))return b.StopPropagation;b=b.fork(b.ALL);var r=a.data(),t=a.curr(),u=a.prev(),c=function(a){return t[a]&e?null:r[a]};b.filter(b.MOD,c);k&k-1?(b.filter(b.ADD,function(a){var b=t[a]&e;return!b&&b^u[a]&e?r[a]:null}),b.filter(b.REM,function(a){var b=t[a]&e;return!b||b^b^u[a]&e?null:r[a]})):(b.filter(b.ADD,
c),b.filter(b.REM,function(a){return(t[a]&e)===k?r[a]:null}));return b.filter(b.SOURCE,function(a){return c(a._index)})};a.crossfilter=W;a.resolvefilter=r;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[63]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(21)):"function"===typeof define&&define.amd?define(["exports","vega-util"],b):(a=a||self,b(a.vega={},a.vega))})(this,function(a,b){function e(a){this.type=a}function u(a){switch(a.type){case "ArrayExpression":return a.elements;case "BinaryExpression":case "LogicalExpression":return[a.left,a.right];case "CallExpression":var b=a.arguments.slice();b.unshift(a.callee);return b;case "ConditionalExpression":return[a.test,
a.consequent,a.alternate];case "MemberExpression":return[a.object,a.property];case "ObjectExpression":return a.properties;case "Property":return[a.key,a.value];case "UnaryExpression":return[a.argument];default:return[]}}function w(a,b){if(!a)throw Error("ASSERT: "+b);}function t(a){return 48<=a&&57>=a}function C(a){return 0<="0123456789abcdefABCDEF".indexOf(a)}function G(a){return 0<="01234567".indexOf(a)}function P(a){return 10===a||13===a||8232===a||8233===a}function ea(a){return 36===a||95===a||
65<=a&&90>=a||97<=a&&122>=a||92===a||128<=a&&Na.test(String.fromCharCode(a))}function T(a){return 36===a||95===a||65<=a&&90>=a||97<=a&&122>=a||48<=a&&57>=a||92===a||128<=a&&Ea.test(String.fromCharCode(a))}function F(){for(var a;aa<sa;)if(a=ha.charCodeAt(aa),32===a||9===a||11===a||12===a||160===a||5760<=a&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(a)||P(a))++aa;else break}function W(a){var b=0;var c="u"===a?4:2;for(a=0;a<c;++a)if(aa<sa&&C(ha[aa])){var d=
ha[aa++];b=16*b+"0123456789abcdef".indexOf(d.toLowerCase())}else L({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(b)}function r(){var a=ha.charCodeAt(aa++);var b=String.fromCharCode(a);92===a&&(117!==ha.charCodeAt(aa)&&L({},"Unexpected token %0","ILLEGAL"),++aa,(a=W("u"))&&"\\"!==a&&ea(a.charCodeAt(0))||L({},"Unexpected token %0","ILLEGAL"),b=a);for(;aa<sa;){a=ha.charCodeAt(aa);if(!T(a))break;++aa;b+=String.fromCharCode(a);92===a&&(b=b.substr(0,b.length-1),117!==ha.charCodeAt(aa)&&
L({},"Unexpected token %0","ILLEGAL"),++aa,(a=W("u"))&&"\\"!==a&&T(a.charCodeAt(0))||L({},"Unexpected token %0","ILLEGAL"),b+=a)}return b}function S(){var a=aa,b=ha.charCodeAt(aa),c=ha[aa];switch(b){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++aa,{type:7,value:String.fromCharCode(b),start:a,end:aa};default:var d=ha.charCodeAt(aa+1);if(61===d)switch(b){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return aa+=
2,{type:7,value:String.fromCharCode(b)+String.fromCharCode(d),start:a,end:aa};case 33:case 61:return aa+=2,61===ha.charCodeAt(aa)&&++aa,{type:7,value:ha.slice(a,aa),start:a,end:aa}}}b=ha.substr(aa,4);if("\x3e\x3e\x3e\x3d"===b)return aa+=4,{type:7,value:b,start:a,end:aa};b=b.substr(0,3);if("\x3e\x3e\x3e"===b||"\x3c\x3c\x3d"===b||"\x3e\x3e\x3d"===b)return aa+=3,{type:7,value:b,start:a,end:aa};b=b.substr(0,2);if(c===b[1]&&0<="+-\x3c\x3e\x26|".indexOf(c)||"\x3d\x3e"===b)return aa+=2,{type:7,value:b,start:a,
end:aa};if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(c))return++aa,{type:7,value:c,start:a,end:aa};L({},"Unexpected token %0","ILLEGAL")}function z(){var a=ha[aa];w(t(a.charCodeAt(0))||"."===a,"Numeric literal must start with a decimal digit or a decimal point");var b=aa;var c="";if("."!==a){c=ha[aa++];a=ha[aa];if("0"===c){if("x"===a||"X"===a){++aa;for(c="";aa<sa&&C(ha[aa]);)c+=ha[aa++];0===c.length&&L({},"Unexpected token %0","ILLEGAL");ea(ha.charCodeAt(aa))&&L({},"Unexpected token %0","ILLEGAL");return{type:6,
value:parseInt("0x"+c,16),start:b,end:aa}}if(G(a)){for(c="0"+ha[aa++];aa<sa&&G(ha[aa]);)c+=ha[aa++];(ea(ha.charCodeAt(aa))||t(ha.charCodeAt(aa)))&&L({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(c,8),octal:!0,start:b,end:aa}}a&&t(a.charCodeAt(0))&&L({},"Unexpected token %0","ILLEGAL")}for(;t(ha.charCodeAt(aa));)c+=ha[aa++];a=ha[aa]}if("."===a){for(c+=ha[aa++];t(ha.charCodeAt(aa));)c+=ha[aa++];a=ha[aa]}if("e"===a||"E"===a){c+=ha[aa++];a=ha[aa];if("+"===a||"-"===a)c+=ha[aa++];if(t(ha.charCodeAt(aa)))for(;t(ha.charCodeAt(aa));)c+=
ha[aa++];else L({},"Unexpected token %0","ILLEGAL")}ea(ha.charCodeAt(aa))&&L({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(c),start:b,end:aa}}function J(a,b){var c=a;0<=b.indexOf("u")&&(c=c.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(a,b){if(1114111>=parseInt(b,16))return"x";L({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(c)}catch(m){L({},"Invalid regular expression")}try{return new RegExp(a,b)}catch(m){return null}}function p(){F();
if(aa>=sa)return{type:2,start:aa,end:aa};var a=ha.charCodeAt(aa);if(ea(a)){a=aa;if(92===ha.charCodeAt(aa))var b=r();else a:{for(b=aa++;aa<sa;){var c=ha.charCodeAt(aa);if(92===c){aa=b;b=r();break a}if(T(c))++aa;else break}b=ha.slice(b,aa)}return{type:1===b.length?3:Ma.hasOwnProperty(b)?4:"null"===b?5:"true"===b||"false"===b?1:3,value:b,start:a,end:aa}}if(40===a||41===a||59===a)return S();if(39===a||34===a){var d="";c=!1;a=ha[aa];w("'"===a||'"'===a,"String literal must starts with a quote");b=aa;for(++aa;aa<
sa;){var e=ha[aa++];if(e===a){a="";break}else if("\\"===e)if((e=ha[aa++])&&P(e.charCodeAt(0)))"\r"===e&&"\n"===ha[aa]&&++aa;else switch(e){case "u":case "x":if("{"===ha[aa]){++aa;var g=ha[aa];e=0;for("}"===g&&L({},"Unexpected token %0","ILLEGAL");aa<sa;){g=ha[aa++];if(!C(g))break;e=16*e+"0123456789abcdef".indexOf(g.toLowerCase())}(1114111<e||"}"!==g)&&L({},"Unexpected token %0","ILLEGAL");e=65535>=e?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320);d+=e}else d+=
W(e);break;case "n":d+="\n";break;case "r":d+="\r";break;case "t":d+="\t";break;case "b":d+="\b";break;case "f":d+="\f";break;case "v":d+="\x0B";break;default:G(e)?(g="01234567".indexOf(e),0!==g&&(c=!0),aa<sa&&G(ha[aa])&&(c=!0,g=8*g+"01234567".indexOf(ha[aa++]),0<="0123".indexOf(e)&&aa<sa&&G(ha[aa])&&(g=8*g+"01234567".indexOf(ha[aa++]))),d+=String.fromCharCode(g)):d+=e}else if(P(e.charCodeAt(0)))break;else d+=e}""!==a&&L({},"Unexpected token %0","ILLEGAL");return{type:8,value:d,octal:c,start:b,end:aa}}return 46===
a?t(ha.charCodeAt(aa+1))?z():S():t(a)?z():S()}function k(){var a=ya;aa=a.end;ya=p();aa=a.end;return a}function N(){var a=aa;ya=p();aa=a}function D(a,b,c){var d=new e("||"===a||"\x26\x26"===a?"LogicalExpression":"BinaryExpression");d.operator=a;d.left=b;d.right=c;return d}function O(a){var b=new e("Identifier");b.name=a;return b}function c(a){var b=new e("Literal");b.value=a.value;b.raw=ha.slice(a.start,a.end);a.regex&&("//"===b.raw&&(b.raw="/(?:)/"),b.regex=a.regex);return b}function h(a,b,c){var d=
new e("MemberExpression");d.computed="["===a;d.object=b;d.property=c;d.computed||(c.member=!0);return d}function ba(a,b,c){var d=new e("Property");d.key=b;d.value=c;d.kind=a;return d}function L(a,b){var c=Array.prototype.slice.call(arguments,2),d=b.replace(/%(\d)/g,function(a,b){w(b<c.length,"Message reference must be in range");return c[b]});var e=Error(d);e.index=aa;e.description=d;throw e;}function I(a){2===a.type&&L(a,"Unexpected end of input");6===a.type&&L(a,"Unexpected number");8===a.type&&
L(a,"Unexpected string");3===a.type&&L(a,"Unexpected identifier");4===a.type&&L(a,"Unexpected reserved word");L(a,"Unexpected token %0",a.value)}function B(a){var b=k();7===b.type&&b.value===a||I(b)}function ia(a){return 7===ya.type&&ya.value===a}function va(){aa=ya.start;var a=k();return 8===a.type||6===a.type?(a.octal&&L(a,"Octal literals are not allowed in strict mode."),c(a)):O(a.value)}function qa(){if(ia("(")){B("(");var a=la();B(")");return a}if(ia("[")){a=[];aa=ya.start;for(B("[");!ia("]");)ia(",")?
(k(),a.push(null)):(a.push(Q()),ia("]")||B(","));k();var b=new e("ArrayExpression");b.elements=a;return b}if(ia("{")){a=[];b={};var d=String;aa=ya.start;for(B("{");!ia("}");){aa=ya.start;var g=ya;if(3===g.type){var h=va();B(":");g=Q();g=ba("init",h,g)}else 2===g.type||7===g.type?(I(g),g=void 0):(h=va(),B(":"),g=Q(),g=ba("init",h,g));h="Identifier"===g.key.type?g.key.name:d(g.key.value);h="$"+h;Object.prototype.hasOwnProperty.call(b,h)?L({},"Duplicate data property in object literal not allowed in strict mode"):
b[h]=!0;a.push(g);ia("}")||B(",")}B("}");b=new e("ObjectExpression");b.properties=a;return b}a=ya.type;aa=ya.start;if(3===a||U[ya.value])b=O(k().value);else if(8===a||6===a)ya.octal&&L(ya,"Octal literals are not allowed in strict mode."),b=c(k());else{if(4===a)throw Error("Disabled.");if(1===a)a=k(),a.value="true"===a.value,b=c(a);else if(5===a)a=k(),a.value=null,b=c(a);else if(ia("/")||ia("/\x3d")){var p;ya=null;F();a=aa;b=ha[aa];w("/"===b,"Regular expression literal must start with a slash");d=
ha[aa++];for(h=g=!1;aa<sa;)if(b=ha[aa++],d+=b,"\\"===b)b=ha[aa++],P(b.charCodeAt(0))&&L({},"Invalid regular expression: missing /"),d+=b;else if(P(b.charCodeAt(0)))L({},"Invalid regular expression: missing /");else if(g)"]"===b&&(g=!1);else if("/"===b){h=!0;break}else"["===b&&(g=!0);h||L({},"Invalid regular expression: missing /");b=d.substr(1,d.length-2);for(p=h="";aa<sa;){g=ha[aa];if(!T(g.charCodeAt(0)))break;++aa;"\\"===g&&aa<sa?L({},"Unexpected token %0","ILLEGAL"):(p+=g,h+=g)}0<=p.search(/[^gimuy]/g)&&
L({},"Invalid regular expression",p);g=p;p=J(b,g);b=c({literal:d+h,value:p,regex:{pattern:b,flags:g},start:a,end:aa});N()}else I(k())}return b}function g(){var a;for(a=qa();;)if(ia(".")){B(".");aa=ya.start;var b=k();3===b.type||4===b.type||1===b.type||5===b.type||I(b);b=O(b.value);a=h(".",a,b)}else if(ia("(")){b=[];B("(");if(!ia(")"))for(;aa<sa;){b.push(Q());if(ia(")"))break;B(",")}B(")");var c=new e("CallExpression");c.callee=a;c.arguments=b;a=c}else if(ia("["))B("["),b=la(),B("]"),a=h("[",a,b);
else break;if(7===ya.type&&(ia("++")||ia("--")))throw Error("Disabled.");return a}function d(){if(7!==ya.type&&4!==ya.type)var a=g();else{if(ia("++")||ia("--"))throw Error("Disabled.");if(ia("+")||ia("-")||ia("~")||ia("!")){var b=k();a=d();b=b.value;var c=new e("UnaryExpression");c.operator=b;c.argument=a;c.prefix=!0;a=c}else{if(4===ya.type&&"delete"===ya.value||4===ya.type&&"void"===ya.value||4===ya.type&&"typeof"===ya.value)throw Error("Disabled.");a=g()}}return a}function M(a){var b=0;if(7!==a.type&&
4!==a.type)return 0;switch(a.value){case "||":b=1;break;case "\x26\x26":b=2;break;case "|":b=3;break;case "^":b=4;break;case "\x26":b=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":b=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":b=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":b=8;break;case "+":case "-":b=9;break;case "*":case "/":case "%":b=11}return b}function Q(){var a=ya;var b=d();var c=ya;var g=M(c);if(0===
g)var h=b;else{c.prec=g;k();a=[a,ya];var p=d();for(h=[b,c,p];0<(g=M(ya));){for(;2<h.length&&g<=h[h.length-2].prec;)p=h.pop(),c=h.pop().value,b=h.pop(),a.pop(),b=D(c,b,p),h.push(b);c=k();c.prec=g;h.push(c);a.push(ya);b=d();h.push(b)}g=h.length-1;b=h[g];for(a.pop();1<g;)a.pop(),b=D(h[g-1].value,h[g-2],b),g-=2;h=b}ia("?")&&(k(),a=Q(),B(":"),g=Q(),b=new e("ConditionalExpression"),b.test=h,b.consequent=a,b.alternate=g,h=b);return h}function la(){var a=Q();if(ia(","))throw Error("Disabled.");return a}function Wb(a){function c(b,
c,d){return function(e){var g=a(e[0]);c&&(g=c+"("+g+")",0===c.lastIndexOf("new ",0)&&(g="("+g+")"));return g+"."+b+(0>d?"":0===d?"()":"("+e.slice(1).map(a).join(",")+")")}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",
tan:"Math.tan",clamp:function(c){3>c.length&&b.error("Missing arguments to clamp function.");3<c.length&&b.error("Too many arguments to clamp function.");c=c.map(a);return"Math.max("+c[1]+", Math.min("+c[2]+","+c[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:c("getDate","new Date",0),day:c("getDay","new Date",0),year:c("getFullYear","new Date",0),month:c("getMonth","new Date",0),hours:c("getHours","new Date",0),minutes:c("getMinutes","new Date",0),seconds:c("getSeconds","new Date",
0),milliseconds:c("getMilliseconds","new Date",0),time:c("getTime","new Date",0),timezoneoffset:c("getTimezoneOffset","new Date",0),utcdate:c("getUTCDate","new Date",0),utcday:c("getUTCDay","new Date",0),utcyear:c("getUTCFullYear","new Date",0),utcmonth:c("getUTCMonth","new Date",0),utchours:c("getUTCHours","new Date",0),utcminutes:c("getUTCMinutes","new Date",0),utcseconds:c("getUTCSeconds","new Date",0),utcmilliseconds:c("getUTCMilliseconds","new Date",0),length:c("length",null,-1),join:c("join",
null),indexof:c("indexOf",null),lastindexof:c("lastIndexOf",null),slice:c("slice",null),reverse:function(b){return"("+a(b[0])+").slice().reverse()"},parseFloat:"parseFloat",parseInt:"parseInt",upper:c("toUpperCase","String",0),lower:c("toLowerCase","String",0),substring:c("substring","String"),split:c("split","String"),replace:c("replace","String"),trim:c("trim","String",0),regexp:"RegExp",test:c("test","RegExp"),if:function(c){3>c.length&&b.error("Missing arguments to if function.");3<c.length&&
b.error("Too many arguments to if function.");c=c.map(a);return"("+c[0]+"?"+c[1]+":"+c[2]+")"}}}e.prototype.visit=function(a){var b;if(a(this))return 1;var c=u(this);var d=0;for(b=c.length;d<b;++d)if(c[d].visit(a))return 1};var ha,aa,sa,ya,Na=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
Ea=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
Ma={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},U={"if":1,"this":1},Ba={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",
LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};a.ASTNode=e;a.ArrayExpression="ArrayExpression";a.BinaryExpression="BinaryExpression";a.CallExpression="CallExpression";a.ConditionalExpression="ConditionalExpression";a.Identifier="Identifier";a.Literal="Literal";a.LogicalExpression="LogicalExpression";a.MemberExpression="MemberExpression";a.ObjectExpression="ObjectExpression";
a.Property="Property";a.RawCode="RawCode";a.UnaryExpression="UnaryExpression";a.codegen=function(a){function c(a){if(b.isString(a))return a;var c=F[a.type];null==c&&b.error("Unsupported type: "+a.type);return c(a)}function d(a){a={code:c(a),globals:Object.keys(r),fields:Object.keys(t)};r={};t={};return a}a=a||{};var e=a.whitelist?b.toSet(a.whitelist):{},g=a.blacklist?b.toSet(a.blacklist):{},h=a.constants||Ba,k=(a.functions||Wb)(c),l=a.globalvar,p=a.fieldvar,r={},t={},u=0,z=b.isFunction(l)?l:function(a){return l+
'["'+a+'"]'},F={Literal:function(a){return a.raw},Identifier:function(a){a=a.name;if(0<u)return a;if(b.hasOwnProperty(g,a))return b.error("Illegal identifier: "+a);if(b.hasOwnProperty(h,a))return h[a];if(b.hasOwnProperty(e,a))return a;r[a]=1;return z(a)},MemberExpression:function(a){var b=!a.computed,d=c(a.object);b&&(u+=1);a=c(a.property);if(d===p){var e=t;var g=(g=a&&a.length-1)&&('"'===a[0]&&'"'===a[g]||"'"===a[0]&&"'"===a[g])?a.slice(1,-1):a;e[g]=1}b&&--u;return d+(b?"."+a:"["+a+"]")},CallExpression:function(a){"Identifier"!==
a.callee.type&&b.error("Illegal callee type: "+a.callee.type);var d=a.callee.name;a=a.arguments;var e=b.hasOwnProperty(k,d)&&k[d];e||b.error("Unrecognized function: "+d);return b.isFunction(e)?e(a):e+"("+a.map(c).join(",")+")"},ArrayExpression:function(a){return"["+a.elements.map(c).join(",")+"]"},BinaryExpression:function(a){return"("+c(a.left)+a.operator+c(a.right)+")"},UnaryExpression:function(a){return"("+a.operator+c(a.argument)+")"},ConditionalExpression:function(a){return"("+c(a.test)+"?"+
c(a.consequent)+":"+c(a.alternate)+")"},LogicalExpression:function(a){return"("+c(a.left)+a.operator+c(a.right)+")"},ObjectExpression:function(a){return"{"+a.properties.map(c).join(",")+"}"},Property:function(a){u+=1;var b=c(a.key);--u;return b+":"+c(a.value)}};d.functions=k;d.constants=h;return d};a.constants=Ba;a.functions=Wb;a.parse=function(a){ha=a;aa=0;sa=ha.length;ya=null;N();a=la();if(2!==ya.type)throw Error("Unexpect token after expression.");return a};Object.defineProperty(a,"__esModule",
{value:!0})})};
shadow$provide[64]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(21),w(63)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],b):(a=a||self,b(a.vega={},a.vega,a.vega))})(this,function(a,b,e){function u(a,e){var t=e.fields;e=e.values;for(var u=t.length,w=0,C,F;w<u;++w)if(F=t[w],F.getter=b.field.getter||b.field(F.field),C=F.getter(a),b.isDate(C)&&(C=b.toNumber(C)),b.isDate(e[w])&&(e[w]=b.toNumber(e[w])),b.isDate(e[w][0])&&(e[w]=
e[w].map(b.toNumber)),"E"===F.type){if(b.isArray(e[w])?0>e[w].indexOf(C):C!==e[w])return!1}else if("R"===F.type){if(!b.inrange(C,e[w]))return!1}else if("R-RE"===F.type){if(!b.inrange(C,e[w],!0,!1))return!1}else if("R-E"===F.type){if(!b.inrange(C,e[w],!1,!1))return!1}else if("R-LE"===F.type&&!b.inrange(C,e[w],!1,!0))return!1;return!0}var w={E_union:function(a,b){if(!a.length)return b;for(var e=0,t=b.length;e<t;++e)0>a.indexOf(b[e])&&a.push(b[e]);return a},E_intersect:function(a,b){return a.length?
a.filter(function(a){return 0<=b.indexOf(a)}):b},R_union:function(a,e){var t=b.toNumber(e[0]),u=b.toNumber(e[1]);t>u&&(t=e[1],u=e[0]);if(!a.length)return[t,u];a[0]>t&&(a[0]=t);a[1]<u&&(a[1]=u);return a},R_intersect:function(a,e){var t=b.toNumber(e[0]),u=b.toNumber(e[1]);t>u&&(t=e[1],u=e[0]);if(!a.length)return[t,u];if(u<a[0]||a[1]<t)return[];a[0]<t&&(a[0]=t);a[1]>u&&(a[1]=u);return a}};a.selectionResolve=function(a,e,u){a=(a=this.context.data[a])?a.values.value:[];for(var t={},C={},H={},F,G,r,S,z,
J,p=a.length,k=0,N,D;k<p;++k){F=a[k];r=F.unit;G=F.fields;F=F.values;N=0;for(D=G.length;N<D;++N)S=G[N],z=t[S.field]||(t[S.field]={}),J=z[r]||(z[r]=[]),H[S.field]=S=S.type.charAt(0),S=w[S+"_union"],z[r]=S(J,b.array(F[N]));u&&(J=C[r]||(C[r]=[]),J.push(b.array(F).reduce((a,b,e)=>(a[G[e].field]=b,a),{})))}e=e||"union";Object.keys(t).forEach(function(a){t[a]=Object.keys(t[a]).map(b=>t[a][b]).reduce((b,h)=>void 0===b?h:w[H[a]+"_"+e](b,h))});a=Object.keys(C);u&&a.length&&(t.vlMulti="union"===e?{["or"]:a.reduce((a,
b)=>(a.push.apply(a,C[b]),a),[])}:{["and"]:a.map(a=>({["or"]:C[a]}))});return t};a.selectionTest=function(a,b,e){var t=this.context.data[a];a=t?t.values.value:[];t=t?t["index:unit"]&&t["index:unit"].value:void 0;e="intersect"===e;for(var w=a.length,C=0,F,H,r,G;C<w;++C)if(F=a[C],t&&e){if(H=H||{},r=H[G=F.unit]||0,-1!==r){F=u(b,F);H[G]=F?-1:++r;if(F&&1===t.size)return!0;if(!F&&r===t.get(G).count)return!1}}else if(F=u(b,F),e^F)return F;return w&&e};a.selectionVisitor=function(a,u,w,H){u[0].type!==e.Literal&&
b.error("First argument to selection functions must be a string literal.");a=u[0].value;u=2<=u.length&&b.peek(u).value;const t=":"+a;"intersect"!==u||b.hasOwnProperty(H,"@unit")||(H["@unit"]=w.getData(a).indataRef(w,"unit"));b.hasOwnProperty(H,t)||(H[t]=w.getData(a).tuplesRef())};Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[65]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(63),w(31),w(64),w(33),w(34),w(21),w(32),w(41),w(43),w(25),w(45),w(47),w(39)):"function"===typeof define&&define.amd?define("exports vega-expression vega-dataflow vega-selections vega-statistics vega-time vega-util d3-array d3-color d3-format d3-time-format vega-scale d3-geo vega-scenegraph".split(" "),b):(a=a||self,b(a.vega={},a.vega,a.vega,a.vega,a.vega,a.vega,a.vega,a.d3,a.d3,a.d3,a.d3,a.vega,a.d3,
a.vega))})(this,function(a,b,e,u,w,t,C,G,P,I,T,F,W,r){function H(a){a/=255;return.03928>=a?a/12.92:Math.pow((a+.055)/1.055,2.4)}function z(a){var b=P.rgb(a);a=H(b.r);const c=H(b.g);b=H(b.b);return.2126*a+.7152*c+.0722*b}function J(a,b){a=z(a);b=z(b);return(Math.max(a,b)+.05)/(Math.min(a,b)+.05)}function p(a){return(a=this.context.data[a])?a.values.value:[]}function k(a,b,c){return(c=(a=this.context.data[a]["index:"+b])?a.value.get(c):void 0)?c.count:c}function N(a,b){const c=this.context.dataflow;
c.pulse(this.context.data[a].input,c.changeset().remove(C.truthy).insert(b));return 1}function D(a,b,c){if(a){const c=this.context.dataflow;c.pulse(a.mark.source,c.changeset().encode(a,b))}return void 0!==c?c:a}function O(a,b,c){a=a+":"+c;let d=cc[a];d&&d[0]===b||(cc[a]=d=[b,b(c)]);return d[1]}function c(a,b){return O("format",I.format,b)(a)}function h(a,b){return O("timeFormat",t.timeFormat,b)(a)}function ba(a,b){return O("utcFormat",t.utcFormat,b)(a)}function L(a,b){return O("timeParse",T.timeParse,
b)(a)}function ea(a,b){return O("utcParse",T.utcParse,b)(a)}function B(a,b,c){if(!Number.isInteger(a)||!Number.isInteger(b))return"";Db.setYear(2E3);Db.setMonth(a);Db.setDate(b);return h(Db,c)}function ia(a){return B(a,1,"%B")}function va(a){return B(a,1,"%b")}function qa(a){return B(0,2+a,"%A")}function g(a){return B(0,2+a,"%a")}function d(a,b){let c;return C.isFunction(a)?a:C.isString(a)?(c=b.scales[a])&&c.value:void 0}function M(a,b){return(a=d(a,(b||this).context))&&a.range?a.range():[]}function Q(a,
b){return(a=d(a,(b||this).context))?a.domain():[]}function la(a,b){return(a=d(a,(b||this).context))&&a.bandwidth?a.bandwidth():0}function Sa(a,b,c){return F.bandSpace(a||0,b||0,c||0)}function ha(a,b){return(a=d(a,(b||this).context))?a.copy():void 0}function aa(a,b,c){return(a=d(a,(c||this).context))&&void 0!==b?a(b):void 0}function sa(a,b,c){return(a=d(a,(c||this).context))?C.isArray(b)?(a.invertRange||a.invert)(b):(a.invert||a.invertExtent)(b):void 0}function ya(a,b){return function(c,e,g){return c?
(c=d(c,(g||this).context))&&c.path[a](e):b(e)}}function Na(a){let b=this.context.group,c=!1;if(b)for(;a;){if(a===b){c=!0;break}a=a.mark.group}return c}function Ea(a){let b=null;if(a){const c=C.array(a.marktype),d=C.array(a.markname);b=a=>(!c.length||c.some(b=>a.marktype===b))&&(!d.length||d.some(b=>a.name===b))}return b}function Ma(a,b,c){try{a[b].apply(a,["EXPRESSION"].concat([].slice.call(c)))}catch(ab){a.warn(ab)}return c[c.length-1]}function U(){return Ma(this.context.dataflow,"warn",arguments)}
function Ba(){return Ma(this.context.dataflow,"info",arguments)}function l(){return Ma(this.context.dataflow,"debug",arguments)}function v(){var a=[].slice.call(arguments);a.unshift({});return C.extend.apply(null,a)}function x(a,b){if(a===b||a!==a&&b!==b)a=!0;else if(C.isArray(a))if(C.isArray(b)&&a.length===b.length)a:{for(let c=0,d=a.length;c<d;++c)if(!x(a[c],b[c])){a=!1;break a}a=!0}else a=!1;else a=C.isObject(a)&&C.isObject(b)?m(a,b):!1;return a}function m(a,b){for(let c in a)if(!x(a[c],b[c]))return!1;
return!0}function E(a){return b=>m(a,b)}function Ua(a,b,c,d,g,h){let k=this.context.dataflow,l=this.context.data[a],m=l.input,p=l.changes;a=k.stamp();let r;if(!1===k._trigger||!(m.value.length||b||d))return 0;if(!p||p.stamp<a)l.changes=p=k.changeset(),p.stamp=a,k.runAfter(function(){l.modified=!0;k.pulse(m,p).run()},!0,1);c&&(c=!0===c?C.truthy:C.isArray(c)||e.isTuple(c)?c:E(c),p.remove(c));b&&p.insert(b);d&&(c=E(d),m.value.some(c)?p.remove(c):p.insert(d));if(g)for(r in h)p.modify(g,r,h[r]);return 1}
function da(a){var b=a.touches;a=b[0].clientX-b[1].clientX;b=b[0].clientY-b[1].clientY;return Math.sqrt(a*a+b*b)}function oa(a){a=a.touches;return Math.atan2(a[0].clientY-a[1].clientY,a[0].clientX-a[1].clientX)}function Wa(a,b,c,e,g){a=d(a,(g||this).context);const h=r.Gradient(b,c);b=a.domain();c=b[0];g=C.peek(b);let k=C.identity;g-c?k=F.scaleFraction(a,c,g):a=(a.interpolator?F.scale("sequential")().interpolator(a.interpolator()):F.scale("linear")().interpolate(a.interpolate()).range(a.range())).domain([c=
0,g=1]);a.ticks&&(b=a.ticks(+e||15),c!==b[0]&&b.unshift(c),g!==C.peek(b)&&b.push(g));b.forEach(b=>h.stop(k(b),a(b)));return h}function Qa(a,b,c){const e=d(a,(c||this).context);return function(a){return e?e.path.context(a)(b):""}}function wa(a){let b=null;return function(c){return c?r.pathRender(c,b=b||r.pathParse(a)):a}}function fa(a){return a.data}function cb(a,b){a=p.call(b,a);return a.root&&a.root.lookup||tc}function kb(a,b,c){a=cb(a,this);b=a[b];c=a[c];return b&&c?b.path(c).map(fa):void 0}function fb(a,
b){return(a=cb(a,this)[b])?a.ancestors().map(fa):void 0}function qb(){return rb?rb.screen:{}}function Ja(){return rb?[rb.innerWidth,rb.innerHeight]:[void 0,void 0]}function pa(){var a=this.context.dataflow;return(a=a.container&&a.container())?[a.clientWidth,a.clientHeight]:[void 0,void 0]}function ub(a,c,d,e){c[0].type!==b.Literal&&C.error("First argument to data functions must be a string literal.");a=c[0].value;c=":"+a;if(!C.hasOwnProperty(c,e))try{e[c]=d.getData(a).tuplesRef()}catch(fc){}}function Rb(a,
c,d,e){c[0].type!==b.Literal&&C.error("First argument to indata must be a string literal.");c[1].type!==b.Literal&&C.error("Second argument to indata must be a string literal.");a=c[0].value;c=c[1].value;const g="@"+c;C.hasOwnProperty(g,e)||(e[g]=d.getData(a).indataRef(d,c))}function Va(a,c,d,e){if(c[0].type===b.Literal)Bb(d,e,c[0].value);else if(c[0].type===b.Identifier)for(a in d.scales)Bb(d,e,a)}function Bb(a,b,c){const d="%"+c;if(!C.hasOwnProperty(b,d))try{b[d]=a.scaleRef(c)}catch(fc){}}function ka(a,
b,c){if(1===arguments.length)return Tb[a];Tb[a]=b;c&&(Xa[a]=c);xa&&(xa.functions[a]="this."+a);return this}const cc={};var Db=new Date(2E3,0,1);const $a=ya("area",W.geoArea),Lb=ya("bounds",W.geoBounds);W=ya("centroid",W.geoCentroid);const tc={},rb="undefined"!==typeof window&&window||null,Tb={random:function(){return w.random()},cumulativeNormal:w.cumulativeNormal,cumulativeLogNormal:w.cumulativeLogNormal,cumulativeUniform:w.cumulativeUniform,densityNormal:w.densityNormal,densityLogNormal:w.densityLogNormal,
densityUniform:w.densityUniform,quantileNormal:w.quantileNormal,quantileLogNormal:w.quantileLogNormal,quantileUniform:w.quantileUniform,sampleNormal:w.sampleNormal,sampleLogNormal:w.sampleLogNormal,sampleUniform:w.sampleUniform,isArray:C.isArray,isBoolean:C.isBoolean,isDate:C.isDate,isDefined:function(a){return void 0!==a},isNumber:C.isNumber,isObject:C.isObject,isRegExp:C.isRegExp,isString:C.isString,isTuple:e.isTuple,isValid:function(a){return null!=a&&a===a},toBoolean:C.toBoolean,toDate:C.toDate,
toNumber:C.toNumber,toString:C.toString,flush:C.flush,lerp:C.lerp,merge:v,pad:C.pad,peek:C.peek,span:C.span,inrange:C.inrange,truncate:C.truncate,rgb:P.rgb,lab:P.lab,hcl:P.hcl,hsl:P.hsl,luminance:z,contrast:J,sequence:G.range,format:c,utcFormat:ba,utcParse:ea,utcOffset:t.utcOffset,utcSequence:t.utcSequence,timeFormat:h,timeParse:L,timeOffset:t.timeOffset,timeSequence:t.timeSequence,timeUnitSpecifier:t.timeUnitSpecifier,monthFormat:ia,monthAbbrevFormat:va,dayFormat:qa,dayAbbrevFormat:g,quarter:C.quarter,
utcquarter:C.utcquarter,warn:U,info:Ba,debug:l,extent:C.extent,inScope:Na,intersect:function(a,b,c){if(!a)return[];const [d,e]=a;a=(new r.Bounds).set(d[0],d[1],e[0],e[1]);c=c||this.context.dataflow.scenegraph().root;return r.intersect(c,a,Ea(b))},clampRange:C.clampRange,pinchDistance:da,pinchAngle:oa,screen:qb,containerSize:pa,windowSize:Ja,bandspace:Sa,setdata:N,pathShape:wa,panLinear:C.panLinear,panLog:C.panLog,panPow:C.panPow,panSymlog:C.panSymlog,zoomLinear:C.zoomLinear,zoomLog:C.zoomLog,zoomPow:C.zoomPow,
zoomSymlog:C.zoomSymlog,encode:D,modify:Ua},Eb="view item group xy x y".split(" "),Xa={};ka("bandwidth",la,Va);ka("copy",ha,Va);ka("domain",Q,Va);ka("range",M,Va);ka("invert",sa,Va);ka("scale",aa,Va);ka("gradient",Wa,Va);ka("geoArea",$a,Va);ka("geoBounds",Lb,Va);ka("geoCentroid",W,Va);ka("geoShape",Qa,Va);ka("indata",k,Rb);ka("data",p,ub);ka("treePath",kb,ub);ka("treeAncestors",fb,ub);ka("vlSelectionTest",u.selectionTest,u.selectionVisitor);ka("vlSelectionResolve",u.selectionResolve,u.selectionVisitor);
u={blacklist:["_"],whitelist:["datum","event","item"],fieldvar:"datum",globalvar:function(a){return"_["+C.stringValue("$"+a)+"]"},functions:function(a){const c=b.functions(a);Eb.forEach(a=>c[a]="event.vega."+a);for(let a in Tb)c[a]="this."+a;return c},constants:b.constants,visitors:Xa};var xa=b.codegen(u);Object.defineProperty(a,"formatLocale",{enumerable:!0,get:function(){return I.formatDefaultLocale}});Object.defineProperty(a,"timeFormatLocale",{enumerable:!0,get:function(){return T.timeFormatDefaultLocale}});
a.DataPrefix=":";a.IndexPrefix="@";a.ScalePrefix="%";a.SignalPrefix="$";a.bandspace=Sa;a.bandwidth=la;a.codeGenerator=xa;a.codegenParams=u;a.containerSize=pa;a.contrast=J;a.copy=ha;a.data=p;a.dataVisitor=ub;a.dayAbbrevFormat=g;a.dayFormat=qa;a.debug=l;a.domain=Q;a.encode=D;a.expressionFunction=ka;a.format=c;a.functionContext=Tb;a.geoArea=$a;a.geoBounds=Lb;a.geoCentroid=W;a.geoShape=Qa;a.inScope=Na;a.indata=k;a.indataVisitor=Rb;a.info=Ba;a.invert=sa;a.luminance=z;a.merge=v;a.modify=Ua;a.monthAbbrevFormat=
va;a.monthFormat=ia;a.pathShape=wa;a.pinchAngle=oa;a.pinchDistance=da;a.range=M;a.scale=aa;a.scaleGradient=Wa;a.scaleVisitor=Va;a.screen=qb;a.setdata=N;a.timeFormat=h;a.timeParse=L;a.treeAncestors=fb;a.treePath=kb;a.utcFormat=ba;a.utcParse=ea;a.warn=U;a.windowSize=Ja;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[66]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(31),w(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],b):(a=a||self,b(a.vega={},a.vega,a.vega))})(this,function(a,b,e){function u(a,b,e){";"!==b[b.length-1]&&(b="return("+b+");");a=Function.apply(null,a.concat(b));return e&&e.functions?a.bind(e.functions):a}function w(a,b,r){r=r||{};var u;for(u in a){var z=a[u];r[u]=e.isArray(z)?z.map(function(a){return t(a,
b,r)}):t(z,b,r)}return r}function t(a,b,r){if(!a||!e.isObject(a))return a;for(var t=0,u=I.length,w;t<u;++t)if(w=I[t],e.hasOwnProperty(a,w.key))return w.parse(a,b,r);return a}function C(a,b){var r=a.operators||[];a.background&&(b.background=a.background);a.eventConfig&&(b.eventConfig=a.eventConfig);r.forEach(function(a){"operator"!==(a.type+"").toLowerCase()&&a.type?b.transform(a,a.type):b.operator(a,a.update?u(["_"],a.update,b):null)});r.forEach(function(a){if(a.params){var r=b.get(a.id);r||e.error("Invalid operator id: "+
a.id);b.dataflow.connect(r,r.parameters(w(a.params,b),a.react,a.initonly))}});(a.streams||[]).forEach(function(a){var r=null!=a.filter?u(["event"],a.filter,b):void 0,t=null!=a.stream?b.get(a.stream):void 0;if(a.source)t=b.events(a.source,a.type,r);else if(a.merge){var p=a.merge.map(b.get.bind(b));t=p[0].merge.apply(p[0],p.slice(1))}a.between&&(p=a.between.map(b.get.bind(b)),t=t.between(p[0],p[1]));a.filter&&(t=t.filter(r));null!=a.throttle&&(t=t.throttle(+a.throttle));null!=a.debounce&&(t=t.debounce(+a.debounce));
null==t&&e.error("Invalid stream definition: "+JSON.stringify(a));a.consume&&t.consume(!0);b.stream(a,t)});(a.updates||[]).forEach(function(a){var r=e.isObject(r=a.source)?r.$ref:r;r=b.get(r);var t=a.update,p=void 0;r||e.error("Source not defined: "+a.source);var k=a.target&&a.target.$expr?u(["event"],a.target.$expr,b):b.get(a.target);t&&t.$expr&&(t.$params&&(p=w(t.$params,b)),t=u(["_","event"],t.$expr,b));b.update(a,r,k,t,p)});return b.resolve()}function G(a,b,e){this.dataflow=a;this.transforms=
b;this.events=a.events.bind(a);this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};e&&(this.functions=Object.create(e),this.functions.context=this)}function P(a){this.dataflow=a.dataflow;this.transforms=a.transforms;this.functions=a.functions;this.events=a.events;this.signals=Object.create(a.signals);this.scales=Object.create(a.scales);this.nodes=Object.create(a.nodes);this.data=Object.create(a.data);this.fn=Object.create(a.fn);a.functions&&(this.functions=Object.create(a.functions),
this.functions.context=this)}var I=[{key:"$ref",parse:function(a,b){return b.get(a.$ref)||e.error("Operator not defined: "+a.$ref)}},{key:"$key",parse:function(a,b){var r="k:"+a.$key+"_"+!!a.$flat;return b.fn[r]||(b.fn[r]=e.key(a.$key,a.$flat))}},{key:"$expr",parse:function(a,b,r){a.$params&&w(a.$params,b,r);r="e:"+a.$expr+"_"+a.$name;return b.fn[r]||(b.fn[r]=e.accessor(u(["datum","_"],a.$expr,b),a.$fields,a.$name))}},{key:"$field",parse:function(a,b){if(!a.$field)return null;var r="f:"+a.$field+
"_"+a.$name;return b.fn[r]||(b.fn[r]=e.field(a.$field,a.$name))}},{key:"$encode",parse:function(a,b){a=a.$encode;var r={},t;for(t in a){var z=a[t];r[t]=e.accessor(u(["item","_"],z.$expr,b),z.$fields);r[t].output=z.$output}return r}},{key:"$compare",parse:function(a,t){var r="c:"+a.$compare+"_"+a.$order,u=e.array(a.$compare).map(function(a){return a&&a.$tupleid?b.tupleid:a});return t.fn[r]||(t.fn[r]=e.compare(u,a.$order))}},{key:"$context",parse:function(a,b){return b}},{key:"$subflow",parse:function(a,
b){var e=a.$subflow;return function(a,r,t){r=C(e,b.fork());a=r.get(e.operators[0].id);(r=r.signals.parent)&&r.set(t);return a}}},{key:"$tupleid",parse:function(){return b.tupleid}}],T={skip:!0};G.prototype=P.prototype={fork:function(){var a=new P(this);(this.subcontext||(this.subcontext=[])).push(a);return a},get:function(a){return this.nodes[a]},set:function(a,b){return this.nodes[a]=b},add:function(a,b){var e=this,t=e.dataflow,u;e.set(a.id,b);"collect"===(a.type+"").toLowerCase()&&(u=a.value)&&
(u.$ingest?t.ingest(b,u.$ingest,u.$format):u.$request?t.preload(b,u.$request,u.$format):t.pulse(b,t.changeset().insert(u)));a.root&&(e.root=b);if(a.parent){var w=e.get(a.parent.$ref);w?(t.connect(w,[b]),b.targets().add(w)):(e.unresolved=e.unresolved||[]).push(function(){w=e.get(a.parent.$ref);t.connect(w,[b]);b.targets().add(w)})}a.signal&&(e.signals[a.signal]=b);a.scale&&(e.scales[a.scale]=b);if(a.data)for(var p in a.data)u=e.data[p]||(e.data[p]={}),a.data[p].forEach(function(a){u[a]=b})},resolve:function(){(this.unresolved||
[]).forEach(function(a){a()});delete this.unresolved;return this},operator:function(a,b){this.add(a,this.dataflow.add(a.value,b))},transform:function(a,b){this.add(a,this.dataflow.add(this.transforms[(b+"").toLowerCase()]))},stream:function(a,b){this.set(a.id,b)},update:function(a,b,e,t,u){this.dataflow.on(b,e,t,u,a.options)},getState:function(a){var b=this,e={};if(a.signals){var t=e.signals={};Object.keys(b.signals).forEach(function(e){var p=b.signals[e];a.signals(e,p)&&(t[e]=p.value)})}if(a.data){var u=
e.data={};Object.keys(b.data).forEach(function(e){var p=b.data[e];a.data(e,p)&&(u[e]=p.input.value)})}b.subcontext&&!1!==a.recurse&&(e.subcontext=b.subcontext.map(function(b){return b.getState(a)}));return e},setState:function(a){var b=this,r=b.dataflow,t=a.data,u=a.signals;Object.keys(u||{}).forEach(function(a){r.update(b.signals[a],u[a],T)});Object.keys(t||{}).forEach(function(a){r.pulse(b.data[a].input,r.changeset().remove(e.truthy).insert(t[a]))});(a.subcontext||[]).forEach(function(a,e){(e=b.subcontext[e])&&
e.setState(a)})}};a.context=function(a,b,e){return new G(a,b,e)};a.expression=u;a.parse=C;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[67]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(21),w(31),w(39),w(32),w(65),w(66),w(53)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph d3-array vega-functions vega-runtime d3-timer".split(" "),b):(a=a||self,b(a.vega={},a.vega,a.vega,a.vega,a.d3,a.vega,a.vega,a.d3))})(this,function(a,b,e,u,w,t,C,G){function H(a){const b=a.container();b&&(b.setAttribute("role","figure"),I(b,a.description()))}function I(a,
b){a&&(null==b?a.removeAttribute("aria-label"):a.setAttribute("aria-label",b))}function T(a){a.add(null,b=>{a._background=b.bg;a._resize=1;return b.bg},{bg:a._signals.background})}function F(a){var c=a._signals.cursor;c||(a._signals.cursor=c=a.add({user:"default",item:null}));a.on(a.events("view","mousemove"),c,function(a,d){var e=(a=c.value)?b.isString(a)?a:a.user:"default";d=d.item&&d.item.cursor||null;return a&&e===a.user&&d==a.item?a:{user:e,item:d}});a.add(null,function(a){a=a.cursor;var c=this.value;
b.isString(a)||(c=a.item,a=a.user);"undefined"!==typeof document&&document.body&&(document.body.style.cursor=a&&"default"!==a?a:c||a);return c},{cursor:c})}function W(a,c){a=a._runtime.data;b.hasOwnProperty(a,c)||b.error("Unrecognized data set: "+c);return a[c]}function r(a,c){e.isChangeSet(c)||b.error("Second argument to changes must be a changeset.");a=W(this,a);a.modified=!0;return this.pulse(a.input,c)}function S(a){var b=a.padding();return Math.max(0,a._viewWidth+b.left+b.right)}function z(a){var b=
a.padding();return Math.max(0,a._viewHeight+b.top+b.bottom)}function J(a){var b=a.padding();a=a._origin;return[b.left+a[0],b.top+a[1]]}function p(a){var b=J(a),c=S(a),d=z(a);a._renderer.background(a.background());a._renderer.resize(c,d,b);a._handler.origin(b);a._resizeListeners.forEach(function(b){try{b(c,d)}catch(Ja){a.error(Ja)}})}function k(a,b,c){var d=a._renderer;d=d&&d.canvas();if(d){var e=J(a);var g=b.changedTouches?b.changedTouches[0]:b;g=u.point(g,d);g[0]-=e[0];g[1]-=e[1]}b.dataflow=a;b.item=
c;b.vega=N(a,c,g);return b}function N(a,c,d){function e(a){var b=h,d;if(a)for(d=c;d;d=d.mark.group)if(d.mark.name===a){b=d;break}return b&&b.mark&&b.mark.interactive?b:{}}function g(a){if(!a)return d;b.isString(a)&&(a=e(a));for(var c=d.slice();a;)c[0]-=a.x||0,c[1]-=a.y||0,a=a.mark&&a.mark.group;return c}var h=c?"group"===c.mark.marktype?c:c.mark.group:null;return{view:b.constant(a),item:b.constant(c||{}),group:e,xy:g,x:function(a){return g(a)[0]},y:function(a){return g(a)[1]}}}function D(a){a=b.extend({defaults:{}},
a);const c=(a,c)=>{c.forEach(c=>{b.isArray(a[c])&&(a[c]=b.toSet(a[c]))})};c(a.defaults,["prevent","allow"]);c(a,["view","window","selector"]);return a}function O(a,c,d){const e=a._eventConfig&&a._eventConfig[c];return!1===e||b.isObject(e)&&!e[d]?(a.warn(`Blocked ${c} ${d} event listener.`),!1):!0}function c(a){return a.item}function h(a){return a.item.mark.source}function ba(a){return function(b,c){return c.vega.view().changeset().encode(c.item,a)}}function L(a,b,c){a=document.createElement(a);for(var d in b)a.setAttribute(d,
b[d]);null!=c&&(a.textContent=c);return a}function ma(a,c,d){if(c){var e=d.param,g=d.state;g||(g=d.state={elements:null,active:!1,set:null,update:function(b){b!==a.signal(e.signal)&&a.runAsync(null,function(){g.source=!0;a.signal(e.signal,b)})}},e.debounce&&(g.update=b.debounce(e.debounce,g.update)));B(g,c,e,a.signal(e.signal));g.active||(a.on(a._signals[e.signal],null,function(){g.source?g.source=!1:g.set(a.signal(e.signal))}),g.active=!0);return g}}function B(a,b,c,e){var h=L("div",{"class":"vega-bind"});
h.appendChild(L("span",{"class":"vega-bind-name"},c.name||c.signal));b.appendChild(h);b=ia;switch(c.input){case "checkbox":b=va;break;case "select":b=qa;break;case "radio":b=g;break;case "range":b=d}b(a,h,c,e)}function ia(a,b,c,d){var e=L("input"),g;for(g in c)"signal"!==g&&"element"!==g&&e.setAttribute("input"===g?"type":g,c[g]);e.setAttribute("name",c.signal);e.value=d;b.appendChild(e);e.addEventListener("input",function(){a.update(e.value)});a.elements=[e];a.set=function(a){e.value=a}}function va(a,
b,c,d){c={type:"checkbox",name:c.signal};d&&(c.checked=!0);var e=L("input",c);b.appendChild(e);e.addEventListener("change",function(){a.update(e.checked)});a.elements=[e];a.set=function(a){e.checked=!!a||null}}function qa(a,b,c,d){var e=L("select",{name:c.signal}),g=c.labels||[];c.options.forEach(function(a,b){var c={value:a};M(a,d)&&(c.selected=!0);e.appendChild(L("option",c,(g[b]||a)+""))});b.appendChild(e);e.addEventListener("change",function(){a.update(c.options[e.selectedIndex])});a.elements=
[e];a.set=function(a){for(var b=0,d=c.options.length;b<d;++b)if(M(c.options[b],a)){e.selectedIndex=b;break}}}function g(a,b,c,d){var e=L("span",{"class":"vega-bind-radio"}),g=c.labels||[];b.appendChild(e);a.elements=c.options.map(function(b,h){var k="vega-option-"+c.signal+"-"+b,l={id:k,type:"radio",name:c.signal,value:b};M(b,d)&&(l.checked=!0);l=L("input",l);l.addEventListener("change",function(){a.update(b)});e.appendChild(l);e.appendChild(L("label",{"for":k},(g[h]||b)+""));return l});a.set=function(b){for(var c=
a.elements,d=0,e=c.length;d<e;++d)M(c[d].value,b)&&(c[d].checked=!0)}}function d(a,b,c,d){function e(){m.textContent=l.value;a.update(+l.value)}d=void 0!==d?d:(+c.max+ +c.min)/2;var g=null!=c.max?c.max:Math.max(100,+d)||100,h=c.min||Math.min(0,g,+d)||0,k=c.step||w.tickStep(h,g,100),l=L("input",{type:"range",name:c.signal,min:h,max:g,step:k});l.value=d;var m=L("label",{},+d);b.appendChild(l);b.appendChild(m);l.addEventListener("input",e);l.addEventListener("change",e);a.elements=[l];a.set=function(a){l.value=
a;m.textContent=a}}function M(a,b){return a===b||a+""===b+""}function Q(a,b,c,d,e,g){b=b||new d(a.loader());return b.initialize(c,S(a),z(a),J(a),e,g).background(a.background())}function la(a,b){return b?function(){try{b.apply(this,arguments)}catch(kb){a.error(kb)}}:null}function Sa(a,b,c,d){var e=(new d(a.loader(),la(a,a.tooltip()))).scene(a.scenegraph().root).initialize(c,J(a),a);b&&b.handlers().forEach(function(a){e.on(a.type,a.handler)});return e}function ha(a,b){if("string"===typeof b)if("undefined"!==
typeof document){if(b=document.querySelector(b),!b)return a.error("Signal bind element not found: "+b),null}else return a.error("DOM document instance not found."),null;if(b)try{b.innerHTML=""}catch(kb){b=null,a.error(kb)}return b}function aa(a){b.isObject(a)?a={top:+a.top||0,bottom:+a.bottom||0,left:+a.left||0,right:+a.right||0}:(a=+a||0,a={top:a,bottom:a,left:a,right:a});return a}function sa(a,c,d,e){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var g=u.renderModule(c);(g=g&&g.headless)||
b.error("Unrecognized renderer type: "+c);yield a.runAsync();return Q(a,null,null,g,d,e).renderAsync(a._scenegraph.root)})}function ya(a,b){var c=a.autosize();a=a.padding();return b-(c&&"padding"===c.contains?a.left+a.right:0)}function Na(a,b){var c=a.autosize();a=a.padding();return b-(c&&"padding"===c.contains?a.top+a.bottom:0)}function Ea(a){function b(){a._autosize=a._resize=1}var c=a._signals,d=c.width,e=c.height;c=c.padding;a._resizeWidth=a.add(null,function(c){a._width=c.size;a._viewWidth=ya(a,
c.size);b()},{size:d});a._resizeHeight=a.add(null,function(c){a._height=c.size;a._viewHeight=Na(a,c.size);b()},{size:e});var g=a.add(null,b,{pad:c});a._resizeWidth.rank=d.rank+1;a._resizeHeight.rank=e.rank+1;g.rank=c.rank+1}function Ma(a,c){return c.modified&&b.isArray(c.input.value)&&a.indexOf("_:vega:_")}function U(a,b){return!("parent"===a||b instanceof e.transforms.proxy)}function Ba(a,b,c,d){(a=a.element())&&a.setAttribute("title",l(d))}function l(a){return null==a?"":b.isArray(a)?"["+a.map(x).join(", ")+
"]":b.isObject(a)&&!b.isDate(a)?v(a):a+""}function v(a){return Object.keys(a).map(function(c){var d=a[c];return c+": "+(b.isArray(d)?"["+d.map(x).join(", ")+"]":x(d))}).join("\n")}function x(a){return b.isArray(a)?"[…]":b.isObject(a)&&!b.isDate(a)?"{…}":a}function m(a,c){c=c||{};e.Dataflow.call(this);c.loader&&this.loader(c.loader);c.logger&&this.logger(c.logger);null!=c.logLevel&&this.logLevel(c.logLevel);this._elBind=this._el=null;this._renderType=c.renderer||u.RenderType.Canvas;this._scenegraph=
new u.Scenegraph;var d=this._scenegraph.root;this._renderer=null;this._tooltip=c.tooltip||Ba;this._redraw=!0;this._handler=(new u.CanvasHandler).scene(d);this._preventDefault=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=D(a.eventConfig);var g=C.parse(a,C.context(this,e.transforms,c.functions||t.functionContext));this._runtime=g;this._signals=g.signals;this._bind=(a.bindings||[]).map(function(a){return{state:null,param:b.extend({},a)}});g.root&&g.root.set(d);
d.source=g.data.root.input;this.pulse(g.data.root.input,this.changeset().insert(d.items));this._width=this.width();this._height=this.height();this._viewWidth=ya(this,this._width);this._viewHeight=Na(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;Ea(this);T(this);F(this);this.description(a.description);c.hover&&this.hover();c.container&&this.initialize(c.container,c.bind)}function E(a,c){return b.hasOwnProperty(a._signals,c)?a._signals[c]:b.error("Unrecognized signal name: "+
b.stringValue(c))}function Ua(a,b){a=(a._targets||[]).filter(function(a){return(a=a._update)&&a.handler===b});return a.length?a[0]:null}function da(a,b,c,d){var e=Ua(c,d);e||(e=la(this,function(){d(b,c.value)}),e.handler=d,a.on(c,null,e));return a}function oa(a,b,c){(c=Ua(b,c))&&b._targets.remove(c);return a}const Wa={trap:!1};var Qa={skip:!0},wa=b.inherits(m,e.Dataflow);wa.evaluate=function(a,b,c){const d=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield e.Dataflow.prototype.evaluate.call(d,
a,b);if(d._redraw||d._resize)try{d._renderer&&(d._resize&&(d._resize=0,p(d)),yield d._renderer.renderAsync(d._scenegraph.root)),d._redraw=!1}catch(qb){d.error(qb)}c&&e.asyncCallback(d,c);return d})};wa.dirty=function(a){this._redraw=!0;this._renderer&&this._renderer.dirty(a)};wa.description=function(a){if(arguments.length){const b=null!=a?a+"":null;b!==this._desc&&I(this._el,this._desc=b);return this}return this._desc};wa.container=function(){return this._el};wa.scenegraph=function(){return this._scenegraph};
wa.origin=function(){return this._origin.slice()};wa.signal=function(a,b,c){var d=E(this,a);return 1===arguments.length?d.value:this.update(d,b,c)};wa.width=function(a){return arguments.length?this.signal("width",a):this.signal("width")};wa.height=function(a){return arguments.length?this.signal("height",a):this.signal("height")};wa.padding=function(a){return arguments.length?this.signal("padding",aa(a)):aa(this.signal("padding"))};wa.autosize=function(a){return arguments.length?this.signal("autosize",
a):this.signal("autosize")};wa.background=function(a){return arguments.length?this.signal("background",a):this.signal("background")};wa.renderer=function(a){if(!arguments.length)return this._renderType;u.renderModule(a)||b.error("Unrecognized renderer type: "+a);a!==this._renderType&&(this._renderType=a,this._resetRenderer());return this};wa.tooltip=function(a){if(!arguments.length)return this._tooltip;a!==this._tooltip&&(this._tooltip=a,this._resetRenderer());return this};wa.loader=function(a){if(!arguments.length)return this._loader;
a!==this._loader&&(e.Dataflow.prototype.loader.call(this,a),this._resetRenderer());return this};wa.resize=function(){this._autosize=1;return this.touch(E(this,"autosize"))};wa._resetRenderer=function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))};wa._resizeView=function(a,b,c,d,e,g){this.runAfter(function(h){var k=0;h._autosize=0;h.width()!==c&&(k=1,h.signal("width",c,Qa),h._resizeWidth.skip(!0));h.height()!==d&&(k=1,h.signal("height",d,Qa),h._resizeHeight.skip(!0));
h._viewWidth!==a&&(h._resize=1,h._viewWidth=a);h._viewHeight!==b&&(h._resize=1,h._viewHeight=b);if(h._origin[0]!==e[0]||h._origin[1]!==e[1])h._resize=1,h._origin=e;k&&h.run("enter");g&&h.runAfter(a=>a.resize())},!1,1)};wa.addEventListener=function(a,b,c){var d=b;c&&!1===c.trap||(d=la(this,b),d.raw=b);this._handler.on(a,d);return this};wa.removeEventListener=function(a,b){for(var c=this._handler.handlers(a),d=c.length,e,g;0<=--d;)if(g=c[d].type,e=c[d].handler,a===g&&(b===e||b===e.raw)){this._handler.off(g,
e);break}return this};wa.addResizeListener=function(a){var b=this._resizeListeners;0>b.indexOf(a)&&b.push(a);return this};wa.removeResizeListener=function(a){var b=this._resizeListeners;a=b.indexOf(a);0<=a&&b.splice(a,1);return this};wa.addSignalListener=function(a,b){return da(this,a,E(this,a),b)};wa.removeSignalListener=function(a,b){return oa(this,E(this,a),b)};wa.addDataListener=function(a,b){return da(this,a,W(this,a).values,b)};wa.removeDataListener=function(a,b){return oa(this,W(this,a).values,
b)};wa.preventDefault=function(a){return arguments.length?(this._preventDefault=a,this):this._preventDefault};wa.timer=function(a,b){this._timers.push(G.interval(function(b){a({timestamp:Date.now(),elapsed:b})},b))};wa.events=function(a,b,c){var d=this,g=new e.EventStream(c);c=function(c,e){d.runAsync(null,()=>{var h;if(h="view"===a){var l=d._eventConfig.defaults;h=l.prevent;l=l.allow;h=!1===h||!0===l?!1:!0===h||!1===l?!0:h?h[b]:l?!l[b]:d.preventDefault()}h&&c.preventDefault();g.receive(k(d,c,e))})};
var h;if("timer"===a)O(d,"timer",b)&&d.timer(c,b);else if("view"===a)O(d,"view",b)&&d.addEventListener(b,c,Wa);else if("window"===a?O(d,"window",b)&&"undefined"!==typeof window&&(h=[window]):"undefined"!==typeof document&&O(d,"selector",b)&&(h=document.querySelectorAll(a)),h){for(var l=0,m=h.length;l<m;++l)h[l].addEventListener(b,c);d._eventListeners.push({type:b,sources:h,handler:c})}else d.warn("Can not resolve event source: "+a);return g};wa.finalize=function(){var a=this._tooltip,b=this._timers,
c=this._eventListeners,d;for(d=b.length;0<=--d;)b[d].stop();for(d=c.length;0<=--d;){var e=c[d];for(b=e.sources.length;0<=--b;)e.sources[b].removeEventListener(e.type,e.handler)}a&&a.call(this,this._handler,null,null,null);return this};wa.hover=function(a,b){a=[a||"hover"];b=[b||"update",a[0]];this.on(this.events("view","mouseover",c),h,ba(a));this.on(this.events("view","mouseout",c),h,ba(b));return this};wa.data=function(a,c){return 2>arguments.length?W(this,a).values.value:r.call(this,a,e.changeset().remove(b.truthy).insert(c))};
wa.change=r;wa.insert=function(a,b){return r.call(this,a,e.changeset().insert(b))};wa.remove=function(a,b){return r.call(this,a,e.changeset().remove(b))};wa.scale=function(a){var c=this._runtime.scales;b.hasOwnProperty(c,a)||b.error("Unrecognized scale or projection: "+a);return c[a].value};wa.initialize=function(a,b){const c=this;var d=c._renderType;const e=c._eventConfig.bind;var g=u.renderModule(d);a=c._el=a?ha(c,a):null;H(c);g||c.error("Unrecognized renderer type: "+d);d=g.handler||u.CanvasHandler;
g=a?g.renderer:g.headless;c._renderer=g?Q(c,c._renderer,a,g):null;c._handler=Sa(c,c._handler,a,d);c._redraw=!0;a&&"none"!==e&&(b=b?c._elBind=ha(c,b):a.appendChild(L("div",{"class":"vega-bindings"})),c._bind.forEach(function(a){a.param.element&&"container"!==e&&(a.element=ha(c,a.param.element))}),c._bind.forEach(function(a){ma(c,a.element||b,a)}));return c};wa.toImageURL=function(a,c){const d=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){a!==u.RenderType.Canvas&&a!==u.RenderType.SVG&&
a!==u.RenderType.PNG&&b.error("Unrecognized image type: "+a);var e=yield sa(d,a,c);a===u.RenderType.SVG?(e=e.svg(),e=new Blob([e],{type:"image/svg+xml"}),e=window.URL.createObjectURL(e)):e=e.canvas().toDataURL("image/png");return e})};wa.toCanvas=function(a,b){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield sa(c,u.RenderType.Canvas,a,b)).canvas()})};wa.toSVG=function(a){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield sa(b,
u.RenderType.SVG,a)).svg()})};wa.getState=function(a){return this._runtime.getState(a||{data:Ma,signals:U,recurse:!0})};wa.setState=function(a){this.runAsync(null,b=>{b._trigger=!1;b._runtime.setState(a)},a=>{a._trigger=!0});return this};a.View=m;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[68]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.vega={}))})(this,function(a){function b(a,b,e,r,t){for(var c=0,h=a.length,k;b<h;++b)if(k=a[b],c||k!==e)t&&0<=t.indexOf(k)?--c:r&&0<=r.indexOf(k)&&++c;else break;return b}function e(a){for(var e=[],p=0,r=a.length,u=0;u<r;)u=b(a,u,T,t+G,C+P),e.push(a.substring(p,u).trim()),p=++u;if(0===e.length)throw"Empty event selector: "+
a;return e}function u(a){if("["===a[0]){var k=a;var p=k.length;a=b(k,1,C,t,C);if(a===p)throw"Empty between selector: "+k;p=e(k.substring(1,a));if(2!==p.length)throw"Between selector must have two elements: "+k;k=k.slice(a+1).trim();if(k[0]!==W)throw"Expected '\x3e' after between selector: "+k;p=p.map(u);k=u(k.slice(1).trim());k.between?k={between:p,stream:k}:k.between=p}else{p={source:S};var D=[],H=[0,0],c=0,h=0,J=a.length,L=0;if(a[J-1]===P){L=a.lastIndexOf(G);if(0<=L){try{H=w(a.substring(L+1,J-1))}catch(B){throw"Invalid throttle specification: "+
a;}a=a.slice(0,L).trim();J=a.length}else throw"Unmatched right brace: "+a;L=0}if(!J)throw a;a[0]===F&&(c=++L);var T=b(a,L,I);T<J&&(D.push(a.substring(h,T).trim()),h=L=++T);L=b(a,L,t);if(L===J)D.push(a.substring(h,J).trim());else if(D.push(a.substring(h,L).trim()),k=[],h=++L,h===J)throw"Unmatched left bracket: "+a;for(;L<J;){L=b(a,L,C);if(L===J)throw"Unmatched left bracket: "+a;k.push(a.substring(h,L).trim());if(L<J-1&&a[++L]!==t)throw"Expected left bracket: "+a;h=++L}if(!(J=D.length)||r.test(D[J-
1]))throw"Invalid event selector: "+a;1<J?(p.type=D[1],c?p.markname=D[0].slice(1):z[D[0]]?p.marktype=D[0]:p.source=D[0]):p.type=D[0];"!"===p.type.slice(-1)&&(p.consume=!0,p.type=p.type.slice(0,-1));null!=k&&(p.filter=k);H[0]&&(p.throttle=H[0]);H[1]&&(p.debounce=H[1]);k=p}return k}function w(a){var b=a.split(T);if(!a.length||2<b.length)throw a;return b.map(function(b){b=+b;if(b!==b)throw a;return b})}var t="[",C="]",G="{",P="}",I=":",T=",",F="@",W="\x3e",r=/[[\]{}]/,S,z,J={"*":1,arc:1,area:1,group:1,
image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};a.selector=function(a,b,r){S=b||"view";z=r||J;return e(a.trim()).map(u)};Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[69]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u,w(21),w(63),w(65),w(68),w(45),w(31)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),b):(a=a||self,b(a.vega={},a.vega,a.vega,a.vega,a.vega,a.vega,a.vega))})(this,function(a,b,e,u,w,t,C){function H(a){return b.isObject(a)?a:{type:a||"pad"}}function G(a){b.isObject(a)?a=a.signal?a:{top:+a.top||0,bottom:+a.bottom||
0,left:+a.left||0,right:+a.right||0}:(a=+a||0,a={top:a,bottom:a,left:a,right:a});return a}function I(a,c){b.error(a+' for "outer" push: '+b.stringValue(c))}function T(a,b){var c=a.name;if("outer"===a.push)b.signals[c]||I("No prior signal definition",c),wd.forEach(function(b){void 0!==a[b]&&I("Invalid property ",b)});else{var d=b.addSignal(c,a.value);!1===a.react&&(d.react=!1);a.bind&&b.addBinding(c,a.bind)}}function F(a,c,d){var g={};try{a=b.isString(a)?a:b.stringValue(a)+"";var h=e.parse(a)}catch(Jc){b.error("Expression parse error: "+
a)}h.visit(function(a){if(a.type===e.CallExpression){var b=a.callee.name,d=u.codegenParams.visitors[b];d&&d(b,a.arguments,c,g)}});a=u.codeGenerator(h);a.globals.forEach(function(a){var d=u.SignalPrefix+a;!b.hasOwnProperty(g,d)&&c.getSignal(a)&&(g[d]=c.signalRef(a))});return{$expr:d?d+"return("+a.code+");":a.code,$fields:a.fields,$params:g}}function W(a,b,c,d){this.id=-1;this.type=a;this.value=b;this.params=c;d&&(this.parent=d)}function r(a){var b={$ref:a.id};0>a.id&&(a.refs=a.refs||[]).push(b);return b}
function S(a,b){return b?{$field:a,$name:b}:{$field:a}}function z(a,b){a={$key:a};b&&(a.$flat=!0);return a}function J(a,b){return(a&&a.signal?"$"+a.signal:a||"")+(a&&b?"_":"")+(b&&b.signal?"$"+b.signal:b||"")}function p(a){if(a&&a.signal)return!0;if(b.isObject(a))for(var c in a)if(p(a[c]))return!0;return!1}function k(a,b){return null!=a?a:b}function N(a){return a&&a.signal||a}function D(a,d){return(a.merge?c:a.stream?h:a.type?ba:b.error("Invalid stream specification: "+b.stringValue(a)))(a,d)}function O(a){return"scope"===
a?"view":a||"view"}function c(a,b){var c=a.merge.map(a=>D(a,b));a=L({merge:c},a,b);return b.addStream(a).id}function h(a,b){var c=D(a.stream,b);a=L({stream:c},a,b);return b.addStream(a).id}function ba(a,b){if("timer"===a.type){var c=b.event("timer",a.throttle);a={between:a.between,filter:a.filter}}else c=b.event(O(a.source),a.type);a=L({stream:c},a,b);return 1===Object.keys(a).length?c:b.addStream(a).id}function L(a,c,d){var e=c.between;e&&(2!==e.length&&b.error('Stream "between" parameter must have 2 entries: '+
b.stringValue(c)),a.between=[D(e[0],d),D(e[1],d)]);e=c.filter?[].concat(c.filter):[];(c.marktype||c.markname||c.markrole)&&e.push(ma(c.marktype,c.markname,c.markrole));"scope"===c.source&&e.push("inScope(event.item)");e.length&&(a.filter=F("("+e.join(")\x26\x26(")+")").$expr);null!=(e=c.throttle)&&(a.throttle=+e);null!=(e=c.debounce)&&(a.debounce=+e);c.consume&&(a.consume=!0);return a}function ma(a,b,c){return"event.item"+(a&&"*"!==a?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+a+"'":"")+(c?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+
c+"'":"")+(b?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+b+"'":"")}function B(a,c,d){var e=a.events,g=a.update,h=a.encode,k=[],l={target:d};e||b.error("Signal update missing events specification.");b.isString(e)&&(e=w.selector(e,c.isSubscope()?"scope":"view"));e=b.array(e).filter(a=>a.signal||a.scale?(k.push(a),0):1);1<k.length&&(k=[va(k)]);e.length&&k.push(1<e.length?{merge:e}:e[0]);null!=h&&(g&&b.error("Signal encode and update are mutually exclusive."),g="encode(item(),"+b.stringValue(h)+")");
l.update=b.isString(g)?F(g,c,"var datum\x3devent.item\x26\x26event.item.datum;"):null!=g.expr?F(g.expr,c,"var datum\x3devent.item\x26\x26event.item.datum;"):null!=g.value?g.value:null!=g.signal?{$expr:"_.value",$params:{value:c.signalRef(g.signal)}}:b.error("Invalid signal update specification.");a.force&&(l.options={force:!0});k.forEach(function(a){c.addUpdate(b.extend(ia(a,c),l))})}function ia(a,b){return{source:a.signal?b.signalRef(a.signal):a.scale?b.scaleRef(a.scale):D(a,b)}}function va(a){return{signal:"["+
a.map(a=>a.scale?'scale("'+a.scale+'")':a.signal)+"]"}}function qa(a,c){var d=c.getSignal(a.name),e=a.update;a.init&&(e?b.error("Signals can not include both init and update expressions."):(e=a.init,d.initonly=!0));e&&(e=F(e,c),d.update=e.$expr,d.params=e.$params);a.on&&a.on.forEach(function(a){B(a,c,d.id)})}function g(a){return function(b,c,d){return new W(a,c,b||void 0,d)}}function d(a,c){return b.isObject(a)?a.signal?c.signalRef(a.signal):b.error("Unsupported object: "+b.stringValue(a)):a}function M(a,
b){return a.signal?b.signalRef(a.signal):a.map(a=>d(a,b))}function Q(a){b.error("Can not find data set: "+b.stringValue(a))}function la(a,c,d){if(a)return a.signal?d.signalRef(a.signal):(b.isArray(a)?Sa:a.fields?aa:ha)(a,c,d);null==c.domainMin&&null==c.domainMax||b.error("No scale domain defined for domainMin/domainMax to override.")}function Sa(a,b,c){return a.map(function(a){return d(a,c)})}function ha(a,b,c){var d=c.getData(a.data);d||Q(a.data);return t.isDiscrete(b.type)?d.valuesRef(c,a.field,
ya(a.sort,!1)):t.isQuantile(b.type)?d.domainRef(c,a.field):d.extentRef(c,a.field)}function aa(a,c,d){var e=a.data,g=a.fields.reduce(function(a,c){if(b.isString(c))c={data:e,field:c};else if(b.isArray(c)||c.signal){var g=c;c="_:vega:_"+ra++;var h=nb({});b.isArray(g)?h.value={$ingest:g}:g.signal&&(g="setdata("+b.stringValue(c)+","+g.signal+")",h.params.input=d.signalRef(g));d.addDataPipeline(c,[h,Ka({})]);c={data:c,field:"data"}}a.push(c);return a},[]);return(t.isDiscrete(c.type)?sa:t.isQuantile(c.type)?
Na:Ea)(a,d,g)}function sa(a,b,c){var d=ya(a.sort,!0);a=c.map(function(a){var c=b.getData(a.data);c||Q(a.data);return c.countsRef(b,a.field,d)});a={groupby:xd,pulse:a};if(d){c=d.op||"count";var e=d.field?J(c,d.field):"count";a.ops=[Pb[c]];a.fields=[b.fieldRef(e)];a.as=[e]}c=b.add(Ld(a));a=b.add(nb({pulse:r(c)}));e=b.add(Y({field:xd,sort:b.sortRef(d),pulse:r(a)}));return r(e)}function ya(a,c){a&&(a.field||a.op?a.field||"count"===a.op?c&&a.field&&a.op&&!Pb[a.op]&&b.error("Multiple domain scales can not be sorted using "+
a.op):b.error("No field provided for sort aggregate op: "+a.op):b.isObject(a)?a.field="key":a={field:"key"});return a}function Na(a,b,c){a=c.map(function(a){var c=b.getData(a.data);c||Q(a.data);return c.domainRef(b,a.field)});return r(b.add(ib({values:a})))}function Ea(a,b,c){a=c.map(function(a){var c=b.getData(a.data);c||Q(a.data);return c.extentRef(b,a.field)});return r(b.add(wb({extents:a})))}function Ma(a,c,e){var g=a.range,h=c.config.range;if(g.signal)return c.signalRef(g.signal);if(b.isString(g)){if(h&&
b.hasOwnProperty(h,g))return a=b.extend({},a,{range:h[g]}),Ma(a,c,e);"width"===g?g=[0,{signal:"width"}]:"height"===g?g=t.isDiscrete(a.type)?[0,{signal:"height"}]:[{signal:"height"},0]:b.error("Unrecognized scale range value: "+b.stringValue(g))}else{if(g.scheme){e.scheme=b.isArray(g.scheme)?M(g.scheme,c):d(g.scheme,c);g.extent&&(e.schemeExtent=M(g.extent,c));g.count&&(e.schemeCount=d(g.count,c));return}if(g.step){e.rangeStep=d(g.step,c);return}if(t.isDiscrete(a.type)&&!b.isArray(g))return la(g,a,
c);b.isArray(g)||b.error("Unsupported range type: "+b.stringValue(g))}return g.map(a=>(b.isArray(a)?M:d)(a,c))}function U(a,c,d){return b.isArray(a)?a.map(function(a){return U(a,c,d)}):b.isObject(a)?a.signal?d.signalRef(a.signal):"fit"===c?a:b.error("Unsupported parameter object: "+b.stringValue(a)):a}function Ba(a,b,c,d){function e(a,e,g,h){e=E(null,e,b,c,d);g=E(null,g,b,c,d);h=E(null,h,b,c,d);return"this."+a+"("+[e,g,h].join()+").toString()"}return a.c?e("hcl",a.h,a.c,a.l):a.h||a.s?e("hsl",a.h,
a.s,a.l):a.l||a.a?e("lab",a.l,a.a,a.b):a.r||a.g||a.b?e("rgb",a.r,a.g,a.b):null}function l(a,c,d,e){a=F(a,c);a.$fields.forEach(function(a){e[a]=1});b.extend(d,a.$params);return a.$expr}function v(a,c,d,e){if(a.signal){var g="datum";var h=l(a.signal,c,d,e)}else if(a.group||a.parent){h=Math.max(1,a.level||1);for(g="item";0<h--;)g+=".mark.group";a.parent?(h=a.parent,g+=".datum"):h=a.group}else a.datum?(g="datum",h=a.datum):b.error("Invalid field reference: "+b.stringValue(a));a.signal||(b.isString(h)?
(e[h]=1,h=b.splitAccessPath(h).map(b.stringValue).join("][")):h=v(h,c,d,e));return g+"["+h+"]"}function x(a,c,d,e){return b.isObject(a)?"("+E(null,a,c,d,e)+")":a}function m(a,c,d,e){if(b.isString(a)){var g=u.ScalePrefix+a;b.hasOwnProperty(d,g)||(d[g]=c.scaleRef(a));g=b.stringValue(g)}else{for(g in c.scales)d[u.ScalePrefix+g]=c.scaleRef(g);g=b.stringValue(u.ScalePrefix)+"+";a=a.signal?"("+l(a.signal,c,d,e)+")":v(b.isObject(a)?a:{datum:a},c,d,e);g+=a}return"_["+g+"]"}function E(a,c,d,e,g){if(null!=
c.gradient)return"this.gradient("+m(c.gradient,d,e,g)+","+b.stringValue(c.start)+","+b.stringValue(c.stop)+","+b.stringValue(c.count)+")";c.signal?a=l(c.signal,d,e,g):c.color?a=Ba(c.color,d,e,g):null!=c.field?(a=c.field,a=v(b.isObject(a)?a:{datum:a},d,e,g)):a=void 0!==c.value?b.stringValue(c.value):void 0;if(null!=c.scale){var h=m(c.scale,d,e,g);if(null!=c.range){var k=+c.range;var p=h+".range()";a=0===k?p+"[0]":"($\x3d"+p+","+(1===k?"$[$.length-1]":"$[0]+"+k+"*($[$.length-1]-$[0])")+")"}else{void 0!==
a&&(a=h+"("+a+")");if(k=c.band){var r=c.scale;b.isString(r)?(r=d.scaleType(r),r="band"===r||"point"===r?1:0):r=-1;k=r}k&&(p=h+".bandwidth",c.band.signal?k=p+"()*"+x(c.band,d,e,g):(k=+c.band,k=p+"()"+(1===k?"":"*"+k)),0>r&&(k="("+p+"?"+k+":0)"),a=(a?a+"+":"")+k,c.extra&&(a="(datum.extra?"+h+"(datum.extra.value):"+a+")"));null==a&&(a="0")}}void 0===a&&(a=null);null!=c.exponent&&(a="Math.pow("+a+","+x(c.exponent,d,e,g)+")");null!=c.mult&&(a+="*"+x(c.mult,d,e,g));null!=c.offset&&(a+="+"+x(c.offset,d,
e,g));c.round&&(a="Math.round("+a+")");return a}function Ua(a,c,d){a=a+"["+b.stringValue(c)+"]";return`$=${d};if(${a}!==$)${a}=$,m=1;`}function da(a,c,d,e,g){var h="";c.forEach(function(b){var c=E(a,b,d,e,g);h+=b.test?l(b.test,d,e,g)+"?"+c+":":c});":"===b.peek(h)&&(h+="null");return Ua("o",a,h)}function oa(a){return b.isObject(a)&&!b.isArray(a)?b.extend({},a):{value:a}}function Wa(a,c,d,e){return null!=d?(b.isObject(d)&&!b.isArray(d)?a.update[c]=d:a[e||"enter"][c]={value:d},1):0}function Qa(a,b,c){for(let c in b)Wa(a,
c,b[c]);for(let b in c)Wa(a,b,c[b],"update")}function wa(a,c,d){for(var e in c)d&&b.hasOwnProperty(d,e)||(a[e]=b.extend(a[e]||{},c[e]));return a}function fa(a,c,d,e,g,h){var k,l;h=h||{};h.encoders={$encode:k={}};a=cb(a,c,d,e,g.config);for(l in a){d=k;e=l;var m=void 0;var p=a[l];var r=c,t=h,u=g,v={},Z="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";for(m in p){var w=p[m];b.isArray(w)?Z+=da(m,w,u,t,v):(w=E(m,w,u,t,v),Z+=Ua("o",m,w))}m=Z;t="";Ga[r]||(p.x2&&(p.x?(Aa[r]&&(t+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),
t+="o.width\x3do.x2-o.x;"):t+="o.x\x3do.x2-(o.width||0);"),p.xc&&(t+="o.x\x3do.xc-(o.width||0)/2;"),p.y2&&(p.y?(Aa[r]&&(t+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),t+="o.height\x3do.y2-o.y;"):t+="o.y\x3do.y2-(o.height||0);"),p.yc&&(t+="o.y\x3do.yc-(o.height||0)/2;"));r=t;Z=m+r;p={$expr:Z+"return m;",$fields:Object.keys(v),$output:Object.keys(p)};d[e]=p}return h}function cb(a,c,d,e,g){var h={},k={},l;var m="lineBreak";"text"!==c||null==g[m]||fb(m,a)||kb(h,m,g[m]);if("legend"==d||0===String(d).indexOf("axis"))d=
null;d="frame"===d?g.group:"mark"===d?b.extend({},g.mark,g[c]):null;for(m in d)(c=fb(m,a)||("fill"===m||"stroke"===m)&&(fb("fill",a)||fb("stroke",a)))||kb(h,m,d[m]);b.array(e).forEach(function(b){b=g.style&&g.style[b];for(var c in b)fb(c,a)||kb(h,c,b[c])});a=b.extend({},a);for(m in h)d=h[m],d.signal?(l=l||{})[m]=d:k[m]=d;a.enter=b.extend(k,a.enter);l&&(a.update=b.extend(l,a.update));return a}function kb(a,b,c){a[b]=c&&c.signal?{signal:c.signal}:{value:c}}function fb(a,b){return b&&(b.enter&&b.enter[a]||
b.update&&b.update[a])}function qb(a,b,c,d,e,g,h){return{type:a,name:h?h.name:void 0,role:b,style:h&&h.style||c,key:d,from:e,interactive:!(!h||!h.interactive),encode:wa(g,h,La)}}function Ja(a,b){const c=(c,d)=>k(a[c],k(b[c],d));c.isVertical=c=>"vertical"===k(a.direction,b.direction||(c?b.symbolDirection:b.gradientDirection));c.gradientLength=()=>k(a.gradientLength,b.gradientLength||b.gradientWidth);c.gradientThickness=()=>k(a.gradientThickness,b.gradientThickness||b.gradientHeight);c.entryColumns=
()=>k(a.columns,k(b.columns,+c.isVertical(!0)));return c}function pa(a,b){return(a=b&&(b.update&&b.update[a]||b.enter&&b.enter[a]))&&a.signal?a:a?a.value:null}function ub(a,b,c){return`item.anchor === "${"start"}" ? ${a} : item.anchor === "${"end"}" ? ${b} : ${c}`}function Rb(a,c){return c?a?b.isObject(a)?Object.assign({},a,{offset:Rb(a.offset,c)}):{value:a,offset:c}:c:a}function Va(a,c,d,e){a=Ja(a,d);var g=a.isVertical();d=a.gradientThickness();var h=a.gradientLength(),k;if(g){g=[0,1];var l=[0,0];
var m=d;d=h}else g=[0,0],l=[1,0],m=h;c={enter:k={opacity:Fa,x:Fa,y:Fa,width:oa(m),height:oa(d)},update:b.extend({},k,{opacity:bb,fill:{gradient:c,start:g,stop:l}}),exit:{opacity:Fa}};Qa(c,{stroke:a("gradientStrokeColor"),strokeWidth:a("gradientStrokeWidth")},{opacity:a("gradientOpacity")});return qb("rect","legend-gradient",null,void 0,void 0,c,e)}function Bb(a,c,d,e,g){a=Ja(a,d);var h=a.isVertical();d=a.gradientThickness();var k=a.gradientLength(),l,m,p,r,t="";h?(l="y",p="y2",m="x",r="width",t="1-"):
(l="x",p="x2",m="y",r="height");c={opacity:Fa,fill:{scale:c,field:"value"}};c[l]={signal:t+"datum.perc",mult:k};c[m]=Fa;c[p]={signal:t+"datum.perc2",mult:k};c[r]=oa(d);l={enter:c,update:b.extend({},c,{opacity:bb}),exit:{opacity:Fa}};Qa(l,{stroke:a("gradientStrokeColor"),strokeWidth:a("gradientStrokeWidth")},{opacity:a("gradientOpacity")});return qb("rect","legend-band",null,"value",g,l,e)}function ka(a,b,c,d){var e=Ja(a,b),g=e.isVertical(),h=oa(e.gradientThickness()),l=e.gradientLength(),m=e("labelOverlap"),
p=e("labelSeparation"),r,t,u="";var v={enter:r={opacity:Fa},update:t={opacity:bb,text:{field:"label"}},exit:{opacity:Fa}};Qa(v,{fill:e("labelColor"),fillOpacity:e("labelOpacity"),font:e("labelFont"),fontSize:e("labelFontSize"),fontStyle:e("labelFontStyle"),fontWeight:e("labelFontWeight"),limit:k(a.labelLimit,b.gradientLabelLimit)});g?(r.align={value:"left"},r.baseline=t.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},e="y",g="x",u="1-"):(r.align=t.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},
r.baseline={value:"top"},e="x",g="y");r[e]=t[e]={signal:u+"datum.perc",mult:l};r[g]=t[g]=h;h.offset=k(a.labelOffset,b.gradientLabelOffset)||0;a=qb("text","legend-label","guide-label","value",d,v,c);m&&(a.overlap={separation:p,method:m,order:"datum.index"});return a}function Cb(a,b,c,d,e,g,h,k){return{type:"group",name:c,role:a,style:b,from:d,interactive:e||!1,encode:g,marks:h,layout:k}}function Db(a,b,c,d,e){var g=Ja(a,b),h=c.entries,k=!(!h||!h.interactive),l=h?h.name:void 0,m=g("clipHeight"),p=g("symbolOffset"),
r={data:"value"},t={},u=`(${e}) ? datum.${"offset"} : datum.${"size"}`,v=m?oa(m):{field:"size"},Z=`max(1, ${e})`,w,x;v.mult=.5;t={enter:w={opacity:Fa,x:{signal:u,mult:.5,offset:p},y:v},update:x={opacity:bb,x:w.x,y:w.y},exit:{opacity:Fa}};var z=null,Da=null;a.fill||(z=b.symbolBaseFillColor,Da=b.symbolBaseStrokeColor);Qa(t,{fill:g("symbolFillColor",z),shape:g("symbolType"),size:g("symbolSize"),stroke:g("symbolStrokeColor",Da),strokeDash:g("symbolDash"),strokeDashOffset:g("symbolDashOffset"),strokeWidth:g("symbolStrokeWidth")},
{opacity:g("symbolOpacity")});Ub.forEach(function(b){a[b]&&(x[b]=w[b]={scale:a[b],field:"value"})});b=qb("symbol","legend-symbol",null,"value",r,t,c.symbols);m&&(b.clip=!0);t=oa(p);t.offset=g("labelOffset");t={enter:w={opacity:Fa,x:{signal:u,offset:t},y:v},update:x={opacity:bb,text:{field:"label"},x:w.x,y:w.y},exit:{opacity:Fa}};Qa(t,{align:g("labelAlign"),baseline:g("labelBaseline"),fill:g("labelColor"),fillOpacity:g("labelOpacity"),font:g("labelFont"),fontSize:g("labelFontSize"),fontStyle:g("labelFontStyle"),
fontWeight:g("labelFontWeight"),limit:g("labelLimit")});c=qb("text","legend-label","guide-label","value",r,t,c.labels);t={enter:{noBound:{value:!m},width:Fa,height:m?oa(m):Fa,opacity:Fa},exit:{opacity:Fa},update:x={opacity:bb,row:{signal:null},column:{signal:null}}};g.isVertical(!0)?(g=`ceil(item.mark.items.length / ${Z})`,x.row.signal=`${"datum.index"}%${g}`,x.column.signal=`floor(${"datum.index"} / ${g})`,g={field:["row","datum.index"]}):(x.row.signal=`floor(${"datum.index"} / ${Z})`,x.column.signal=
`${"datum.index"} % ${Z}`,g={field:"datum.index"});x.column.signal=`(${e})?${x.column.signal}:${"datum.index"}`;d={facet:{data:d,name:"value",groupby:"index"}};a=Cb("scope",null,l,d,k,wa(t,h,La),[b,c]);a.sort=g;return a}function $a(a,b){a=Ja(a,b);return{align:a("gridAlign"),columns:a.entryColumns(),center:{row:!0,column:!1},padding:{row:a("rowPadding"),column:a("columnPadding")}}}function Lb(a,b,c,d){b=Ja(a,b);var e={enter:{opacity:Fa},update:{opacity:bb,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},
exit:{opacity:Fa}};Qa(e,{orient:b("titleOrient"),_anchor:b("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},align:{signal:Qc},baseline:{signal:Rc},text:a.title,fill:b("titleColor"),fillOpacity:b("titleOpacity"),font:b("titleFont"),fontSize:b("titleFontSize"),
fontStyle:b("titleFontStyle"),fontWeight:b("titleFontWeight"),limit:b("titleLimit"),lineHeight:b("titleLineHeight")},{align:b("titleAlign"),baseline:b("titleBaseline")});return qb("text","legend-title","guide-title",null,d,e,c)}function tc(a,c){var d;b.isObject(a)&&(a.signal?d=a.signal:a.path?d="pathShape("+rb(a.path)+")":a.sphere&&(d="geoShape("+rb(a.sphere)+', {type: "Sphere"})'));return d?c.signalRef(d):!!a}function rb(a){return b.isObject(a)&&a.signal?a.signal:b.stringValue(a)}function Tb(a){var b=
a.role||"";return b.indexOf("axis")&&b.indexOf("legend")&&b.indexOf("title")?"group"===a.type?"scope":b||"mark":b}function Eb(a){return{marktype:a.type,name:a.name||void 0,role:a.role||Tb(a),zindex:+a.zindex||void 0}}function Xa(a,b){return a&&a.signal?b.signalRef(a.signal):!1===a?!1:!0}function xa(a,c){var d=C.definition(a.type);d||b.error("Unrecognized transform type: "+b.stringValue(a.type));var e=d.type.toLowerCase();var g=Fb(d,a,c);e=new W(e,null,g,void 0);a.signal&&c.addSignal(a.signal,c.proxy(e));
e.metadata=d.metadata||{};return e}function Fb(a,b,c){var d={},e;var g=0;for(e=a.params.length;g<e;++g){var h=a.params[g];d[h.name]=qc(h,b,c)}return d}function qc(a,c,d){var e=a.type,g=c[a.name];if("index"===e)return ab(a,c,d);if(void 0===g)a.required&&b.error("Missing required "+b.stringValue(c.type)+" parameter: "+b.stringValue(a.name));else return"param"===e?fc(a,c,d):"projection"===e?d.projectionRef(c[a.name]):!a.array||g&&g.signal?Sb(a,g,d):g.map(function(b){return Sb(a,b,d)})}function Sb(a,
c,d){var e=a.type;return c&&c.signal?"expr"===e?b.error("Expression references can not be signals."):"field"===e?d.fieldRef(c):"compare"===e?d.compareRef(c):d.signalRef(c.signal):(a=a.expr||"field"===e)&&c&&c.expr?d.exprRef(c.expr,c.as):a&&c&&c.field?S(c.field,c.as):"expr"===e?F(c,d):"data"===e?r(d.getData(c).values):"field"===e?S(c):"compare"===e?d.compareRef(c):c}function ab(a,c,d){b.isString(c.from)||b.error('Lookup "from" parameter must be a string literal.');return d.getData(c.from).lookupRef(d,
c.key)}function fc(a,c,d){c=c[a.name];return a.array?(b.isArray(c)||b.error("Expected an array of sub-parameters. Instead: "+b.stringValue(c)),c.map(function(b){return sb(a,b,d)})):sb(a,c,d)}function sb(a,c,d){var e,g;var h=0;for(g=a.params.length;h<g;++h){var k=a.params[h];for(e in k.key)if(k.key[e]!==c[e]){k=null;break}if(k)break}k||b.error("Unsupported parameter: "+b.stringValue(c));a=b.extend(Fb(k,c,d),k.key);return r(d.add(zc(a)))}function ac(a,c,d){var e,g;if(!a)var h=r(d.add(nb(null,[{}])));
else if(e=a.facet)if(c||b.error("Only group marks can be faceted."),null!=e.field)h=g=gb(e,d);else{a.data?g=r(d.getData(a.data).aggregate):(c=xa(b.extend({type:"aggregate",groupby:b.array(e.groupby)},e.aggregate),d),c.params.key=d.keyRef(e.groupby),c.params.pulse=gb(e,d),h=g=r(d.add(c)));var k=d.keyRef(e.groupby,!0)}h||(h=gb(a,d));return{key:k,pulse:h,parent:g}}function gb(a,b){return a.$ref?a:a.data&&a.data.$ref?a.data:r(b.getData(a.data).output)}function db(a,b,c,d,e){this.scope=a;this.input=b;
this.output=c;this.values=d;this.aggregate=e;this.index={}}function Ob(a){return b.isString(a)?a:null}function gc(a,b,c){var d=J(c.op,c.field),e;if(b.ops)for(var g=0,h=b.as.length;g<h;++g){if(b.as[g]===d)return}else b.ops=["count"],b.fields=[null],b.as=["count"];c.op&&(b.ops.push((e=c.op.signal)?a.signalRef(e):c.op),b.fields.push(a.fieldRef(c.field)),b.as.push(d))}function jc(a,c,d,e,g,h,k){d=c[d]||(c[d]={});var l=b.isObject(h)?("descending"===h.order?"-":"+")+J(h.op,h.field):"";var m=Ob(g);if(null!=
m){a=c.scope;m+=l?"|"+l:"";var p=d[m]}p||(p=h?{field:xd,pulse:c.countsRef(a,g,h)}:{field:a.fieldRef(g),pulse:r(c.output)},l&&(p.sort=a.sortRef(h)),a=a.add(new W(e,void 0,p,void 0)),k&&(c.index[g]=a),p=r(a),null!=m&&(d[m]=p));return p}function Ic(a,c,d){var e=a.from.facet,g=e.name,h=gb(e,c),k;e.name||b.error("Facet must have a name: "+b.stringValue(e));e.data||b.error("Facet must reference a data set: "+b.stringValue(e));e.field?k=c.add(Ca({field:c.fieldRef(e.field),pulse:h})):e.groupby?k=c.add(Gb({key:c.keyRef(e.groupby),
group:r(c.proxy(d.parent)),pulse:h})):b.error("Facet must specify groupby or field: "+b.stringValue(e));c=c.fork();d=c.add(nb());e=c.add(Ka({pulse:r(d)}));c.addData(g,new db(c,d,d,e));c.addSignal("parent",null);k.params.subflow={$subflow:Gd(a,c).toRuntime()}}function td(a,b,c){c=b.add(Ca({pulse:c.pulse}));b=b.fork();b.add(Ka());b.addSignal("parent",null);c.params.subflow={$subflow:Gd(a,b).toRuntime()}}function kc(a,b,c){var d=a.remove,e=a.insert,g=a.toggle,h=a.modify,k=a.values,l=b.add(new W("operator",
void 0,void 0,void 0));a="if("+a.trigger+',modify("'+c+'",'+[e,d,g,h,k].map(function(a){return null==a?"null":a}).join(",")+"),0)";b=F(a,b);l.update=b.$expr;l.params=b.$params}function Vc(a,c){var d=Tb(a),e="group"===a.type,g=a.from&&a.from.facet,h=a.layout||"scope"===d||"frame"===d,k="mark"===d||h||g,l=a.overlap,m,p;var t=ac(a.from,e,c);var u=c.add(vb({key:t.key||(a.key?S(a.key):void 0),pulse:t.pulse,clean:!e}));var v=r(u);u=m=c.add(nb({pulse:v}));u=c.add(V({markdef:Eb(a),interactive:Xa(a.interactive,
c),clip:tc(a.clip,c),context:{$context:!0},groups:c.lookup(),parent:c.signals.parent?c.signalRef("parent"):null,index:c.markpath(),pulse:r(u)}));var w=r(u);u=p=c.add(yd(fa(a.encode,a.type,d,a.style,c,{mod:!1,pulse:w})));u.params.parent=c.encode();a.transform&&a.transform.forEach(function(a){a=xa(a,c);const d=a.metadata;(d.generates||d.changes)&&b.error("Mark transforms should not generate new data.");d.nomod||(p.params.mod=!0);a.params.pulse=r(u);c.add(u=a)});a.sort&&(u=c.add(ca({sort:c.compareRef(a.sort),
pulse:r(u)})));d=r(u);if(g||h){h=c.add(Za({layout:c.objectProperty(a.layout),legends:c.legends,mark:w,pulse:d}));var x=r(h)}w=c.add(Nd({mark:w,pulse:x||d}));var Z=r(w);if(e){if(k){var z=c.operators;z.pop();h&&z.pop()}c.pushState(d,x||Z,v);g?Ic(a,c,t):k?td(a,c,t):Gd(a,c);c.popState();k&&(h&&z.push(h),z.push(w))}l&&(Z=Nc(l,Z,c));e=c.add(Dc({pulse:Z}));g=c.add(Ka({pulse:r(e)},void 0,c.parent()));if(null!=a.name){var D=a.name;c.addData(D,new db(c,m,e,g));a.on&&a.on.forEach(function(a){(a.insert||a.remove||
a.toggle)&&b.error("Marks only support modify triggers.");kc(a,c,D)})}}function Nc(a,b,c){var d=a.method,e=a.bound,g=a.separation;b={separation:g&&g.signal?c.signalRef(g.signal):g,method:d&&d.signal?c.signalRef(d.signal):d,pulse:b};a.order&&(b.sort=c.compareRef({field:a.order}));e&&(a=e.tolerance,b.boundTolerance=a&&a.signal?c.signalRef(a.signal):+a,b.boundScale=c.scaleRef(e.scale),b.boundOrient=e.orient);return r(c.add(X(b)))}function Cc(a,c){var d=c.config.legend,e=a.encode||{},g=e.legend||{},h=
g.name||void 0,k=g.interactive,l=g.style,m=Ja(a,d),p,t=Ub.reduce(function(b,c){return b||a[c]},0);t||b.error("Missing valid scale for legend.");var u=rc(a,c.scaleType(t));var v={title:null!=a.title,type:u,vgrad:"symbol"!==u&&m.isVertical()};var w=r(c.add(nb(null,[v])));g=wa(Kb(m,d),g,La);var x=r(c.add(eb(p={type:u,scale:c.scaleRef(t),count:c.objectProperty(m("tickCount")),limit:c.property(m("symbolLimit")),values:c.objectProperty(a.values),minstep:c.property(a.tickMinStep),formatType:c.property(a.formatType),
formatSpecifier:c.property(a.format)})));if("gradient"===u)u=[Va(a,t,d,e.gradient),ka(a,d,e.labels,x)],p.count=p.count||c.signalRef(`max(2,2*floor((${N(m.gradientLength())})/100))`);else if("discrete"===u)u=[Bb(a,t,d,e.gradient,x),ka(a,d,e.labels,x)];else{var z=$a(a,d);u=[Db(a,d,e,x,N(z.columns))];p.size=$b(a,c,u[0].marks)}u=[Cb("legend-entry",null,null,w,k,{enter:{x:{value:0},y:{value:0}}},u,z)];v.title&&u.push(Lb(a,d,e.title,w));d=Cb("legend",l,h,w,k,g,u);a.zindex&&(d.zindex=a.zindex);return Vc(d,
c)}function rc(a,b){var c=a.type||"symbol";a.type||1!==dc(a)||!a.fill&&!a.stroke||(c=t.isContinuous(b)?"gradient":t.isDiscretizing(b)?"discrete":"symbol");return"gradient"!==c?c:t.isDiscretizing(b)?"discrete":"gradient"}function dc(a){return Ub.reduce(function(b,c){return b+(a[c]?1:0)},0)}function Kb(a,b){var c={enter:{},update:{}};Qa(c,{orient:a("orient"),offset:a("offset"),padding:a("padding"),titlePadding:a("titlePadding"),cornerRadius:a("cornerRadius"),fill:a("fillColor"),stroke:a("strokeColor"),
strokeWidth:b.strokeWidth,strokeDash:b.strokeDash,x:a("legendX"),y:a("legendY")});return c}function $b(a,b,c){var d=N(hc("size",a,c));a=N(hc("strokeWidth",a,c));(c=pa("fontSize",c[1].encode))||(c=(c=b.config.style["guide-label"])&&c.fontSize);c=N(c);return F(`max(ceil(sqrt(${d})+${a}),${c})`,b)}function hc(a,b,c){return b[a]?`scale("${b[a]}",datum)`:pa(a,c[0].encode)}function lc(a,c){a=b.isString(a)?{text:a}:a;var d=Ja(a,c.config.title),e=a.encode||{},g=e.group||{},h=g.name||void 0,k=g.interactive,
l=g.style,m=[];var p=r(c.add(nb(null,[{}])));m.push(uc(a,d,mc(a),p));a.subtitle&&m.push(ud(a,d,e.subtitle,p));e={enter:{},update:{}};Qa(e,{orient:d("orient"),anchor:d("anchor"),align:{signal:Ec},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},limit:d("limit"),frame:d("frame"),offset:d("offset")||0,padding:d("subtitlePadding")});d=wa(e,g,La);h=Cb("title",l,h,p,k,d,m);a.zindex&&(h.zindex=a.zindex);return Vc(h,c)}function mc(a){const c=a.encode;return c&&c.title||
b.extend({name:a.name,interactive:a.interactive,style:a.style},c)}function uc(a,b,c,d){var e={value:0};e={enter:{opacity:e},update:{opacity:{value:1}},exit:{opacity:e}};Qa(e,{text:a.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:b("dx"),dy:b("dy"),fill:b("color"),font:b("font"),fontSize:b("fontSize"),fontStyle:b("fontStyle"),fontWeight:b("fontWeight"),lineHeight:b("lineHeight")},{align:b("align"),angle:b("angle"),
baseline:b("baseline")});return qb("text","title-text","group-title",null,d,e,c)}function ud(a,b,c,d){var e={value:0};e={enter:{opacity:e},update:{opacity:{value:1}},exit:{opacity:e}};Qa(e,{text:a.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:b("dx"),dy:b("dy"),fill:b("subtitleColor"),font:b("subtitleFont"),fontSize:b("subtitleFontSize"),fontStyle:b("subtitleFontStyle"),fontWeight:b("subtitleFontWeight"),
lineHeight:b("subtitleLineHeight")},{align:b("align"),angle:b("angle"),baseline:b("baseline")});return qb("text","title-subtitle","group-subtitle",null,d,e,c)}function Td(a,b){var c=[];a.transform&&a.transform.forEach(function(a){c.push(xa(a,b))});a.on&&a.on.forEach(function(c){kc(c,b,a.name)});b.addDataPipeline(a.name,ae(a,b,c))}function ae(a,c,d){var e=[],g=null,h=!1,k=!1,l,m;a.values?p(a.values)||p(a.format)?(e.push(vc(c,a)),e.push(g=Oc())):e.push(g=Oc({$ingest:a.values,$format:a.format})):a.url?
p(a.url)||p(a.format)?(e.push(vc(c,a)),e.push(g=Oc())):e.push(g=Oc({$request:a.url,$format:a.format})):a.source&&(g=l=b.array(a.source).map(function(a){return r(c.getData(a).output)}),e.push(null));a=0;for(m=d.length;a<m;++a){var t=d[a];var u=t.metadata;g||u.source||e.push(g=Oc());e.push(t);u.generates&&(k=!0);u.modifies&&!k&&(h=!0);u.source?g=t:u.changes&&(g=null)}l&&(m=l.length-1,e[0]=tb({derive:h,pulse:m?l:l[0]}),(h||m)&&e.splice(1,0,Oc()));g||e.push(Oc());e.push(Ka({}));return e}function Oc(a){a=
nb({},a);a.metadata={source:!0};return a}function vc(a,b){return Nb({url:b.url?a.property(b.url):void 0,async:b.async?a.property(b.async):void 0,values:b.values?a.property(b.values):void 0,format:a.objectProperty(b.format)})}function kd(a,b,c,d){var e=Ja(a,b),g=a.orient,h,k;b={enter:h={opacity:Fa},update:k={opacity:bb},exit:{opacity:Fa}};Qa(b,{stroke:e("domainColor"),strokeDash:e("domainDash"),strokeDashOffset:e("domainDashOffset"),strokeWidth:e("domainWidth"),strokeOpacity:e("domainOpacity")});if("top"===
g||"bottom"===g){e="x";var l="y"}else e="y",l="x";g=e+"2";h[l]=Fa;k[e]=h[e]={scale:a.scale,range:0};k[g]=h[g]={scale:a.scale,range:1};return qb("rule","axis-domain",null,null,d,b,c)}function $c(a,c,d,e,g){var h=Ja(a,c),k=a.orient;c=a.gridScale;var l="left"===k||"top"===k?1:-1;a:{var m=a.offset;if(1!==l)if(b.isObject(m)){for(var p=m=b.extend({},m);null!=p.mult;)if(b.isObject(p.mult))p=p.mult=b.extend({},p.mult);else{p.mult*=l;break a}p.mult=l}else m=l*(m||0)}var t,r,u;p={enter:t={opacity:Fa},update:u=
{opacity:bb},exit:r={opacity:Fa}};Qa(p,{stroke:h("gridColor"),strokeDash:h("gridDash"),strokeDashOffset:h("gridDashOffset"),strokeOpacity:h("gridOpacity"),strokeWidth:h("gridWidth")});a={scale:a.scale,field:"value",band:g.band,extra:g.extra,offset:g.offset,round:h("tickRound")};if("top"===k||"bottom"===k){g="x";k="y";var v="height"}else g="y",k="x",v="width";h=k+"2";u[g]=t[g]=r[g]=a;c?(u[k]=t[k]={scale:c,range:0,mult:l,offset:m},u[h]=t[h]={scale:c,range:1,mult:l,offset:m}):(u[k]=t[k]={value:0,offset:m},
u[h]=t[h]={signal:v,mult:l,offset:m});return qb("rule","axis-grid",null,"value",e,p,d)}function Mb(a,b,c,d,e,g){var h=Ja(a,b);b=a.orient;var k="left"===b||"top"===b?-1:1,l,m,p;var t={enter:l={opacity:Fa},update:p={opacity:bb},exit:m={opacity:Fa}};Qa(t,{stroke:h("tickColor"),strokeDash:h("tickDash"),strokeDashOffset:h("tickDashOffset"),strokeOpacity:h("tickOpacity"),strokeWidth:h("tickWidth")});e=oa(e);e.mult=k;a={scale:a.scale,field:"value",band:g.band,extra:g.extra,offset:g.offset,round:h("tickRound")};
"top"===b||"bottom"===b?(p.y=l.y=Fa,p.y2=l.y2=e,p.x=l.x=m.x=a):(p.x=l.x=Fa,p.x2=l.x2=e,p.y=l.y=m.y=a);return qb("rule","axis-tick",null,"value",d,t,c)}function lb(a,b,c,d,e){return{signal:'flush(range("'+a+'"), scale("'+a+'", datum.value), '+b+","+c+","+d+","+e+")"}}function ld(a,b,c,d,e,g){var h=Ja(a,b);b=a.orient;var k="left"===b||"top"===b?-1:1,l="top"===b||"bottom"===b,m=a.scale;a=N(h("labelFlush"));var p=N(h("labelFlushOffset")),t=0===a||!!a,r=h("labelAlign"),u=h("labelBaseline"),v;e=oa(e);e.mult=
k;e.offset=oa(h("labelPadding")||0);e.offset.mult=k;var w={scale:m,field:"value",band:.5,offset:Rb(g.offset,h("labelOffset"))};l?(g=r||(t?lb(m,a,'"left"','"right"','"center"'):"center"),k=u||("top"===b?"bottom":"top"),r=!r):(g=r||("right"===b?"left":"right"),k=u||(t?lb(m,a,'"top"','"bottom"','"middle"'):"middle"),r=!u);r=r&&t&&p?lb(m,a,"-("+p+")",p,0):null;a={enter:v={opacity:Fa,x:l?w:e,y:l?e:w},update:{opacity:bb,text:{field:"label"},x:v.x,y:v.y},exit:{opacity:Fa,x:v.x,y:v.y}};Qa(a,{[l?"dx":"dy"]:r,
align:g,baseline:k,angle:h("labelAngle"),fill:h("labelColor"),fillOpacity:h("labelOpacity"),font:h("labelFont"),fontSize:h("labelFontSize"),fontWeight:h("labelFontWeight"),fontStyle:h("labelFontStyle"),limit:h("labelLimit"),lineHeight:h("labelLineHeight")});v=h("labelBound");l=h("labelOverlap");h=h("labelSeparation");a=qb("text","axis-label","guide-label","value",d,a,c);if(l||v)a.overlap={separation:h,method:l,order:"datum.index",bound:v?{scale:m,orient:b,tolerance:v}:null};return a}function ke(a,
c,d,e){c=Ja(a,c);var g=a.orient,h="left"===g||"top"===g?-1:1,k="top"===g||"bottom"===g,l,m;var p={enter:l={opacity:Fa,anchor:oa(c("titleAnchor")),align:{signal:Ec}},update:m=b.extend({},l,{opacity:bb,text:oa(a.title)}),exit:{opacity:Fa}};a={signal:`lerp(range("${a.scale}"), ${ub(0,1,.5)})`};k?(m.x=a,l.angle={value:0},l.baseline={value:"top"===g?"bottom":"top"}):(m.y=a,l.angle={value:90*h},l.baseline={value:"bottom"});Qa(p,{angle:c("titleAngle"),baseline:c("titleBaseline"),fill:c("titleColor"),fillOpacity:c("titleOpacity"),
font:c("titleFont"),fontSize:c("titleFontSize"),fontStyle:c("titleFontStyle"),fontWeight:c("titleFontWeight"),limit:c("titleLimit"),lineHeight:c("titleLineHeight")},{align:c("titleAlign")});Wa(p,"x",c("titleX"),"update")||k||fb("x",d)||(p.enter.auto={value:!0});!Wa(p,"y",c("titleY"),"update")&&k&&!fb("y",d)&&(p.enter.auto={value:!0});return qb("text","axis-title","guide-title",null,e,p,d)}function Gd(a,c,e){var g=b.array(a.signals),h=b.array(a.scales);e||g.forEach(a=>T(a,c));b.array(a.projections).forEach(a=>
{var b=c.config.projection||{},d={},e;for(e in a)"name"!==e&&(d[e]=U(a[e],e,c));for(e in b)null==d[e]&&(d[e]=U(b[e],e,c));c.addProjection(a.name,d)});h.forEach(a=>{var d=a.type||"linear";t.isValidScaleType(d)||b.error("Unrecognized scale type: "+b.stringValue(d));c.addScale(a.name,{type:d,domain:void 0})});b.array(a.data).forEach(a=>Td(a,c));h.forEach(a=>{var e=c.getScale(a.name).params,g;e.domain=la(a.domain,a,c);null!=a.range&&(e.range=Ma(a,c,e));if(null!=a.interpolate){var h=a.interpolate;e.interpolate=
d(h.type||h);null!=h.gamma&&(e.interpolateGamma=d(h.gamma))}null!=a.nice&&(h=a.nice,h=b.isObject(h)?{interval:d(h.interval),step:d(h.step)}:d(h),e.nice=h);null!=a.bins&&(h=a.bins,h=h.signal||b.isArray(h)?M(h,c):c.objectProperty(h),e.bins=h);for(g in a)b.hasOwnProperty(e,g)||"name"===g||(e[g]=d(a[g],c))});(e||g).forEach(a=>qa(a,c));b.array(a.axes).forEach(a=>{var d=c.config;var e=a.orient,g="top"===e||"bottom"===e?d.axisX:d.axisY;e=d["axis"+e[0].toUpperCase()+e.slice(1)];var h="band"===c.scaleType(a.scale)&&
d.axisBand;d=g||e||h?b.extend({},d.axis,g,e,h):d.axis;g=a.encode||{};var l=g.axis||{};e=l.name||void 0;h=l.interactive;var m=l.style,p=Ja(a,d);l=p("tickBand");var t=p("tickOffset");if(l)if(l.signal){var u={signal:`(${l.signal})==='extent'?1:0.5`};var v={signal:`(${l.signal})==='extent'?true:false`};b.isObject(t)||(t={signal:`(${l.signal})==='extent'?0:${t}`})}else"extent"===l?(u=1,v=!0,t=0):(u=.5,v=!1);else u=p("bandPosition"),v=p("tickExtra");t={extra:v,band:u,offset:t};u={orient:a.orient,ticks:!!p("ticks"),
labels:!!p("labels"),grid:!!p("grid"),domain:!!p("domain"),title:null!=a.title,translate:p("translate")};v=r(c.add(nb({},[u])));l=wa({update:{offset:oa(p("offset")||0),position:oa(k(a.position,0)),titlePadding:oa(p("titlePadding")),minExtent:oa(p("minExtent")),maxExtent:oa(p("maxExtent")),range:{signal:`abs(span(range("${a.scale}")))`}}},g.axis,La);var w=r(c.add(Md({scale:c.scaleRef(a.scale),extra:c.property(t.extra),count:c.objectProperty(a.tickCount),values:c.objectProperty(a.values),minstep:c.property(a.tickMinStep),
formatType:c.property(a.formatType),formatSpecifier:c.property(a.format)})));var x=[];u.grid&&x.push($c(a,d,g.grid,w,t));if(u.ticks){var z=p("tickSize");x.push(Mb(a,d,g.ticks,w,z,t))}u.labels&&(z=u.ticks?z:0,x.push(ld(a,d,g.labels,w,z,t)));u.domain&&x.push(kd(a,d,g.domain,v));u.title&&x.push(ke(a,d,g.title,v));z=Cb("axis",m,e,v,h,l,x);a.zindex&&(z.zindex=a.zindex);return Vc(z,c)});b.array(a.marks).forEach(a=>Vc(a,c));b.array(a.legends).forEach(a=>Cc(a,c));a.title&&lc(a.title,c);c.parseLambdas();return c}
function Hd(a,b){var c=b.config;var d=r(b.root=b.add(new W("operator",void 0,void 0,void 0)));var e=gd(a,c);e.forEach(a=>T(a,b));b.description=a.description||c.description;b.eventConfig=c.events;b.legends=b.objectProperty(c.legend&&c.legend.layout);c=b.add(nb());var g=wa({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},a.encode);g=b.add(yd(fa(g,"group","frame",a.style,b,{pulse:r(c)})));var h=b.add(Za({layout:b.objectProperty(a.layout),legends:b.legends,autosize:b.signalRef("autosize"),
mark:d,pulse:r(g)}));b.operators.pop();b.pushState(r(g),r(h),null);Gd(a,b,e);b.operators.push(h);a=b.add(Nd({mark:d,pulse:r(h)}));a=b.add(Dc({pulse:r(a)}));a=b.add(Ka({pulse:r(a)}));b.addData("root",new db(b,c,c,a));return b}function ic(a,b){return b&&b.signal?{name:a,update:b.signal}:{name:a,value:b}}function gd(a,c){const d=b=>k(a[b],c[b]),e=[ic("background",d("background")),ic("autosize",H(d("autosize"))),ic("padding",G(d("padding"))),ic("width",d("width")||0),ic("height",d("height")||0)],g=e.reduce((a,
b)=>(a[b.name]=b,a),{}),h={};b.array(a.signals).forEach(a=>{b.hasOwnProperty(g,a.name)?a=b.extend(g[a.name],a):e.push(a);h[a.name]=a});b.array(c.signals).forEach(a=>{b.hasOwnProperty(h,a.name)||b.hasOwnProperty(g,a.name)||e.push(a)});return e}function Id(a){this.config=a;this.bindings=[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=
[];this._encode=[];this._lookup=[];this._markpath=[]}function vd(a){this.config=a.config;this.legends=a.legends;this.field=Object.create(a.field);this.signals=Object.create(a.signals);this.lambdas=Object.create(a.lambdas);this.scales=Object.create(a.scales);this.events=Object.create(a.events);this.data=Object.create(a.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++a._nextsub[0];this._nextsub=a._nextsub;this._parent=a._parent.slice();this._encode=a._encode.slice();
this._lookup=a._lookup.slice();this._markpath=a._markpath}function md(a){return(b.isArray(a)?Jd:Pc)(a)}function Jd(a){for(var c="[",d=0,e=a.length,g;d<e;++d)g=a[d],c+=(0<d?",":"")+(b.isObject(g)?g.signal||md(g):b.stringValue(g));return c+"]"}function Pc(a){var c="{",d=0,e;for(e in a){var g=a[e];c+=(1<++d?",":"")+b.stringValue(e)+":"+(b.isObject(g)?g.signal||md(g):b.stringValue(g))}return c+"}"}function Kd(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},
group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},
"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",
tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,
symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}
var wd=["value","update","init","react","bind"],xd=S("key"),Ld=g("aggregate"),Md=g("axisticks"),Nd=g("bound"),nb=g("collect"),hb=g("compare"),vb=g("datajoin"),yd=g("encode"),bc=g("expression"),Gb=g("facet"),Ia=g("field"),Ha=g("key"),eb=g("legendentries"),Nb=g("load"),V=g("mark"),wb=g("multiextent"),ib=g("multivalues"),X=g("overlap"),zc=g("params"),Ca=g("prefacet"),Hb=g("projection"),xb=g("proxy"),tb=g("relay"),Dc=g("render"),Ud=g("scale"),Ka=g("sieve"),ca=g("sortitems"),Za=g("viewlayout"),Y=g("values"),
ra=0,Pb={min:"min",max:"max",count:"sum"};const Ub="size shape fill stroke strokeWidth strokeDash opacity".split(" "),La={name:1,style:1,interactive:1},Fa={value:0},bb={value:1};var Ga=b.toSet(["rule"]),Aa=b.toSet(["group","image","rect"]);const Ec=ub(b.stringValue("left"),b.stringValue("right"),b.stringValue("center")),Od=ub('"top"','"bottom"','"middle"'),Qc=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${ub('"right"','"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${Ec}`,
Rc=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${Od}) : "top"`;db.fromEntries=function(a,b){var c=b.length,d=1,e=b[0],g=b[c-1],h=b[c-2],k=null;e&&"load"===e.type&&(e=b[1]);for(a.add(b[0]);d<c;++d)b[d].params.pulse=r(b[d-1]),a.add(b[d]),"aggregate"===b[d].type&&(k=b[d]);return new db(a,e,h,g,k)};var wc=db.prototype;wc.countsRef=function(a,b,c){var d=this.counts||(this.counts={}),e=Ob(b);if(null!=
e){a=this.scope;var g=d[e]}g?c&&c.field&&gc(a,g.agg.params,c):(g={groupby:a.fieldRef(b,"key"),pulse:r(this.output)},c&&c.field&&gc(a,g,c),c=a.add(Ld(g)),g=a.add(nb({pulse:r(c)})),g={agg:c,ref:r(g)},null!=e&&(d[e]=g));return g.ref};wc.tuplesRef=function(){return r(this.values)};wc.extentRef=function(a,b){return jc(a,this,"extent","extent",b,!1)};wc.domainRef=function(a,b){return jc(a,this,"domain","values",b,!1)};wc.valuesRef=function(a,b,c){return jc(a,this,"vals","values",b,c||!0)};wc.lookupRef=
function(a,b){return jc(a,this,"lookup","tupleindex",b,!1)};wc.indataRef=function(a,b){return jc(a,this,"indata","tupleindex",b,!0,!0)};var Ta=Id.prototype=vd.prototype;Ta.fork=function(){return new vd(this)};Ta.isSubscope=function(){return 0<this._subid};Ta.toRuntime=function(){this.finish();return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig}};Ta.id=function(){return(this._subid?this._subid+":":
0)+this._id++};Ta.add=function(a){this.operators.push(a);a.id=this.id();a.refs&&(a.refs.forEach(function(b){b.$ref=a.id}),a.refs=null);return a};Ta.proxy=function(a){a=a instanceof W?r(a):a;return this.add(xb({value:a}))};Ta.addStream=function(a){this.streams.push(a);a.id=this.id();return a};Ta.addUpdate=function(a){this.updates.push(a);return a};Ta.finish=function(){function a(a,b,c){a&&(a=a.data||(a.data={}),b=a[b]||(a[b]=[]),b.push(c))}var b;this.root&&(this.root.root=!0);for(b in this.signals)this.signals[b].signal=
b;for(b in this.scales)this.scales[b].scale=b;for(b in this.data){var c=this.data[b];a(c.input,b,"input");a(c.output,b,"output");a(c.values,b,"values");for(var d in c.index)a(c.index[d],b,"index:"+d)}return this};Ta.pushState=function(a,b,c){this._encode.push(r(this.add(Ka({pulse:a}))));this._parent.push(b);this._lookup.push(c?r(this.proxy(c)):null);this._markpath.push(-1)};Ta.popState=function(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()};Ta.parent=function(){return b.peek(this._parent)};
Ta.encode=function(){return b.peek(this._encode)};Ta.lookup=function(){return b.peek(this._lookup)};Ta.markpath=function(){var a=this._markpath;return++a[a.length-1]};Ta.fieldRef=function(a,c){if(b.isString(a))return S(a,c);a.signal||b.error("Unsupported field reference: "+b.stringValue(a));a=a.signal;var d=this.field[a];d||(d={name:this.signalRef(a)},c&&(d.as=c),this.field[a]=d=r(this.add(Ia(d))));return d};Ta.compareRef=function(a){function c(a){return a&&a.signal?(e=!0,d.signalRef(a.signal)):a&&
a.expr?(e=!0,d.exprRef(a.expr)):a}var d=this,e=!1,g=b.array(a.field).map(c);a=b.array(a.order).map(c);return e?r(this.add(hb({fields:g,orders:a}))):{$compare:g,$order:a}};Ta.keyRef=function(a,c){var d=this.signals,e=!1;a=b.array(a).map(function(a){return a&&a.signal?(e=!0,r(d[a.signal])):a});return e?r(this.add(Ha({fields:a,flat:c}))):z(a,c)};Ta.sortRef=function(a){if(!a)return a;var b=J(a.op,a.field);a=a.order||"ascending";return a.signal?r(this.add(hb({fields:b,orders:this.signalRef(a.signal)}))):
{$compare:b,$order:a}};Ta.event=function(a,b){var c=a+":"+b;if(!this.events[c]){var d=this.id();this.streams.push({id:d,source:a,type:b});this.events[c]=d}return this.events[c]};Ta.hasOwnSignal=function(a){return b.hasOwnProperty(this.signals,a)};Ta.addSignal=function(a,c){this.hasOwnSignal(a)&&b.error("Duplicate signal name: "+b.stringValue(a));c=c instanceof W?c:this.add(new W("operator",c,void 0,void 0));return this.signals[a]=c};Ta.getSignal=function(a){this.signals[a]||b.error("Unrecognized signal name: "+
b.stringValue(a));return this.signals[a]};Ta.signalRef=function(a){if(this.signals[a])return r(this.signals[a]);b.hasOwnProperty(this.lambdas,a)||(this.lambdas[a]=this.add(new W("operator",null,void 0,void 0)));return r(this.lambdas[a])};Ta.parseLambdas=function(){for(var a=Object.keys(this.lambdas),b=0,c=a.length;b<c;++b){var d=a[b],e=F(d,this);d=this.lambdas[d];d.params=e.$params;d.update=e.$expr}};Ta.property=function(a){return a&&a.signal?this.signalRef(a.signal):a};Ta.objectProperty=function(a){return a&&
b.isObject(a)?this.signalRef(a.signal||md(a)):a};Ta.exprRef=function(a,b){a={expr:F(a,this)};b&&(a.expr.$name=b);return r(this.add(bc(a)))};Ta.addBinding=function(a,c){this.bindings||b.error("Nested signals do not support binding: "+b.stringValue(a));this.bindings.push(b.extend({signal:a},c))};Ta.addScaleProj=function(a,c){b.hasOwnProperty(this.scales,a)&&b.error("Duplicate scale or projection name: "+b.stringValue(a));this.scales[a]=this.add(c)};Ta.addScale=function(a,b){this.addScaleProj(a,Ud(b))};
Ta.addProjection=function(a,b){this.addScaleProj(a,Hb(b))};Ta.getScale=function(a){this.scales[a]||b.error("Unrecognized scale name: "+b.stringValue(a));return this.scales[a]};Ta.projectionRef=Ta.scaleRef=function(a){return r(this.getScale(a))};Ta.projectionType=Ta.scaleType=function(a){return this.getScale(a).params.type};Ta.addData=function(a,c){b.hasOwnProperty(this.data,a)&&b.error("Duplicate data set name: "+b.stringValue(a));return this.data[a]=c};Ta.getData=function(a){this.data[a]||b.error("Undefined data set name: "+
b.stringValue(a));return this.data[a]};Ta.addDataPipeline=function(a,c){b.hasOwnProperty(this.data,a)&&b.error("Duplicate data set name: "+b.stringValue(a));return this.addData(a,db.fromEntries(this,c))};a.AxisDomainRole="axis-domain";a.AxisGridRole="axis-grid";a.AxisLabelRole="axis-label";a.AxisRole="axis";a.AxisTickRole="axis-tick";a.AxisTitleRole="axis-title";a.DataScope=db;a.FrameRole="frame";a.LegendEntryRole="legend-entry";a.LegendLabelRole="legend-label";a.LegendRole="legend";a.LegendSymbolRole=
"legend-symbol";a.LegendTitleRole="legend-title";a.MarkRole="mark";a.Scope=Id;a.ScopeRole="scope";a.config=Kd;a.parse=function(a,c){b.isObject(a)||b.error("Input Vega specification must be an object.");c=b.mergeConfig(Kd(),c,a.config);return Hd(a,new Id(c)).toRuntime()};a.signal=T;a.signalUpdates=qa;a.stream=D;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[70]=function(G,w,I,u){Object.defineProperty(u,"__esModule",{value:!0});var a=w(21),b=w(31);G=w(35);I=w(40);var e=w(46),H=w(50),Sa=w(55),t=w(57),C=w(58),cc=w(60),P=w(61),ea=w(62),T=w(33),F=w(34),W=w(30),r=w(39),S=w(45),z=w(49),J=w(67),p=w(65),k=w(69),N=w(66);a.extend(b.transforms,G,I,e,H,Sa,t,C,cc,P,ea);Object.keys(a).forEach(function(b){"default"!==b&&Object.defineProperty(u,b,{enumerable:!0,get:function(){return a[b]}})});Object.keys(T).forEach(function(a){"default"!==a&&Object.defineProperty(u,
a,{enumerable:!0,get:function(){return T[a]}})});Object.keys(F).forEach(function(a){"default"!==a&&Object.defineProperty(u,a,{enumerable:!0,get:function(){return F[a]}})});Object.keys(W).forEach(function(a){"default"!==a&&Object.defineProperty(u,a,{enumerable:!0,get:function(){return W[a]}})});Object.keys(r).forEach(function(a){"default"!==a&&Object.defineProperty(u,a,{enumerable:!0,get:function(){return r[a]}})});Object.defineProperty(u,"Dataflow",{enumerable:!0,get:function(){return b.Dataflow}});
Object.defineProperty(u,"EventStream",{enumerable:!0,get:function(){return b.EventStream}});Object.defineProperty(u,"MultiPulse",{enumerable:!0,get:function(){return b.MultiPulse}});Object.defineProperty(u,"Operator",{enumerable:!0,get:function(){return b.Operator}});Object.defineProperty(u,"Parameters",{enumerable:!0,get:function(){return b.Parameters}});Object.defineProperty(u,"Pulse",{enumerable:!0,get:function(){return b.Pulse}});Object.defineProperty(u,"Transform",{enumerable:!0,get:function(){return b.Transform}});
Object.defineProperty(u,"changeset",{enumerable:!0,get:function(){return b.changeset}});Object.defineProperty(u,"definition",{enumerable:!0,get:function(){return b.definition}});Object.defineProperty(u,"ingest",{enumerable:!0,get:function(){return b.ingest}});Object.defineProperty(u,"isTuple",{enumerable:!0,get:function(){return b.isTuple}});Object.defineProperty(u,"transform",{enumerable:!0,get:function(){return b.transform}});Object.defineProperty(u,"transforms",{enumerable:!0,get:function(){return b.transforms}});
Object.defineProperty(u,"tupleid",{enumerable:!0,get:function(){return b.tupleid}});Object.defineProperty(u,"interpolate",{enumerable:!0,get:function(){return S.interpolate}});Object.defineProperty(u,"interpolateColors",{enumerable:!0,get:function(){return S.interpolateColors}});Object.defineProperty(u,"interpolateRange",{enumerable:!0,get:function(){return S.interpolateRange}});Object.defineProperty(u,"quantizeInterpolator",{enumerable:!0,get:function(){return S.quantizeInterpolator}});Object.defineProperty(u,
"scale",{enumerable:!0,get:function(){return S.scale}});Object.defineProperty(u,"scheme",{enumerable:!0,get:function(){return S.scheme}});Object.defineProperty(u,"projection",{enumerable:!0,get:function(){return z.projection}});Object.defineProperty(u,"View",{enumerable:!0,get:function(){return J.View}});Object.defineProperty(u,"expressionFunction",{enumerable:!0,get:function(){return p.expressionFunction}});Object.defineProperty(u,"formatLocale",{enumerable:!0,get:function(){return p.formatLocale}});
Object.defineProperty(u,"timeFormatLocale",{enumerable:!0,get:function(){return p.timeFormatLocale}});Object.defineProperty(u,"parse",{enumerable:!0,get:function(){return k.parse}});Object.defineProperty(u,"runtime",{enumerable:!0,get:function(){return N.parse}});Object.defineProperty(u,"runtimeContext",{enumerable:!0,get:function(){return N.context}});u.version="5.10.0"};
shadow$provide[71]=function(G,w,I,u){var a=w(29).Buffer;(function(a,e){"object"===typeof u&&"undefined"!==typeof I?e(u):"function"===typeof define&&define.amd?define(["exports"],e):(a=a||self,e(a.vl={}))})(this,function(b){function e(a,b,c){a.fields=b||[];a.fname=c;return a}function u(a){function b(){c.push(g+a.substring(h,Ab));g="";h=Ab+1}var c=[],d=null,e=0,f=a.length,g="",h,Ab;a+="";for(h=Ab=0;Ab<f;++Ab){var k=a[Ab];if("\\"===k)g+=a.substring(h,Ab),h=++Ab;else if(k===d)b(),d=null,e=-1;else if(!d)if(h===
e&&'"'===k)h=Ab+1,d=k;else if(h===e&&"'"===k)h=Ab+1,d=k;else if("."===k&&!e)Ab>h?b():h=Ab+1;else if("["===k)Ab>h&&b(),e=h=Ab+1;else if("]"===k){if(!e)throw Error("Access path missing open bracket: "+a);0<e&&b();e=0;h=Ab+1}}if(e)throw Error("Access path missing closing bracket: "+a);if(d)throw Error("Access path missing closing quote: "+a);Ab>h&&(Ab++,b());return c}function w(a){return a===Object(a)}function t(a){return"string"===typeof a}function C(a){return Ra(a)?"["+a.map(C)+"]":w(a)||t(a)?JSON.stringify(a).replace("\u2028",
"\\u2028").replace("\u2029","\\u2029"):a}function G(a,b,c){b=[b].concat([].slice.call(c));console[a](...b)}function P(a){return null!=a?Ra(a)?a:[a]:[]}function I(a){return"boolean"===typeof a}function T(a){return"number"===typeof a}function F(a){for(var b={},c=0,d=a.length;c<d;++c)b[a[c]]=!0;return b}function W(a,b){if(a.not)W(a.not,b);else if(a.and)for(const c of a.and)W(c,b);else if(a.or)for(const c of a.or)W(c,b);else b(a)}function r(a,b){return a.not?{not:r(a.not,b)}:a.and?{and:a.and.map(a=>r(a,
b))}:a.or?{or:a.or.map(a=>r(a,b))}:b(a)}function S(a,b){const c={};for(const d of b)a.hasOwnProperty(d)&&(c[d]=a[d]);return c}function z(a,b){a=Object.assign({},a);for(const c of b)delete a[c];return a}function J(a){if(T(a))return a;a=t(a)?a:Ci(a);if(250>a.length)return a;let b=0;for(let c=0;c<a.length;c++){const d=a.charCodeAt(c);b=(b<<5)-b+d;b&=b}return b}function p(a){return!1===a||null===a}function k(a,b){return-1<a.indexOf(b)}function N(a,b){let c=0;for(const [d,e]of a.entries())if(b(e,d,c++))return!0;
return!1}function D(a,b){let c=0;for(const [d,e]of a.entries())if(!b(e,d,c++))return!1;return!0}function O(a){return[].concat(...a)}function c(a,...b){for(const d of b)if(b=d,"object"===typeof b&&null!==b)for(const d in b)b.hasOwnProperty(d)&&void 0!==b[d]&&("object"!==typeof b[d]||Ra(b[d])||null===b[d]?a[d]=b[d]:"object"!==typeof a[d]||null===a[d]?a[d]=c(Ra(b[d].constructor)?[]:{},b[d]):c(a[d],b[d]));return a}function h(a,b){const c=[],d={};for(const e of a)a=b(e),a in d||(d[a]=1,c.push(e));return c}
function ba(a,b){for(const c of a)if(b.has(c))return!0;return!1}function L(a){const b=new Set;for(const c of a){const a=u(c).map((a,b)=>0===b?a:`[${a}]`);a.map((b,c)=>a.slice(0,c+1).join("")).forEach(a=>b.add(a))}return b}function ma(a){const b=[];for(const c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b}function B(a){const b=a.replace(/\W/g,"_");return(a.match(/^\d+/)?"_":"")+b}function ia(a,b){return a.not?"!("+ia(a.not,b)+")":a.and?"("+a.and.map(a=>ia(a,b)).join(") \x26\x26 (")+")":a.or?"("+
a.or.map(a=>ia(a,b)).join(") || (")+")":b(a)}function va(a,b){if(0===b.length)return!0;const c=b.shift();va(a[c],b)&&delete a[c];return 0===ua(a).length}function qa(a){return a.charAt(0).toUpperCase()+a.substr(1)}function g(a,b="datum"){a=u(a);const c=[];for(let d=1;d<=a.length;d++){const e=`[${a.slice(0,d).map(C).join("][")}]`;c.push(`${b}${e}`)}return c.join(" \x26\x26 ")}function d(a,b="datum"){return`${b}[${C(u(a).join("."))}]`}function M(a){return`${u(a).map(a=>a.replace(".","\\.")).join("\\.")}`}
function Q(a){return a?u(a).length:0}function la(...a){for(const b of a)if(void 0!==b)return b}function Wb(a){return k(["line","area","trail"],a)}function ha(a){return a.type}function aa(a){return!!a.mark}function sa(a,b){var c={},d;for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var e=0;for(d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,
d[e])&&(c[d[e]]=a[d[e]])}return c}function ya(a){return!!a&&!!a.argmin}function Na(a){return!!a&&!!a.argmax}function Ea(a){return t(a)&&!!xg[a]}function Ma(a){return a&&t(a)&&k(Di,a)}function U(a){switch(a){case "latitude":return"y";case "latitude2":return"y2";case "longitude":return"x";case "longitude2":return"x2"}}function Ba(a){return"color"===a||"fill"===a||"stroke"===a}function l(a){return v(a)!==a}function v(a){switch(a){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";
case "longitude2":return"longitude"}return a}function x(a){switch(a){case "color":case "fill":case "stroke":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return yj;case "x":case "y":case "latitude":case "longitude":return fk;case "x2":case "y2":case "latitude2":case "longitude2":return{rule:"always",bar:"always",rect:"always",area:"always",circle:"binned",point:"binned",
square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"}}}function m(a){switch(a){case "x":case "y":case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "x2":case "y2":return;case "facet":case "row":case "column":case "shape":case "text":case "tooltip":case "href":return"discrete";
case "color":case "fill":case "stroke":return"flexible";case "latitude":case "longitude":case "latitude2":case "longitude2":case "detail":case "key":case "order":return}throw Error("rangeType not implemented for "+a);}function E(...a){lg.warn.apply(lg,arguments)}function Ua(...a){lg.debug.apply(lg,arguments)}function da(a){return!!a&&(!!a.year||!!a.quarter||!!a.month||!!a.date||!!a.day||!!a.hours||!!a.minutes||!!a.seconds||!!a.milliseconds)}function oa(a,b=!1,c=!1){var d=[];b&&void 0!==a.day&&1<ua(a).length&&
(E(za.droppedDay(a)),a=ec(a),delete a.day);void 0!==a.year?d.push(a.year):void 0!==a.day?d.push(2006):d.push(0);if(void 0!==a.month){if(b){var e=a.month;if(T(e))e=(e-1).toString();else{var f=e.toLowerCase();const a=Aj.indexOf(f);if(-1!==a)e=a+"";else if(f=f.substr(0,3),f=gk.indexOf(f),-1!==f)e=f+"";else throw Error(za.invalidTimeUnit("month",e));}}else e=a.month;d.push(e)}else if(void 0!==a.quarter){if(b)if(e=a.quarter,T(e))4<e&&E(za.invalidTimeUnit("quarter",e)),e=(e-1).toString();else throw Error(za.invalidTimeUnit("quarter",
e));else e=a.quarter;d.push(e+"*3")}else d.push(0);if(void 0!==a.date)d.push(a.date);else if(void 0!==a.day){if(b)if(b=a.day,T(b))b=b%7+"";else if(e=b.toLowerCase(),f=Bj.indexOf(e),-1!==f)b=f+"";else if(e=e.substr(0,3),e=hk.indexOf(e),-1!==e)b=e+"";else throw Error(za.invalidTimeUnit("day",b));else b=a.day;d.push(b+"+1")}else d.push(1);for(const b of["hours","minutes","seconds","milliseconds"])void 0!==a[b]?d.push(a[b]):d.push(0);d=d.join(", ");return c?a.utc?(new Function(`return new Date(Date.UTC(${d}))`))().toJSON():
(new Function(`return new Date(${d})`))().toJSON():a.utc?`utc(${d})`:`datetime(${d})`}function Wa(a){return!!a.row||!!a.column}function Qa(a){return Cj.reduce((b,c)=>wa(a,c)?[...b,c]:b,[])}function wa(a,b){const c=a.indexOf(b);return-1<c&&(b!==ie.SECONDS||0===c||"i"!==a.charAt(c-1))}function fa(a,b){const c=g(b),d=dg[a]?"utc":"";b=Cj.reduce((b,e)=>{if(wa(a,e)){var f=e===ie.QUARTER?`(${d}quarter(${c})-1)`:`${d}${e}(${c})`;b[e]=f}return b},{});return oa(b)}function cb(a,b){if(a){var c=[],d=wa(a,ie.YEAR);
wa(a,ie.MONTH)&&c.push(!1!==b?"%b":"%B");wa(a,ie.DAY)?c.push(b?"%a":"%A"):wa(a,ie.DATE)&&c.push("%d"+(d?",":""));d&&c.push(b?"%y":"%Y");b=[];wa(a,ie.HOURS)&&b.push("%H");wa(a,ie.MINUTES)&&b.push("%M");wa(a,ie.SECONDS)&&b.push("%S");wa(a,ie.MILLISECONDS)&&b.push("%L");a=[];0<c.length&&a.push(c.join(" "));0<b.length&&a.push(b.join(":"));return a}}function kb(a){return"day"!==a&&0<=a.indexOf("day")?(E(za.dayReplacedWithDate(a)),a.replace("day","date")):a}function fb(a){if(a)switch(a=a.toLowerCase(),
a){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";case "geojson":return"geojson"}}function qb(a){const {field:b,timeUnit:c,bin:d,aggregate:e}=a;return Object.assign({},c?{timeUnit:c}:{},d?{bin:d}:{},e?{aggregate:e}:{},{field:b})}function Ja(a){return!!a&&!!a.condition&&!Ra(a.condition)&&pa(a.condition)}function pa(a){return!!a&&(!!a.field||"count"===a.aggregate)}function ub(a){return!!a&&
(!!a.field&&!!a.type||"count"===a.aggregate)}function Rb(a){return pa(a)&&t(a.field)}function Va(a){return a&&"value"in a&&void 0!==a.value}function Bb(a){return!!a&&(!!a.scale||!!a.sort)}function ka(a,b={}){let c=a.field;const e=b.prefix;let f=b.suffix,g="";if("count"===a.aggregate)c="__count";else{let d;if(!b.nofn)if(a.op)d=a.op;else{const {bin:e,aggregate:ja,timeUnit:h}=a;gb(e)?(d=ac(e),f=(b.binSuffix||"")+(b.suffix||"")):ja?Na(ja)?(g=`.${c}`,c=`argmax_${ja.argmax}`):ya(ja)?(g=`.${c}`,c=`argmin_${ja.argmin}`):
d=String(ja):h&&(d=String(h))}d&&(c=c?`${d}_${c}`:d)}f&&(c=`${c}_${f}`);e&&(c=`${e}_${c}`);return b.forAs?c:b.expr?d(c,b.expr)+g:M(c)+g}function Cb(a){switch(a.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return!!a.bin;case "temporal":return!1}throw Error(za.invalidFieldType(a.type));}function Db(a,b){const {field:c,bin:d,timeUnit:e,aggregate:f}=a;return"count"===f?b.countTitle:gb(d)?`${c} (binned)`:e?(a=Qa(e).join("-"),`${c} (${a})`):f?Na(f)?`${c} for max ${f.argmax}`:
ya(f)?`${c} for min ${f.argmin}`:`${qa(f)} of ${c}`:c}function $a(a,b,{allowDisabling:c,includeDefault:d=!0}){const e=(Lb(a)||{}).title;b=d?nd(a,b):void 0;return c?la(e,a.title,b):e||a.title||b}function Lb(a){if(a&&(a.axis||a.stack||a.impute)&&a.axis)return a.axis;if(a&&a.legend&&a.legend)return a.legend;if(a&&a.header&&a.header)return a.header}function tc(a){return a&&a.format&&a.format?a.format:(Lb(a)||{}).format}function rb(a,b){if(a.timeUnit)return"temporal";if(gb(a.bin))return"quantitative";
switch(m(b)){case "continuous":return"quantitative";case "discrete":return"nominal";case "flexible":return"nominal";default:return"quantitative"}}function Tb(a){if(pa(a))return a;if(Ja(a))return a.condition}function Eb(a){if(pa(a))return a;if(Ja(a))return a.condition}function Xa(a,b){if(t(a)||T(a)||I(a)){const c=t(a)?"string":T(a)?"number":"boolean";E(za.primitiveChannelDef(b,c,a));return{value:a}}return pa(a)?xa(a,b):Ja(a)?Object.assign({},a,{condition:xa(a.condition,b)}):a}function xa(a,b){const {aggregate:c,
timeUnit:d,bin:e}=a;!c||Ea(c)||Na(c)||ya(c)||(a=sa(a,["aggregate"]),E(za.invalidAggregate(c)));d&&(a=Object.assign({},a,{timeUnit:kb(d)}));gb(e)&&(a=Object.assign({},a,{bin:Fb(e,b)}));db(e)&&!k(Gf,b)&&E(`Channel ${b} should not be used with "binned" bin`);if(ub(a)){var {type:f}=a;const b=fb(f);f!==b&&(a=Object.assign({},a,{type:b}));"quantitative"!==f&&Ma(c)&&(E(za.invalidFieldTypeForCountAggregate(f,c)),a=Object.assign({},a,{type:"quantitative"}))}else l(b)||(f=rb(a,b),E(za.missingFieldType(b,f)),
a=Object.assign({},a,{type:f}));if(ub(a)){const {compatible:c,warning:d}=qc(a,b);c||E(d)}return Object.assign({},a,void 0!==a.field?{field:`${a.field}`}:{})}function Fb(a,b){return I(a)?{maxbins:Ob(b)}:"binned"===a?{binned:!0}:a.maxbins||a.step?a:Object.assign({},a,{maxbins:Ob(b)})}function qc(a,b){const c=a.type;if("geojson"===c&&"shape"!==b)return{compatible:!1,warning:`Channel ${b} should not be used with a geojson data.`};switch(b){case "row":case "column":case "facet":return Cb(a)?me:{compatible:!1,
warning:za.facetChannelShouldBeDiscrete(b)};case "x":case "y":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":return me;case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==c?{compatible:!1,warning:`Channel ${b} should be used with a quantitative field only, not ${a.type} field.`}:me;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "x2":case "y2":return"nominal"!==
c||a.sort?me:{compatible:!1,warning:`Channel ${b} should not be used with an unsorted discrete field.`};case "shape":return k(["ordinal","nominal","geojson"],a.type)?me:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case "order":return"nominal"!==a.type||"sort"in a?me:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}throw Error("channelCompatability not implemented for channel "+b);}function Sb(a){var b=
Lb(a);b=b&&b.formatType||!!a&&!!a.format&&a.formatType;return"time"===b||!b&&("temporal"===a.type||!!a.timeUnit)}function ab(a,{timeUnit:b,type:c,time:d,undefinedIfExprNotRequired:e}){let f;if(da(a))f=oa(a,!0);else if(t(a)||T(a))if(b||"temporal"===c)f=Hi[b]?oa({[b]:a},!0):Ii[b]?ab(a,{timeUnit:b.substr(3)}):`datetime(${JSON.stringify(a)})`;return f?d?`time(${f})`:f:e?void 0:JSON.stringify(a)}function fc(a,b){const {timeUnit:c,type:d}=a;return b.map(a=>{const b=ab(a,{timeUnit:c,type:d,undefinedIfExprNotRequired:!0});
return void 0!==b?{signal:b}:a})}function sb(a,b){return gb(a.bin)?!!le[b]&&k(["ordinal","nominal"],a.type):(console.warn("Only use this method with binned field defs"),!1)}function ac(a){I(a)&&(a=Fb(a,void 0));return"bin"+ua(a).map(b=>B(`_${b}_${a[b]}`)).join("")}function gb(a){return!0===a||w(a)&&!a.binned}function db(a){return"binned"===a||w(a)&&a.binned}function Ob(a){switch(a){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;
default:return 10}}function gc(a,b){return(a=a&&a[b])?Ra(a)?N(a,a=>!!a.field):pa(a)||Ja(a):!1}function jc(a){return N(Gi,b=>gc(a,b)?(b=a[b],Ra(b)?N(b,a=>!!a.aggregate):(b=Tb(b))&&!!b.aggregate):!1)}function Ic(a,b){const c=[],d=[],e=[],f=[],g={};Nc(a,(ja,h)=>{if(pa(ja)){const {field:n,aggregate:je,timeUnit:q,bin:p}=ja;var k=sa(ja,["field","aggregate","timeUnit","bin"]);if(je||q||p){var Zb=Lb(ja),Ab=Zb&&Zb.title;Zb=ka(ja,{forAs:!0});k=Object.assign({},Ab?[]:{title:$a(ja,b,{allowDisabling:!0})},k,{field:Zb});
Ab="x"===h||"y"===h;if(je){if(Na(je)){var m="argmax";Zb=ka({aggregate:"argmax",field:je.argmax},{forAs:!0});k.field=`${Zb}.${n}`}else ya(je)?(m="argmin",Zb=ka({aggregate:"argmin",field:je.argmin},{forAs:!0}),k.field=`${Zb}.${n}`):"boxplot"!==je&&"errorbar"!==je&&"errorband"!==je&&(m=je);m&&(ja={op:m,as:Zb},n&&(ja.field=n),f.push(ja))}else c.push(Zb),ub(ja)&&gb(p)?(d.push({bin:p,field:n,as:Zb}),c.push(ka(ja,{binSuffix:"end"})),sb(ja,h)&&c.push(ka(ja,{binSuffix:"range"})),Ab&&(g[h+"2"]={field:Zb+"_end"}),
k.bin="binned",l(h)||(k.type="quantitative")):q&&(e.push({timeUnit:q,field:n,as:Zb}),m=cb(q,b.axis.shortTimeLabels).join(" "),ja=ub(ja)&&"temporal"!==ja.type&&"time","text"===h||"tooltip"===h?(k.format=k.format||m,ja&&(k.formatType=ja)):Xe[h]?k.legend=Object.assign({format:m},ja?{formatType:ja}:{},k.legend):Ab&&(k.axis=Object.assign({format:m},ja?{formatType:ja}:{},k.axis)));g[h]=k}else c.push(n),g[h]=a[h]}else g[h]=a[h]});return{bins:d,timeUnits:e,aggregate:f,groupby:c,encoding:g}}function td(a,
b,c){c=x(b)[c];return c&&("binned"!==c||(c=a["x2"===b?"x":"y"],pa(c)&&pa(a[b])&&db(c.bin)))?!0:!1}function kc(a,b){return ua(a).reduce((c,d)=>{if(!ef[d])return E(za.invalidEncodingChannel(d)),c;if(!td(a,d,b))return E(za.incompatibleChannel(d,b)),c;if("size"===d&&"line"===b){var e=Eb(a[d]);if(e&&e.aggregate)return E(za.LINE_WITH_VARYING_SIZE),c}if("color"===d&&("fill"in a||"stroke"in a))return E(za.droppingColor("encoding",{fill:"fill"in a,stroke:"stroke"in a})),c;e=a[d];if("detail"===d||"order"===
d&&!Ra(e)&&!Va(e)||"tooltip"===d&&Ra(e))e&&(c[d]=(Ra(e)?e:[e]).reduce((a,b)=>{pa(b)?a.push(xa(b,d)):E(za.emptyFieldDef(b,d));return a},[]));else{if("tooltip"===d&&null===e)c[d]=null;else if(!(pa(e)||Va(e)||e&&e.condition))return E(za.emptyFieldDef(e,d)),c;c[d]=Xa(e,d)}return c},{})}function Vc(a){const b=[];for(const c of ua(a))if(gc(a,c)){const d=a[c];(Ra(d)?d:[d]).forEach(a=>{pa(a)?b.push(a):Ja(a)&&b.push(a.condition)})}return b}function Nc(a,b,c){if(a)for(const d of ua(a)){const e=a[d];Ra(e)?e.forEach(a=>
{b.call(c,a,d)}):b.call(c,e,d)}}function Cc(a,b,c,d){return a?ua(a).reduce((c,e)=>{const f=a[e];return Ra(f)?f.reduce((a,c)=>b.call(d,a,c,e),c):b.call(d,c,f,e)},c):c}function rc(a,b){return ua(b).reduce((c,d)=>{switch(d){case "x":case "y":case "href":case "x2":case "y2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "tooltip":return c;case "order":if("line"===a||"trail"===a)return c;case "detail":case "key":return d=b[d],(Ra(d)||pa(d))&&(Ra(d)?d:
[d]).forEach(a=>{a.aggregate||c.push(ka(a,{}))}),c;case "size":if("trail"===a)return c;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":return(d=Eb(b[d]))&&!d.aggregate&&c.push(ka(d,{})),c}},[])}function dc(a){const {tooltip:b}=a,c=sa(a,["tooltip"]);if(!b)return{filteredEncoding:a};let d,e;Ra(b)?(b.forEach(a=>{a.aggregate?(d||(d=[]),d.push(a)):(e||(e=[]),e.push(a))}),d&&(c.tooltip=d)):b.aggregate?c.tooltip=b:e=b;Ra(e)&&1===e.length&&
(e=e[0]);return{customTooltipWithoutAggregatedField:e,filteredEncoding:c}}function Kb(a,b,c,d=!0){return"tooltip"in c?{tooltip:c.tooltip}:{tooltip:[...a.map(({fieldPrefix:a,titlePrefix:c})=>({field:a+b.field,type:b.type,title:c+(d?" of "+b.field:"")})),...Vc(c)]}}function $b(a,b,c,d,e){const {scale:f,axis:g}=c;return({partName:ja,mark:h,positionPrefix:k,endPositionPrefix:l,extraEncoding:Zb={}})=>{const Ab=g&&void 0!==g.title?void 0:void 0!==c.title?c.title:c.field;return hc(a,ja,e,{mark:h,encoding:Object.assign({[b]:Object.assign({field:k+
"_"+c.field,type:c.type},Ab?{title:Ab}:{},f?{scale:f}:{},g?{axis:g}:{})},t(l)?{[b+"2"]:{field:l+"_"+c.field,type:c.type}}:{},d,Zb)})}}function hc(a,b,c,d){const {clip:e,color:f,opacity:g}=a,ja=a.type;return a[b]||void 0===a[b]&&c[b]?[Object.assign({},d,{mark:Object.assign({},c[b],e?{clip:e}:{},f?{color:f}:{},g?{opacity:g}:{},ha(d.mark)?d.mark:{type:d.mark},{style:`${ja}-${b}`},I(a[b])?{}:a[b])})]:[]}function lc(a,b,c){({encoding:a}=a);b="vertical"===b?"y":"x";const d=a[b+"2"],e=a[b+"Error"],f=a[b+
"Error2"];return{continuousAxisChannelDef:mc(a[b],c),continuousAxisChannelDef2:mc(d,c),continuousAxisChannelDefError:mc(e,c),continuousAxisChannelDefError2:mc(f,c),continuousAxis:b}}function mc(a,b){if(a&&a.aggregate){const {aggregate:c}=a;a=sa(a,["aggregate"]);c!==b&&E(za.errorBarContinuousAxisHasCustomizedAggregate(c,b))}return a}function uc(a,b){const {mark:c,encoding:d}=a;if(pa(d.x)&&!Cb(d.x)){if(pa(d.y)&&!Cb(d.y)){if(void 0===d.x.aggregate&&d.y.aggregate===b)return"vertical";if(void 0!==d.y.aggregate||
d.x.aggregate!==b){if(d.x.aggregate===b&&d.y.aggregate===b)throw Error("Both x and y cannot have aggregate");return ha(c)&&c.orient?c.orient:"vertical"}}return"horizontal"}if(pa(d.y)&&!Cb(d.y))return"vertical";throw Error("Need a valid continuous axis for "+b+"s");}function ud(a){return T(a)?"tukey":a}function Td(a,{config:b}){const {mark:c,selection:d}=a,e=sa(a,["mark","encoding","selection","projection"]),f=ha(c)?c:{type:c};d&&E(za.selectionNotSupported("boxplot"));var g=f.extent||b.boxplot.extent,
ja=la(f.size,b.boxplot.size),h=ud(g);{var k=uc(a,"boxplot");const {continuousAxisChannelDef:c,continuousAxis:d}=lc(a,k,"boxplot");var l=c.field,Ab=ud(g),m=[...ae(l),{op:"median",field:l,as:"mid_box_"+l},{op:"min",field:l,as:("min-max"===Ab?"lower_whisker_":"min_")+l},{op:"max",field:l,as:("min-max"===Ab?"upper_whisker_":"max_")+l}];l="min-max"===Ab||"tukey"===Ab?[]:[{calculate:`datum["upper_box_${l}"] - datum["lower_box_${l}"]`,as:"iqr_"+l},{calculate:`min(datum["upper_box_${l}"] + datum["iqr_${l}"] * ${g}, datum["max_${l}"])`,
as:"upper_whisker_"+l},{calculate:`max(datum["lower_box_${l}"] - datum["iqr_${l}"] * ${g}, datum["min_${l}"])`,as:"lower_whisker_"+l}];a=sa(a.encoding,["symbol"===typeof d?d:d+""]);const {customTooltipWithoutAggregatedField:e,filteredEncoding:f}=dc(a),{bins:ja,timeUnits:h,aggregate:Zb,groupby:n,encoding:q}=Ic(f,b);k={transform:[...ja,...h,{aggregate:[...Zb,...m],groupby:n},...l],groupby:n,aggregate:Zb,continuousAxisChannelDef:c,continuousAxis:d,encodingWithoutContinuousAxis:q,ticksOrient:"vertical"===
k?"horizontal":"vertical",customTooltipWithoutAggregatedField:e}}const {transform:n,continuousAxisChannelDef:q,continuousAxis:p,groupby:t,aggregate:r,encodingWithoutContinuousAxis:u,ticksOrient:v,customTooltipWithoutAggregatedField:x}=k;({size:l}=u);k=sa(u,["color","size"]);m=$b(f,p,q,k,b.boxplot);a=$b(f,p,q,u,b.boxplot);l=$b(f,p,q,Object.assign({},k,l?{size:l}:{}),b.boxplot);Ab=Kb([{fieldPrefix:"min-max"===h?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",
titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===h?"lower_whisker_":"min_",titlePrefix:"Min"}],q,u);var z={type:"tick",color:"black",opacity:1,orient:v};const y="min-max"===h?Ab:Kb([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],q,u);m=[...m({partName:"rule",mark:"rule",positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:y}),...m({partName:"rule",mark:"rule",positionPrefix:"upper_box",
endPositionPrefix:"upper_whisker",extraEncoding:y}),...m({partName:"ticks",mark:z,positionPrefix:"lower_whisker",extraEncoding:y}),...m({partName:"ticks",mark:z,positionPrefix:"upper_whisker",extraEncoding:y})];ja=[..."tukey"!==h?m:[],...a({partName:"box",mark:Object.assign({type:"bar"},ja?{size:ja}:{}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:Ab}),...l({partName:"median",mark:Object.assign({type:"tick"},w(b.boxplot.median)&&b.boxplot.median.color?{color:b.boxplot.median.color}:
{},ja?{size:ja}:{},{orient:v}),positionPrefix:"mid_box",extraEncoding:Ab})];let A;"min-max"!==h&&(a=`datum["lower_box_${q.field}"]`,l=`datum["upper_box_${q.field}"]`,Ab=`(${l} - ${a})`,a=`${a} - ${g} * ${Ab}`,Ab=`${l} + ${g} * ${Ab}`,z=`datum["${q.field}"]`,g={joinaggregate:ae(q.field),groupby:t},l=void 0,"tukey"===h&&(l={transform:[{filter:`(${a} <= ${z}) && (${z} <= ${Ab})`},{aggregate:[{op:"min",field:q.field,as:"lower_whisker_"+q.field},{op:"max",field:q.field,as:"upper_whisker_"+q.field},{op:"min",
field:"lower_box_"+q.field,as:"lower_box_"+q.field},{op:"max",field:"upper_box_"+q.field,as:"upper_box_"+q.field},...r],groupby:t}],layer:m}),h=sa(k,["tooltip"]),(b=hc(f,"outliers",b.boxplot,{transform:[{filter:`(${z} < ${a}) || (${z} > ${Ab})`}],mark:"point",encoding:Object.assign({[p]:{field:q.field,type:q.type}},h,x?{tooltip:x}:{})})[0])&&l?A={transform:[g],layer:[b,l]}:b?(A=b,A.transform.unshift(g)):l&&(A=l,A.transform.unshift(g)));return A?Object.assign({},e,{layer:[...A?[A]:[],{transform:n,
layer:ja}]}):Object.assign({},e,{transform:(e.transform||[]).concat(n),layer:ja})}function ae(a){return[{op:"q1",field:a,as:"lower_box_"+a},{op:"q3",field:a,as:"upper_box_"+a}]}function Oc(a,{config:b}){const {transform:c,continuousAxisChannelDef:d,continuousAxis:e,encodingWithoutContinuousAxis:f,ticksOrient:g,markDef:ja,outerSpec:h,tooltipEncoding:k}=kd(a,"errorbar",b);a=$b(ja,e,d,f,b.errorbar);b={type:"tick",orient:g};return Object.assign({},h,{transform:c,layer:[...a({partName:"ticks",mark:b,positionPrefix:"lower",
extraEncoding:k}),...a({partName:"ticks",mark:b,positionPrefix:"upper",extraEncoding:k}),...a({partName:"rule",mark:"rule",positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:k})]})}function vc(a,b){var {encoding:c}=a;if(!(!pa(c.x)&&!pa(c.y)||pa(c.x2)||pa(c.y2)||pa(c.xError)||pa(c.xError2)||pa(c.yError)||pa(c.yError2)))return{orient:uc(a,b),inputType:"raw"};var d=pa(c.x2)||pa(c.y2);var e=pa(c.xError)||pa(c.xError2)||pa(c.yError)||pa(c.yError2);a=c.x;const f=c.y;if(d){if(e)throw Error(b+
" cannot be both type aggregated-upper-lower and aggregated-error");d=c.x2;c=c.y2;if(pa(d)&&pa(c))throw Error(b+" cannot have both x2 and y2");if(pa(d)){if(pa(a)&&!Cb(a))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw Error("Both x and x2 have to be quantitative in "+b);}if(pa(c)){if(pa(f)&&!Cb(f))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error("Both y and y2 have to be quantitative in "+b);}}else{d=c.xError;e=c.yError;const g=c.yError2;if(pa(c.xError2)&&
!pa(d))throw Error(b+" cannot have xError2 without xError");if(pa(g)&&!pa(e))throw Error(b+" cannot have yError2 without yError");if(pa(d)&&pa(e))throw Error(b+" cannot have both xError and yError with both are quantiative");if(pa(d)){if(pa(a)&&!Cb(a))return{orient:"horizontal",inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(pa(e)){if(pa(f)&&!Cb(f))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");
}}throw Error("No ranged axis");}function kd(a,b,c){const {mark:d,encoding:e,selection:f}=a,g=sa(a,["mark","encoding","selection","projection"]),ja=ha(d)?d:{type:d};f&&E(za.selectionNotSupported(b));const {orient:h,inputType:k}=vc(a,b),{continuousAxisChannelDef:l,continuousAxisChannelDef2:Zb,continuousAxisChannelDefError:m,continuousAxisChannelDefError2:Ab,continuousAxis:n}=lc(a,h,b);a=[];var q=[],p=l.field,t=!1;if("raw"===k){var r=ja.center?ja.center:ja.extent?"iqr"===ja.extent?"median":"mean":c.errorbar.center;
var u=ja.extent?ja.extent:"mean"===r?"stderr":"iqr";"median"===r!==("iqr"===u)&&E(za.errorBarCenterIsUsedWithWrongExtent(r,u,b));"stderr"===u||"stdev"===u?(a=[{op:u,field:p,as:"extent_"+p},{op:r,field:p,as:"center_"+p}],q=[{calculate:`datum["center_${p}"] + datum["extent_${p}"]`,as:"upper_"+p},{calculate:`datum["center_${p}"] - datum["extent_${p}"]`,as:"lower_"+p}],p={fieldPrefix:"center_",titlePrefix:qa(r)},t=u,t={fieldPrefix:"upper_",titlePrefix:qa(r)+" + "+t},b=u,r=qa(r)+" - "+b,r=[p,t,{fieldPrefix:"lower_",
titlePrefix:r}],t=!0):(ja.center&&ja.extent&&E(za.errorBarCenterIsNotNeeded(ja.extent,b)),"ci"===u?(r="mean",b="ci0",u="ci1"):(r="median",b="q1",u="q3"),a=[{op:b,field:p,as:"lower_"+p},{op:u,field:p,as:"upper_"+p},{op:r,field:p,as:"center_"+p}],r=[{fieldPrefix:"upper_",titlePrefix:$a({field:p,aggregate:u,type:"quantitative"},c,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:$a({field:p,aggregate:b,type:"quantitative"},c,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:$a({field:p,
aggregate:r,type:"quantitative"},c,{allowDisabling:!1})}])}else{(ja.center||ja.extent)&&E(za.errorBarCenterAndExtentAreNotNeeded(ja.center,ja.extent));"aggregated-upper-lower"===k?(r=[],q=[{calculate:`datum["${Zb.field}"]`,as:"upper_"+p},{calculate:`datum["${p}"]`,as:"lower_"+p}]):"aggregated-error"===k&&(r=[{fieldPrefix:"",titlePrefix:p}],q=[{calculate:`datum["${p}"] + datum["${m.field}"]`,as:"upper_"+p}],Ab?q.push({calculate:`datum["${p}"] + datum["${Ab.field}"]`,as:"lower_"+p}):q.push({calculate:`datum["${p}"] - datum["${m.field}"]`,
as:"lower_"+p}));for(u of q)r.push({fieldPrefix:u.as.substring(0,6),titlePrefix:u.calculate.replace(/datum\[\"/g,"").replace(/\"\]/g,"")})}a={postAggregateCalculates:q,errorBarSpecificAggregate:a,tooltipSummary:r,tooltipTitleWithFieldName:t};const {errorBarSpecificAggregate:v,postAggregateCalculates:w,tooltipSummary:x,tooltipTitleWithFieldName:z}=a;a="x"===n?"x2":"y2";q="x"===n?"xError":"yError";p="x"===n?"xError2":"yError2";a=sa(e,["symbol"===typeof n?n:n+"","symbol"===typeof a?a:a+"","symbol"===
typeof q?q:q+"","symbol"===typeof p?p:p+""]);const {bins:y,timeUnits:A,aggregate:kc,groupby:B,encoding:C}=Ic(a,c);c=[...kc,...v];a="raw"!==k?[]:B;q=Kb(x,l,C,z);return{transform:[...g.transform||[],...y,...A,...c.length?[{aggregate:c,groupby:a}]:[],...w],groupby:a,continuousAxisChannelDef:l,continuousAxis:n,encodingWithoutContinuousAxis:C,ticksOrient:"vertical"===h?"horizontal":"vertical",markDef:ja,outerSpec:g,tooltipEncoding:q}}function $c(a,{config:b}){const {transform:c,continuousAxisChannelDef:d,
continuousAxis:e,encodingWithoutContinuousAxis:f,markDef:g,outerSpec:ja,tooltipEncoding:h}=kd(a,"errorband",b);b=$b(g,e,d,f,b.errorband);a=void 0!==a.encoding.x&&void 0!==a.encoding.y;let k={type:a?"area":"rect"},l={type:a?"line":"rule"};const m=Object.assign({},g.interpolate?{interpolate:g.interpolate}:{},g.tension&&g.interpolate?{interpolate:g.tension}:{});a?(k=Object.assign({},k,m),l=Object.assign({},l,m)):g.interpolate?E(za.errorBand1DNotSupport("interpolate")):g.tension&&E(za.errorBand1DNotSupport("tension"));
return Object.assign({},ja,{transform:c,layer:[...b({partName:"band",mark:k,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:h}),...b({partName:"borders",mark:l,positionPrefix:"lower",extraEncoding:h}),...b({partName:"borders",mark:l,positionPrefix:"upper",extraEncoding:h})]})}function Mb(a,b,c){b=new of(a,b);yg[a]={normalizer:b,parts:c}}function lb(a,b){switch(b){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!k(["point","band",
"identity"],a);case "bins":return!k(["point","band","identity","ordinal"],a);case "round":return a in Yc||"band"===a||"point"===a;case "padding":return a in Yc||k(["point","band"],a);case "paddingOuter":case "rangeStep":case "align":return k(["point","band"],a);case "paddingInner":return"band"===a;case "clamp":return a in Yc;case "nice":return a in Yc||"quantize"===a||"threshold"===a;case "exponent":return"pow"===a;case "base":return"log"===a;case "constant":return"symlog"===a;case "zero":return a in
pd&&!k(["log","time","utc","threshold","quantile"],a)}}function ld(a,b){switch(b){case "interpolate":case "scheme":if(!Ba(a))return za.cannotUseScalePropertyWithNonColor(a)}}function ke(a,b){return k(["ordinal","nominal"],b)?void 0===a||a in ad:"temporal"===b?k([yc.TIME,yc.UTC,void 0],a):"quantitative"===b?k([yc.LOG,yc.POW,yc.SQRT,yc.SYMLOG,yc.QUANTILE,yc.QUANTIZE,yc.THRESHOLD,yc.LINEAR,void 0],a):!0}function Gd(a,b){switch(a){case "x":case "y":return b in Yc||k(["band","point"],b);case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":return b in
Yc||b in eg||k(["band","point"],b);case "color":case "fill":case "stroke":return"band"!==b;case "shape":return"ordinal"===b}return!1}function Hd(a){return void 0!==a.vconcat}function ic(a){return void 0!==a.hconcat}function gd(a,b,c){const d={},{spacing:e,columns:f}=c[b];void 0!==e&&(d.spacing=e);void 0!==f&&(void 0!==a.facet&&!Wa(a.facet)||void 0!==a.repeat&&Ra(a.repeat)||void 0!==a.concat)&&(d.columns=f);for(const c of th)void 0!==a[c]&&("spacing"===c?(b=a[c],d[c]=T(b)?b:{row:b.row||e,column:b.column||
e}):d[c]=a[c]);return d}function Id(a){const {anchor:b,frame:c,offset:d,orient:e,color:f}=a;a=sa(a,["anchor","frame","offset","orient","color"]);a=Object.assign({},a,f?{fill:f}:{});const g=Object.assign({},b?{anchor:b}:{},c?{frame:c}:{},d?{offset:d}:{},e?{orient:e}:{});return{mark:a,nonMark:g}}function vd(a){return c(ec(uh),a)}function md(a){a=ec(a);for(var b of hi)delete a[b];if(a.axis)for(const b of di)delete a.axis[b];if(a.legend){for(const b of di)delete a.legend[b];for(const b of $i)delete a.legend[b]}if(a.mark)for(const b of ai)delete a.mark[b];
for(const c of gg){for(const b of ai)delete a[c][b];if(b=Cg[c])for(const d of b)delete a[c][d];Jd(a,c)}for(const b of ua(yg))delete a[b];Jd(a,"title","group-title");for(const b in a)w(a[b])&&0===ua(a[b]).length&&delete a[b];return 0<ua(a).length?a:void 0}function Jd(a,b,c,d){var e="title"===b?Id(a.title).mark:d?a[b][d]:a[b];"view"===b&&(c="cell");e=Object.assign({},e,a.style[b]);0<ua(e).length&&(a.style[c||b]=e);d||delete a[b]}function Pc(a){return void 0!==a.layer}function Kd(a){const b=a.x;a=a.y;
if(pa(b)&&pa(a))if("quantitative"===b.type&&"quantitative"===a.type){if(b.stack)return"x";if(a.stack)return"y";if(!!b.aggregate!==!!a.aggregate)return b.aggregate?"x":"y"}else{if("quantitative"===b.type)return"x";if("quantitative"===a.type)return"y"}else{if(pa(b)&&"quantitative"===b.type)return"x";if(pa(a)&&"quantitative"===a.type)return"y"}}function wd(a,b,c,d={}){a=ha(a)?a.type:a;if(!k(Dg,a))return null;const e=Kd(b);if(!e)return null;const f=b[e],g=Rb(f)?ka(f,{}):void 0,ja="x"===e?"y":"x",h=b[ja],
l=Rb(h)?ka(h,{}):void 0,Zb=Lj.reduce((a,c)=>{if("tooltip"!==c&&gc(b,c)){const d=b[c];(Ra(d)?d:[d]).forEach(b=>{b=Eb(b);if(!b.aggregate){var d=Rb(b)?ka(b,{}):void 0;(!d||d!==l&&d!==g)&&a.push({channel:c,fieldDef:b})}})}return a},[]);let m;void 0!==f.stack?m=I(f.stack)?f.stack?"zero":null:f.stack:0<Zb.length&&(m=k(Mc,a)?la(c,"zero"):c);if(!m||!Eg[m])return null;if(f.scale&&f.scale.type&&f.scale.type!==yc.LINEAR){if(d.disallowNonLinearStack)return null;E(za.cannotStackNonLinearScale(f.scale.type))}if(gc(b,
"x"===e?"x2":"y2"))return void 0!==f.stack&&E(za.cannotStackRangedMark(e)),null;f.aggregate&&!k(dk,f.aggregate)&&E(za.stackNonSummativeAggregate(f.aggregate));return{groupbyChannel:h?ja:void 0,fieldChannel:e,impute:Wb(a),stackBy:Zb,offset:m}}function xd(a){a=sa(a,["point","line"]);return 1<ua(a).length?a:a.type}function Ld(a){for(const b of["line","area","rule","trail"])a[b]&&(a=Object.assign({},a,{[b]:z(a[b],["point","line"])}));return a}function Md(a,b={},c){if("transparent"===a.point)return{opacity:0};
if(a.point)return w(a.point)?a.point:{};if(void 0!==a.point)return null;if(b.point||c.shape)return w(b.point)?b.point:{}}function Nd(a,b={}){if(a.line)return!0===a.line?{}:a.line;if(void 0!==a.line)return null;if(b.line)return!0===b.line?{}:b.line}function nb(a){const {parentEncoding:b,encoding:c}=a;b&&c&&(a=ua(b).reduce((a,b)=>{c[b]&&a.push(b);return a},[]),0<a.length&&E(za.encodingOverridden(a)));a=Object.assign({},b||{},c||{});return 0<ua(a).length?a:void 0}function hb(a){const {parentProjection:b,
projection:c}=a;b&&c&&E(za.projectionOverridden({parentProjection:b,projection:c}));return c||b}function vb(a,b){void 0===b&&(b=vd(a.config));return yd(a,b)}function yd(a,b={}){return Sc.map(a,{config:b})}function bc(a){return t(a)?{type:a}:a||{}}function Gb(a,b,c=!0){a=Object.assign({type:"pad"},bc(b),bc(a));"fit"!==a.type||c||(E(za.FIT_NON_SINGLE),a.type="pad");return a}function Ia(a){return Bd.reduce((b,c)=>{a&&void 0!==a[c]&&(b[c]=a[c]);return b},{})}function Ha(a){return!!a.name&&!a.url&&!a.values&&
!eb(a)}function eb(a){return a&&(!!a.sequence||!!a.sphere||!!a.graticule)}function Nb(a){return a&&!!a.field&&void 0!==a.equal}function V(a){return a&&a.field&&Ra(a.range)&&2===a.range.length?!0:!1}function wb(a){return a&&!!a.field&&(Ra(a.oneOf)||Ra(a.in))}function ib(a){return wb(a)||Nb(a)||V(a)||a&&!!a.field&&void 0!==a.lt||a&&!!a.field&&void 0!==a.gt||a&&!!a.field&&void 0!==a.lte||a&&!!a.field&&void 0!==a.gte}function X(a,b){return ab(a,{timeUnit:b,time:!0})}function zc(a,b){return a.map(a=>X(a,
b))}function Ca(a,b=!0){const {field:c,timeUnit:d}=a,e=d?"time("+fa(d,c)+")":ka(a,{expr:"datum"});if(Nb(a))return e+"\x3d\x3d\x3d"+X(a.equal,d);if(a&&a.field&&void 0!==a.lt)return`${e}<${X(a.lt,d)}`;if(a&&a.field&&void 0!==a.gt)return`${e}>${X(a.gt,d)}`;if(a&&a.field&&void 0!==a.lte)return`${e}<=${X(a.lte,d)}`;if(a&&a.field&&void 0!==a.gte)return`${e}>=${X(a.gte,d)}`;if(wb(a))return`indexof([${zc(a.oneOf,d).join(",")}], ${e}) !== -1`;if(a&&a.field&&void 0!==a.valid)return a.valid?`${e}!==null&&!isNaN(${e})`:
`${e}===null||isNaN(${e})`;if(V(a)){const c=a.range[0];a=a.range[1];if(null!==c&&null!==a&&b)return"inrange("+e+", ["+X(c,d)+", "+X(a,d)+"])";b=[];null!==c&&b.push(`${e} >= ${X(c,d)}`);null!==a&&b.push(`${e} <= ${X(a,d)}`);return 0<b.length?b.join(" \x26\x26 "):"true"}throw Error(`Invalid field predicate: ${JSON.stringify(a)}`);}function Hb(a){return ib(a)&&a.timeUnit?Object.assign({},a,{timeUnit:kb(a.timeUnit)}):a}function xb(a){return a.map(a=>void 0!==a.filter?{filter:r(a.filter,Hb)}:a)}function tb(a){return!!a.step}
function Dc(a){return Ra(a)?!1:"field"in a&&"data"in a}function Ud(a,b){return Ra(a)?a.map(a=>nd(a,b)).join(", "):a}function Ka(a,b,c,d={header:!1}){const e=a.combine(),{orient:f,scale:g,title:ja,zindex:h}=e,k=sa(e,["orient","scale","title","zindex"]);ua(k).forEach(a=>{const c=yh[a];c&&c!==b&&"both"!==c&&delete k[a]});if("grid"===b){if(k.grid)return k.encode&&({grid:a}=k.encode,k.encode=Object.assign({},a?{grid:a}:{}),0===ua(k.encode).length&&delete k.encode),Object.assign({scale:g,orient:f},k,{domain:!1,
labels:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:la(h,0)})}else if(d.header||!a.mainExtracted){if(k.encode){for(const b of Fg)a.hasAxisPart(b)||delete k.encode[b];0===ua(k.encode).length&&delete k.encode}a=Ud(ja,c);return Object.assign({scale:g,orient:f,grid:!1},a?{title:a}:{},k,{zindex:la(h,1)})}}function ca(a){var {axes:b}=a.component;for(const c of Gf)if(b[c])for(const d of b[c])if(!d.get("gridScale"))return b="x"===c?"height":"width",[{name:b,update:a.getSizeSignalRef(b).signal}];return[]}function Za(a,
b){const {x:c=[],y:d=[]}=a;return[...c.map(a=>Ka(a,"main",b)),...c.map(a=>Ka(a,"grid",b)),...d.map(a=>Ka(a,"main",b)),...d.map(a=>Ka(a,"grid",b))].filter(a=>a)}function Y(a){return!!a&&("count"===a.op||!!a.field)}function ra(a){return!!a&&Ra(a)}function Pb(a,b,c,d,e){c=[..."band"===e?["axisBand"]:[],"x"===c?"axisX":"axisY",...d?["axis"+d.substr(0,1).toUpperCase()+d.substr(1)]:[],"axis"];for(const d of c)if(b[d]&&void 0!==b[d][a])return b[d][a]}function Ub(a,b){if(void 0!==a)return a=(a%360+360)%360,
"top"===b||"bottom"===b?45>=a||315<=a?"top"===b?"bottom":"top":135<=a&&225>=a?"top"===b?"top":"bottom":"middle":45>=a||315<=a||135<=a&&225>=a?"middle":45<=a&&135>=a?"left"===b?"top":"bottom":"left"===b?"bottom":"top"}function La(a,b){if(void 0!==a)return a=(a%360+360)%360,"top"===b||"bottom"===b?0===a%180?"center":0<a&&180>a?"top"===b?"right":"left":"top"===b?"left":"right":0===(a+90)%180?"center":90<=a&&270>a?"left"===b?"left":"right":"left"===b?"right":"left"}function Fa(a){switch(a){case "x":return"bottom";
case "y":return"left"}throw Error(za.INVALID_CHANNEL_FOR_AXIS);}function bb({fieldDef:a,scaleType:b,size:c}){if(!(b in ad||"log"===b||k(["month","hours","day","quarter"],a.timeUnit)))return gb(a.bin)?{signal:`ceil(${c.signal}/10)`}:{signal:`ceil(${c.signal}/40)`}}function Ga(a,b,c){for(const d of c)c=Aa(d,b.markDef,b.config),void 0!==c&&(a[d]={value:c});return a}function Aa(a,b,c,{vgChannel:d}={}){return la(d?Ec(a,b,c.style):void 0,Ec(a,b,c.style),d?c[b.type][d]:void 0,c[b.type][a],d?c.mark[d]:c.mark[a])}
function Ec(a,b,c){b=[].concat(b.type,b.style||[]);let d;for(const e of b){b=c[e];const f=a;b&&void 0!==b[f]&&(d=b[f])}return d}function Od(a,b,c,d){if(Sb(a)){var e=Bb(a)&&a.scale&&a.scale.type===yc.UTC;return{signal:Ta(ka(a,{expr:c}),a.timeUnit,b,d.text.shortTimeLabels,d.timeFormat,e,!0)}}b=Qc(a,b,d);return gb(a.bin)?(e=ka(a,{expr:c}),a=ka(a,{expr:c,binSuffix:"end"}),{signal:wc(e,a,b,d)}):"quantitative"===a.type||b?{signal:`${Rc(ka(a,{expr:c,binSuffix:"range"}),b)}`}:{signal:`''+${ka(a,{expr:c})}`}}
function Qc(a,b,c){if(b)return b;if("quantitative"===a.type)return c.numberFormat}function Rc(a,b){return`format(${a}, "${b||""}")`}function wc(a,b,c,d){return`${a} === null || isNaN(${a}) ? "null" : ${Rc(a,c||d.numberFormat)} + " - " + ${Rc(b,c||d.numberFormat)}`}function Ta(a,b,c,d,e,f,g=!1){if(!b||c){if((c=c||e)||g)return`${f?"utc":"time"}Format(${a}, '${c}')`}else return b?(c=cb(b,d),d="",wa(b,ie.QUARTER)&&(d=`'Q' + quarter(${a})`),0<c.length&&(d&&(d+=" + ' ' + "),d=f?d+`utcFormat(${a}, '${c.join(" ")}')`:
d+`timeFormat(${a}, '${c.join(" ")}')`),a=d||void 0):a=void 0,a}function Z(a,b){return(Ra(a)?a:[a]).reduce((a,c)=>{a.field.push(ka(c,b));a.order.push(c.sort||"ascending");return a},{field:[],order:[]})}function Da(a,b){const c=[...a];b.forEach(a=>{for(const b of c)if(Qb(b)===Qb(a))return;c.push(a)});return c}function qd(a,b){if(Ra(a.value)&&Ra(b.value))return{explicit:a.explicit,value:Da(a.value,b.value)};if(!Ra(a.value)&&!Ra(b.value)){var c=a.value;b=b.value;return{explicit:a.explicit,value:c!==
b&&b?c?c+", "+b:b:c}}throw Error("It should never reach here");}function Ac(a){this.type=a}function ne(a){switch(a.type){case "ArrayExpression":return a.elements;case "BinaryExpression":case "LogicalExpression":return[a.left,a.right];case "CallExpression":var b=a.arguments.slice();b.unshift(a.callee);return b;case "ConditionalExpression":return[a.test,a.consequent,a.alternate];case "MemberExpression":return[a.object,a.property];case "ObjectExpression":return a.properties;case "Property":return[a.key,
a.value];case "UnaryExpression":return[a.argument];default:return[]}}function Jc(a,b){if(!a)throw Error("ASSERT: "+b);}function Kc(a){return 48<=a&&57>=a}function hd(a){return 0<="0123456789abcdefABCDEF".indexOf(a)}function Wc(a){return 0<="01234567".indexOf(a)}function zd(a){return 10===a||13===a||8232===a||8233===a}function Xc(a){return 36===a||95===a||65<=a&&90>=a||97<=a&&122>=a||92===a||128<=a&&Yj.test(String.fromCharCode(a))}function Vd(a){return 36===a||95===a||65<=a&&90>=a||97<=a&&122>=a||
48<=a&&57>=a||92===a||128<=a&&Wj.test(String.fromCharCode(a))}function Lc(){for(var a;na<Dd;)if(a=Oa.charCodeAt(na),32===a||9===a||11===a||12===a||160===a||5760<=a&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(a)||zd(a))++na;else break}function Bc(a){var b=0;var c="u"===a?4:2;for(a=0;a<c;++a)if(na<Dd&&hd(Oa[na])){var d=Oa[na++];b=16*b+"0123456789abcdef".indexOf(d.toLowerCase())}else Ya({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(b)}
function oe(){var a=Oa.charCodeAt(na++);var b=String.fromCharCode(a);92===a&&(117!==Oa.charCodeAt(na)&&Ya({},"Unexpected token %0","ILLEGAL"),++na,(a=Bc("u"))&&"\\"!==a&&Xc(a.charCodeAt(0))||Ya({},"Unexpected token %0","ILLEGAL"),b=a);for(;na<Dd;){a=Oa.charCodeAt(na);if(!Vd(a))break;++na;b+=String.fromCharCode(a);92===a&&(b=b.substr(0,b.length-1),117!==Oa.charCodeAt(na)&&Ya({},"Unexpected token %0","ILLEGAL"),++na,(a=Bc("u"))&&"\\"!==a&&Vd(a.charCodeAt(0))||Ya({},"Unexpected token %0","ILLEGAL"),
b+=a)}return b}function nc(){var a=na,b=Oa.charCodeAt(na),c=Oa[na];switch(b){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++na,{type:7,value:String.fromCharCode(b),start:a,end:na};default:var d=Oa.charCodeAt(na+1);if(61===d)switch(b){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return na+=2,{type:7,value:String.fromCharCode(b)+String.fromCharCode(d),start:a,end:na};case 33:case 61:return na+=2,61===Oa.charCodeAt(na)&&
++na,{type:7,value:Oa.slice(a,na),start:a,end:na}}}b=Oa.substr(na,4);if("\x3e\x3e\x3e\x3d"===b)return na+=4,{type:7,value:b,start:a,end:na};b=b.substr(0,3);if("\x3e\x3e\x3e"===b||"\x3c\x3c\x3d"===b||"\x3e\x3e\x3d"===b)return na+=3,{type:7,value:b,start:a,end:na};b=b.substr(0,2);if(c===b[1]&&0<="+-\x3c\x3e\x26|".indexOf(c)||"\x3d\x3e"===b)return na+=2,{type:7,value:b,start:a,end:na};if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(c))return++na,{type:7,value:c,start:a,end:na};Ya({},"Unexpected token %0","ILLEGAL")}
function oc(){var a=Oa[na];Jc(Kc(a.charCodeAt(0))||"."===a,"Numeric literal must start with a decimal digit or a decimal point");var b=na;var c="";if("."!==a){c=Oa[na++];a=Oa[na];if("0"===c){if("x"===a||"X"===a){++na;for(c="";na<Dd&&hd(Oa[na]);)c+=Oa[na++];0===c.length&&Ya({},"Unexpected token %0","ILLEGAL");Xc(Oa.charCodeAt(na))&&Ya({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt("0x"+c,16),start:b,end:na}}if(Wc(a)){for(c="0"+Oa[na++];na<Dd&&Wc(Oa[na]);)c+=Oa[na++];(Xc(Oa.charCodeAt(na))||
Kc(Oa.charCodeAt(na)))&&Ya({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(c,8),octal:!0,start:b,end:na}}a&&Kc(a.charCodeAt(0))&&Ya({},"Unexpected token %0","ILLEGAL")}for(;Kc(Oa.charCodeAt(na));)c+=Oa[na++];a=Oa[na]}if("."===a){for(c+=Oa[na++];Kc(Oa.charCodeAt(na));)c+=Oa[na++];a=Oa[na]}if("e"===a||"E"===a){c+=Oa[na++];a=Oa[na];if("+"===a||"-"===a)c+=Oa[na++];if(Kc(Oa.charCodeAt(na)))for(;Kc(Oa.charCodeAt(na));)c+=Oa[na++];else Ya({},"Unexpected token %0","ILLEGAL")}Xc(Oa.charCodeAt(na))&&
Ya({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(c),start:b,end:na}}function Ib(a,b){var c=a;0<=b.indexOf("u")&&(c=c.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(a,b){if(1114111>=parseInt(b,16))return"x";Ya({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(c)}catch(je){Ya({},"Invalid regular expression")}try{return new RegExp(a,b)}catch(je){return null}}function Xb(){Lc();if(na>=Dd)return{type:2,start:na,end:na};var a=Oa.charCodeAt(na);
if(Xc(a)){a=na;if(92===Oa.charCodeAt(na))var b=oe();else a:{for(b=na++;na<Dd;){var c=Oa.charCodeAt(na);if(92===c){na=b;b=oe();break a}if(Vd(c))++na;else break}b=Oa.slice(b,na)}return{type:1===b.length?3:Fh.hasOwnProperty(b)?4:"null"===b?5:"true"===b||"false"===b?1:3,value:b,start:a,end:na}}if(40===a||41===a||59===a)return nc();if(39===a||34===a){var d="";c=!1;a=Oa[na];Jc("'"===a||'"'===a,"String literal must starts with a quote");b=na;for(++na;na<Dd;){var e=Oa[na++];if(e===a){a="";break}else if("\\"===
e)if((e=Oa[na++])&&zd(e.charCodeAt(0)))"\r"===e&&"\n"===Oa[na]&&++na;else switch(e){case "u":case "x":if("{"===Oa[na]){++na;var f=Oa[na];e=0;for("}"===f&&Ya({},"Unexpected token %0","ILLEGAL");na<Dd;){f=Oa[na++];if(!hd(f))break;e=16*e+"0123456789abcdef".indexOf(f.toLowerCase())}(1114111<e||"}"!==f)&&Ya({},"Unexpected token %0","ILLEGAL");e=65535>=e?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320);d+=e}else d+=Bc(e);break;case "n":d+="\n";break;case "r":d+="\r";
break;case "t":d+="\t";break;case "b":d+="\b";break;case "f":d+="\f";break;case "v":d+="\x0B";break;default:Wc(e)?(f="01234567".indexOf(e),0!==f&&(c=!0),na<Dd&&Wc(Oa[na])&&(c=!0,f=8*f+"01234567".indexOf(Oa[na++]),0<="0123".indexOf(e)&&na<Dd&&Wc(Oa[na])&&(f=8*f+"01234567".indexOf(Oa[na++]))),d+=String.fromCharCode(f)):d+=e}else if(zd(e.charCodeAt(0)))break;else d+=e}""!==a&&Ya({},"Unexpected token %0","ILLEGAL");return{type:8,value:d,octal:c,start:b,end:na}}return 46===a?Kc(Oa.charCodeAt(na+1))?oc():
nc():Kc(a)?oc():nc()}function jb(){var a=Vb;na=a.end;Vb=Xb();na=a.end;return a}function Pd(){var a=na;Vb=Xb();na=a}function bd(a,b,c){var d=new Ac("||"===a||"\x26\x26"===a?"LogicalExpression":"BinaryExpression");d.operator=a;d.left=b;d.right=c;return d}function be(a){var b=new Ac("Identifier");b.name=a;return b}function rd(a){var b=new Ac("Literal");b.value=a.value;b.raw=Oa.slice(a.start,a.end);a.regex&&("//"===b.raw&&(b.raw="/(?:)/"),b.regex=a.regex);return b}function cd(a,b,c){var d=new Ac("MemberExpression");
d.computed="["===a;d.object=b;d.property=c;d.computed||(c.member=!0);return d}function dd(a,b,c){var d=new Ac("Property");d.key=b;d.value=c;d.kind=a;return d}function Ya(a,b){var c=Array.prototype.slice.call(arguments,2),d=b.replace(/%(\d)/g,function(a,b){Jc(b<c.length,"Message reference must be in range");return c[b]});var e=Error(d);e.index=na;e.description=d;throw e;}function Fc(a){2===a.type&&Ya(a,"Unexpected end of input");6===a.type&&Ya(a,"Unexpected number");8===a.type&&Ya(a,"Unexpected string");
3===a.type&&Ya(a,"Unexpected identifier");4===a.type&&Ya(a,"Unexpected reserved word");Ya(a,"Unexpected token %0",a.value)}function yb(a){var b=jb();7===b.type&&b.value===a||Fc(b)}function mb(a){return 7===Vb.type&&Vb.value===a}function Cd(){na=Vb.start;var a=jb();return 8===a.type||6===a.type?(a.octal&&Ya(a,"Octal literals are not allowed in strict mode."),rd(a)):be(a.value)}function Yb(){if(mb("(")){yb("(");var a=K();yb(")");return a}if(mb("[")){a=[];na=Vb.start;for(yb("[");!mb("]");)mb(",")?(jb(),
a.push(null)):(a.push(A()),mb("]")||yb(","));jb();var b=new Ac("ArrayExpression");b.elements=a;return b}if(mb("{")){a=[];b={};var c=String;na=Vb.start;for(yb("{");!mb("}");){na=Vb.start;var d=Vb;if(3===d.type){var e=Cd();yb(":");d=A();d=dd("init",e,d)}else 2===d.type||7===d.type?(Fc(d),d=void 0):(e=Cd(),yb(":"),d=A(),d=dd("init",e,d));e="Identifier"===d.key.type?d.key.name:c(d.key.value);e="$"+e;Object.prototype.hasOwnProperty.call(b,e)?Ya({},"Duplicate data property in object literal not allowed in strict mode"):
b[e]=!0;a.push(d);mb("}")||yb(",")}yb("}");b=new Ac("ObjectExpression");b.properties=a;return b}a=Vb.type;na=Vb.start;if(3===a||lj[Vb.value])b=be(jb().value);else if(8===a||6===a)Vb.octal&&Ya(Vb,"Octal literals are not allowed in strict mode."),b=rd(jb());else{if(4===a)throw Error("Disabled.");if(1===a)a=jb(),a.value="true"===a.value,b=rd(a);else if(5===a)a=jb(),a.value=null,b=rd(a);else if(mb("/")||mb("/\x3d")){var f;Vb=null;Lc();a=na;b=Oa[na];Jc("/"===b,"Regular expression literal must start with a slash");
c=Oa[na++];for(e=d=!1;na<Dd;)if(b=Oa[na++],c+=b,"\\"===b)b=Oa[na++],zd(b.charCodeAt(0))&&Ya({},"Invalid regular expression: missing /"),c+=b;else if(zd(b.charCodeAt(0)))Ya({},"Invalid regular expression: missing /");else if(d)"]"===b&&(d=!1);else if("/"===b){e=!0;break}else"["===b&&(d=!0);e||Ya({},"Invalid regular expression: missing /");b=c.substr(1,c.length-2);for(f=e="";na<Dd;){d=Oa[na];if(!Vd(d.charCodeAt(0)))break;++na;"\\"===d&&na<Dd?Ya({},"Unexpected token %0","ILLEGAL"):(f+=d,e+=d)}0<=f.search(/[^gimuy]/g)&&
Ya({},"Invalid regular expression",f);d=f;f=Ib(b,d);b=rd({literal:c+e,value:f,regex:{pattern:b,flags:d},start:a,end:na});Pd()}else Fc(jb())}return b}function pc(){var a;for(a=Yb();;)if(mb(".")){yb(".");na=Vb.start;var b=jb();3===b.type||4===b.type||1===b.type||5===b.type||Fc(b);b=be(b.value);a=cd(".",a,b)}else if(mb("(")){b=[];yb("(");if(!mb(")"))for(;na<Dd;){b.push(A());if(mb(")"))break;yb(",")}yb(")");var c=new Ac("CallExpression");c.callee=a;c.arguments=b;a=c}else if(mb("["))yb("["),b=K(),yb("]"),
a=cd("[",a,b);else break;if(7===Vb.type&&(mb("++")||mb("--")))throw Error("Disabled.");return a}function ce(){if(7!==Vb.type&&4!==Vb.type)var a=pc();else{if(mb("++")||mb("--"))throw Error("Disabled.");if(mb("+")||mb("-")||mb("~")||mb("!")){var b=jb();a=ce();b=b.value;var c=new Ac("UnaryExpression");c.operator=b;c.argument=a;c.prefix=!0;a=c}else{if(4===Vb.type&&"delete"===Vb.value||4===Vb.type&&"void"===Vb.value||4===Vb.type&&"typeof"===Vb.value)throw Error("Disabled.");a=pc()}}return a}function Tc(a){var b=
0;if(7!==a.type&&4!==a.type)return 0;switch(a.value){case "||":b=1;break;case "\x26\x26":b=2;break;case "|":b=3;break;case "^":b=4;break;case "\x26":b=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":b=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":b=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":b=8;break;case "+":case "-":b=9;break;case "*":case "/":case "%":b=11}return b}function A(){var a=Vb;var b=ce();var c=Vb;
var d=Tc(c);if(0===d)var e=b;else{c.prec=d;jb();a=[a,Vb];var f=ce();for(e=[b,c,f];0<(d=Tc(Vb));){for(;2<e.length&&d<=e[e.length-2].prec;)f=e.pop(),c=e.pop().value,b=e.pop(),a.pop(),b=bd(c,b,f),e.push(b);c=jb();c.prec=d;e.push(c);a.push(Vb);b=ce();e.push(b)}d=e.length-1;b=e[d];for(a.pop();1<d;)a.pop(),b=bd(e[d-1].value,e[d-2],b),d-=2;e=b}mb("?")&&(jb(),a=A(),yb(":"),d=A(),b=new Ac("ConditionalExpression"),b.test=e,b.consequent=a,b.alternate=d,e=b);return e}function K(){var a=A();if(mb(","))throw Error("Disabled.");
return a}function ta(a){Oa=a;na=0;Dd=Oa.length;Vb=null;Pd();a=K();if(2!==Vb.type)throw Error("Unexpect token after expression.");return a}function ob(a){const b=[];if("Identifier"===a.type)return[a.name];if("Literal"===a.type)return[a.value];"MemberExpression"===a.type&&(b.push(...ob(a.object)),b.push(...ob(a.property)));return b}function f(a){return"MemberExpression"===a.object.type?f(a.object):"datum"===a.object.name}function n(a){a=ta(a);const b=new Set;a.visit(a=>{"MemberExpression"===a.type&&
f(a)&&b.add(ob(a).slice(1).join("."))});return b}function y(a,b,c){return ka(a,Object.assign({prefix:b,suffix:"sort_index"},c||{}))}function Jb(a,b){return k(["top","bottom"],b)?"column":k(["left","right"],b)?"row":"row"===a?"row":"column"}function sc(a,b,c,d){return la(b&&b.header?b.header[a]:void 0,("row"===d?c.headerRow:"column"===d?c.headerColumn:c.headerFacet)[a],c.header[a])}function ze(a,b,c,d){const e={};for(const f of a)a=sc(f,b,c,d),void 0!==a&&(e[f]=a);return e}function Jf(a,b){const c=
a.component.layoutHeaders[b].title,d=a.config?a.config:void 0;a=a.component.layoutHeaders[b].facetFieldDef?a.component.layoutHeaders[b].facetFieldDef:void 0;const {titleAnchor:e,titleAngle:f,titleOrient:g}=ze(["titleAnchor","titleAngle","titleOrient"],a,d,b),h=Jb(b,g);return{name:`${b}-title`,type:"group",role:`${h}-title`,title:Object.assign({text:c},"row"===b?{orient:"left"}:{},{style:"guide-title"},Ie(f,h),$e(h,f,e),Lf(d,a,b,Uj,ye))}}function $e(a,b,c="middle"){switch(c){case "start":return{align:"left"};
case "end":return{align:"right"}}return(a=La(b,"row"===a?"left":"top"))?{align:a}:{}}function Ie(a,b){return(a=Ub(a,"row"===b?"left":"top"))?{baseline:a}:{}}function Kf(a,b){const c=a.component.layoutHeaders[b],d=[];for(const e of fe)if(c[e])for(const f of c[e])d.push(Hg(a,b,e,c,f));return d}function hg(a,b){const {sort:c}=a;return Y(c)?{field:ka(c,{expr:"datum"}),order:c.order||"ascending"}:Ra(c)?{field:y(a,b,{expr:"datum"}),order:"ascending"}:{field:ka(a,{expr:"datum"}),order:c||"ascending"}}function Je(a,
b,c){const {format:d,labelAngle:e,labelAnchor:f,labelOrient:g}=ze(["format","labelAngle","labelAnchor","labelOrient"],a,c,b),h=Jb(b,g);return Object.assign({text:Od(a,d,"parent",c)},"row"===b?{orient:"left"}:{},{style:"guide-label",frame:"group"},Ie(e,h),$e(h,e,f),Lf(c,a,b,De,He))}function Hg(a,b,c,d,e){if(e){let h=null;const {facetFieldDef:ja}=d;var f=a.config?a.config:void 0;if(ja&&e.labels){var {labelOrient:g}=ze(["labelOrient"],ja,f,b);if("row"===b&&!k(["top","bottom"],g)||"column"===b&&!k(["left",
"right"],g))h=Je(ja,b,f)}f=Sd(a)&&!Wa(a.facet);const l=(g=e.axes)&&0<g.length;if(h||l){const k="row"===b?"height":"width";return Object.assign({name:a.getName(`${b}_${c}`),type:"group",role:`${b}-${c}`},d.facetFieldDef?{from:{data:a.getName(b+"_domain")},sort:hg(ja,b)}:{},l&&f?{from:{data:a.getName(`facet_domain_${b}`)}}:{},h?{title:h}:{},e.sizeSignal?{encode:{update:{[k]:e.sizeSignal}}}:{},l?{axes:g}:{})}}return null}function Lf(a,b,c,d,e){const f={};for(const g of d)e[g]&&(d=sc(g,b,a,c),void 0!==
d&&(f[e[g]]=d));return f}function Qd(a){return[...Uc(a,"width"),...Uc(a,"height")]}function Uc(a,b){const c="width"===b?"x":"y";var d=a.component.layoutSize.get(b);if(!d||"merged"===d)return[];b=a.getSizeSignalRef(b).signal;if("range-step"===d){if(d=a.getScaleComponent(c)){var e=d.get("type");const f=d.get("range");if(e in ad&&tb(f))return e=a.scaleName(c),Sd(a.parent)&&"independent"===a.parent.component.resolve.scale[c]?[{name:e+"_step",value:f.step}]:[{name:e+"_step",value:f.step},{name:b,update:id(e,
d,`domain('${e}').length`)}]}throw Error("layout size is range step although there is no rangeStep.");}return[{name:b,value:d}]}function id(a,b,c){const d=b.get("type"),e=b.get("padding"),f=la(b.get("paddingOuter"),e);b=b.get("paddingInner");return`bandspace(${c}, ${"band"===d?void 0!==b?b:e:1}, ${f}) * ${a}_step`}function af(a,b,c){ed=b||Mf;Qg=c||df;return Nf(a.trim()).map(uf)}function cf(a,b,c,d,e){for(var f=0,g=a.length,h;b<g;++b)if(h=a[b],f||h!==c)e&&0<=e.indexOf(h)?--f:d&&0<=d.indexOf(h)&&++f;
else break;return b}function Nf(a){for(var b=[],c=0,d=a.length,e=0;e<d;)e=cf(a,e,pb,Sf+Ig,Rg+Jg),b.push(a.substring(c,e).trim()),c=++e;if(0===b.length)throw"Empty event selector: "+a;return b}function uf(a){if("["===a[0]){var b=a;var c=b.length;a=cf(b,1,Rg,Sf,Rg);if(a===c)throw"Empty between selector: "+b;c=Nf(b.substring(1,a));if(2!==c.length)throw"Between selector must have two elements: "+b;b=b.slice(a+1).trim();if(b[0]!==zb)throw"Expected '\x3e' after between selector: "+b;c=c.map(uf);b=uf(b.slice(1).trim());
b.between?b={between:c,stream:b}:b.between=c}else{c={source:ed};var d=[],e=[0,0],f=0,g=0,h=a.length,k=0;if(a[h-1]===Jg){k=a.lastIndexOf(Ig);if(0<=k){try{e=Of(a.substring(k+1,h-1))}catch(Gk){throw"Invalid throttle specification: "+a;}a=a.slice(0,k).trim();h=a.length}else throw"Unmatched right brace: "+a;k=0}if(!h)throw a;a[0]===de&&(f=++k);var l=cf(a,k,ui);l<h&&(d.push(a.substring(g,l).trim()),g=k=++l);k=cf(a,k,Sf);if(k===h)d.push(a.substring(g,h).trim());else if(d.push(a.substring(g,k).trim()),b=
[],g=++k,g===h)throw"Unmatched left bracket: "+a;for(;k<h;){k=cf(a,k,Rg);if(k===h)throw"Unmatched left bracket: "+a;b.push(a.substring(g,k).trim());if(k<h-1&&a[++k]!==Sf)throw"Expected left bracket: "+a;g=++k}if(!(h=d.length)||Xd.test(d[h-1]))throw"Invalid event selector: "+a;1<h?(c.type=d[1],f?c.markname=d[0].slice(1):Qg.hasOwnProperty(d[0])?c.marktype=d[0]:c.source=d[0]):c.type=d[0];"!"===c.type.slice(-1)&&(c.consume=!0,c.type=c.type.slice(0,-1));null!=b&&(c.filter=b);e[0]&&(c.throttle=e[0]);e[1]&&
(c.debounce=e[1]);b=c}return b}function Of(a){var b=a.split(pb);if(!a.length||2<b.length)throw a;return b.map(function(b){b=+b;if(b!==b)throw a;return b})}function wf(a,b,c,d){const e=c.channel,f=c.signals.visual;c=c.signals.data;const g=re.has(b),h=C(a.scaleName(e));var ja=a.getScaleComponent(e);ja=ja?ja.get("type"):void 0;const k=a=>`scale(${h}, ${a})`,l=a.getSizeSignalRef("x"===e?"width":"height").signal,m=`${e}(unit)`;a=xf(b,(a,b)=>[...a,{events:b.between[0],update:`[${m}, ${m}]`},{events:b,update:`[${f}[0], clamp(${m}, 0, ${l})]`}]);
a.push({events:{signal:b.name+"_scale_trigger"},update:ja in pd?`[${k(`${c}[0]`)}, ${k(`${c}[1]`)}]`:"[0, 0]"});return g?[{name:c,on:[]}]:[Object.assign({name:f},d?{init:Pf(d,k)}:{value:[]},{on:a}),Object.assign({name:c},d?{init:Pf(d)}:{},{on:[{events:{signal:f},update:`${f}[0] === ${f}[1] ? null : invert(${h}, ${f})`}]})]}function xf(a,b){return a.events.reduce((a,c)=>c.between?b(a,c):(E(`${c} is not an ordered event stream for interval selections`),a),[])}function Lg(a,b){const c=b.name;var d=c+
"_tuple_fields";const e=b.project.items.map(b=>{const c=a.fieldDef(b.channel);return c&&c.bin?`[${g(a.vgField(b.channel,{}),"(item().isVoronoi ? datum.datum : datum)")}, `+`${g(a.vgField(b.channel,{binSuffix:"end"}),"(item().isVoronoi ? datum.datum : datum)")}]`:`${g(b.field,"(item().isVoronoi ? datum.datum : datum)")}`}).join(", ");d=`unit: ${ee(a)}, fields: ${d}, values`;return[{name:c+"_tuple",on:[{events:b.events,update:`datum && item().mark.marktype !== 'group' ? {${d}: [${e}]} : null`,force:!0}]}]}
function yf(a,b){a=a.component.selection;for(const c in a)if(a.hasOwnProperty(c)){const d=a[c];b(d,Hh[d.type])}}function ee(a){let b=C(a.name);for(a=a.parent;a&&!Sd(a);)a=a.parent;if(a){const {facet:c}=a;for(const d of se)c[d]&&(b+=` + '__facet_${d}_' + (${g(a.vgField(d),"facet")})`)}return b}function zf(a){let b=!1;yf(a,a=>{b=b||a.project.items.some(a=>"_vgsid_"===a.field)});return b}function Af(a,b,c,d,e){var f=b.name,g=f+"_translate_anchor";f+="_translate_delta";const h=c.channel,ja=re.has(b);
b=e.filter(a=>a.name===c.signals[ja?"data":"visual"])[0];d=a.getSizeSignalRef(d).signal;a=a.getScaleComponent(h);e=a.get("type");g=`${g}.extent_${h}`;g=`${ja?"log"===e?"panLog":"pow"===e?"panPow":"panLinear":"panLinear"}(${g}, ${`${ja&&"x"===h?"-":""}${f}.${h} / `+(ja?`${d}`:`span(${g})`)}`+(ja&&"pow"===e?`, ${a.get("exponent")||1}`:"")+")";b.on.push({events:{signal:f},update:ja?g:`clampRange(${g}, 0, ${d})`})}function ki(a,b,c,d,e){var f=b.name;const g=c.channel,h=re.has(b);b=e.filter(a=>a.name===
c.signals[h?"data":"visual"])[0];d=a.getSizeSignalRef(d).signal;e=a.getScaleComponent(g);const ja=e.get("type"),k=h?`domain(${C(a.scaleName(g))})`:b.name;a=f+"_zoom_delta";f=`${h?"log"===ja?"zoomLog":"pow"===ja?"zoomPow":"zoomLinear":"zoomLinear"}(${k}, ${`${f}${"_zoom_anchor"}.${g}`}, ${a}`+(h&&"pow"===ja?`, ${e.get("exponent")||1}`:"")+")";b.on.push({events:{signal:a},update:h?f:`clampRange(${f}, 0, ${d})`})}function Mg(a,b){for(const c of Ch)c.has(a)&&b(c)}function Pf(a,b=bk){return Ra(a)?`[${a.map(a=>
Pf(a,b)).join(", ")}]`:da(a)?b(oa(a)):b(JSON.stringify(a))}function Ah(a){return Ra(a)?a.map(a=>Ah(a)):da(a)?oa(a,!1,!0):a}function gj(a,b){yf(a,(c,d)=>{const e=c.name;let f=d.modifyExpr(a,c);b.push(...d.signals(a,c));Mg(c,d=>{d.signals&&(b=d.signals(a,c,b));d.modifyExpr&&(f=d.modifyExpr(a,c,f))});b.push({name:e+"_modify",update:`modify(${C(c.name+"_store")}, ${f})`})});return b}function li(a,b){a.component.selection&&ua(a.component.selection).length&&(a=C(a.getName("cell")),b.unshift({name:"facet",
value:{},on:[{events:af("mousemove","scope"),update:`isTuple(facet) ? facet : group(${a}).datum`}]}));return b}function hj(a,b){let c=!1;yf(a,(d,e)=>{const f=d.name,g=C(f+"_store");b.filter(a=>a.name===f).length||b.push({name:d.name,update:`${"vlSelectionResolve"}(${g}`+("global"===d.resolve?")":`, ${C(d.resolve)})`)});c=!0;e.topLevelSignals&&(b=e.topLevelSignals(a,d,b));Mg(d,c=>{c.topLevelSignals&&(b=c.topLevelSignals(a,d,b))})});c&&(b.filter(a=>"unit"===a.name).length||b.unshift({name:"unit",value:{},
on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}));return b}function ij(a,b){yf(a,c=>{const d={name:c.name+"_store"};if(c.init){const b=c.project.items.map(a=>sa(a,["signals"])),e=c.init.map(a=>Ah(a));d.values="interval"===c.type?[{unit:ee(a),fields:b,values:e}]:e.map(c=>({unit:ee(a),fields:b,values:c}))}b.filter(a=>a.name===c.name+"_store").length||b.push(d)});return b}function mi(a,b){yf(a,(c,d)=>{b=d.marks?d.marks(a,c,b):b;Mg(c,d=>{d.marks&&(b=d.marks(a,c,b))})});return b}
function Ge(a,b){for(const c of a.children)Hc(c)&&(b=mi(c,b));return b}function sf(a,b,c){const d=[];b=ia(b,function(b){var e=B(b);b=a.getSelectionComponent(e,b);e=C(e+"_store");if(b.project.timeUnit){const d=c||a.component.data.raw,e=b.project.timeUnit.clone();d.parent?e.insertAsParentOf(d):d.parent=e}"none"!==b.empty&&d.push(e);return`vlSelectionTest(${e}, datum`+("global"===b.resolve?")":`, ${C(b.resolve)})`)});return(d.length?"!("+d.map(a=>`length(data(${a}))`).join(" || ")+") || ":"")+`(${b})`}
function tf(a,b){b=JSON.parse(b.signal.replace("_selection_domain_",""));const c=B(b.selection),d=b.encoding;let e=b.field,f=a.component.selection&&a.component.selection[c];if(f)E('Use "bind": "scales" to setup a binding for scales and selections within the same view.');else return f=a.getSelectionComponent(c,b.selection),d||e?d&&!e&&(a=f.project.items.filter(a=>a.channel===d),!a.length||1<a.length?(e=f.project.items[0].field,E((a.length?"Multiple ":"No ")+`matching ${C(d)} encoding found for selection ${C(b.selection)}. `+
`Using "field": ${C(e)}.`)):e=a[0].field):(e=f.project.items[0].field,1<f.project.items.length&&E('A "field" or "encoding" must be specified when using a selection as a scale domain. '+`Using "field": ${C(e)}.`)),{signal:g(e,c)};return{signal:"null"}}function Ng(a,b,c){return ia(b,b=>t(b)?b:b&&b.selection?sf(a,b.selection,c):Ca(b))}function Pg(a){const {channel:b,channelDef:c,mark:d,scale:e}=a;a=qi(a);return pa(c)&&!Ma(c.aggregate)&&e&&e.get("type")in Yc&&!1===e.get("zero")?Yd({fieldDef:c,channel:b,
mark:d,ref:a}):a}function Yd({fieldDef:a,channel:b,mark:c,ref:d}){return Wb(c)?d:(a=pi(a,!0),b="x"===v(b)?{value:0}:{field:{group:"height"}},b=Object.assign({test:a},b),[b,d])}function pi(a,b=!0){a=t(a)?a:ka(a,{expr:"datum"});return`${a} ${b?"\x3d\x3d\x3d":"!\x3d\x3d"} null ${b?"||":"\x26\x26"} ${b?"":"!"}isNaN(${a})`}function ni({channel:a,channelDef:b,channel2Def:c,scaleName:d,scale:e,stack:f,mark:g,offset:h,defaultRef:k}){return pa(b)&&f&&a.charAt(0)===f.fieldChannel.charAt(0)?he(b,d,{suffix:"start"},
{offset:h}):Pg({channel:a,channelDef:c,scaleName:d,scale:e,stack:f,mark:g,offset:h,defaultRef:k})}function jj(a,b){if(a=b[a+"Offset"])return a}function vi({channel:a,fieldDef:b,scaleName:c,mark:d,side:e,offset:f}){c=he(b,c,{binSuffix:"start"===e?void 0:"end"},f?{offset:f}:{});return Yd({fieldDef:b,channel:a,mark:d,ref:c})}function he(a,b,c,d){a=Object.assign({},b?{scale:b}:{},{field:ka(a,c)});if(d){const {offset:b,band:c}=d;return Object.assign({},a,b?{offset:b}:{},c?{band:c}:{})}return a}function Cf(a,
b=!0){return{scale:a,band:b}}function ri({scaleName:a,fieldDef:b,fieldDef2:c,offset:d,band:e}){e=la(e,.5);const f=ka(b,{expr:"datum"});b=void 0!==c?ka(c,{expr:"datum"}):ka(b,{binSuffix:"end",expr:"datum"});return Object.assign({signal:`scale("${a}", ${e} * ${f} + ${1-e} * ${b})`},d?{offset:d}:{})}function qi({channel:a,channelDef:b,channel2Def:c,scaleName:d,scale:e,stack:f,offset:g,defaultRef:h}){if(b){if(pa(b)){if(ub(b)){if(gb(b.bin))return k(["x","y"],a)&&"quantitative"===b.type?f&&f.impute?he(b,
d,{binSuffix:"mid"},{offset:g}):ri({scaleName:d,fieldDef:b,offset:g}):he(b,d,sb(b,a)?{binSuffix:"range"}:{},{offset:g});if(db(b.bin)){if(pa(c))return ri({scaleName:d,fieldDef:b,fieldDef2:c,offset:g});E(za.channelRequiredForBinned("x"===a?"x2":"y2"))}}return e&&(a=e.get("type"),a in ad)?"band"===a?he(b,d,{binSuffix:"range"},{band:.5,offset:g}):he(b,d,{binSuffix:"range"},{offset:g}):he(b,d,{},{offset:g})}if(Va(b))return d=g?{offset:g}:{},Object.assign({},sh(a,b.value),d)}return"function"===typeof h?
h():h}function sh(a,b){return k(["x","x2"],a)&&"width"===b?{field:{group:"width"}}:k(["y","y2"],a)&&"height"===b?{field:{group:"height"}}:{value:b}}function zg(a,b,{reactiveGeom:c}={}){function d(c,d){var e=v(d);c=ub(c)?c:Object.assign({},c,{type:a[e].type});e=$a(c,b,{allowDisabling:!1});var f=Eh(c,b,h).signal;if("x"===d||"y"===d){const e="x"===d?"x2":"y2";var k=Tb(a[e]);db(c.bin)&&k&&(f=ka(c,{expr:h}),k=ka(k,{expr:h}),f=wc(f,k,tc(c),b),g[e]=!0)}ja.push({channel:d,key:e,value:f})}const e=[],f={},
g={},h=c?"datum.datum":"datum",ja=[];Nc(a,(a,b)=>{pa(a)?d(a,b):Ja(a)&&d(a.condition,b)});for(const {channel:a,key:b,value:c}of ja)g[a]||f[b]||(e.push(`${C(b)}: ${c}`),f[b]=!0);return e.length?{signal:`{${e.join(", ")}}`}:void 0}function Eh(a,b,c="datum"){if(a){if(Va(a))return{value:a.value};if(ub(a))return Od(a,tc(a),c,b)}}function Zd(a){return Object.assign({},a,{mult:.5})}function Gh({markDef:a,config:b,defaultRef:c,channel:d,scaleName:e,scale:f,mark:g,checkBarAreaWithoutZero:h}){return()=>{const ja=
v(d);var l=la(a[d],Aa(d,a,b));if(void 0!==l)return sh(d,l);if(t(c)){if(e)if(l=f.get("type"),k([yc.LOG,yc.TIME,yc.UTC],l))!h||"bar"!==g&&"area"!==g||E(za.nonZeroScaleUsedWithLengthMark(g,ja,{scaleType:l}));else{if(f.domainDefinitelyIncludesZero())return{scale:e,value:0};!h||"bar"!==g&&"area"!==g||E(za.nonZeroScaleUsedWithLengthMark(g,ja,{zeroFalse:!1===f.explicit.zero}))}return"zeroOrMin"===c?"x"===ja?{value:0}:{field:{group:"height"}}:"x"===ja?{field:{group:"width"}}:{value:0}}return c}}function Oe(a){return"transparent"!==
a&&null!==a&&void 0!==a}function mj(a){const {markDef:b,encoding:c,config:d}=a,{filled:e,type:f}=b,g={fill:Aa("fill",b,d),stroke:Aa("stroke",b,d),color:Aa("color",b,d)},h=k(["bar","point","circle","square","geoshape"],f)?"transparent":void 0,l=la(b.fill,g.fill,h),m=la(b.stroke,g.stroke),n=e?"fill":"stroke",q=Object.assign({},l?{fill:{value:l}}:{},m?{stroke:{value:m}}:{});return c.fill||c.stroke?(b.color&&E(za.droppingColor("property",{fill:"fill"in c,stroke:"stroke"in c})),Object.assign({},sd("fill",
a,{defaultValue:la(l,h)}),sd("stroke",a,{defaultValue:m}))):c.color?Object.assign({},q,sd("color",a,{vgChannel:n,defaultValue:la(b[n],b.color,g[n],g.color,e?h:void 0)})):Oe(b.fill)||Oe(b.stroke)?(b.color&&E(za.droppingColor("property",{fill:"fill"in b,stroke:"stroke"in b})),q):b.color?Object.assign({},q,{[n]:{value:b.color}}):Oe(g.fill)||Oe(g.stroke)?q:g.color?Object.assign({},h?{fill:{value:"transparent"}}:{},{[n]:{value:g.color}}):{}}function Pe(a,b){const {fill:c,stroke:d}=mj(a);return Object.assign({},
Zj(a.markDef,b),Rf(a,"fill",c),Rf(a,"stroke",d),sd("opacity",a),sd("fillOpacity",a),sd("strokeOpacity",a),sd("strokeWidth",a),nj(a),xe(a,"href"))}function Rf(a,b,c){const {config:d,mark:e}=a;return"hide"===d.invalidValues&&c&&!Wb(e)&&(a=vf(a,{invalid:!0,channels:cg}))?{[b]:[{test:a,value:null},...P(c)]}:c?{[b]:c}:{}}function Zj(a,b){return Ad.reduce((c,d)=>{void 0!==a[d]&&"ignore"!==b[d]&&(c[d]={value:a[d]});return c},{})}function xi(a,b){if(void 0!==b)return{[a]:{value:b}}}function vf(a,{invalid:b=
!1,channels:c}){c=c.reduce((b,c)=>{var d=a.getScaleComponent(c);d&&(d=d.get("type"),(c=a.vgField(c,{expr:"datum"}))&&d in pd&&(b[c]=!0));return b},{});c=ua(c);if(0<c.length){const a=b?"||":"\x26\x26";return c.map(a=>pi(a,b)).join(` ${a} `)}}function wi(a){return a.config.invalidValues&&(a=vf(a,{channels:["x","y"]}))?{defined:{signal:a}}:{}}function sd(a,b,c={}){const {markDef:d,encoding:e,config:f}=b,{vgChannel:g=a}=c;let {defaultRef:h,defaultValue:ja}=c;void 0===h&&(h=(ja=ja||(g===a?d[a]:la(d[a],
d[g],Aa(a,d,f,{vgChannel:g}))))?{value:ja}:void 0);return Jh(b,e[a],g,c=>qi({channel:a,channelDef:c,scaleName:b.scaleName(a),scale:b.getScaleComponent(a),stack:null,defaultRef:h}))}function Jh(a,b,c,d){var e=b&&b.condition;b=d(b);return e?(e=(Ra(e)?e:[e]).map(b=>{const c=d(b);b=b.selection?sf(a,b.selection):Ng(a,b.test);return Object.assign({test:b},c)}),{[c]:[...e,...void 0!==b?[b]:[]]}):void 0!==b?{[c]:b}:{}}function nj(a,b={}){const {encoding:c,markDef:d,config:e}=a,f=c.tooltip;return Ra(f)?{tooltip:zg({tooltip:f},
e,b)}:Jh(a,f,"tooltip",f=>{const g=Eh(f,a.config,b.reactiveGeom?"datum.datum":"datum");if(g)return g;if(null!==f){f=la(d.tooltip,Aa("tooltip",d,e));if(t(f))return{value:f};if(w(f))return"encoding"===f.content?zg(c,e,b):{signal:"datum"}}})}function xe(a,b="text"){return Jh(a,a.encoding[b],b,b=>Eh(b,a.config))}function ii({fieldDef:a,fieldDef2:b,channel:c,scaleName:d,mark:e,spacing:f=0,reverse:g}){f={x:g?f:0,x2:g?0:f,y:g?0:f,y2:g?f:0};g="x"===c?"x2":"y2";if(gb(a.bin))return{[g]:vi({channel:c,fieldDef:a,
scaleName:d,mark:e,side:"start",offset:f[`${c}2`]}),[c]:vi({channel:c,fieldDef:a,scaleName:d,mark:e,side:"end",offset:f[c]})};if(db(a.bin)&&pa(b))return{[g]:he(a,d,{},{offset:f[`${c}2`]}),[c]:he(b,d,{},{offset:f[c]})};E(za.channelRequiredForBinned(g))}function Ed(a,b,c,d){const {encoding:e,mark:f,markDef:g,config:h,stack:k}=b,ja=e[a],l=e["x"===a?"x2":"y2"],m=b.scaleName(a),n=b.getScaleComponent(a),Zb=jj(a,b.markDef);if(ja||!e.latitude&&!e.longitude){{b={channel:a,channelDef:ja,channel2Def:l,scaleName:m,
scale:n,stack:k,mark:f,offset:Zb,defaultRef:Gh({markDef:g,config:h,defaultRef:c,channel:a,scaleName:m,scale:n,mark:f,checkBarAreaWithoutZero:!l})};const {channel:d,channelDef:e,scaleName:q,stack:p,offset:t}=b;b=pa(e)&&p&&d===p.fieldChannel?he(e,q,{suffix:"end"},{offset:t}):Pg(b)}}else b={field:b.getName(a)};return{[d||a]:b}}function Ee(a,b,c){const {encoding:d,mark:e,markDef:f,stack:g,config:h}=a;var k="x2"===c?"x":"y";const ja="x2"===c?"width":"height",l=d[k],m=a.scaleName(k);k=a.getScaleComponent(k);
const n=jj(c,a.markDef);if(!l&&(d.latitude||d.longitude))return{[c]:{field:a.getName(c)}};a=ni({channel:c,channelDef:l,channel2Def:d[c],scaleName:m,scale:k,stack:g,mark:e,offset:n,defaultRef:void 0});return void 0!==a?{[c]:a}:la(Hf(c,f),Hf(c,{[c]:Ec(c,f,h.style),[ja]:Ec(ja,f,h.style)}),Hf(c,h[e]),Hf(c,h.mark),{[c]:Gh({markDef:f,config:h,defaultRef:b,channel:c,scaleName:m,scale:k,mark:e,checkBarAreaWithoutZero:!d[c]})()})}function Hf(a,b){const c="x2"===a?"width":"height";if(b[a])return{[a]:sh(a,b[a])};
if(b[c])return{[c]:{value:b[c]}}}function Ze(a,b){return ua(a).reduce((c,d)=>Object.assign({},c,Jh(b,a[d],d,a=>({value:a.value}))),{})}function Ag(a,b){const c=a.scale[b],d=k(Gf,b)?"axis":"legend";return"independent"===c?("shared"===a[d][b]&&E(za.independentScaleMeansIndependentGuide(b)),"independent"):a[d][b]||"shared"}function If(a){return{explicit:!0,value:a}}function Be(a){return{explicit:!1,value:a}}function oi(a){return(b,c,d,e)=>{const f=a(b.value,c.value);return 0<f?b:0>f?c:Ke(b,c,d,e)}}function Ke(a,
b,c,d){a.explicit&&b.explicit&&E(za.mergeConflictingProperty(c,d,a.value,b.value));return a}function bf(a,b,c,d,e=Ke){return void 0===a||void 0===a.value?b:a.explicit&&!b.explicit?a:b.explicit&&!a.explicit?b:Qb(a.value)===Qb(b.value)?a:e(a,b,c,d)}function Dh(a){const {legend:b}=a;return la(b.type,Vg(a))}function Vg({channel:a,timeUnit:b,scaleType:c,alwaysReturn:d}){if(Ba(a)){if(k(["quarter","month","day"],b))return"symbol";if(c in Yc)return d?"gradient":void 0}return d?"symbol":void 0}function Kh({legend:a,
legendConfig:b,timeUnit:c,channel:d,scaleType:e}){var f=la(a.orient,b.orient,"right");c=Dh({legend:a,channel:d,timeUnit:c,scaleType:e,alwaysReturn:!0});a=a.direction;b=b[c?"gradientDirection":"symbolDirection"];a:switch(f){case "top":case "bottom":f="horizontal";break a;case "left":case "right":case "none":case void 0:f=void 0;break a;default:f="gradient"===c?"horizontal":void 0}return la(a,b,f)}function pj({legend:a,legendConfig:b,model:c,channel:d,scaleType:e}){const {gradientHorizontalMaxLength:f,
gradientHorizontalMinLength:g,gradientVerticalMaxLength:h,gradientVerticalMinLength:k}=b;return"horizontal"===Kh({legend:a,legendConfig:b,channel:d,scaleType:e})?(a=la(a.orient,b.orient),"top"===a||"bottom"===a?Lh(c,"width",g,f):g):Lh(c,"height",k,h)}function Lh(a,b,c,d){return{signal:`clamp(${a.getSizeSignalRef(b).signal}, ${c}, ${d})`}}function Mh(a,b,c){b=b.getScaleComponent(c).get("type");return la(a.get("type"),Vg({channel:c,scaleType:b,alwaysReturn:!0}))}function kg(a){return Wg(a,(a,b)=>Math.max(a,
b.value))}function Nh(a){return Wg(a,(a,b)=>la(a,b.value))}function Wg(a,b){if(a&&a.condition&&(Ra(a.condition)||Va(a.condition)))return(Ra(a.condition)?a.condition:[a.condition]).reduce(b,a.value);if(Va(a))return a.value}function qj(a){Hc(a)?a.component.legends=rj(a):a.component.legends=ng(a)}function rj(a){const {encoding:b}=a;return"color fill stroke strokeWidth size shape opacity fillOpacity strokeOpacity".split(" ").reduce((c,d)=>{const e=b[d];!a.legend(d)||!a.getScaleComponent(d)||pa(e)&&"shape"===
d&&"geojson"===e.type||(c[d]=Fd(a,d));return c},{})}function hh(a,b){const c=a.scaleName("color");return"color"===b?a.markDef.filled?{fill:c}:{stroke:c}:{[b]:a.scaleName(b)}}function Fd(a,b){const c=a.fieldDef(b),d=a.legend(b),e=new Bf({},hh(a,b));for(var f of bj){const h=jd(f,d,b,a);if(void 0!==h){a:{switch(f){case "values":var g=!!d.values;break a;case "title":if("title"===f&&h===c.title){g=!0;break a}}g=h===d[f]}(g||void 0===a.config.legend[f])&&e.set(f,h,g)}}const h=d.encoding||{};f=["labels",
"legend","title","symbols","gradient"].reduce((d,f)=>{var g=Ze(h[f]||{},a);g=Ug[f]?Ug[f](c,g,a,b,e):g;void 0!==g&&0<ua(g).length&&(d[f]={update:g});return d},{});0<ua(f).length&&e.set("encode",f,!!d.encoding);return e}function jd(a,b,c,d){const {encoding:e,mark:f}=d;var g=Eb(e[c]);const h=d.config.legend,{timeUnit:l}=g,ja=d.getScaleComponent(c).get("type");switch(a){case "direction":return Kh({legend:b,legendConfig:h,timeUnit:l,channel:c,scaleType:ja});case "format":return Sb(g)?void 0:Qc(g,b.format,
d.config);case "formatType":return Sb(g)?void 0:b.formatType;case "gradientLength":return la(b.gradientLength,h.gradientLength,pj({model:d,legend:b,legendConfig:h,channel:c,scaleType:ja}));case "labelOverlap":return c=b.labelOverlap,d=k(["quantile","threshold","log"],ja)?"greedy":void 0,la(c,d);case "symbolType":g=b.symbolType;a:{d=d.markDef.shape;if("shape"!==c&&(c=Nh(e.shape)||d))break a;switch(f){case "bar":case "rect":case "square":c="square";break a;case "line":case "trail":case "rule":c="stroke";
break a;case "point":case "circle":case "tick":case "geoshape":case "area":case "text":c="circle";break a}c=void 0}return la(g,c);case "title":return $a(g,d.config,{allowDisabling:!0})||void 0;case "type":return Dh({legend:b,channel:c,timeUnit:l,scaleType:ja,alwaysReturn:!1});case "values":return c=(c=b.values)?fc(g,c):void 0,c}return b[a]}function ng(a){const {legends:b,resolve:c}=a.component;for(const d of a.children)qj(d),ua(d.component.legends).forEach(e=>{c.legend[e]=Ag(a.component.resolve,e);
"shared"===c.legend[e]&&(b[e]=og(b[e],d.component.legends[e]),b[e]||(c.legend[e]="independent",delete b[e]))});ua(b).forEach(b=>{for(const d of a.children)d.component.legends[b]&&"shared"===c.legend[b]&&delete d.component.legends[b]});return b}function og(a,b){if(!a)return b.clone();var c=a.getWithExplicit("orient");const d=b.getWithExplicit("orient");if(!c.explicit||!d.explicit||c.value===d.value){var e=!1;for(const d of Vj)c=bf(a.getWithExplicit(d),b.getWithExplicit(d),d,"legend",(a,b)=>{switch(d){case "symbolType":return a=
"circle"===b.value?b:a,a;case "title":return qd(a,b);case "type":return e=!0,Be("symbol")}return Ke(a,b,d,"legend")}),a.setWithExplicit(d,c);e&&(((a.implicit||{}).encode||{}).gradient&&va(a.implicit,["encode","gradient"]),((a.explicit||{}).encode||{}).gradient&&va(a.explicit,["encode","gradient"]));return a}}function pg(a){const b=a.component.legends,c={};for(const e of ua(b)){var d=a.getScaleComponent(e);d=Qb(d.get("domains"));if(c[d])for(const a of c[d])og(a,b[e])||c[d].push(b[e]);else c[d]=[b[e].clone()]}return O(ma(c)).map(a=>
{a=a.combine();if(a.encode&&a.encode.symbols){const b=a.encode.symbols.update;!b.fill||"transparent"===b.fill.value||b.stroke||a.stroke||(b.stroke={value:"transparent"});a.fill&&delete b.fill}return a})}function Sh(a){return a.children.reduce((a,b)=>a.concat(b.assembleProjections()),Li(a))}function Li(a){var b=a.component.projection;if(!b||b.merged)return[];var c=b.combine();const {name:d}=c;c=sa(c,["name"]);if(b.data){const e={signal:`[${b.size.map(a=>a.signal).join(", ")}]`};b=b.data.reduce((b,
c)=>{c=c.signal?c.signal:`data('${a.lookupDataSource(c)}')`;k(b,c)||b.push(c);return b},[]);if(0>=b.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({name:d,size:e,fit:{signal:1<b.length?`[${b.join(", ")}]`:b[0]}},c)]}return[Object.assign({name:d},{translate:{signal:"[width / 2, height / 2]"}},c)]}function bh(a){if(a.hasProjection){const c=a.specifiedProjection;var b=!(c&&(null!=c.scale||null!=c.translate));const d=b?[a.getSizeSignalRef("width"),a.getSizeSignalRef("height")]:
void 0;b=b?Ni(a):void 0;return new jg(a.projectionName(!0),Object.assign({},a.config.projection||{},c||{}),d,b)}}function Ni(a){const b=[];[["longitude","latitude"],["longitude2","latitude2"]].forEach(c=>{(a.channelHasField(c[0])||a.channelHasField(c[1]))&&b.push({signal:a.getName(`geojson_${b.length}`)})});a.channelHasField("shape")&&"geojson"===a.fieldDef("shape").type&&b.push({signal:a.getName(`geojson_${b.length}`)});0===b.length&&b.push(a.requestDataName("main"));return b}function Mi(a,b){const c=
D(Sg,c=>!a.explicit.hasOwnProperty(c)&&!b.explicit.hasOwnProperty(c)||a.explicit.hasOwnProperty(c)&&b.explicit.hasOwnProperty(c)&&Qb(a.get(c))===Qb(b.get(c))?!0:!1);if(Qb(a.size)===Qb(b.size)){if(c)return a;if(Qb(a.explicit)===Qb({}))return b;if(Qb(b.explicit)===Qb({}))return a}return null}function qg(a){if(0!==a.children.length){var b;a.children.forEach(a=>{a.component.projection=Hc(a)?bh(a):qg(a)});var c=D(a.children,a=>{if(a=a.component.projection){if(b)return(a=Mi(b,a))&&(b=a),!!a;b=a}return!0});
if(b&&c){const c=a.projectionName(!0),d=new jg(c,b.specifiedProjection,b.size,ec(b.data));a.children.forEach(a=>{const b=a.component.projection;b&&(b.isFit&&d.data.push(...a.component.projection.data),a.renameProjection(b.get("name"),c),b.merged=!0)});return d}}}function Tf(a,b,c,d){if(sb(b,c)){a=Hc(a)?a.axis(c)||a.legend(c)||{}:{};c=ka(b,{expr:"datum"});const e=ka(b,{expr:"datum",binSuffix:"end"});return{formulaAs:ka(b,{binSuffix:"range",forAs:!0}),formula:wc(c,e,a.format,d)}}return{}}function Uf(a,
b,c){c=Fb(c,void 0)||{};b=`${ac(c)}_${b}`;return a.getName(`${b}_bins`)}function ah(a,b,c){let d;d="as"in a?t(a.as)?[a.as,`${a.as}_end`]:[a.as[0],a.as[1]]:[ka(a,{forAs:!0}),ka(a,{binSuffix:"end",forAs:!0})];b=Fb(b,void 0)||{};var e=a.field;e=`${ac(b)}_${e}`;c={signal:c.getName(`${e}_bins`),extentSignal:c.getName(`${e}_extent`)};const {signal:f,extentSignal:g}=c;a=Object.assign({bin:b,field:a.field,as:[d]},f?{signal:f}:{},g?{extentSignal:g}:{});return{key:e,binComponent:a}}function ff(a){for(const b of a){for(const a of b.children)if(a.parent!==
b)return console.error("Dataflow graph is inconsistent.",b,a),!1;if(!ff(b.children))return!1}return!0}function rg(a){return a instanceof Ne||a instanceof ig||a instanceof Qf}function Re(a){return"'"===a[0]&&"'"===a[a.length-1]||'"'===a[0]&&'"'===a[a.length-1]?a.slice(1,-1):a}function Th(a,b){a=g(a);if("number"===b)return`toNumber(${a})`;if("boolean"===b)return`toBoolean(${a})`;if("string"===b)return`toString(${a})`;if("date"===b)return`toDate(${a})`;if("flatten"===b)return a;if(0===b.indexOf("date:"))return b=
Re(b.slice(5,b.length)),`timeParse(${a},'${b}')`;if(0===b.indexOf("utc:"))return b=Re(b.slice(4,b.length)),`utcParse(${a},'${b}')`;E(za.unrecognizedParse(b));return null}function Vf(a){return a.stack.stackBy.reduce((a,b)=>{(b=ka(b.fieldDef))&&a.push(b);return a},[])}function Wf(a){return Ra(a)&&a.every(a=>t(a))&&1<a.length}function Oi(a){function b(c){if(!(c instanceof Df)){const d=c.clone();if(d instanceof Wd){const b="scale_"+d.getSource();d.setSource(b);a.model.component.data.outputNodes[b]=d}else(d instanceof
Ue||d instanceof R||d instanceof Qe||d instanceof q)&&d.addDimensions(a.fields);O(c.children.map(b)).forEach(a=>a.parent=d);return[d]}return O(c.children.map(b))}return b}function Ve(a){if(a instanceof Df)if(1!==a.numChildren()||a.children[0]instanceof Wd){var b=a.model.component.data.main;ch(b);const c=Oi(a);a=O(a.children.map(c));for(const c of a)c.parent=b}else b=a.children[0],(b instanceof Ue||b instanceof R||b instanceof Qe||b instanceof q)&&b.addDimensions(a.fields),b.swapWithParent(),Ve(a);
else a.children.map(Ve)}function ch(a){if(a instanceof Wd&&"main"===a.type&&1===a.numChildren()){const b=a.children[0];b instanceof Df||(b.swapWithParent(),ch(a))}}function gf(a){function b(a){0===a.numChildren()?c.push(a):a.children.forEach(b)}const c=[];a.forEach(b);return c}function Pi(a){return a}function te(a,b){return b.map(b=>a instanceof Ae?(b=a.optimizeNextFromLeaves(b),a.reset(),b):a.run(b)).some(Pi)}function Uh(a,b){let c=a.sources;const d=new Set;d.add(te(new jk,c));c=c.filter(a=>0<a.numChildren());
d.add(te(new sk,gf(c)));c=c.filter(a=>0<a.numChildren());d.add(te(new Qh,gf(c)));d.add(te(new vk(b),gf(c)));d.add(te(new tk,gf(c)));d.add(te(new uk,gf(c)));d.add(te(new Hj,gf(c)));d.add(te(new Rh,gf(c)));d.add(te(new mg,c));d.add(te(new wk,gf(c)));a.sources=c;return d.has(!0)}function fd(a){Hc(a)?yi(a):Ce(a)}function yi(a){const b=a.specifiedScales,c=a.component.scales;ua(c).forEach(d=>{var e=b[d];e=e?e.domain:void 0;var f=a.getScaleComponent(d).get("type");var g=a.scaleDomain(d);var h=a.fieldDef(d),
k=a.config.scale;if("unaggregated"===g){const {valid:a,reason:b}=hf(h,f);a||(E(b),g=void 0)}else void 0===g&&k.useUnaggregatedDomain&&({valid:h}=hf(h,f),h&&(g="unaggregated"));g!==a.scaleDomain(d)&&(a.specifiedScales[d]=Object.assign({},a.specifiedScales[d],{domain:g}));f="x"===d&&a.channelHasField("x2")?a.channelHasField("x")?bf(Zc(f,g,a,"x"),Zc(f,g,a,"x2"),"domain","scale",eh):Zc(f,g,a,"x2"):"y"===d&&a.channelHasField("y2")?a.channelHasField("y")?bf(Zc(f,g,a,"y"),Zc(f,g,a,"y2"),"domain","scale",
eh):Zc(f,g,a,"y2"):Zc(f,g,a,d);g=c[d];g.setWithExplicit("domains",f);e&&e.selection&&g.set("domainRaw",{signal:"_selection_domain_"+J(e)},!0);if(a.component.data.isFaceted){for(e=a;!Sd(e)&&e.parent;)e=e.parent;if("shared"===e.component.resolve.scale[d])for(const a of f.value)Dc(a)&&(a.data="scale_"+a.data.replace("scale_",""))}})}function Ce(a){for(const b of a.children)fd(b);const b=a.component.scales;ua(b).forEach(c=>{let d,e=null;for(const b of a.children){var f=b.component.scales[c];f&&(d=void 0===
d?f.getWithExplicit("domains"):bf(d,f.getWithExplicit("domains"),"domains","scale",eh),f=f.get("domainRaw"),e&&f&&e.signal!==f.signal&&E("The same selection must be used to override scale domains in a layered view."),e=f)}b[c].setWithExplicit("domains",d);e&&b[c].set("domainRaw",e,!0)})}function Ij(a,b,c){return a.map(a=>({signal:`{data: ${ab(a,{timeUnit:c,type:b})}}`}))}function Zc(a,b,c,d){var e=c.fieldDef(d);if(b&&"unaggregated"!==b&&(!b||!b.selection)){const {type:a,timeUnit:c}=e;return"temporal"===
a||c?If(Ij(b,a,c)):If([b])}var f=c.stack;if(f&&d===f.fieldChannel){if("normalize"===f.offset)return Be([[0,1]]);e=c.requestDataName("main");return Be([{data:e,field:c.vgField(d,{suffix:"start"})},{data:e,field:c.vgField(d,{suffix:"end"})}])}f=le[d]?Xf(c,d,a):void 0;if("unaggregated"===b)return d=c.requestDataName("main"),{field:e}=e,Be([{data:d,field:ka({field:e,aggregate:"min"})},{data:d,field:ka({field:e,aggregate:"max"})}]);if(gb(e.bin)){if(a in ad)return"bin-ordinal"===a?Be([]):Be([{data:!0===
f||!1===f?c.requestDataName("main"):c.requestDataName("raw"),field:c.vgField(d,sb(e,d)?{binSuffix:"range"}:{}),sort:!0!==f&&w(f)?f:{field:c.vgField(d,{}),op:"min"}}]);({bin:a}=e);if(gb(a)){const b=Uf(c,e.field,a);return Be([new qf(()=>{const a=c.getSignalName(b);return`[${a}.start, ${a}.stop]`})])}return Be([{data:c.requestDataName("main"),field:c.vgField(d,{})}])}return f?Be([{data:!0===f||!1===f?c.requestDataName("main"):c.requestDataName("raw"),field:c.vgField(d),sort:f}]):Be([{data:c.requestDataName("main"),
field:c.vgField(d)}])}function Bg(a,b){const {op:c,field:d,order:e}=a;return Object.assign({op:c||(b?"sum":"mean")},d?{field:M(d)}:{},e?{order:e}:{})}function Xf(a,b,c){if(c in ad){var d=a.fieldDef(b);c=d.sort;if(ra(c))return{op:"min",field:y(d,b),order:"ascending"};d=null!==a.stack;if(Y(c))return Bg(c,d);if(c&&c.encoding){const {encoding:b,order:e}=c,{aggregate:f,field:g}=a.fieldDef(b);return Bg({op:f,field:g,order:e},d)}if("descending"===c)return{op:"min",field:a.vgField(b),order:"descending"};
if(k(["ascending",void 0],c))return!0}}function hf(a,b){const {aggregate:c,type:d}=a;return c?t(c)&&!Zg[c]?{valid:!1,reason:za.unaggregateDomainWithNonSharedDomainOp(c)}:"quantitative"===d&&"log"===b?{valid:!1,reason:za.unaggregatedDomainWithLogScale(a)}:{valid:!0}:{valid:!1,reason:za.unaggregateDomainHasNoEffectForRawField(a)}}function eh(a,b,c,d){a.explicit&&b.explicit&&E(za.mergeConflictingDomainProperty(c,d,a.value,b.value));return{explicit:a.explicit,value:[...a.value,...b.value]}}function dh(a){var b=
h(a.map(a=>Dc(a)?sa(a,["sort"]):a),J),c=h(a.map(a=>{if(Dc(a))return a=a.sort,void 0!==a&&!0!==a&&!1!==a&&("count"===a.op&&delete a.field,"ascending"===a.order&&delete a.order),a}).filter(a=>void 0!==a),J);if(0!==b.length){if(1===b.length){b=a[0];if(Dc(b)&&0<c.length){var d=c[0];1<c.length&&(E(za.MORE_THAN_ONE_SORT),d=!0);return Object.assign({},b,{sort:d})}return b}c=h(c.map(a=>{if(!0===a||!1===a||"count"===a.op)return a;E(za.domainSortDropped(a));return!0}),J);1===c.length?d=c[0]:1<c.length&&(E(za.MORE_THAN_ONE_SORT),
d=!0);c=h(a.map(a=>Dc(a)?a.data:null),a=>a);return 1===c.length&&null!==c[0]?Object.assign({data:c[0],fields:b.map(a=>a.field)},d?{sort:d}:{}):Object.assign({fields:b},d?{sort:d}:{})}}function fh(a){if(Dc(a)&&t(a.field))return a.field;var b=Ra(a)?!1:"fields"in a&&!("data"in a);if(b){let b;for(const c of a.fields)if(Dc(c)&&t(c.field))if(!b)b=c.field;else if(b!==c.field)return E("Detected faceted independent scales that union domain of multiple fields from different data sources.  We will use the first field.  The result view size may be incorrect."),
b;E("Detected faceted independent scales that union domain of identical fields from different source detected.  We will assume that this is the same field from a different fork of the same data source.  However, if this is not case, the result view size maybe incorrect.");return b}b=Ra(a)?!1:"fields"in a&&"data"in a;if(b)return E("Detected faceted independent scales that union domain of multiple fields from the same data source.  We will use the first field.  The result view size may be incorrect."),
a=a.fields[0],t(a)?a:void 0}function tg(a,b){b=a.component.scales[b].get("domains").map(b=>{Dc(b)&&(b.data=a.lookupDataSource(b.data));return b});return dh(b)}function oj(a){return Te(a)||a&&"concat"===a.type||a&&"repeat"===a.type?a.children.reduce((a,b)=>a.concat(oj(b)),gh(a)):gh(a)}function gh(a){return ua(a.component.scales).reduce((b,c)=>{var d=a.component.scales[c];if(d.merged)return b;var e=d.combine();({domainRaw:d}=e);const {name:f,type:g}=e,h=sa(e,["name","type","domains","domainRaw","range"]);
e=e.range;e="x"!==c&&"y"!==c||!tb(e)?e:{step:{signal:f+"_step"}};d&&0<=d.signal.indexOf("_selection_domain_")&&(d=tf(a,d));c=tg(a,c);b.push(Object.assign({name:f,type:g},c?{domain:c}:{},d?{domainRaw:d}:{},{range:e},h));return b},[])}function sg(a){return"x"===a?"width":"y"===a?"height":void 0}function Vh(a){const b=a.component.scales;cg.forEach(c=>{const d=b[c];if(d){var e=a.getScaleComponent(c),f=a.specifiedScales[c],g=a.fieldDef(c),h=sg(c),l=h?!!a.component.layoutSize.get(h):void 0;e=e.get("type");
var ja=k(["point","band"],e)||!!f.rangeStep;h&&a.fit&&!l&&ja&&(E(za.CANNOT_FIX_RANGE_STEP_WITH_FIT),l=!0);ja=[];for(n of Gf){var m=Wh(a,n);void 0!==m&&ja.push(m)}var n=ja;a:{ja=a.getSignalName.bind(a);var q=g.type;g=a.config;var p=d.get("zero");m=a.mark;h=a.getName(h);const b=l||null===f.rangeStep;for(var t of xk)if(void 0!==f[t]){var r=lb(e,t);const a=ld(c,t);if(r)if(a)E(a);else switch(t){case "range":c=If(f[t]);break a;case "scheme":c=(c=f[t])&&c.name?Object.assign({scheme:c.name},z(c,["name"])):
{scheme:c};c=If(c);break a;case "rangeStep":if(r=f[t],null!==r)if(l)E(za.rangeStepDropped(c));else{c=If({step:r});break a}}else E(za.scalePropertyNotWorkWithScaleType(e,t,c))}b:{t=b;f=f.domain;switch(c){case "x":case "y":if(k(["point","band"],e)&&!t)if("x"===c&&"text"===m){if(g.scale.textXRangeStep){c={step:g.scale.textXRangeStep};break b}}else if(g.scale.rangeStep){c={step:g.scale.rangeStep};break b}c="y"===c&&e in pd?[qf.fromName(ja,h),0]:[0,qf.fromName(ja,h)];break b;case "size":t=Ri(m,p,g);n=
Qi(m,n,g);if(e in eg){c:{switch(e){case "quantile":c=g.scale.quantileCount;break c;case "quantize":c=g.scale.quantizeCount;break c;case "threshold":void 0!==f&&Ra(f)?c=f.length+1:(E(za.domainRequiredForThresholdScale(c)),c=3);break c}c=void 0}c=Si(t,n,c);break b}c=[t,n];break b;case "strokeWidth":c=[g.scale.minStrokeWidth,g.scale.maxStrokeWidth];break b;case "shape":c="symbol";break b;case "color":case "fill":case "stroke":c="ordinal"===e?"nominal"===q?"category":"ordinal":"rect"===m||"geoshape"===
m?"heatmap":"ramp";break b;case "opacity":case "fillOpacity":case "strokeOpacity":c=[g.scale.minOpacity,g.scale.maxOpacity];break b}throw Error(`Scale range undefined for channel ${c}`);}c=Be(c)}d.setWithExplicit("range",c)}})}function Wh(a,b){const c=a.getScaleComponent(b);if(c){var d=c.get("type"),e=a.fieldDef(b);if(d in ad){if((b=c&&c.get("range"))&&tb(b)&&T(b.step))return b.step}else if(e&&e.bin&&gb(e.bin)){const c=Uf(a,e.field,e.bin);b=sg(b);const d=a.getName(b);return new qf(()=>{var b=a.getSignalName(c);
b=`(${b}.stop - ${b}.start) / ${b}.step`;return`${a.getSignalName(d)} / (${b})`})}}}function Si(a,b,c){const d=()=>{const d=`(${b.signal?b.signal:b} - ${a}) / (${c} - 1)`;return`sequence(${a}, ${b} + ${d}, ${d})`};return b.signal?new qf(d):{signal:d()}}function Ri(a,b,c){if(b)return 0;switch(a){case "bar":case "tick":return c.scale.minBandSize;case "line":case "trail":case "rule":return c.scale.minStrokeWidth;case "text":return c.scale.minFontSize;case "point":case "square":case "circle":return c.scale.minSize}throw Error(za.incompatibleChannel("size",
a));}function Qi(a,b,c){const d=c.scale;switch(a){case "bar":case "tick":{if(void 0!==c.scale.maxBandSize)return c.scale.maxBandSize;const a=Xg(b,c.scale);return T(a)?a-1:new qf(()=>`${a.signal} - 1`)}case "line":case "trail":case "rule":return c.scale.maxStrokeWidth;case "text":return c.scale.maxFontSize;case "point":case "square":case "circle":{if(c.scale.maxSize)return c.scale.maxSize;const a=Xg(b,d);return T(a)?Math.pow(.95*a,2):new qf(()=>`pow(${.95} * ${a.signal}, 2)`)}}throw Error(za.incompatibleChannel("size",
a));}function Xg(a,b){if(0<a.length){b=Infinity;for(const c of a)c.signal?b=void 0:void 0!==b&&c<b&&(b=c);return void 0!==b?b:new qf(()=>`min(${a.map(a=>a.signal?a.signal:a).join(", ")})`)}return b.rangeStep?b.rangeStep:21}function ji(a,b){Hc(a)?Yf(a,b):zi(a,b)}function Yf(a,b){const c=a.component.scales;ua(c).forEach(d=>{const e=a.specifiedScales[d],f=c[d],g=a.getScaleComponent(d),h=a.fieldDef(d),k=a.config,l=e[b],m=g.get("type"),ja=lb(m,b),n=ld(d,b);void 0!==l&&(ja?n&&E(n):E(za.scalePropertyNotWorkWithScaleType(m,
b,d)));ja&&void 0===n&&(void 0!==l?f.copyKeyFromObject(b,e):(d=Xh(b,a,d,h,g.get("type"),g.get("padding"),g.get("paddingInner"),e.domain,a.markDef,k),void 0!==d&&f.set(b,d,!1)))})}function Xh(a,b,c,d,e,f,g,h,l,m){const ja=m.scale,{type:n,sort:q}=d;switch(a){case "bins":return sj(b,d);case "interpolate":return c=k(["color","fill","stroke"],c)&&"nominal"!==n?"hcl":void 0,c;case "nice":return c=d.bin||k([yc.TIME,yc.UTC],e)?void 0:k(["x","y"],c)?!0:void 0,c;case "padding":a:{f=m.bar;if(k(["x","y"],c)){if(e in
Yc){if(void 0!==ja.continuousPadding){c=ja.continuousPadding;break a}const {type:a,orient:b}=l;if("bar"===a&&!d.bin&&("vertical"===b&&"x"===c||"horizontal"===b&&"y"===c)){c=f.continuousBandSize;break a}}if(e===yc.POINT){c=ja.pointPadding;break a}}c=void 0}return c;case "paddingInner":e=l.type;if(void 0!==f)c=void 0;else if(k(["x","y"],c)){const {bandPaddingInner:a,barBandPaddingInner:b,rectBandPaddingInner:d}=ja;c=la(a,"bar"===e?b:d)}else c=void 0;return c;case "paddingOuter":d=l.type;if(void 0!==
f)c=void 0;else if(k(["x","y"],c)&&e===yc.BAND){const {bandPaddingOuter:a,barBandPaddingOuter:b,rectBandPaddingOuter:e}=ja;c=la(a,"bar"===d?b:e,g/2)}else c=void 0;return c;case "reverse":return c=e in pd&&"descending"===q?!0:void 0,c;case "zero":a:if(h&&"unaggregated"!==h&&e in pd){if(Ra(h)&&(c=h[h.length-1],0>=h[0]&&0<=c)){c=!0;break a}c=!1}else if("size"!==c||"quantitative"!==d.type||e in eg)if(!d.bin&&k(["x","y"],c)){const {orient:a,type:b}=l;c=k(["bar","area","line","trail"],b)&&("horizontal"===
a&&"y"===c||"vertical"===a&&"x"===c)?!1:!0}else c=!1;else c=!0;return c}return ja[a]}function Yh(a){Hc(a)?Vh(a):zi(a,"range")}function zi(a,b){const c=a.component.scales;for(const c of a.children)"range"===b?Yh(c):ji(c,b);ua(c).forEach(d=>{let e;for(const c of a.children){var f=c.component.scales[d];f&&(f=f.getWithExplicit(b),e=bf(e,f,b,"scale",oi((a,c)=>{switch(b){case "range":if(a.step&&c.step)return a.step-c.step}return 0})))}c[d].setWithExplicit(b,e)})}function sj(a,b){const c=b.bin;if(gb(c)){const d=
Uf(a,b.field,c);return new qf(()=>a.getSignalName(d))}if(db(c)&&w(c)&&void 0!==c.step)return{step:c.step}}function tj(a,b,c){switch(b.type){case "nominal":case "ordinal":return Ba(a)||"discrete"===m(a)?("shape"===a&&"ordinal"===b.type&&E(za.discreteChannelCannotEncode(a,"ordinal")),"ordinal"):k(["x","y"],a)&&(k(["rect","bar","rule"],c)||"bar"===c)?"band":"point";case "temporal":return Ba(a)||"discrete"!==m(a)?"time":(E(za.discreteChannelCannotEncode(a,"temporal")),"ordinal");case "quantitative":if(Ba(a)){if(gb(b.bin))return"bin-ordinal"}else if("discrete"===
m(a))return E(za.discreteChannelCannotEncode(a,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error(za.invalidFieldType(b.type));}function Ai(a){Hc(a)?a.component.scales=ug(a):a.component.scales=Ti(a)}function ug(a){const {encoding:b,mark:c}=a;return cg.reduce((d,e)=>{let f;var g=b[e];if(pa(g)&&"geoshape"===c&&"shape"===e&&"geojson"===g.type)return d;if(pa(g)){var h=g;f=g.scale}else Ja(g)&&(h=g.condition,f=g.condition.scale);if(h&&null!==f&&!1!==f){f=f||{};{g=f;const a=tj(e,
h,c);({type:g}=g);le[e]?void 0!==g?Gd(e,g)?ke(g,h.type)||(E(za.scaleTypeNotWorkWithFieldDef(g,a)),g=a):(E(za.scaleTypeNotWorkWithChannel(e,g,a)),g=a):g=a:g=null}d[e]=new kk(a.scaleName(e+"",!0),{value:g,explicit:f.type===g})}return d},{})}function Ti(a){const b=a.component.scales={},c={},d=a.component.resolve;for(const b of a.children)Ai(b),ua(b.component.scales).forEach(e=>{var f=d.scale,g;if(!(g=d.scale[e]))if(Te(a)||Sd(a))g="shared";else if(a&&"concat"===a.type||a&&"repeat"===a.type)g=k(Gf,e)?
"independent":"shared";else throw Error("invalid model type for resolve");f[e]=g;if("shared"===d.scale[e])if(f=c[e],g=b.component.scales[e].getWithExplicit("type"),f){{var h=ve[f.value];const a=ve[g.value];h=h===a||"ordinal-position"===h&&"time"===a||"ordinal-position"===a&&"time"===h}h?c[e]=bf(f,g,"type","scale",yk):(d.scale[e]="independent",delete c[e])}else c[e]=g});ua(c).forEach(d=>{const e=a.scaleName(d,!0);b[d]=new kk(e,c[d]);for(const b of a.children){const a=b.component.scales[d];a&&(b.renameScale(a.get("name"),
e),a.merged=!0)}});return b}function Hc(a){return a&&"unit"===a.type}function Sd(a){return a&&"facet"===a.type}function Te(a){return a&&"layer"===a.type}function ue(a){function b(d,e){d instanceof Ne&&!d.isGenerator&&!d.data.url&&(a.push(e),e={name:null,source:e.name,transform:[]});d instanceof $d&&(d.parent instanceof Ne&&!e.source?(e.format=Object.assign({},e.format||{},{parse:d.assembleFormatParse()}),e.transform.push(...d.assembleTransforms(!0))):e.transform.push(...d.assembleTransforms()));if(d instanceof
Df)e.name||(e.name=`data_${c++}`),!e.source||0<e.transform.length?(a.push(e),d.data=e.name):d.data=e.source,d.assemble().forEach(b=>a.push(b));else switch((d instanceof ig||d instanceof Qf||d instanceof ej||d instanceof ih||d instanceof Gc||d instanceof vh||d instanceof gi||d instanceof Ue||d instanceof Ej||d instanceof Qe||d instanceof q||d instanceof Rj||d instanceof Qj||d instanceof Fe||d instanceof ik)&&e.transform.push(d.assemble()),(d instanceof Rd||d instanceof ge||d instanceof wh||d instanceof
R)&&e.transform.push(...d.assemble()),d instanceof Wd&&(e.source&&0===e.transform.length?d.setSource(e.source):d.parent instanceof Wd?d.setSource(e.name):(e.name||(e.name=`data_${c++}`),d.setSource(e.name),1===d.numChildren()&&(a.push(e),e={name:null,source:e.name,transform:[]}))),d.numChildren()){case 0:d instanceof Wd&&(!e.source||0<e.transform.length)&&a.push(e);break;case 1:b(d.children[0],e);break;default:{e.name||(e.name=`data_${c++}`);let f=e.name;!e.source||0<e.transform.length?a.push(e):
f=e.source;d.children.forEach(a=>{b(a,{name:null,source:f,transform:[]})})}}}let c=0;return b}function jf(a){const b=[],c=ue(b);a.children.forEach(b=>c(b,{source:a.name,name:null,transform:[]}));return b}function kf(a,b){const c=[],d=ue(c);let e=0;a.sources.forEach(a=>{a.hasName()||(a.dataName=`source_${e++}`);const b=a.assemble();d(a,b)});c.forEach(a=>{0===a.transform.length&&delete a.transform});let f=0;for(const [a,b]of c.entries())0!==(b.transform||[]).length||b.source||c.splice(f++,0,c.splice(a,
1)[0]);for(const b of c)for(const c of b.transform||[])"lookup"===c.type&&(c.from=a.outputNodes[c.from].getSource());for(const a of c)a.name in b&&(a.values=b[a.name]);return c}function Se(a,b,c){b="row"===b?"height":"width";return{labels:c,sizeSignal:a.child.component.layoutSize.get(b)?a.child.getSizeSignalRef(b):void 0,axes:[]}}function Zf(a,b){var {child:c}=a;if(c.component.axes[b]){const {layoutHeaders:d,resolve:e}=a.component;e.axis[b]=Ag(e,b);if("shared"===e.axis[b]){const e="x"===b?"column":
"row",f=d[e];for(const d of c.component.axes[b])b=d.get("orient"),b="top"===b||"left"===b?"header":"footer",f[b]=f[b]||[Se(a,e,!1)],c=Ka(d,"main",a.config,{header:!0}),f[b][0].axes.push(c),d.mainExtracted=!0}}}function $f(a){Ef(a);const b=a.component.layoutSize;b.setWithExplicit("width",vg(a,"width"));b.setWithExplicit("height",vg(a,"height"))}function Ef(a){for(const b of a.children)b.parseLayoutSize()}function vg(a,b){const c="width"===b?"x":"y",d=a.component.resolve;let e;for(const f of a.children){const a=
f.component.layoutSize.getWithExplicit(b),g=d.scale[c];if("independent"===g&&"range-step"===a.value){e=void 0;break}if(e){if("independent"===g&&e.value!==a.value){e=void 0;break}e=bf(e,a,b,"")}else e=a}if(e){for(const c of a.children)a.renameSignal(c.getName(b),a.getName(b)),c.component.layoutSize.set(b,"merged",!1);return e}return{explicit:!1,value:void 0}}function Ui(a,b){const c=a.config;var d=a.getScaleComponent("width"===b?"x":"y");return d?(a=d.get("type"),d=d.get("range"),a in ad&&tb(d)?"range-step":
c.view[b]):a.hasProjection?c.view[b]:"width"===b&&"text"===a.mark?c.scale.textXRangeStep:c.scale.rangeStep||Ye.rangeStep}function Zh(a,b){var c=a.field;if(c&&!t(c)&&"repeat"in c){if(a.field.repeat in b)return Object.assign({},a,{field:b[a.field.repeat]});E(za.noSuchRepeatedValue(a.field.repeat))}else return a}function kh(a,b){a=Zh(a,b);if(void 0!==a){if(null===a)return null;var c=a;ub(c)&&c.sort&&Y(a.sort)&&(b=Zh(a.sort,b),a=Object.assign({},a,b?{sort:b}:{}));return a}}function jh(a,b){if(pa(a)){if(b=
kh(a,b))return b;if(a&&a.condition)return{condition:a.condition}}else return Ja(a)?(b=kh(a.condition,b))?Object.assign({},a,{condition:b}):sa(a,["condition"]):a}function uj(a,b){const c={};for(const e in a)if(a.hasOwnProperty(e)){var d=a[e];Ra(d)?c[e]=d.map(a=>jh(a,b)).filter(a=>a):(d=jh(d,b),void 0!==d&&(c[e]=d))}return c}function Oh(a,b,c){return ka(b,Object.assign({suffix:`by_${ka(a)}`},c||{}))}function Ph(a,b){for(const c of b)if(b=c.data,!(a.name&&c.hasName()&&a.name!==c.dataName||a.format&&
a.format.mesh&&b.format&&b.format.feature))if(a.values&&b.values){if(Zi(a.values,b.values))return c}else if(a.url&&b.url){if(a.url===b.url)return c}else if(Ha(a)&&a.name===c.dataName)return c;return null}function Jj(a,b){if(void 0===a.data&&a.parent)return a.parent.component.data.facetRoot?a.parent.component.data.facetRoot:a.parent.component.data.main;{if(null===a.data)return a=new Ne([]),b.push(a),a;const d=Ph(a.data,b);if(d)return eb(a.data)||(d.data.format=c({},a.data.format,d.data.format)),!d.hasName()&&
a.data.name&&(d.dataName=a.data.name),d;a=new Ne(a.data);b.push(a);return a}}function lh(a){var b=Jj(a,a.component.data.sources);const {outputNodes:c,outputNodeRefCounts:d}=a.component.data,e=a.parent?a.parent.component.data.ancestorParse.clone():new zk;var f=a.data;eb(f)?(f.sequence?b=new Qf(b,f.sequence):f.graticule&&(b=new ig(b,f.graticule)),e.parseNothing=!0):f&&f.format&&null===f.format.parse&&(e.parseNothing=!0);b=$d.makeExplicit(b,a,e)||b;!zf(a)||!Hc(a)&&!Te(a)||a.parent&&Te(a.parent)||(b=
new Fe(b));f=a.parent&&Te(a.parent);(Hc(a)||Sd(a))&&f&&(b=Rd.makeFromEncoding(b,a)||b);if(0<a.transforms.length){var g=0;for(var h of a.transforms){let c=void 0;if(void 0!==h.calculate){var k=b=new Gc(b,h);c="derived"}else if(void 0!==h.filter)k=b=$d.makeImplicitFromFilterTransform(b,h,e)||b,b=new ih(b,a,h.filter);else if(h.bin)k=b=Rd.makeFromTransform(b,h,a),c="number";else if(void 0!==h.timeUnit)c="date",void 0===e.getWithExplicit(h.field).value&&(b=new $d(b,{[h.field]:c}),e.set(h.field,c,!1)),
k=b=ge.makeFromTransform(b,h);else if(void 0!==h.aggregate)k=b=Ue.makeFromTransform(b,h),c="number",zf(a)&&(b=new Fe(b));else if(void 0!==h.lookup)k=b=Ej.make(b,a,h,g++),c="derived";else if(void 0!==h.window)k=b=new Qe(b,h),c="number";else if(void 0!==h.joinaggregate)k=b=new q(b,h),c="number";else if(void 0!==h.stack)k=b=R.makeFromTransform(b,h),c="derived";else if(void 0!==h.fold)k=b=new Rj(b,h),c="derived";else if(void 0!==h.flatten)k=b=new Qj(b,h),c="derived";else if(void 0!==h.sample)b=new ik(b,
h);else if(void 0!==h.impute)k=b=wh.makeFromTransform(b,h),c="derived";else{E(za.invalidTransformIgnored(h));continue}if(k&&void 0!==c)for(var l of k.producedFields())e.set(l,c,!1)}}b=$d.makeImplicitFromEncoding(b,a,e)||b;Hc(a)&&(b=gi.parseAll(b,a),b=vh.parseAll(b,a));if(Hc(a)||Sd(a))f||(b=Rd.makeFromEncoding(b,a)||b),b=ge.makeFromEncoding(b,a)||b,b=Gc.parseAllForSortIndex(b,a);k=a.getName("raw");h=new Wd(b,k,"raw",d);b=c[k]=h;if(Hc(a)){if(k=Ue.makeFromEncoding(b,a))b=k,zf(a)&&(b=new Fe(b));b=wh.makeFromEncoding(b,
a)||b;b=R.makeFromEncoding(b,a)||b}Hc(a)&&(b=ej.make(b,a)||b);l=a.getName("main");k=new Wd(b,l,"main",d);b=c[l]=k;f=null;if(Sd(a)){l=a.getName("facet");b=Gc.parseAllForSortIndex(b,a);{f=b;const {row:c,column:d}=a.facet;if(c&&d){g=null;for(m of[c,d])if(Y(m.sort)){const {field:a,op:b="mean"}=m.sort;f=g=new q(f,{joinaggregate:[{op:b,field:a,as:Oh(m,m.sort,{forAs:!0})}],groupby:[ka(m)]})}var m=g}else m=null}f=new Df(m||b,a,l,k.getSource());c[l]=f}return Object.assign({},a.component.data,{outputNodes:c,
outputNodeRefCounts:d,raw:h,main:k,facetRoot:f,ancestorParse:e})}function mh(a){return Gf.reduce((b,c)=>{a.component.scales[c]&&a.axis(c)&&(b[c]=[Wi(c,a)]);return b},{})}function wg(a,b){if(a){if(a.length!==b.length)return;const c=a.length;for(let d=0;d<c;d++){const c=a[d],e=b[d];if(!!c!==!!e)return;if(c&&e){const b=c.getWithExplicit("orient"),f=e.getWithExplicit("orient");if(b.explicit&&f.explicit&&b.value!==f.value)return;a[d]=ak(c,e)}}}else return b.map(a=>a.clone());return a}function ak(a,b){for(const c of qe){const d=
bf(a.getWithExplicit(c),b.getWithExplicit(c),c,"axis",(a,b)=>{switch(c){case "title":return qd(a,b);case "gridScale":return{explicit:a.explicit,value:la(a.value,b.value)}}return Ke(a,b,c,"axis")});a.setWithExplicit(c,d)}return a}function Vi(a,b){var c="x"===b?"x2":"y2";b=a.fieldDef(b);a=a.fieldDef(c);c=b?b.title:void 0;a=a?a.title:void 0;if(c&&a)return c!==a&&a?c?c+", "+a:a:c;if(c)return c;if(a)return a;if(void 0!==c)return c;if(void 0!==a)return a}function Wi(a,b){const c=b.axis(a),d=new ok;qe.forEach(e=>
{const f=Xi(e,c,a,b);if(void 0!==f){a:{switch(e){case "titleAngle":case "labelAngle":var g=f===(c[e]%360+360)%360;break a;case "values":g=!!c.values;break a;case "encode":g=!!c.encoding||!!c.labelAngle;break a;case "title":if(f===Vi(b,a)){g=!0;break a}}g=f===c[e]}const h=Pb(e,b.config,a,d.get("orient"),b.getScaleComponent(a).get("type"));g||void 0===h?d.set(e,f,g):k(["grid","orient"],e)&&h&&d.set(e,h,!1)}});const e=c.encoding||{},f=Fg.reduce((c,f)=>{if(!d.hasAxisPart(f))return c;var g=Ze(e[f]||{},
b);if("labels"===f){{var h=b.fieldDef(a)||("x"===a?b.fieldDef("x2"):"y"===a?b.fieldDef("y2"):void 0);const c=b.axis(a),d=b.config;let e={};if(Sb(h)){const f=b.getScaleComponent(a).get("type")===yc.UTC;if(h=Ta("datum.value",h.timeUnit,c.format,d.axis.shortTimeLabels,null,f))e.text={signal:h}}e=Object.assign({},e,g);g=0===ua(e).length?void 0:e}}void 0!==g&&0<ua(g).length&&(c[f]={update:g});return c},{});0<ua(f).length&&d.set("encode",f,!!c.encoding||void 0!==c.labelAngle);return d}function Xi(a,b,c,
d){var e=d.fieldDef(c);if(void 0!==b.labelAngle)var f=(b.labelAngle%360+360)%360;else f=Pb("labelAngle",d.config,c,Fa(c),d.getScaleComponent(c).get("type")),f=void 0!==f?(f%360+360)%360:"x"===c&&k(["nominal","ordinal"],e.type)?270:void 0;const g=la(b.orient,Fa(c));switch(a){case "scale":return d.scaleName(c);case "gridScale":return e="x"===c?"y":"x",e=d.getScaleComponent(e)?d.scaleName(e):void 0,e;case "format":return Sb(e)?void 0:Qc(e,b.format,d.config);case "formatType":return Sb(e)?void 0:b.formatType;
case "grid":if(db(d.fieldDef(c).bin))return!1;d=d.getScaleComponent(c).get("type");b=b.grid;e=!(d in ad)&&!gb(e.bin);return la(b,e);case "labelAlign":return la(b.labelAlign,La(f,g));case "labelAngle":return f;case "labelBaseline":return la(b.labelBaseline,Ub(f,g));case "labelFlush":return b=b.labelFlush,e="x"===c&&k(["quantitative","temporal"],e.type)?!0:void 0,la(b,e);case "labelOverlap":return d=d.getScaleComponent(c).get("type"),b=b.labelOverlap,e="nominal"!==e.type?"log"===d?"greedy":!0:void 0,
la(b,e);case "orient":return g;case "tickCount":return a=d.getScaleComponent(c).get("type"),d=(c="x"===c?"width":"y"===c?"height":void 0)?d.getSizeSignalRef(c):void 0,la(b.tickCount,bb({fieldDef:e,scaleType:a,size:d}));case "title":return a=d.fieldDef("x"===c?"x2":"y2"),la(b.title,Vi(d,c),Da([qb(e)],a?[qb(a)]:[]));case "values":return e=(b=b.values)?fc(e,b):void 0,e}return Sj[a]?b[a]:void 0}function $h(a,b,c){switch(a){case "point":case "circle":case "square":case "text":case "rect":return}const {x:d,
y:e,x2:f,y2:g}=b;switch(a){case "bar":if(pa(d)&&db(d.bin))break;if(pa(e)&&db(e.bin))return"horizontal";if(g||f){if(c)return c;if(!f&&pa(d)&&"quantitative"===d.type&&!gb(d.bin))return"horizontal";if(!g&&pa(e)&&"quantitative"===e.type&&!gb(e.bin))break}case "rule":if(f&&g)return;case "area":if(g){if(pa(e)&&db(e.bin))return"horizontal";break}else if(f)if(pa(d)&&db(d.bin))break;else return"horizontal";else if("rule"===a)if(b.x&&!b.y)break;else if(b.y&&!b.x)return"horizontal";case "line":case "tick":var h=
pa(b.x)&&!Cb(b.x),k=pa(b.y)&&!Cb(b.y);if(h&&!k)return"tick"!==a?"horizontal":"vertical";if(!h&&k)return"tick"!==a?"vertical":"horizontal";if(h&&k){h=b.x;b=b.y;k="temporal"===h.type;const d="temporal"===b.type;if(k&&!d)return"tick"!==a?"vertical":"horizontal";if(!k&&d)return"tick"!==a?"horizontal":"vertical";if(!h.aggregate&&b.aggregate)return"tick"!==a?"vertical":"horizontal";if(h.aggregate&&!b.aggregate)return"tick"!==a?"horizontal":"vertical";if(c)return c}else{if(c)return c;return}}return"vertical"}
function ag(a,b,c){const {config:d,encoding:e,markDef:f}=a,g="x"===b?"x2":"y2";var h="x"===b?"width":"height",k=e[b];const l=e[g];var m=a.getScaleComponent(b);const n=m?m.get("type"):void 0;var ja=a.scaleName(b),q=f.orient;const p=e[h]||e.size||f[h]||f.size||Aa("size",f,d,{vgChannel:h});q="x"===b?"vertical"===q:"horizontal"===q;if(!pa(k)||!gb(k.bin)&&!db(k.bin)||p||n in ad){if((pa(k)&&n in ad||q)&&!l){if(pa(k)&&n===yc.BAND){a:{c=Ih(c,f,h,ja,m,d);h=a.scaleName(b);m="x"===b?"width":"height";if(a.encoding.size||
void 0!==a.markDef.size||c&&void 0!==c.value)if(a.markDef.orient)if(ja={[b+"c"]:he(k,h,{},{band:.5})},Eb(a.encoding.size)){a=Object.assign({},ja,sd("size",a,{vgChannel:m}));break a}else if(Va(a.encoding.size)){a=Object.assign({},ja,sd("size",a,{vgChannel:m}));break a}else if(void 0!==a.markDef.size){a=Object.assign({},ja,{[m]:{value:a.markDef.size}});break a}else{if(c&&void 0!==c.value){a=Object.assign({},ja,{[m]:c});break a}}else E(za.cannotApplySizeToNonOrientedMark(a.markDef.type));a={[b]:he(k,
h,{binSuffix:"range"},{}),[m]:c||Cf(h)}}return a}k=Zd(a[h]);c=Ih(c,f,h,ja,m,d);h="x"===b?"width":"height";return a=Object.assign({},Ed(b,a,k,"x"===b?"xc":"yc"),sd("size",a,{defaultRef:c,vgChannel:h}))}return Object.assign({},Ed(b,a,"zeroOrMax"),Ee(a,"zeroOrMin",g))}return ii({fieldDef:k,fieldDef2:l,channel:b,mark:c,scaleName:ja,spacing:la(f.binSpacing,d[c].binSpacing),reverse:m.get("reverse")})}function Ih(a,b,c,d,e,f){b=la(b[c],b.size,Aa("size",b,f,{vgChannel:c}));if(void 0!==b)return{value:b};if(e)if(b=
e.get("type"),"point"===b||"band"===b){if(void 0!==f[a].discreteBandSize)return{value:f[a].discreteBandSize};if(b===yc.POINT){d=e.get("range");if(tb(d)&&T(d.step))return{value:d.step-1};E(za.BAR_WITH_POINT_SCALE_AND_RANGESTEP_NULL)}else return Cf(d)}else return{value:f[a].continuousBandSize};return{value:la(f[a].discreteBandSize,f.scale.rangeStep?f.scale.rangeStep-1:void 0,20)}}function Tg(a,b){const {width:c,height:d}=a;return Object.assign({},Pe(a,{size:"include",orient:"ignore"}),Ed("x",a,Zd(c)),
Ed("y",a,Zd(d)),sd("size",a),b?{shape:{value:b}}:sd("shape",a))}function ti(a,b,c){if(void 0===(a.align||Aa("align",a,c)))return"center"}function Xj(a,b,c){if(void 0===(a.baseline||Aa("baseline",a,c)))return"middle"}function Bi(a){const {config:b,markDef:c}=a,{orient:d}=c;var e="horizontal"===d?"width":"height";a=a.getScaleComponent("horizontal"===d?"x":"y");e=la(c[e],c.size,Aa("size",c,b,{vgChannel:e}),b.tick.bandSize);if(void 0!==e)return e;e=(e=a?a.get("range"):void 0)&&tb(e)?e.step:b.scale.rangeStep;
if("number"!==typeof e)throw Error("Function does not handle non-numeric rangeStep");return 3*e/4}function We(a,b={fromPrefix:""}){const c=a.mark;var d=a.markDef.clip;var e=a.getScaleComponent("x");var f=a.getScaleComponent("y");e=e&&e.get("domainRaw")||f&&f.get("domainRaw")?!0:void 0;f=(f=a.component.projection)&&!f.isFit?!0:void 0;d=la(d,e,f);e=a.markDef;e=[].concat(e.type,e.style||[]);f=a.encoding.key;a:{const {encoding:b,stack:c,mark:d,markDef:e,config:f}=a;var g=b.order;if(!(!Ra(g)&&Va(g)&&p(g.value)||
!g&&p(e.order)||p(Aa("order",e,f)))){if((Ra(g)||pa(g))&&!c){g=Z(g,{expr:"datum"});break a}if(Wb(d)){g="horizontal"===e.orient?"y":"x";var h=b[g];if(pa(h)){const b=h.sort;g=Ra(b)?{field:ka(h,{prefix:g,suffix:"sort_index",expr:"datum"})}:Y(b)?{field:ka({aggregate:jc(a.encoding)?b.op:void 0,field:b.field},{expr:"datum"})}:{field:ka(h,{binSuffix:a.stack&&a.stack.impute?"mid":void 0,expr:"datum"})};break a}}}g=void 0}h=Fj[c].postEncodingTransform?Fj[c].postEncodingTransform(a):null;return[Object.assign({name:a.getName("marks"),
type:Fj[c].vgMark},d?{clip:!0}:{},e?{style:e}:{},f?{key:{field:f.field}}:{},g?{sort:g}:{},{from:{data:b.fromPrefix+a.requestDataName("main")},encode:{update:Fj[c].encodeEntry(a)}},h?{transform:h}:{})]}function nh(a,b){const c={},d=a.config.selection;b&&(b=ec(b));for(let e in b){if(!b.hasOwnProperty(e))continue;const f=b[e],g=sa(d[f.type],["fields","encodings"]);for(const a in g)"encodings"===a&&f.fields||"fields"===a&&f.encodings||("mark"===a&&(f[a]=Object.assign({},g[a],f[a])),void 0!==f[a]&&!0!==
f[a])||(f[a]=g[a]||f[a]);e=B(e);const h=c[e]=Object.assign({},f,{name:e,events:t(f.on)?af(f.on,"scope"):f.on});Mg(h,b=>{b.parse&&b.parse(a,f,h)})}return c}function lf(a,b,c,d,e,f,g){if(void 0!==a.facet)return new Gj(a,b,c,e,f);if(Pc(a))return new pk(a,b,c,d,e,f,g);if(aa(a))return new qk(a,b,c,d,e,f,g);if(void 0!==a.repeat)return new Ak(a,b,c,e,f);if(Hd(a)||ic(a)||void 0!==a.concat)return new Bk(a,b,c,e,f);throw Error(za.INVALID_SPEC);}function nf(a,b,c={},d){const e=a.config?md(a.config):void 0;c=
[].concat(a.assembleSelectionData([]),kf(a.component.data,c));const f=a.assembleProjections(),g=a.assembleTitle(),h=a.assembleGroupStyle(),k=a.assembleGroupEncodeEntry(!0);let l=a.assembleLayoutSignals();l=l.filter(a=>"width"!==a.name&&"height"!==a.name||void 0===a.value?!0:(b[a.name]=+a.value,!1));return{spec:Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},a.description?{description:a.description}:{},b,g?{title:g}:{},h?{style:h}:{},k?{encode:{update:k}}:{},{data:c},0<f.length?
{projections:f}:{},a.assembleGroup([...l,...a.assembleSelectionTopLevelSignals([])]),e?{config:e}:{},d?{usermeta:d}:{})}}var Ra=Array.isArray,mf=[];(function(a,b){var c=u(a),d="return _["+c.map(C).join("][")+"];";return e(Function("_",d),[a=1===c.length?c[0]:a],b||a)})("id");var bk=e(function(a){return a},mf,"identity");e(function(){return 0},mf,"zero");e(function(){return 1},mf,"one");e(function(){return!0},mf,"true");e(function(){return!1},mf,"false");var ck=function(a,b){return b={exports:{}},
a(b,b.exports),b.exports}(function(b){var c=function(){function b(a,b){return null!=b&&a instanceof b}function c(d,k,l,m,n){function ja(d,l){if(null===d)return null;if(0===l||"object"!=typeof d)return d;if(b(d,f))var r=new f;else if(b(d,g))r=new g;else if(b(d,h))r=new h(function(a,b){d.then(function(b){a(ja(b,l-1))},function(a){b(ja(a,l-1))})});else if(c.__isArray(d))r=[];else if(c.__isRegExp(d))r=new RegExp(d.source,e(d)),d.lastIndex&&(r.lastIndex=d.lastIndex);else if(c.__isDate(d))r=new Date(d.getTime());
else{if(t&&a.isBuffer(d))return r=a.allocUnsafe?a.allocUnsafe(d.length):new a(d.length),d.copy(r),r;if(b(d,Error))r=Object.create(d);else if("undefined"==typeof m){var u=Object.getPrototypeOf(d);r=Object.create(u)}else r=Object.create(m),u=m}if(k){var Zb=q.indexOf(d);if(-1!=Zb)return p[Zb];q.push(d);p.push(r)}b(d,f)&&d.forEach(function(a,b){b=ja(b,l-1);a=ja(a,l-1);r.set(b,a)});b(d,g)&&d.forEach(function(a){a=ja(a,l-1);r.add(a)});for(var v in d){var w;u&&(w=Object.getOwnPropertyDescriptor(u,v));w&&
null==w.set||(r[v]=ja(d[v],l-1))}if(Object.getOwnPropertySymbols)for(Zb=Object.getOwnPropertySymbols(d),v=0;v<Zb.length;v++)if(w=Zb[v],u=Object.getOwnPropertyDescriptor(d,w),!u||u.enumerable||n)r[w]=ja(d[w],l-1),u.enumerable||Object.defineProperty(r,w,{enumerable:!1});if(n)for(Zb=Object.getOwnPropertyNames(d),v=0;v<Zb.length;v++)w=Zb[v],u=Object.getOwnPropertyDescriptor(d,w),u&&u.enumerable||(r[w]=ja(d[w],l-1),Object.defineProperty(r,w,{enumerable:!1}));return r}"object"===typeof k&&(l=k.depth,m=
k.prototype,n=k.includeNonEnumerable,k=k.circular);var q=[],p=[],t="undefined"!=typeof a;"undefined"==typeof k&&(k=!0);"undefined"==typeof l&&(l=Infinity);return ja(d,l)}function d(a){return Object.prototype.toString.call(a)}function e(a){var b="";a.global&&(b+="g");a.ignoreCase&&(b+="i");a.multiline&&(b+="m");return b}try{var f=Map}catch(nk){f=function(){}}try{var g=Set}catch(nk){g=function(){}}try{var h=Promise}catch(nk){h=function(){}}c.clonePrototype=function(a){if(null===a)return null;var b=
function(){};b.prototype=a;return new b};c.__objToStr=d;c.__isDate=function(a){return"object"===typeof a&&"[object Date]"===d(a)};c.__isArray=function(a){return"object"===typeof a&&"[object Array]"===d(a)};c.__isRegExp=function(a){return"object"===typeof a&&"[object RegExp]"===d(a)};c.__getRegExpFlags=e;return c}();b.exports&&(b.exports=c)}),Yi=Array.isArray,oh=Object.keys,Yg=Object.prototype.hasOwnProperty,Ci=function(a,b){b||(b={});"function"===typeof b&&(b={cmp:b});var c="boolean"===typeof b.cycles?
b.cycles:!1,d=b.cmp&&function(a){return function(b){return function(c,d){return a({key:c,value:b[c]},{key:d,value:b[d]})}}}(b.cmp),e=[];return function mk(a){a&&a.toJSON&&"function"===typeof a.toJSON&&(a=a.toJSON());if(void 0!==a){if("number"==typeof a)return isFinite(a)?""+a:"null";if("object"!==typeof a)return JSON.stringify(a);var b;if(Array.isArray(a)){var f="[";for(b=0;b<a.length;b++)b&&(f+=","),f+=mk(a[b])||"null";return f+"]"}if(null===a)return"null";if(-1!==e.indexOf(a)){if(c)return JSON.stringify("__cycle__");
throw new TypeError("Converting circular structure to JSON");}var g=e.push(a)-1,h=Object.keys(a).sort(d&&d(a));f="";for(b=0;b<h.length;b++){var k=h[b],l=mk(a[k]);l&&(f&&(f+=","),f+=JSON.stringify(k)+":"+l)}e.splice(g,1);return"{"+f+"}"}}(a)};const Zi=function je(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==typeof b){var c=Yi(a),d=Yi(b);if(c&&d){var e=a.length;if(e!=b.length)return!1;for(c=e;0!==c--;)if(!je(a[c],b[c]))return!1;return!0}if(c!=d)return!1;c=a instanceof Date;d=b instanceof
Date;if(c!=d)return!1;if(c&&d)return a.getTime()==b.getTime();c=a instanceof RegExp;d=b instanceof RegExp;if(c!=d)return!1;if(c&&d)return a.toString()==b.toString();d=oh(a);e=d.length;if(e!==oh(b).length)return!1;for(c=e;0!==c--;)if(!Yg.call(b,d[c]))return!1;for(c=e;0!==c--;)if(e=d[c],!je(a[e],b[e]))return!1;return!0}return a!==a&&b!==b},ec=ck;Set.prototype.toJSON=function(){return`Set(${[...this].map(a=>Ci(a)).join(",")})`};const Qb=Ci,ua=Object.keys;let bg=42;const vj=ua({area:1,bar:1,line:1,point:1,
text:1,tick:1,trail:1,rect:1,geoshape:1,rule:1,circle:1,square:1});F(vj);const Kj=[].concat("stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit".split(" "),["fill","fillOpacity"]),ai=["filled","color","tooltip"];class of{constructor(a,b){this.name=a;this.run=b}hasMatchingType(a){return aa(a)?(a=a.mark,(ha(a)?a.type:a)===this.name):!1}}const xg={argmax:1,argmin:1,average:1,count:1,distinct:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,
stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Di=["count","valid","missing","distinct"],dk=["count","sum","distinct","valid","missing"],Zg=F("mean average median q1 q3 min max".split(" ")),bi={longitude:1,longitude2:1,latitude:1,latitude2:1},wj=ua(bi),Ei=Object.assign({},{x:1,y:1,x2:1,y2:1},bi,{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,size:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1}),Fi={row:1,column:1,facet:1},se=ua(Fi),ef=Object.assign({},
Ei,Fi),Gi=ua(ef);sa(ef,["order","detail"]);const $g=sa(ef,["order","detail","row","column","facet"]),ek=["x2","y2","latitude2","longitude2"],Xe=sa(Ei,"x y x2 y2 latitude longitude latitude2 longitude2".split(" ")),Lj=ua(Xe),xj={x:1,y:1},Gf=ua(xj),Ff=sa(Xe,"text tooltip href detail key order".split(" ")),ci=ua(Ff),le=Object.assign({},xj,Ff),cg=ua(le),yj={area:"always",bar:"always",circle:"always",geoshape:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",
text:"always",tick:"always"},fk=sa(yj,["geoshape"]),za=Object.freeze({INVALID_SPEC:"Invalid spec",FIT_NON_SINGLE:'Autosize "fit" only works for single views and layered views.',CANNOT_FIX_RANGE_STEP_WITH_FIT:'Cannot use a fixed value of "rangeStep" when "autosize" is "fit".',cannotProjectOnChannelWithoutField:function(a){return`Cannot project a selection on encoding channel "${a}", which has no field.`},nearestNotSupportForContinuous:function(a){return`The "nearest" transform is not supported for ${a} marks.`},
selectionNotSupported:function(a){return`Selection not supported for ${a} yet`},selectionNotFound:function(a){return`Cannot find a selection named "${a}"`},SCALE_BINDINGS_CONTINUOUS:"Scale bindings are currently only supported for scales with unbinned, continuous domains.",NO_INIT_SCALE_BINDINGS:"Selections bound to scales cannot be separately initialized.",noSuchRepeatedValue:function(a){return`Unknown repeated value "${a}".`},columnsNotSupportByRowCol:function(a){return`The "columns" property cannot be used when "${a}" has nested row/column.`},
CONCAT_CANNOT_SHARE_AXIS:"Axes cannot be shared in concatenated views yet (https://github.com/vega/vega-lite/issues/2415).",REPEAT_CANNOT_SHARE_AXIS:"Axes cannot be shared in repeated views yet (https://github.com/vega/vega-lite/issues/2415).",unrecognizedParse:function(a){return`Unrecognized parse "${a}".`},differentParse:function(a,b,c){return`An ancestor parsed field "${a}" as ${c} but a child wants to parse the field as ${b}.`},invalidTransformIgnored:function(a){return`Ignoring an invalid transform: ${Qb(a)}.`},
NO_FIELDS_NEEDS_AS:'If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.',encodingOverridden:function(a){return`Layer's shared ${a.join(",")} channel ${1===a.length?"is":"are"} overriden`},projectionOverridden:function(a){const {parentProjection:b,projection:c}=a;return`Layer's shared projection ${Qb(b)} is overridden by a child projection ${Qb(c)}.`},primitiveChannelDef:function(a,b,c){return`Channel ${a} is a ${b}. Converted to {value: ${Qb(c)}}.`},
invalidFieldType:function(a){return`Invalid field type "${a}"`},nonZeroScaleUsedWithLengthMark:function(a,b,c){return`A ${c.scaleType?`${c.scaleType} scale`:c.zeroFalse?"scale with zero\x3dfalse":"scale with custom domain that excludes zero"} is used to encode ${a}'s ${b}. This can be misleading as the ${"x"===b?"width":"height"} of the ${a} can be arbitrary based on the scale domain. You may want to use point mark instead.`},invalidFieldTypeForCountAggregate:function(a,b){return`Invalid field type "${a}" for aggregate: "${b}", using "quantitative" instead.`},
invalidAggregate:function(a){return`Invalid aggregation operator "${a}"`},missingFieldType:function(a,b){return`Missing type for channel "${a}", using "${b}" instead.`},droppingColor:function(a,b){const {fill:c,stroke:d}=b;return`Dropping color ${a} as the plot also has `+(c&&d?"fill and stroke":c?"fill":"stroke")},emptyFieldDef:function(a,b){return`Dropping ${Qb(a)} from channel "${b}" since it does not contain data field or value.`},latLongDeprecated:function(a,b,c){return`${a}-encoding with type ${b} is deprecated. Replacing with ${c}-encoding.`},
LINE_WITH_VARYING_SIZE:"Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.",incompatibleChannel:function(a,b,c){return`${a} dropped as it is incompatible with "${b}"${c?` when ${c}`:""}.`},invalidEncodingChannel:function(a){return`${a}-encoding is dropped as ${a} is not a valid encoding channel.`},facetChannelShouldBeDiscrete:function(a){return`${a} encoding should be discrete (ordinal / nominal / binned).`},facetChannelDropped:function(a){return`Facet encoding dropped as ${a.join(" and ")} ${1<
a.length?"are":"is"} also specified.`},discreteChannelCannotEncode:function(a,b){return`Using discrete channel "${a}" to encode "${b}" field can be misleading as it does not encode ${"ordinal"===b?"order":"magnitude"}.`},BAR_WITH_POINT_SCALE_AND_RANGESTEP_NULL:"Bar mark should not be used with point scale when rangeStep is null. Please use band scale instead.",lineWithRange:function(a,b){return`Line mark is for continuous lines and thus cannot be used with ${a&&b?"x2 and y2":a?"x2":"y2"}. We will use the rule mark (line segments) instead.`},
orientOverridden:function(a,b){return`Specified orient "${a}" overridden with "${b}"`},CANNOT_UNION_CUSTOM_DOMAIN_WITH_FIELD_DOMAIN:"custom domain scale cannot be unioned with default field-based domain",cannotUseScalePropertyWithNonColor:function(a){return`Cannot use the scale property "${a}" with non-color channel.`},unaggregateDomainHasNoEffectForRawField:function(a){return`Using unaggregated domain with raw field has no effect (${Qb(a)}).`},unaggregateDomainWithNonSharedDomainOp:function(a){return`Unaggregated domain not applicable for "${a}" since it produces values outside the origin domain of the source data.`},
unaggregatedDomainWithLogScale:function(a){return`Unaggregated domain is currently unsupported for log scale (${Qb(a)}).`},cannotApplySizeToNonOrientedMark:function(a){return`Cannot apply size to non-oriented mark "${a}".`},rangeStepDropped:function(a){return`rangeStep for "${a}" is dropped as top-level ${"x"===a?"width":"height"} is provided.`},scaleTypeNotWorkWithChannel:function(a,b,c){return`Channel "${a}" does not work with "${b}" scale. We are using "${c}" scale instead.`},scaleTypeNotWorkWithFieldDef:function(a,
b){return`FieldDef does not work with "${a}" scale. We are using "${b}" scale instead.`},scalePropertyNotWorkWithScaleType:function(a,b,c){return`${c}-scale's "${b}" is dropped as it does not work with ${a} scale.`},scaleTypeNotWorkWithMark:function(a,b){return`Scale type "${b}" does not work with mark "${a}".`},mergeConflictingProperty:function(a,b,c,d){return`Conflicting ${b.toString()} property "${a.toString()}" (${Qb(c)} and ${Qb(d)}).  Using ${Qb(c)}.`},mergeConflictingDomainProperty:function(a,
b,c,d){return`Conflicting ${b.toString()} property "${a.toString()}" (${Qb(c)} and ${Qb(d)}).  Using the union of the two domains.`},independentScaleMeansIndependentGuide:function(a){return`Setting the scale to be independent for "${a}" means we also have to set the guide (axis or legend) to be independent.`},domainSortDropped:function(a){return`Dropping sort property ${Qb(a)} as unioned domains only support boolean or op 'count'.`},UNABLE_TO_MERGE_DOMAINS:"Unable to merge domains",MORE_THAN_ONE_SORT:"Domains that should be unioned has conflicting sort properties. Sort will be set to true.",
INVALID_CHANNEL_FOR_AXIS:"Invalid channel for axis.",cannotStackRangedMark:function(a){return`Cannot stack "${a}" if there is already "${a}2"`},cannotStackNonLinearScale:function(a){return`Cannot stack non-linear scale (${a})`},stackNonSummativeAggregate:function(a){return`Stacking is applied even though the aggregate function is non-summative ("${a}")`},invalidTimeUnit:function(a,b){return`Invalid ${a}: ${Qb(b)}`},dayReplacedWithDate:function(a){return`Time unit "${a}" is not supported. We are replacing it with ${a.replace("day",
"date")}.`},droppedDay:function(a){return`Dropping day from datetime ${Qb(a)} as day cannot be combined with other units.`},errorBarCenterAndExtentAreNotNeeded:function(a,b){return`${b?"extent ":""}${b&&a?"and ":""}${a?"center ":""}${b&&a?"are ":"is "}not needed when data are aggregated.`},errorBarCenterIsUsedWithWrongExtent:function(a,b,c){return`${a} is not usually used with ${b} for ${c}.`},errorBarContinuousAxisHasCustomizedAggregate:function(a,b){return`Continuous axis should not have customized aggregation function ${a}; ${b} already agregates the axis.`},
errorBarCenterIsNotNeeded:function(a,b){return`Center is not needed to be specified in ${b} when extent is ${a}.`},errorBand1DNotSupport:function(a){return`1D error band does not support ${a}`},channelRequiredForBinned:function(a){return`Channel ${a} is required for "binned" bin`},domainRequiredForThresholdScale:function(a){return`Domain for ${a} is required for threshold scale`}}),zj=function(a,b){var c=a||0;return{level:function(a){return arguments.length?(c=+a,this):c},error:function(){1<=c&&G(b||
"error","ERROR",arguments);return this},warn:function(){2<=c&&G(b||"warn","WARN",arguments);return this},info:function(){3<=c&&G(b||"log","INFO",arguments);return this},debug:function(){4<=c&&G(b||"log","DEBUG",arguments);return this}}}(2);let lg=zj;const Aj="january february march april may june july august september october november december".split(" "),gk=Aj.map(a=>a.substr(0,3)),Bj="sunday monday tuesday wednesday thursday friday saturday".split(" "),hk=Bj.map(a=>a.substr(0,3));var ie;(function(a){a.YEAR=
"year";a.MONTH="month";a.DAY="day";a.DATE="date";a.HOURS="hours";a.MINUTES="minutes";a.SECONDS="seconds";a.MILLISECONDS="milliseconds";a.YEARMONTH="yearmonth";a.YEARMONTHDATE="yearmonthdate";a.YEARMONTHDATEHOURS="yearmonthdatehours";a.YEARMONTHDATEHOURSMINUTES="yearmonthdatehoursminutes";a.YEARMONTHDATEHOURSMINUTESSECONDS="yearmonthdatehoursminutesseconds";a.MONTHDATE="monthdate";a.MONTHDATEHOURS="monthdatehours";a.HOURSMINUTES="hoursminutes";a.HOURSMINUTESSECONDS="hoursminutesseconds";a.MINUTESSECONDS=
"minutesseconds";a.SECONDSMILLISECONDS="secondsmilliseconds";a.QUARTER="quarter";a.YEARQUARTER="yearquarter";a.QUARTERMONTH="quartermonth";a.YEARQUARTERMONTH="yearquartermonth";a.UTCYEAR="utcyear";a.UTCMONTH="utcmonth";a.UTCDAY="utcday";a.UTCDATE="utcdate";a.UTCHOURS="utchours";a.UTCMINUTES="utcminutes";a.UTCSECONDS="utcseconds";a.UTCMILLISECONDS="utcmilliseconds";a.UTCYEARMONTH="utcyearmonth";a.UTCYEARMONTHDATE="utcyearmonthdate";a.UTCYEARMONTHDATEHOURS="utcyearmonthdatehours";a.UTCYEARMONTHDATEHOURSMINUTES=
"utcyearmonthdatehoursminutes";a.UTCYEARMONTHDATEHOURSMINUTESSECONDS="utcyearmonthdatehoursminutesseconds";a.UTCMONTHDATE="utcmonthdate";a.UTCMONTHDATEHOURS="utcmonthdatehours";a.UTCHOURSMINUTES="utchoursminutes";a.UTCHOURSMINUTESSECONDS="utchoursminutesseconds";a.UTCMINUTESSECONDS="utcminutesseconds";a.UTCSECONDSMILLISECONDS="utcsecondsmilliseconds";a.UTCQUARTER="utcquarter";a.UTCYEARQUARTER="utcyearquarter";a.UTCQUARTERMONTH="utcquartermonth";a.UTCYEARQUARTERMONTH="utcyearquartermonth"})(ie||(ie=
{}));const Hi={year:1,quarter:1,month:1,day:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Cj=ua(Hi),Ii={utcyear:1,utcquarter:1,utcmonth:1,utcday:1,utcdate:1,utchours:1,utcminutes:1,utcseconds:1,utcmilliseconds:1},ph={utcyearquarter:1,utcyearquartermonth:1,utcyearmonth:1,utcyearmonthdate:1,utcyearmonthdatehours:1,utcyearmonthdatehoursminutes:1,utcyearmonthdatehoursminutesseconds:1,utcquartermonth:1,utcmonthdate:1,utcmonthdatehours:1,utchoursminutes:1,utchoursminutesseconds:1,utcminutesseconds:1,
utcsecondsmilliseconds:1},dg=Object.assign({},Ii,ph);Object.assign({},Hi,Ii,{yearquarter:1,yearquartermonth:1,yearmonth:1,yearmonthdate:1,yearmonthdatehours:1,yearmonthdatehoursminutes:1,yearmonthdatehoursminutesseconds:1,quartermonth:1,monthdate:1,monthdatehours:1,hoursminutes:1,hoursminutesseconds:1,minutesseconds:1,secondsmilliseconds:1},ph);const pf={quantitative:1,ordinal:1,temporal:1,nominal:1,geojson:1},od=(a,b)=>{switch(b.fieldTitle){case "plain":return a.field;case "functional":{const {aggregate:b,
bin:c,timeUnit:d,field:e}=a;a=Na(b)?`${e} for argmax(${b.argmax})`:ya(b)?`${e} for argmin(${b.argmin})`:(a=b||d||gb(c)&&"bin")?a.toUpperCase()+"("+e+")":e}return a;default:return Db(a,b)}};let nd=od;const me={compatible:!0},Nj=ua({box:1,median:1,outliers:1,rule:1,ticks:1}),fi=new of("boxplot",Td),cj=ua({ticks:1,rule:1}),Dj=new of("errorbar",Oc),Ji=ua({band:1,borders:1}),Mj=new of("errorband",$c),yg={};Mb("boxplot",Td,Nj);Mb("errorbar",Oc,cj);Mb("errorband",$c,Ji);const di=["shortTimeLabels"],$i=["gradientHorizontalMaxLength",
"gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength"],ei={clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,
legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},aj=Object.assign({},ei,{opacity:1,shape:1,stroke:1,fill:1,
size:1,strokeWidth:1,encode:1}),bj=ua(ei),Vj=ua(aj);var yc;(function(a){a.LINEAR="linear";a.LOG="log";a.POW="pow";a.SQRT="sqrt";a.SYMLOG="symlog";a.TIME="time";a.UTC="utc";a.QUANTILE="quantile";a.QUANTIZE="quantize";a.THRESHOLD="threshold";a.BIN_ORDINAL="bin-ordinal";a.ORDINAL="ordinal";a.POINT="point";a.BAND="band"})(yc||(yc={}));const ve={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",
band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},qh=ua(ve),rh={linear:0,log:1,pow:1,sqrt:1,symlog:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},Ki="linear log pow sqrt symlog time utc".split(" "),Yc=F(Ki),eg=F(["quantile","quantize","threshold"]),fg=Ki.concat(["quantile","quantize","threshold"]),pd=F(fg),ad=F(["ordinal","bin-ordinal","point","band"]),Ye={textXRangeStep:90,rangeStep:20,pointPadding:.5,barBandPaddingInner:.1,
rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},Gg=sa({type:1,domain:1,align:1,range:1,rangeStep:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},["type","domain","range","rangeStep","scheme"]),dj=ua(Gg);(function(){const a={};for(const b of Gi)for(const c of ua(pf))for(const d of qh){const e=
b+"_"+c;Gd(b,d)&&ke(d,c)&&(a[e]=a[e]||[],a[e].push(d))}return a})();const th=ua({align:1,bounds:1,center:1,columns:1,spacing:1}),uh={padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",invalidValues:"filter",view:{width:200,height:200},mark:{color:"#4c78a8",tooltip:{content:"encoding"}},area:{},bar:{binSpacing:1,continuousBandSize:5},circle:{},geoshape:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},
boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:Ye,projection:{},axis:{},axisX:{},axisY:{},axisLeft:{},axisRight:{},axisTop:{},axisBottom:{},axisBand:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},
selection:{single:{on:"click",fields:["_vgsid_"],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] \x3e window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] \x3e window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},repeat:{spacing:20},
concat:{spacing:20}},gg=["view",...vj],hi="padding facet concat repeat numberFormat timeFormat countTitle header stack scale selection invalidValues overlay".split(" "),Cg=Object.assign({view:["width","height"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],text:["shortTimeLabels"],tick:["bandSize","thickness"]});class we{map(a,b){return void 0!==a.facet?this.mapFacet(a,b):void 0!==a.repeat?
this.mapRepeat(a,b):ic(a)?this.mapHConcat(a,b):Hd(a)?this.mapVConcat(a,b):void 0!==a.concat?this.mapConcat(a,b):this.mapLayerOrUnit(a,b)}mapLayerOrUnit(a,b){if(Pc(a))return this.mapLayer(a,b);if(aa(a))return this.mapUnit(a,b);throw Error(za.INVALID_SPEC);}mapLayer(a,b){return Object.assign({},a,{layer:a.layer.map(a=>this.mapLayerOrUnit(a,b))})}mapHConcat(a,b){return Object.assign({},a,{hconcat:a.hconcat.map(a=>this.map(a,b))})}mapVConcat(a,b){return Object.assign({},a,{vconcat:a.vconcat.map(a=>this.map(a,
b))})}mapConcat(a,b){const {concat:c}=a;a=sa(a,["concat"]);return Object.assign({},a,{concat:c.map(a=>this.map(a,b))})}mapFacet(a,b){return Object.assign({},a,{spec:this.map(a.spec,b)})}mapRepeat(a,b){return Object.assign({},a,{spec:this.map(a.spec,b)})}}const Eg={zero:1,center:1,normalize:1},Dg="bar area rule point circle square line text tick".split(" "),Mc=["bar","area"];class xh{constructor(){this.name="path-overlay"}hasMatchingType(a,b){if(aa(a)){const {mark:c,encoding:d}=a;a=ha(c)?c:{type:c};
switch(a.type){case "line":case "rule":case "trail":return!!Md(a,b[a.type],d);case "area":return!!Md(a,b[a.type],d)||!!Nd(a,b[a.type])}}return!1}run(a,b,c){const {config:d}=b,{selection:e,projection:f,encoding:g,mark:h}=a;a=sa(a,["selection","projection","encoding","mark"]);const k=ha(h)?h:{type:h},l=Md(k,d[k.type],g),m="area"===k.type&&Nd(k,d[k.type]),n=[Object.assign({},e?{selection:e}:{},{mark:xd(Object.assign({},k,"area"===k.type?{opacity:.7}:{})),encoding:z(g,["shape"])})],q=wd(k,g,d?d.stack:
void 0);let p=g;if(q){const {fieldChannel:a,offset:b}=q;p=Object.assign({},g,{[a]:Object.assign({},g[a],b?{stack:b}:{})})}m&&n.push(Object.assign({},f?{projection:f}:{},{mark:Object.assign({type:"line"},S(k,["clip","interpolate","tension","tooltip"]),m),encoding:p}));l&&n.push(Object.assign({},f?{projection:f}:{},{mark:Object.assign({type:"point",opacity:1,filled:!0},S(k,["clip","tooltip"]),l),encoding:p}));return c(Object.assign({},a,{layer:n}),Object.assign({},b,{config:Ld(d)}))}}class pe{constructor(){this.name=
"RuleForRangedLine"}hasMatchingType(a){if(aa(a)){const {encoding:b,mark:c}=a;if("line"===c)for(const c of ek)if(a=v(c),a=b[a],b[c]&&pa(a)&&!db(a.bin))return!0}return!1}run(a,b,c){const {encoding:d}=a;E(za.lineWithRange(!!d.x2,!!d.y2));return c(Object.assign({},a,{mark:"rule"}),b)}}class rf extends we{constructor(){super(...arguments);this.nonFacetUnitNormalizers=[fi,Dj,Mj,new xh,new pe]}map(a,b){if(aa(a)){const c=gc(a.encoding,"row"),d=gc(a.encoding,"column"),e=gc(a.encoding,"facet");if(c||d||e)return this.mapFacetedUnit(a,
b)}return super.map(a,b)}mapUnit(a,b){const {parentEncoding:c,parentProjection:d}=b;if(c||d)return this.mapUnitWithParentEncodingOrProjection(a,b);const e=this.mapLayerOrUnit.bind(this);for(const c of this.nonFacetUnitNormalizers)if(c.hasMatchingType(a,b.config))return c.run(a,b,e);return a}mapRepeat(a,b){const {repeat:c}=a;!Ra(c)&&a.columns&&(a=z(a,["columns"]),E(za.columnsNotSupportByRowCol("repeat")));return Object.assign({},a,{spec:this.map(a.spec,b)})}mapFacet(a,b){const {facet:c}=a;Wa(c)&&a.columns&&
(a=z(a,["columns"]),E(za.columnsNotSupportByRowCol("facet")));return super.mapFacet(a,b)}mapUnitWithParentEncodingOrProjection(a,b){const {encoding:c,projection:d}=a,{parentEncoding:e,parentProjection:f,config:g}=b;b=hb({parentProjection:f,projection:d});const h=nb({parentEncoding:e,encoding:c});return this.mapUnit(Object.assign({},a,b?{projection:b}:{},h?{encoding:h}:{}),{config:g})}mapFacetedUnit(a,b){var c=a.encoding;const {row:d,column:e,facet:f}=c;c=sa(c,["row","column","facet"]);const {mark:g,
width:h,projection:k,height:l,selection:m}=a;a=sa(a,"mark width projection height selection encoding".split(" "));f&&(d||e)&&E(za.facetChannelDropped([...d?["row"]:[],...e?["column"]:[]]));return this.mapFacet(Object.assign({},a,{facet:d||e?Object.assign({},d?{row:d}:{},e?{column:e}:{}):f,spec:Object.assign({},k?{projection:k}:{},{mark:g},h?{width:h}:{},l?{height:l}:{},{encoding:c},m?{selection:m}:{})}),b)}mapLayer(a,b){var {parentEncoding:c,parentProjection:d}=b;b=sa(b,["parentEncoding","parentProjection"]);
const {encoding:e,projection:f}=a;a=sa(a,["encoding","projection"]);b=Object.assign({},b,{parentEncoding:nb({parentEncoding:c,encoding:e}),parentProjection:hb({parentProjection:d,projection:f})});return super.mapLayer(a,b)}}const Sc=new rf,Bd=["background","padding"],Ad=ua({opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeMiterLimit:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,
dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,cursor:1,href:1,tooltip:1,cornerRadius:1,x:1,y:1,x2:1,y2:1,width:1,height:1}),Fg=["domain","grid","labels","ticks","title"],yh={grid:"grid",gridColor:"grid",gridDash:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",domain:"main",domainColor:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",
labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontWeight:"main",labelLimit:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",maxExtent:"main",minExtent:"main",offset:"main",position:"main",tickColor:"main",tickExtra:"main",tickOffset:"both",tickOpacity:"main",tickRound:"main",ticks:"main",tickSize:"main",title:"main",titleAlign:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",
titleFontSize:"main",titleFontWeight:"main",titleLimit:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",tickWidth:"both",tickCount:"both",values:"both",scale:"both",zindex:"both"},fj={orient:1,bandPosition:1,domain:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,
labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleOpacity:1,
titlePadding:1,titleX:1,titleY:1,values:1,zindex:1},Sj=Object.assign({},fj,{encoding:1}),Tj=Object.assign({gridScale:1,scale:1},fj,{encode:1}),qe=ua(Tj),ye={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleOrient:"orient",titlePadding:"offset"},He={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelColor:"color",
labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelLimit:"limit",labelOrient:"orient",labelPadding:"offset"},Uj=ua(ye),De=ua(He);class xc{constructor(a,b){this.debugName=b;this._children=[];this._parent=null;a&&(this.parent=a)}clone(){throw Error("Cannot clone node");}hash(){void 0===this._hash&&(this._hash=++bg);return this._hash}producedFields(){return new Set}dependentFields(){return new Set}get parent(){return this._parent}set parent(a){(this._parent=a)&&a.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(a,
b){-1<this._children.indexOf(a)?console.warn("Attempt to add the same child twice."):void 0!==b?this._children.splice(b,0,a):this._children.push(a)}removeChild(a){a=this._children.indexOf(a);this._children.splice(a,1);return a}remove(){let a=this._parent.removeChild(this);for(const b of this._children)b._parent=this._parent,this._parent.addChild(b,a++)}insertAsParentOf(a){const b=a.parent;b.removeChild(this);this.parent=b;a.parent=this}swapWithParent(){const a=this._parent,b=a.parent;for(const b of this._children)b.parent=
a;this._children=[];a.removeChild(this);a.parent.removeChild(a);this.parent=b;a.parent=this}}class Wd extends xc{constructor(a,b,c,d){super(a,b);this.type=c;this.refCounts=d;this._source=this._name=b;!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=0)}clone(){const a=new this.constructor;a.debugName="clone_"+this.debugName;a._source=this._source;a._name="clone_"+this._name;a.type=this.type;a.refCounts=this.refCounts;a.refCounts[a._name]=0;return a}getSource(){this.refCounts[this._name]++;
return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(a){this._source=a}}Ac.prototype.visit=function(a){var b;if(a(this))return 1;var c=ne(this);var d=0;for(b=c.length;d<b;++d)if(c[d].visit(a))return 1};var Oa,na,Dd,Vb,Yj=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
Wj=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
Fh={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},lj={"if":1,"this":1};class Gc extends xc{constructor(a,b){super(a);
this.transform=b;this._dependentFields=n(this.transform.calculate)}clone(){return new Gc(null,ec(this.transform))}static parseAllForSortIndex(a,b){b.forEachFieldDef((b,c)=>{if(Bb(b)&&ra(b.sort)){const {field:e,timeUnit:f}=b;var d=b.sort;d=d.map((a,b)=>`${Ca({field:e,timeUnit:f,equal:a})} ? ${b} : `).join("")+d.length;a=new Gc(a,{calculate:d,as:y(b,c,{forAs:!0})})}});return a}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",
expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${J(this.transform)}`}}const Og=["row","column"],fe=["header","footer"],Me={column:{start:0,end:1},row:{start:1,end:0}};var Mf="view",Sf="[",Rg="]",Ig="{",Jg="}",ui=":",pb=",",de="@",zb="\x3e",Xd=/[[\]{}]/,ed,Qg,df={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};class ge extends xc{constructor(a,b){super(a);this.formula=b}clone(){return new ge(null,ec(this.formula))}static makeFromEncoding(a,
b){b=b.reduceFieldDef((a,b)=>{const {timeUnit:c,field:d}=b;c&&(b={as:ka(b,{forAs:!0}),timeUnit:c,field:d},a[J(b)]=b);return a},{});return 0===ua(b).length?null:new ge(a,b)}static makeFromTransform(a,b){b=Object.assign({},b);return new ge(a,{[J(b)]:b})}merge(a){this.formula=Object.assign({},this.formula,a.formula);for(const b of a.children)a.removeChild(b),b.parent=this;a.remove()}producedFields(){return new Set(ma(this.formula).map(a=>a.as))}dependentFields(){return new Set(ma(this.formula).map(a=>
a.field))}hash(){return`TimeUnit ${J(this.formula)}`}assemble(){return ma(this.formula).map(a=>({type:"formula",as:a.as,expr:fa(a.timeUnit,a.field)}))}}const re={has:a=>"interval"===a.type&&"global"===a.resolve&&a.bind&&"scales"===a.bind,parse:(a,b,c)=>{b=B(c.name);const d=c.scales=[];for(const e of c.project.items){c=e.channel;if(!le[c])continue;const f=a.getScaleComponent(c),h=f?f.get("type"):void 0;f&&h in pd?(f.set("domainRaw",{signal:g(e.field,b)},!0),d.push(e),a.repeater&&a.repeater.row===a.repeater.column&&
a.getScaleComponent("x"===c?"y":"x").set("domainRaw",{signal:g(e.field,b)},!0)):E(za.SCALE_BINDINGS_CONTINUOUS)}},topLevelSignals:(a,b,c)=>{const d=b.scales.filter(a=>!c.filter(b=>b.name===a.signals.data).length);if(!a.parent||!d.length)return c;a=c.filter(a=>a.name===b.name)[0];const e=a.update;if(0<=e.indexOf("vlSelectionResolve"))a.update=`{${d.map(a=>`${C(a.field)}: ${a.signals.data}`).join(", ")}}`;else for(const b of d){const c=`, ${C(b.field)}: ${b.signals.data}`;0>e.indexOf(c)&&(a.update=
e.substring(0,e.length-1)+c+"}")}return c.concat(d.map(a=>({name:a.signals.data})))},signals:(a,b,c)=>{if(a.parent)for(const d of b.scales)a=c.filter(a=>a.name===d.signals.data)[0],a.push="outer",delete a.value,delete a.update;return c}};class Kg{constructor(...a){this.items=a;this.has={}}}const Hh={single:{signals:Lg,modifyExpr:(a,b)=>b.name+"_tuple, "+("global"===b.resolve?"true":`{unit: ${ee(a)}}`)},multi:{signals:Lg,modifyExpr:(a,b)=>b.name+"_tuple, "+("global"===b.resolve?"null":`{unit: ${ee(a)}}`)},
interval:{signals:(a,b)=>{const c=b.name;var d=c+"_tuple_fields",e=re.has(b);const f=[],g=[],h=[];if(b.translate&&!e){const a=`!event.item || event.item.mark.name !== ${C(c+"_brush")}`;xf(b,(b,c)=>{b=c.between[0].filter||(c.between[0].filter=[]);0>b.indexOf(a)&&b.push(a)})}b.project.items.forEach((c,d)=>{const e=c.channel;if("x"!==e&&"y"!==e)E("Interval selections only support x and y encoding channels.");else{d=wf(a,b,c,b.init?b.init[d]:null);var k=c.signals.data;c=c.signals.visual;var l=C(a.scaleName(e)),
m=a.getScaleComponent(e).get("type")in pd?"+":"";f.push(...d);g.push(k);h.push({scaleName:a.scaleName(e),expr:`(!isArray(${k}) || `+`(${m}invert(${l}, ${c})[0] === ${m}${k}[0] && `+`${m}invert(${l}, ${c})[1] === ${m}${k}[1]))`})}});e||f.push({name:c+"_scale_trigger",value:{},on:[{events:h.map(a=>({scale:a.scaleName})),update:h.map(a=>a.expr).join(" \x26\x26 ")+` ? ${c+"_scale_trigger"} : {}`}]});e=b.init;d=`unit: ${ee(a)}, fields: ${d}, values`;return f.concat(Object.assign({name:c+"_tuple"},e?{init:`{${d}: ${Pf(e)}}`}:
{},{on:[{events:[{signal:g.join(" || ")}],update:g.join(" \x26\x26 ")+` ? {${d}: [${g}]} : null`}]}))},modifyExpr:(a,b)=>b.name+"_tuple, "+("global"===b.resolve?"true":`{unit: ${ee(a)}}`),marks:(a,b,c)=>{const d=b.name,{x:e,y:f}=b.project.has,g=e&&e.signals.visual,h=f&&f.signals.visual,k=`data(${C(b.name+"_store")})`;if(re.has(b))return c;const l={x:void 0!==e?{signal:`${g}[0]`}:{value:0},y:void 0!==f?{signal:`${h}[0]`}:{value:0},x2:void 0!==e?{signal:`${g}[1]`}:{field:{group:"width"}},y2:void 0!==
f?{signal:`${h}[1]`}:{field:{group:"height"}}};if("global"===b.resolve)for(const b of ua(l))l[b]=[Object.assign({test:`${k}.length && ${k}[0].unit === ${ee(a)}`},l[b]),{value:0}];a=b.mark;const {fill:m,fillOpacity:n}=a,q=sa(a,["fill","fillOpacity"]);a=ua(q).reduce((a,b)=>{a[b]=[{test:[void 0!==e&&`${g}[0] !== ${g}[1]`,void 0!==f&&`${h}[0] !== ${h}[1]`].filter(a=>a).join(" \x26\x26 "),value:q[b]},{value:null}];return a},{});return[{name:d+"_brush_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:m},
fillOpacity:{value:n}},update:l}},...c,{name:d+"_brush",type:"rect",clip:!0,encode:{enter:{fill:{value:"transparent"}},update:Object.assign({},l,a)}}]}}},Bh={has:a=>"interval"!==a.type&&a.nearest,marks:(a,b,c)=>{const {x:d,y:e}=b.project.has;b=a.mark;if(Wb(b))return E(za.nearestNotSupportForContinuous(b)),c;b={name:a.getName("voronoi"),type:"path",from:{data:a.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},
nj(a,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:d||!d&&!e?"datum.datum.x || 0":"0"},y:{expr:e||!d&&!e?"datum.datum.y || 0":"0"},size:[a.getSizeSignalRef("width"),a.getSizeSignalRef("height")]}]};let f=0,g=!1;c.forEach((b,c)=>{b=b.name||"";b===a.component.mark[0].name?f=c:0<=b.indexOf("voronoi")&&(g=!0)});g||c.splice(f+1,0,b);return c}},si={has:a=>"single"===a.type&&"global"===a.resolve&&a.bind&&"scales"!==a.bind,topLevelSignals:(a,b,c)=>{const d=b.name;a=b.project;const e=b.bind,f=b.init&&
b.init[0],h=Bh.has(b)?"(item().isVoronoi ? datum.datum : datum)":"datum";a.items.forEach((a,k)=>{const l=B(`${d}_${a.field}`);c.filter(a=>a.name===l).length||c.unshift(Object.assign({name:l},f?{init:Pf(f[k])}:{value:null},{on:[{events:b.events,update:`datum && item().mark.marktype !== 'group' ? ${g(a.field,h)} : null`}],bind:e[a.field]||e[a.channel]||e}))});return c},signals:(a,b,c)=>{const d=b.name;var e=b.project;a=c.filter(a=>a.name===d+"_tuple")[0];b=d+"_tuple_fields";e=e.items.map(a=>B(`${d}_${a.field}`));
const f=e.map(a=>`${a} !== null`).join(" \x26\x26 ");e.length&&(a.update=`${f} ? {fields: ${b}, values: [${e.join(", ")}]} : null`);delete a.value;delete a.on;return c}},Pa={has:a=>"multi"===a.type&&a.toggle,signals:(a,b,c)=>c.concat({name:b.name+"_toggle",value:!1,on:[{events:b.events,update:b.toggle}]}),modifyExpr:(a,b)=>{const c=b.name+"_tuple",d=b.name+"_toggle";return`${d} ? null : ${c}, `+("global"===b.resolve?`${d} ? null : true, `:`${d} ? null : {unit: ${ee(a)}}, `)+`${d} ? ${c} : null`}},
Ch=[{has:()=>!0,parse:(a,b,c)=>{const d=c.name,e=c.project||(c.project=new Kg),f={},g={},h=new Set,k=(a,b)=>{a="visual"===b?a.channel:a.field;let c=B(`${d}_${a}`);for(let b=1;h.has(c);b++)c=B(`${d}_${a}_${b}`);h.add(c);return{[b]:c}};if(!b.fields&&!b.encodings){var l=a.config.selection[b.type];if(b.init)for(var m of P(b.init))for(const a of ua(m))$g[a]?(b.encodings||(b.encodings=[])).push(a):"interval"===b.type?(E('Interval selections should be initialized using "x" and/or "y" keys.'),b.encodings=
l.encodings):(b.fields||(b.fields=[])).push(a);else b.encodings=l.encodings,b.fields=l.fields}for(var n of b.fields||[])l={type:"E",field:n},l.signals=Object.assign({},k(l,"data")),e.items.push(l);for(const d of b.encodings||[])(l=a.fieldDef(d))?(n=l.field,l.timeUnit&&(n=a.vgField(d),m={as:n,field:l.field,timeUnit:l.timeUnit},g[J(m)]=m),f[n]||(m="E","interval"===c.type?a.getScaleComponent(d).get("type")in pd&&(m="R"):l.bin&&(m="R-RE"),l={field:n,channel:d,type:m},l.signals=Object.assign({},k(l,"data"),
k(l,"visual")),e.items.push(f[n]=l),e.has[d]=f[n])):E(za.cannotProjectOnChannelWithoutField(d));b.init&&(re.has(c)?E(za.NO_INIT_SCALE_BINDINGS):(a=a=>e.items.map(b=>void 0!==a[b.channel]?a[b.channel]:a[b.field]),"interval"===b.type?c.init=a(b.init):(b=Ra(b.init)?b.init:[b.init],c.init=b.map(a))));ua(g).length&&(e.timeUnit=new ge(null,g))},signals:(a,b,c)=>{const d=b.name+"_tuple_fields";return c.filter(a=>a.name===d).length?c:c.concat({name:d,value:b.project.items.map(a=>sa(a,["signals"]))})}},Pa,
re,{has:a=>"interval"===a.type&&a.translate,signals:(a,b,c)=>{const d=b.name,e=re.has(b),f=d+"_translate_anchor",{x:g,y:h}=b.project.has;let k=af(b.translate,"scope");e||(k=k.map(a=>(a.between[0].markname=d+"_brush",a)));c.push({name:f,value:{},on:[{events:k.map(a=>a.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==g?", extent_x: "+(e?`domain(${C(a.scaleName("x"))})`:`slice(${g.signals.visual})`):"")+(void 0!==h?", extent_y: "+(e?`domain(${C(a.scaleName("y"))})`:`slice(${h.signals.visual})`):
"")+"}"}]},{name:d+"_translate_delta",value:{},on:[{events:k,update:`{x: ${f}.x - x(unit), y: ${f}.y - y(unit)}`}]});void 0!==g&&Af(a,b,g,"width",c);void 0!==h&&Af(a,b,h,"height",c);return c}},{has:a=>"interval"===a.type&&a.zoom,signals:(a,b,c)=>{const d=b.name,e=re.has(b),f=d+"_zoom_delta",{x:g,y:h}=b.project.has,k=C(a.scaleName("x")),l=C(a.scaleName("y"));let m=af(b.zoom,"scope");e||(m=m.map(a=>(a.markname=d+"_brush",a)));c.push({name:d+"_zoom_anchor",on:[{events:m,update:e?"{"+[k?`x: invert(${k}, x(unit))`:
"",l?`y: invert(${l}, y(unit))`:""].filter(a=>!!a).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:f,on:[{events:m,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==g&&ki(a,b,g,"width",c);void 0!==h&&ki(a,b,h,"height",c);return c}},si,Bh,{has:a=>!1!==a.clear,parse:(a,b,c)=>{b.clear&&(c.clear=af(b.clear,"scope"))},topLevelSignals:(a,b,c)=>{si.has(b)&&b.project.items.forEach(a=>{const d=c.findIndex(c=>c.name===B(`${b.name}_${a.field}`));-1!==d&&c[d].on.push({events:b.clear,
update:"null"})});return c},signals:(a,b,c)=>{function d(a,d){-1!==a&&c[a].on&&c[a].on.push({events:b.clear,update:d})}"interval"===b.type?b.project.items.forEach(a=>{var b=c.findIndex(b=>b.name===a.signals.visual);d(b,"[0, 0]");-1===b&&(b=c.findIndex(b=>b.name===a.signals.data),d(b,"null"))}):(a=c.findIndex(a=>a.name===b.name+"_tuple"),d(a,"null"),Pa.has(b)&&(a=c.findIndex(a=>a.name===b.name+"_toggle"),d(a,"false")));return c}}];class Le{constructor(a={},b={}){this.explicit=a;this.implicit=b}clone(){return new Le(ec(this.explicit),
ec(this.implicit))}combine(){return Object.assign({},this.explicit,this.implicit)}get(a){return la(this.explicit[a],this.implicit[a])}getWithExplicit(a){return void 0!==this.explicit[a]?{explicit:!0,value:this.explicit[a]}:void 0!==this.implicit[a]?{explicit:!1,value:this.implicit[a]}:{explicit:!1,value:void 0}}setWithExplicit(a,b){void 0!==b.value&&this.set(a,b.value,b.explicit)}set(a,b,c){delete this[c?"implicit":"explicit"][a];this[c?"explicit":"implicit"][a]=b;return this}copyKeyFromSplit(a,b){void 0!==
b.explicit[a]?this.set(a,b.explicit[a],!0):void 0!==b.implicit[a]&&this.set(a,b.implicit[a],!1)}copyKeyFromObject(a,b){void 0!==b[a]&&this.set(a,b[a],!0)}copyAll(a){for(const b of ua(a.combine())){const c=a.getWithExplicit(b);this.setWithExplicit(b,c)}}}class Bf extends Le{}var Ug=Object.freeze({symbols:function(a,b,c,d,e){if("symbol"===Mh(e,c,d)){a=Object.assign({},Ga({},c,Kj),mj(c));var {markDef:f,encoding:g,config:h}=c,k=f.filled;c=kg(g.opacity)||f.opacity;a.fill&&("fill"===d||k&&"color"===d?delete a.fill:
a.fill.field?e.get("symbolFillColor")?delete a.fill:(a.fill={value:h.legend.symbolBaseFillColor||"black"},a.fillOpacity={value:c||1}):Ra(a.fill)&&(e=Nh(g.fill||g.color)||f.fill||k&&f.color)&&(a.fill={value:e}));a.stroke&&("stroke"===d||!k&&"color"===d?delete a.stroke:a.stroke.field?delete a.stroke:Ra(a.stroke)&&(e=la(Nh(g.stroke||g.color),f.stroke,k?f.color:void 0))&&(a.stroke={value:e}));"opacity"!==d&&c&&(a.opacity={value:c});a=Object.assign({},a,b);return 0<ua(a).length?a:void 0}},gradient:function(a,
b,c,d,e){if("gradient"===Mh(e,c,d)){a={};if(c=kg(c.encoding.opacity)||c.markDef.opacity)a.opacity={value:c};a=Object.assign({},a,b);return 0<ua(a).length?a:void 0}},labels:function(a,b,c,d){const e=c.legend(d),f=c.config;let g={};Sb(a)&&(c=c.getScaleComponent(d).get("type")===yc.UTC,a=Ta("datum.value",a.timeUnit,e.format,f.legend.shortTimeLabels,f.timeFormat,c),b=Object.assign({},a?{text:{signal:a}}:{},b));g=Object.assign({},g,b);return 0<ua(g).length?g:void 0},getFirstConditionValue:Nh});const Sg=
"type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class jg extends Le{constructor(a,b,c,d){super(Object.assign({},b),{name:a});this.specifiedProjection=b;this.size=c;this.data=d;this.merged=!1}get isFit(){return!!this.data}}class Rd extends xc{constructor(a,b){super(a);this.bins=b}clone(){return new Rd(null,ec(this.bins))}static makeFromEncoding(a,b){const c=b.reduceFieldDef((a,c,d)=>{if(ub(c)&&gb(c.bin)){const {key:e,
binComponent:f}=ah(c,c.bin,b);a[e]=Object.assign({},f,a[e],Tf(b,c,d,b.config))}return a},{});return 0===ua(c).length?null:new Rd(a,c)}static makeFromTransform(a,b,c){const {key:d,binComponent:e}=ah(b,b.bin,c);return new Rd(a,{[d]:e})}merge(a,b){for(const c of ua(a.bins))c in this.bins?(b(a.bins[c].signal,this.bins[c].signal),this.bins[c].as=h([...this.bins[c].as,...a.bins[c].as],J)):this.bins[c]=a.bins[c];for(const b of a.children)a.removeChild(b),b.parent=this;a.remove()}producedFields(){return new Set(O(O(ma(this.bins).map(a=>
a.as))))}dependentFields(){return new Set(ma(this.bins).map(a=>a.field))}hash(){return`Bin ${J(this.bins)}`}assemble(){return O(ma(this.bins).map(a=>{const b=[],[c,...d]=a.as;var e=Object.assign({type:"bin",field:M(a.field),as:c,signal:a.signal},a.bin);!a.bin.extent&&a.extentSignal&&(b.push({type:"extent",field:M(a.field),signal:a.extentSignal}),e.extent={signal:a.extentSignal});b.push(e);for(const a of d)for(e=0;2>e;e++)b.push({type:"formula",expr:ka({field:c[e]},{expr:"datum"}),as:a[e]});a.formula&&
b.push({type:"formula",expr:a.formula,as:a.formulaAs});return b}))}}class Ne extends xc{constructor(a){super(null);a=a||{name:"source"};let b;eb(a)||(b=a.format?Object.assign({},z(a.format,["parse"])):{});if(a.values)this._data={values:a.values};else if(a.url){if(this._data={url:a.url},!b.type){let c=/(?:\.([^.]+))?$/.exec(a.url)[1];k(["json","csv","tsv","dsv","topojson"],c)||(c="json");b.type=c}}else if(a.sphere)this._data={values:[{type:"Sphere"}]};else if(Ha(a)||eb(a))this._data={};this._generator=
eb(a);a.name&&(this._name=a.name);b&&0<ua(b).length&&(this._data.format=b)}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(a){this._name=a}set parent(a){throw Error("Source nodes have to be roots.");}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({name:this._name},this._data,{transform:[]})}}class ig extends xc{constructor(a,
b){super(a);this.params=b}clone(){return new ig(null,this.params)}assemble(){return Object.assign({type:"graticule"},!0===this.params?{}:this.params)}}class Qf extends xc{constructor(a,b){super(a);this.params=b}clone(){return new Qf(null,this.params)}producedFields(){return new Set([this.params.as||"data"])}assemble(){return Object.assign({type:"sequence"},this.params)}}class kj{constructor(){this._mutated=!1}setMutated(){this._mutated=!0}get mutatedFlag(){return this._mutated}}class Ae extends kj{constructor(){super();
this._continue=!1}setContinue(){this._continue=!0}get continueFlag(){return this._continue}get flags(){return{continueFlag:this.continueFlag,mutatedFlag:this.mutatedFlag}}set flags({continueFlag:a,mutatedFlag:b}){a&&this.setContinue();b&&this.setMutated()}reset(){}optimizeNextFromLeaves(a){if(rg(a))return!1;const b=a.parent;({continueFlag:a}=this.run(a));a&&this.optimizeNextFromLeaves(b);return this.mutatedFlag}}class zh extends kj{}class Ue extends xc{constructor(a,b,c){super(a);this.dimensions=
b;this.measures=c}clone(){return new Ue(null,new Set(this.dimensions),ec(this.measures))}get groupBy(){return this.dimensions}static makeFromEncoding(a,b){let c=!1;b.forEachFieldDef(a=>{a.aggregate&&(c=!0)});const d={},e=new Set;if(!c)return null;b.forEachFieldDef((a,c)=>{const {aggregate:f,field:g}=a;if(f)if("count"===f)d["*"]=d["*"]||{},d["*"].count=new Set([ka(a,{forAs:!0})]);else{if(ya(f)||Na(f)){a=ya(f)?"argmin":"argmax";const b=f[a];d[b]=d[b]||{};d[b][a]=new Set([ka({op:a,field:b},{forAs:!0})])}else d[g]=
d[g]||{},d[g][f]=new Set([ka(a,{forAs:!0})]);le[c]&&"unaggregated"===b.scaleDomain(c)&&(d[g]=d[g]||{},d[g].min=new Set([ka({field:g,aggregate:"min"},{forAs:!0})]),d[g].max=new Set([ka({field:g,aggregate:"max"},{forAs:!0})]))}else ub(a)&&gb(a.bin)?(e.add(ka(a,{})),e.add(ka(a,{binSuffix:"end"})),sb(a,c)&&e.add(ka(a,{binSuffix:"range"}))):c in bi?(c=U(c),e.add(b.getName(c))):e.add(ka(a))});return 0===e.size+ua(d).length?null:new Ue(a,e,d)}static makeFromTransform(a,b){const c=new Set,d={};for(const a of b.aggregate){const {op:b,
field:c,as:e}=a;b&&("count"===b?(d["*"]=d["*"]||{},d["*"].count=new Set([e?e:ka(a,{forAs:!0})])):(d[c]=d[c]||{},d[c][b]=new Set([e?e:ka(a,{forAs:!0})])))}for(const a of b.groupby||[])c.add(a);return 0===c.size+ua(d).length?null:new Ue(a,c,d)}merge(a){a:{var b=this.dimensions;var c=a.dimensions;if(b.size!==c.size)b=!1;else{for(const a of b)if(!c.has(a)){b=!1;break a}b=!0}}if(b){b=this.measures;a=a.measures;for(const d of ua(a)){c=a[d];for(const a of ua(c))d in b?b[d][a]=new Set([...b[d][a]||[],...c[a]]):
b[d]={[a]:c[a]}}return!0}Ua("different dimensions, cannot merge");return!1}addDimensions(a){a.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...ua(this.measures)])}producedFields(){const a=new Set;for(const b of ua(this.measures))for(const c of ua(this.measures[b])){const d=this.measures[b][c];0===d.size?a.add(`${c}_${b}`):d.forEach(a.add,a)}return a}hash(){return`Aggregate ${J({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const a=
[],b=[],c=[];for(const d of ua(this.measures))for(const e of ua(this.measures[d]))for(const f of this.measures[d][e])c.push(f),a.push(e),b.push("*"===d?null:M(d));return{type:"aggregate",groupby:[...this.dimensions],ops:a,fields:b,as:c}}}class Df extends xc{constructor(a,b,c,d){super(a);this.model=b;this.name=c;this.data=d;for(const c of se)if(a=b.facet[c]){const {bin:d,sort:e}=a;this[c]=Object.assign({name:b.getName(`${c}_domain`),fields:[ka(a),...gb(d)?[ka(a,{binSuffix:"end"})]:[]]},Y(e)?{sortField:e}:
Ra(e)?{sortIndexField:y(a,c)}:{})}this.childModel=b.child}hash(){let a="Facet";for(const b of se)this[b]&&(a+=` ${b.charAt(0)}:${J(this[b])}`);return a}get fields(){const a=[];for(const b of se)this[b]&&this[b].fields&&a.push(...this[b].fields);return a}getSource(){return this.name}getChildIndependentFieldsWithStep(){const a={};for(const d of["x","y"]){var b=this.childModel.component.scales[d];if(b&&!b.merged){var c=b.get("type");b=b.get("range");c in ad&&tb(b)&&(c=tg(this.childModel,d),(c=fh(c))?
a[d]=c:E("Unknown field for ${channel}.  Cannot calculate view size."))}}return a}assembleRowColumnHeaderData(a,b,c){const d={row:"y",column:"x"}[a],e=[],f=[],g=[];c&&c[d]&&(b?(e.push(`distinct_${c[d]}`),f.push("max")):(e.push(c[d]),f.push("distinct")),g.push(`distinct_${c[d]}`));const {sortField:h,sortIndexField:k}=this[a];if(h){const {op:a="mean",field:b}=h;e.push(b);f.push(a);g.push(ka(h,{forAs:!0}))}else k&&(e.push(k),f.push("max"),g.push(k));return{name:this[a].name,source:b||this.data,transform:[Object.assign({type:"aggregate",
groupby:this[a].fields},e.length?{fields:e,ops:f,as:g}:{})]}}assembleFacetHeaderData(a){const {columns:b}=this.model.layout,{layoutHeaders:c}=this.model.component,d=[],e={};for(const a of Og){for(const b of fe){var f=c[a]&&c[a][b]||[];for(const b of f)if(b.axes&&0<b.axes.length){e[a]=!0;break}}e[a]&&(f=`length(data("${this.facet.name}"))`,d.push({name:`${this.facet.name}_${a}`,transform:[{type:"sequence",start:0,stop:"row"===a?b?{signal:`ceil(${f} / ${b})`}:1:b?{signal:`min(${f}, ${b})`}:{signal:f}}]}))}const {row:g,
column:h}=e;(g||h)&&d.unshift(this.assembleRowColumnHeaderData("facet",null,a));return d}assemble(){const a=[];var b=null;const c=this.getChildIndependentFieldsWithStep(),{column:d,row:e,facet:f}=this;if(d&&e&&(c.x||c.y)){b=`cross_${this.column.name}_${this.row.name}`;const d=[].concat(c.x||[],c.y||[]),e=d.map(()=>"distinct");a.push({name:b,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:d,ops:e}]})}for(const d of["column","row"])this[d]&&a.push(this.assembleRowColumnHeaderData(d,
b,c));f&&(b=this.assembleFacetHeaderData(c))&&a.push(...b);return a}}class ih extends xc{constructor(a,b,c){super(a);this.model=b;this.filter=c;this.expr=Ng(this.model,this.filter,this);this._dependentFields=n(this.expr)}clone(){return new ih(null,this.model,ec(this.filter))}dependentFields(){return this._dependentFields}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}class $d extends xc{clone(){return new $d(null,ec(this._parse))}constructor(a,b){super(a);this._parse=
b}hash(){return`Parse ${J(this._parse)}`}static makeExplicit(a,b,c){let d={};b=b.data;!eb(b)&&b&&b.format&&b.format.parse&&(d=b.format.parse);return this.makeWithAncestors(a,d,{},c)}static makeImplicitFromFilterTransform(a,b,c){const d={};W(b.filter,a=>{if(ib(a)){let b=null;Nb(a)?b=a.equal:V(a)?b=a.range[0]:wb(a)&&(b=(a.oneOf||a["in"])[0]);b&&(da(b)?d[a.field]="date":T(b)?d[a.field]="number":t(b)&&(d[a.field]="string"));a.timeUnit&&(d[a.field]="date")}});return 0===ua(d).length?null:this.makeWithAncestors(a,
{},d,c)}static makeImplicitFromEncoding(a,b,c){function d(a){if(Sb(a))e[a.field]="date";else{var b;if(b="quantitative"===a.type)b=(b=a.aggregate)&&t(b)&&k(["min","max"],b);b?e[a.field]="number":1<Q(a.field)?a.field in e||(e[a.field]="flatten"):Bb(a)&&Y(a.sort)&&1<Q(a.sort.field)&&(a.sort.field in e||(e[a.sort.field]="flatten"))}}const e={};(Hc(b)||Sd(b))&&b.forEachFieldDef((a,c)=>{ub(a)?d(a):(c=v(c),c=b.fieldDef(c),d(Object.assign({},a,{type:c.type})))});if(Hc(b)){const {mark:a,markDef:c,encoding:d}=
b;if(Wb(a)&&!b.encoding.order){const a=d["horizontal"===c.orient?"y":"x"];!pa(a)||"quantitative"!==a.type||a.field in e||(e[a.field]="number")}}return this.makeWithAncestors(a,{},e,c)}static makeWithAncestors(a,b,c,d){for(var e of ua(c)){const a=d.getWithExplicit(e);void 0!==a.value&&(a.explicit||a.value===c[e]||"derived"===a.value||"flatten"===c[e]?delete c[e]:E(za.differentParse(e,c[e],a.value)))}for(var f of ua(b))e=d.get(f),void 0!==e&&(e===b[f]?delete b[f]:E(za.differentParse(f,b[f],e)));b=new Le(b,
c);d.copyAll(b);c={};for(const a of ua(b.combine()))f=b.get(a),null!==f&&(c[a]=f);return 0===ua(c).length||d.parseNothing?null:new $d(a,c)}get parse(){return this._parse}merge(a){this._parse=Object.assign({},this._parse,a.parse);a.remove()}assembleFormatParse(){const a={};for(const b of ua(this._parse)){const c=this._parse[b];1===Q(b)&&(a[b]=c)}return a}producedFields(){return new Set(ua(this._parse))}dependentFields(){return new Set(ua(this._parse))}assembleTransforms(a=!1){return ua(this._parse).filter(b=>
a?1<Q(b):!0).map(a=>{const b=Th(a,this._parse[a]);return b?{type:"formula",expr:b,as:`${u(a).join(".")}`}:null}).filter(a=>null!==a)}}class q extends xc{constructor(a,b){super(a);this.transform=b}clone(){return new q(null,ec(this.transform))}addDimensions(a){this.transform.groupby=h(this.transform.groupby.concat(a),a=>a)}dependentFields(){const a=new Set;this.transform.groupby&&this.transform.groupby.forEach(b=>a.add(b));this.transform.joinaggregate.map(a=>a.field).filter(a=>void 0!==a).forEach(b=>
a.add(b));return a}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(a){return a.as||ka(a)}hash(){return`JoinAggregateTransform ${J(this.transform)}`}assemble(){const a=[],b=[],c=[];for(var d of this.transform.joinaggregate)b.push(d.op),c.push(this.getDefaultName(d)),a.push(void 0===d.field?null:d.field);d=this.transform.groupby;return Object.assign({type:"joinaggregate",as:c,ops:b,fields:a},void 0!==d?{groupby:d}:{})}}class R extends xc{clone(){return new R(null,
ec(this._stack))}constructor(a,b){super(a);this._stack=b}static makeFromTransform(a,b){const {stack:c,groupby:d,as:e,offset:f="zero"}=b;var g=[];const h=[];if(void 0!==b.sort)for(const a of b.sort)g.push(a.field),h.push(la(a.order,"ascending"));g={field:g,order:h};b=Wf(e)?e:t(e)?[e,e+"_end"]:[b.stack+"_start",b.stack+"_end"];return new R(a,{stackField:c,groupby:d,offset:f,sort:g,facetby:[],as:b})}static makeFromEncoding(a,b){const c=b.stack;var {encoding:d}=b;if(!c)return null;let e;c.groupbyChannel&&
(e=Eb(d[c.groupbyChannel]));d=Vf(b);var f=b.encoding.order;f=Ra(f)||pa(f)?Z(f):d.reduce((a,b)=>{a.field.push(b);a.order.push("descending");return a},{field:[],order:[]});return new R(a,{dimensionFieldDef:e,stackField:b.vgField(c.fieldChannel),facetby:[],stackby:d,sort:f,offset:c.offset,impute:c.impute,as:[b.vgField(c.fieldChannel,{suffix:"start",forAs:!0}),b.vgField(c.fieldChannel,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(a){this._stack.facetby.push(...a)}dependentFields(){const a=
new Set;a.add(this._stack.stackField);this.getGroupbyFields().forEach(b=>a.add(b));this._stack.facetby.forEach(b=>a.add(b));this._stack.sort.field.forEach(b=>a.add(b));return a}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${J(this._stack)}`}getGroupbyFields(){const {dimensionFieldDef:a,impute:b,groupby:c}=this._stack;return a?a.bin?b?[ka(a,{binSuffix:"mid"})]:[ka(a,{}),ka(a,{binSuffix:"end"})]:[ka(a)]:c||[]}assemble(){const a=[],{facetby:b,dimensionFieldDef:c,stackField:d,stackby:e,
sort:f,offset:g,impute:h,as:k}=this._stack;h&&c&&(c.bin&&a.push({type:"formula",expr:"0.5*"+ka(c,{expr:"datum"})+"+0.5*"+ka(c,{expr:"datum",binSuffix:"end"}),as:ka(c,{binSuffix:"mid",forAs:!0})}),a.push({type:"impute",field:d,groupby:[...e,...b],key:ka(c,{binSuffix:"mid"}),method:"value",value:0}));a.push({type:"stack",groupby:[...this.getGroupbyFields(),...b],field:d,sort:f,as:k,offset:g});return a}}class Qe extends xc{constructor(a,b){super(a);this.transform=b}clone(){return new Qe(null,ec(this.transform))}addDimensions(a){this.transform.groupby=
h(this.transform.groupby.concat(a),a=>a)}dependentFields(){const a=new Set;(this.transform.groupby||[]).forEach(b=>a.add(b));(this.transform.sort||[]).forEach(b=>a.add(b.field));this.transform.window.map(a=>a.field).filter(a=>void 0!==a).forEach(b=>a.add(b));return a}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(a){return a.as||ka(a)}hash(){return`WindowTransform ${J(this.transform)}`}assemble(){const a=[],b=[],c=[],d=[];for(var e of this.transform.window)b.push(e.op),
c.push(this.getDefaultName(e)),d.push(void 0===e.param?null:e.param),a.push(void 0===e.field?null:e.field);e=this.transform.frame;const f=this.transform.groupby;if(e&&null===e[0]&&null===e[1]&&b.every(a=>Ea(a)))return Object.assign({type:"joinaggregate",as:c,ops:b,fields:a},void 0!==f?{groupby:f}:{});const g=[],h=[];if(void 0!==this.transform.sort)for(var k of this.transform.sort)g.push(k.field),h.push(k.order||"ascending");k=this.transform.ignorePeers;return Object.assign({type:"window",params:d,
as:c,ops:b,fields:a,sort:{field:g,order:h}},void 0!==k?{ignorePeers:k}:{},void 0!==f?{groupby:f}:{},void 0!==e?{frame:e}:{})}}class Qh extends Ae{run(a){var b=a.parent;if(a instanceof $d){if(rg(b))return this.flags;if(1<b.numChildren())return this.setContinue(),this.flags;if(b instanceof $d)this.setMutated(),b.merge(a);else{b=b.producedFields();var c=a.dependentFields();if(ba(L(b),L(c)))return this.setContinue(),this.flags;this.setMutated();a.swapWithParent()}}this.setContinue();return this.flags}}
class mg extends zh{mergeNodes(a,b){const c=b.shift();for(const d of b)a.removeChild(d),d.parent=c,d.remove()}run(a){const b=a.children.map(a=>a.hash()),c={};for(let d=0;d<b.length;d++)void 0===c[b[d]]?c[b[d]]=[a.children[d]]:c[b[d]].push(a.children[d]);for(const b of ua(c))1<c[b].length&&(this.setMutated(),this.mergeNodes(a,c[b]));for(const b of a.children)this.run(b);return this.mutatedFlag}}class sk extends Ae{run(a){a instanceof Wd||0<a.numChildren()||a instanceof Df||(this.setMutated(),a.remove());
return this.flags}}class tk extends Ae{constructor(){super(...arguments);this.fields=new Set}run(a){this.setContinue();if(a instanceof ge){const b=a.producedFields();ba(b,this.fields)?(this.setMutated(),a.remove()):this.fields=new Set([...this.fields,...b])}return this.flags}reset(){this.fields.clear()}}class Rh extends Ae{run(a){this.setContinue();a=a.parent.children.filter(a=>a instanceof ge);const b=a.pop();for(const c of a)this.setMutated(),b.merge(c);return this.flags}}class jk extends zh{run(a){a instanceof
Wd&&!a.isRequired()&&(this.setMutated(),a.remove());for(const b of a.children)this.run(b);return this.mutatedFlag}}class uk extends Ae{run(a){a=a.parent;const b=[...a.children];var c=a.children.filter(a=>a instanceof $d);if(1<a.numChildren()&&1<=c.length){const e={},f=new Set;for(var d of c){c=d.parse;for(const a of ua(c))a in e?e[a]!==c[a]&&f.add(a):e[a]=c[a]}for(const a of f)delete e[a];if(0!==ua(e).length){this.setMutated();d=new $d(a,e);for(const c of b){if(c instanceof $d)for(const a of ua(e))delete c.parse[a];
a.removeChild(c);c.parent=d;c instanceof $d&&0===ua(c.parse).length&&c.remove()}}}this.setContinue();return this.flags}}class Hj extends Ae{run(a){a=a.parent;var b=a.children.filter(a=>a instanceof Ue);const c={};for(var d of b)b=J(d.groupBy),b in c||(c[b]=[]),c[b].push(d);for(const e of ua(c))if(d=c[e],1<d.length){b=d.pop();for(const c of d)b.merge(c)&&(a.removeChild(c),c.parent=b,c.remove(),this.setMutated())}this.setContinue();return this.flags}}class vk extends Ae{constructor(a){super();this.model=
a}run(a){const b=a.parent,c=!(rg(b)||b instanceof ih||b instanceof $d),d=[];a=[];for(var e of b.children)if(e instanceof Rd){var f;if(f=c){f=b.producedFields();var g=e.dependentFields();f=!ba(L(f),L(g))}f?d.push(e):a.push(e)}if(0<d.length){e=d.pop();for(var h of d)e.merge(h,this.model.renameSignal.bind(this.model));this.setMutated();b instanceof Rd?b.merge(e,this.model.renameSignal.bind(this.model)):e.swapWithParent()}if(1<a.length){h=a.pop();for(const b of a)h.merge(b,this.model.renameSignal.bind(this.model));
this.setMutated()}this.setContinue();return this.flags}}class wk extends Ae{run(a){a=a.parent;var b=[...a.children];if(!N(b,a=>a instanceof Wd)||1>=a.numChildren())return this.setContinue(),this.flags;const c=[];let d;for(const e of b)if(e instanceof Wd){for(b=e;1===b.numChildren();){const a=b.children[0];if(a instanceof Wd)b=a;else break}c.push(...b.children);d?(a.removeChild(e),e.parent=d.parent,d.parent.removeChild(d),d.parent=b,this.setMutated()):d=b}else c.push(e);if(c.length){this.setMutated();
for(const a of c)a.parent.removeChild(a),a.parent=d}this.setContinue();return this.flags}}class qf{constructor(a){Object.defineProperty(this,"signal",{enumerable:!0,get:a})}static fromName(a,b){return new qf(()=>a(b))}}class kk extends Le{constructor(a,b){super({},{name:a});this.merged=!1;this.setWithExplicit("type",b)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")?!0:N(this.get("domains"),a=>Ra(a)&&2===a.length&&0>=a[0]&&0<=a[1])}}const xk=["range","rangeStep","scheme"],yk=oi((a,b)=>
rh[a]-rh[b]);class Oj{constructor(){this.nameMap={}}rename(a,b){this.nameMap[a]=b}has(a){return void 0!==this.nameMap[a]}get(a){for(;this.nameMap[a]&&a!==this.nameMap[a];)a=this.nameMap[a];return a}}class Pj{constructor(a,b,c,d,e,f,g,h){this.type=b;this.parent=c;this.config=e;this.repeater=f;this.view=h;this.children=[];this.correctDataNames=a=>{a.from&&a.from.data&&(a.from.data=this.lookupDataSource(a.from.data));a.from&&a.from.facet&&a.from.facet.data&&(a.from.facet.data=this.lookupDataSource(a.from.facet.data));
return a};this.parent=c;this.config=e;this.repeater=f;this.name=a.name||d;this.title=t(a.title)?{text:a.title}:a.title;this.scaleNameMap=c?c.scaleNameMap:new Oj;this.projectionNameMap=c?c.projectionNameMap:new Oj;this.signalNameMap=c?c.signalNameMap:new Oj;this.data=a.data;this.description=a.description;this.transforms=xb(a.transform||[]);this.layout=aa(a)||Pc(a)?{}:gd(a,b,e);this.component={data:{sources:c?c.component.data.sources:[],outputNodes:c?c.component.data.outputNodes:{},outputNodeRefCounts:c?
c.component.data.outputNodeRefCounts:{},isFaceted:void 0!==a.facet||c&&c.component.data.isFaceted&&void 0===a.data},layoutSize:new Le,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},g?ec(g):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}initSize(a){const {width:b,height:c}=a;b&&this.component.layoutSize.set("width",b,!0);c&&
this.component.layoutSize.set("height",c,!0)}parse(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){Ai(this);fd(this);for(const a of dj)ji(this,a);Yh(this)}parseProjection(){this.component.projection=Hc(this)?bh(this):qg(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),
"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){qj(this)}assembleGroupStyle(){if("unit"===this.type||"layer"===this.type)return this.view&&this.view.style||"cell"}assembleEncodeFromView(a){a=sa(a,["style"]);const b={};for(const c in a)if(a.hasOwnProperty(c)){const d=a[c];void 0!==d&&(b[c]={value:d})}return b}assembleGroupEncodeEntry(a){let b=void 0;this.view&&(b=this.assembleEncodeFromView(this.view));return a||"unit"!==this.type&&"layer"!==
this.type?b:Object.assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},b||{})}assembleLayout(){if(this.layout){var a=this.layout,{spacing:b}=a;a=sa(a,["spacing"]);var {component:c,config:d}=this;{var e=c.layoutHeaders;const a={};for(g of se){var f=e[g];if(f&&f.facetFieldDef){const {titleAnchor:b,titleOrient:c}=ze(["titleAnchor","titleOrient"],f.facetFieldDef,d,g);f=Jb(g,c);const e=Me[f][b];void 0!==e&&(a[f]=e)}}var g=0<ua(a).length?a:void 0}return Object.assign({padding:b},
this.assembleDefaultLayout(),a,g?{titleBand:g}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const {layoutHeaders:a}=this.component;let b=[];for(const c of se)a[c].title&&b.push(Jf(this,c));for(const a of Og)b=b.concat(Kf(this,a));return b}assembleAxes(){return Za(this.component.axes,this.config)}assembleLegends(){return pg(this)}assembleProjections(){var a=Te(this)||this&&"concat"===this.type||this&&"repeat"===this.type?Sh(this):Li(this);return a}assembleTitle(){var a=this.title||{},
{encoding:b}=a;a=sa(a,["encoding"]);b=Object.assign({},Id(this.config.title).nonMark,a,b?{encode:{update:b}}:{});if(b.text)return k(["unit","layer"],this.type)?k(["middle",void 0],b.anchor)&&(b.frame=b.frame||"group"):b.anchor=b.anchor||"start",0<ua(b).length?b:void 0}assembleGroup(a=[]){const b={};a=a.concat(this.assembleSignals());0<a.length&&(b.signals=a);if(a=this.assembleLayout())b.layout=a;b.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());a=!this.parent||Sd(this.parent)?oj(this):
[];0<a.length&&(b.scales=a);a=this.assembleAxes();0<a.length&&(b.axes=a);a=this.assembleLegends();0<a.length&&(b.legends=a);return b}hasDescendantWithFieldOnChannel(a){for(const b of this.children)if(Hc(b)){if(b.channelHasField(a))return!0}else if(b.hasDescendantWithFieldOnChannel(a))return!0;return!1}getName(a){return B((this.name?this.name+"_":"")+a)}requestDataName(a){a=this.getName(a);const b=this.component.data.outputNodeRefCounts;b[a]=(b[a]||0)+1;return a}getSizeSignalRef(a){if(Sd(this.parent)){var b=
"width"===a?"x":"y";const c=this.component.scales[b];if(c&&!c.merged){const d=c.get("type"),e=c.get("range");if(d in ad&&tb(e)){a=c.get("name");b=tg(this,b);if(b=fh(b))return b=ka({aggregate:"distinct",field:b},{expr:"datum"}),{signal:id(a,c,b)};E("Unknown field for ${channel}.  Cannot calculate view size.");return null}}}return{signal:this.signalNameMap.get(this.getName(a))}}lookupDataSource(a){const b=this.component.data.outputNodes[a];return b?b.getSource():a}getSignalName(a){return this.signalNameMap.get(a)}renameSignal(a,
b){this.signalNameMap.rename(a,b)}renameScale(a,b){this.scaleNameMap.rename(a,b)}renameProjection(a,b){this.projectionNameMap.rename(a,b)}scaleName(a,b){if(b)return this.getName(a);if(ef[a]&&le[a]&&this.component.scales[a]||this.scaleNameMap.has(this.getName(a)))return this.scaleNameMap.get(this.getName(a))}projectionName(a){if(a)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(a){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale().  Make sure you have called parseScale or use parseUnitModelWithScale().");
const b=this.component.scales[a];return b&&!b.merged?b:this.parent?this.parent.getScaleComponent(a):void 0}getSelectionComponent(a,b){let c=this.component.selection[a];!c&&this.parent&&(c=this.parent.getSelectionComponent(a,b));if(!c)throw Error(za.selectionNotFound(b));return c}}class lk extends Pj{vgField(a,b={}){if(a=this.fieldDef(a))return ka(a,b)}reduceFieldDef(a,b,c){return Cc(this.getMapping(),(b,c,d)=>(c=Tb(c))?a(b,c,d):b,b,c)}forEachFieldDef(a,b){Nc(this.getMapping(),(b,c)=>{(b=Tb(b))&&a(b,
c)},b)}}class ej extends xc{constructor(a,b){super(a);this.filter=b}clone(){return new ej(null,Object.assign({},this.filter))}static make(a,b){const {config:c,mark:d}=b;if("filter"!==c.invalidValues)return null;const e=b.reduceFieldDef((a,c,e)=>{e=!!le[e]&&b.getScaleComponent(e);!e||e.get("type")in pd&&!c.aggregate&&!Wb(d)&&(a[c.field]=c);return a},{});return ua(e).length?new ej(a,e):null}dependentFields(){return new Set(ua(this.filter))}assemble(){const a=ua(this.filter).reduce((a,b)=>{b=this.filter[b];
const c=ka(b,{expr:"datum"});null!==b&&(a.push(`${c} !== null`),a.push(`!isNaN(${c})`));return a},[]);return 0<a.length?{type:"filter",expr:a.join(" \x26\x26 ")}:null}}class Qj extends xc{constructor(a,b){super(a);this.transform=b;this.transform=ec(b);const {flatten:c,as:d=[]}=this.transform;this.transform.as=c.map((a,b)=>d[b]||a)}clone(){return new Qj(this.parent,ec(this.transform))}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${J(this.transform)}`}assemble(){const {flatten:a,
as:b}=this.transform;return{type:"flatten",fields:a,as:b}}}class Rj extends xc{constructor(a,b){super(a);this.transform=b;this.transform=ec(b);a=this.transform.as||[void 0,void 0];this.transform.as=[a[0]||"key",a[1]||"value"]}clone(){return new Rj(null,ec(this.transform))}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${J(this.transform)}`}assemble(){const {fold:a,as:b}=this.transform;return{type:"fold",fields:a,as:b}}}class gi extends xc{constructor(a,b,c,d){super(a);
this.fields=b;this.geojson=c;this.signal=d}clone(){return new gi(null,ec(this.fields),this.geojson,this.signal)}static parseAll(a,b){if(b.component.projection&&!b.component.projection.isFit)return a;let c=0;[["longitude","latitude"],["longitude2","latitude2"]].forEach(d=>{d=d.map(a=>b.channelHasField(a)?b.fieldDef(a).field:Va(b.encoding[a])?{expr:b.encoding[a].value+""}:void 0);if(d[0]||d[1])a=new gi(a,d,null,b.getName(`geojson_${c++}`))});if(b.channelHasField("shape")){const d=b.fieldDef("shape");
"geojson"===d.type&&(a=new gi(a,null,d.field,b.getName(`geojson_${c++}`)))}return a}assemble(){return Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})}}class vh extends xc{constructor(a,b,c,d){super(a);this.projection=b;this.fields=c;this.as=d}clone(){return new vh(null,this.projection,ec(this.fields),ec(this.as))}static parseAll(a,b){if(!b.projectionName())return a;[["longitude","latitude"],["longitude2","latitude2"]].forEach(c=>
{const d=c.map(a=>b.channelHasField(a)?b.fieldDef(a).field:Va(b.encoding[a])?{expr:b.encoding[a].value+""}:void 0);c="longitude2"===c[0]?"2":"";if(d[0]||d[1])a=new vh(a,b.projectionName(),d,[b.getName("x"+c),b.getName("y"+c)])});return a}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Fe extends xc{clone(){return new Fe(null)}constructor(a){super(a)}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",
as:"_vgsid_"}}}class wh extends xc{constructor(a,b){super(a);this.transform=b}clone(){return new wh(null,ec(this.transform))}producedFields(){return new Set([this.transform.impute])}processSequence(a){const {start:b=0,stop:c,step:d}=a;return{signal:`sequence(${[b,c,...d?[d]:[]].join()})`}}static makeFromTransform(a,b){return new wh(a,b)}static makeFromEncoding(a,b){const c=b.encoding;var d=c.x;const e=c.y;if(pa(d)&&pa(e)){const f=d.impute?d:e.impute?e:void 0;if(void 0===f)return;d=d.impute?e:e.impute?
d:void 0;const {method:g,value:h,frame:k,keyvals:l}=f.impute;b=rc(b.mark,c);return new wh(a,Object.assign({impute:f.field,key:d.field},g?{method:g}:{},void 0!==h?{value:h}:{},k?{frame:k}:{},void 0!==l?{keyvals:l}:{},b.length?{groupby:b}:{}))}return null}hash(){return`Impute ${J(this.transform)}`}assemble(){const {impute:a,key:b,keyvals:c,method:d,groupby:e,value:f,frame:g=[null,null]}=this.transform,h=Object.assign({type:"impute",field:a,key:b},c?{keyvals:c&&void 0!==c.stop?this.processSequence(c):
c}:{},{method:"value"},e?{groupby:e}:{},{value:null});let k;k=d&&"value"!==d?[Object.assign({type:"window",as:[`imputed_${a}_value`],ops:[d],fields:[a],frame:g,ignorePeers:!1},e?{groupby:e}:{}),{type:"formula",expr:`datum.${a} === null ? datum.imputed_${a}_value : datum.${a}`,as:a}]:[{type:"formula",expr:`datum.${a} === null ? ${f} : datum.${a}`,as:a}];return[h,...k]}}class zk extends Le{constructor(a={},b={},c=!1){super(a,b);this.explicit=a;this.implicit=b;this.parseNothing=c}clone(){const a=super.clone();
a.parseNothing=this.parseNothing;return a}}class Ej extends xc{constructor(a,b,c){super(a);this.transform=b;this.secondary=c}clone(){return new Ej(null,ec(this.transform),this.secondary)}static make(a,b,c,d){const e=b.component.data.sources;var f=Ph(c.from.data,e);f||(f=new Ne(c.from.data),e.push(f));d=b.getName(`lookup_${d}`);f=new Wd(f,d,"lookup",b.component.data.outputNodeRefCounts);b.component.data.outputNodes[d]=f;return new Ej(a,c,f.getSource())}producedFields(){return new Set(this.transform.from.fields||
(this.transform.as instanceof Array?this.transform.as:[this.transform.as]))}hash(){return`Lookup ${J({transform:this.transform,secondary:this.secondary})}`}assemble(){if(this.transform.from.fields)var a=Object.assign({values:this.transform.from.fields},this.transform.as?{as:this.transform.as instanceof Array?this.transform.as:[this.transform.as]}:{});else a=this.transform.as,t(a)||(E(za.NO_FIELDS_NEEDS_AS),a="_lookup"),a={as:[a]};return Object.assign({type:"lookup",from:this.secondary,key:this.transform.from.key,
fields:[this.transform.lookup]},a,this.transform.default?{default:this.transform.default}:{})}}class ik extends xc{constructor(a,b){super(a);this.transform=b}clone(){return new ik(null,ec(this.transform))}hash(){return`SampleTransform ${J(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}const Ck={vconcat:"width",hconcat:"height"};class Gj extends lk{constructor(a,b,c,d,e){super(a,"facet",b,c,e,d,a.resolve);this.child=lf(a.spec,this,this.getName("child"),void 0,d,e,!1);
this.children=[this.child];a=a.facet;d=Wa(a)?uj(a,d):kh(a,d);this.facet=this.initFacet(d)}initFacet(a){return Wa(a)?Cc(a,(a,b,c)=>{if(!k(["row","column"],c))return E(za.incompatibleChannel(c,"facet")),a;if(void 0===b.field)return E(za.emptyFieldDef(b,c)),a;a[c]=Xa(b,c);return a},{}):{facet:Xa(a,"facet")}}channelHasField(a){return!!this.facet[a]}fieldDef(a){return this.facet[a]}parseData(){this.component.data=lh(this);this.child.parseData()}parseLayoutSize(){Ef(this)}parseSelections(){this.child.parseSelections();
this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();for(const d of se){var a=d;if(this.channelHasField(a)){const d=this.facet[a];var b=sc("title",null,this.config,a);b=$a(d,this.config,{allowDisabling:!0,includeDefault:void 0===b||!!b});this.child.component.layoutHeaders[a].title&&(b+=" / "+this.child.component.layoutHeaders[a].title,this.child.component.layoutHeaders[a].title=null);var c=sc("labelOrient",
d,this.config,a);const e=la((d.header||{}).labels,!0);c=k(["bottom","right"],c)?"footer":"header";this.component.layoutHeaders[a]={title:b,facetFieldDef:d,[c]:"facet"===a?[]:[Se(this,a,e)]}}}Zf(this,"x");Zf(this,"y")}assembleSelectionTopLevelSignals(a){return this.child.assembleSelectionTopLevelSignals(a)}assembleSignals(){this.child.assembleSignals();return[]}assembleSelectionData(a){return this.child.assembleSelectionData(a)}getHeaderLayoutMixins(){const a={};for(const d of se)for(const e of fe){const f=
this.component.layoutHeaders[d];var b=f[e],{facetFieldDef:c}=f;c&&(c=sc("titleOrient",c,this.config,d),k(["right","bottom"],c)&&(c=Jb(d,c),a.titleAnchor=a.titleAnchor||{},a.titleAnchor[c]="end"));b&&b[0]&&(b="row"===d?"height":"width",c="header"===e?"headerBand":"footerBand","facet"===d||this.child.component.layoutSize.get(b)||(a[c]=a[c]||{},a[c][d]=.5),f.title&&(a.offset=a.offset||{},a.offset["row"===d?"rowTitle":"columnTitle"]=10))}return a}assembleDefaultLayout(){const {column:a,row:b}=this.facet,
c=a?this.columnDistinctSignal():b?1:void 0;let d="all";b||"independent"!==this.component.resolve.scale.x?a||"independent"!==this.component.resolve.scale.y||(d="none"):d="none";return Object.assign({},this.getHeaderLayoutMixins(),c?{columns:c}:{},{bounds:"full",align:d})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof Gj))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroup(a){return this.parent&&
this.parent instanceof Gj?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:ka(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(a)):super.assembleGroup(a)}getCardinalityAggregateForChild(){const a=[],b=[],c=[];if(this.child instanceof Gj){if(this.child.channelHasField("column")){var d=ka(this.child.facet.column);a.push(d);b.push("distinct");c.push(`distinct_${d}`)}}else for(d of["x","y"]){var e=this.child.component.scales[d];if(e&&!e.merged){var f=e.get("type");
e=e.get("range");f in ad&&tb(e)&&(f=tg(this.child,d),(f=fh(f))?(a.push(f),b.push("distinct"),c.push(`distinct_${f}`)):E("Unknown field for ${channel}.  Cannot calculate view size."))}}return{fields:a,ops:b,as:c}}assembleFacet(){const {name:a,data:b}=this.component.data.facetRoot,{row:c,column:d}=this.facet,{fields:e,ops:f,as:g}=this.getCardinalityAggregateForChild(),h=[];for(var k of se){var l=this.facet[k];if(l){h.push(ka(l));const {bin:a,sort:b}=l;gb(a)&&h.push(ka(l,{binSuffix:"end"}));if(Y(b)){const {field:a,
op:h="mean"}=b;l=Oh(l,b);c&&d?(e.push(l),f.push("max")):(e.push(a),f.push(h));g.push(l)}else Ra(b)&&(l=y(l,k),e.push(l),f.push("max"),g.push(l))}}k=!!c&&!!d;return Object.assign({name:a,data:b,groupby:h},k||e.length?{aggregate:Object.assign({},k?{cross:k}:{},e.length?{fields:e,ops:f,as:g}:{})}:{})}facetSortFields(a){var {facet:b}=this;return(b=b[a])?Y(b.sort)?[Oh(b,b.sort,{expr:"datum"})]:Ra(b.sort)?[y(b,a,{expr:"datum"})]:[ka(b,{expr:"datum"})]:[]}facetSortOrder(a){const {facet:b}=this;return(a=
b[a])?({sort:a}=a,[(Y(a)?a.order:!Ra(a)&&a)||"ascending"]):[]}assembleLabelTitle(){const {facet:a,config:b}=this;if(a.facet)return Je(a.facet,"facet",b);const c={row:["top","bottom"],column:["left","right"]};for(const d of Og)if(a[d]){const e=sc("labelOrient",a[d],b,d);if(k(c[d],e))return Je(a[d],d,b)}}assembleMarks(){const {child:a}=this,b=jf(this.component.data.facetRoot),c=a.assembleGroupEncodeEntry(!1),d=this.assembleLabelTitle()||a.assembleTitle(),e=a.assembleGroupStyle();return[Object.assign({name:this.getName("cell"),
type:"group"},d?{title:d}:{},e?{style:e}:{},{from:{facet:this.assembleFacet()},sort:{field:O(se.map(a=>this.facetSortFields(a))),order:O(se.map(a=>this.facetSortOrder(a)))}},0<b.length?{data:b}:{},c?{encode:{update:c}}:{},a.assembleGroup(li(this,[])))]}getMapping(){return this.facet}}class rk extends Pj{constructor(a,b,c,d,e,f,g){super(a,b,c,d,e,f,g)}parseData(){this.component.data=lh(this);this.children.forEach(a=>{a.parseData()})}parseSelections(){this.component.selection={};for(const a of this.children)a.parseSelections(),
ua(a.component.selection).forEach(b=>{this.component.selection[b]=a.component.selection[b]})}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){for(const a of this.children)a.parseAxesAndHeaders()}assembleSelectionTopLevelSignals(a){return this.children.reduce((a,b)=>b.assembleSelectionTopLevelSignals(a),a)}assembleSignals(){this.children.forEach(a=>a.assembleSignals());return[]}assembleLayoutSignals(){return this.children.reduce((a,b)=>[...a,...b.assembleLayoutSignals()],
Qd(this))}assembleSelectionData(a){return this.children.reduce((a,b)=>b.assembleSelectionData(a),a)}assembleMarks(){return this.children.map(a=>{const b=a.assembleTitle(),c=a.assembleGroupStyle(),d=a.assembleGroupEncodeEntry(!1);return Object.assign({type:"group",name:a.getName("group")},b?{title:b}:{},c?{style:c}:{},d?{encode:{update:d}}:{},a.assembleGroup())})}}class Bk extends rk{constructor(a,b,c,d,e){super(a,"concat",b,c,e,d,a.resolve);a.resolve&&a.resolve.axis&&("shared"===a.resolve.axis.x||
"shared"===a.resolve.axis.y)&&E(za.CONCAT_CANNOT_SHARE_AXIS);this.concatType=Hd(a)?"vconcat":ic(a)?"hconcat":"concat";this.children=this.getChildren(a).map((a,b)=>lf(a,this,this.getName("concat_"+b),void 0,d,e,!1))}getChildren(a){return Hd(a)?a.vconcat:ic(a)?a.hconcat:a.concat}parseLayoutSize(){{Ef(this);const a=this.component.layoutSize,b=Ck[this.concatType];b&&a.setWithExplicit(b,vg(this,b))}}parseAxisGroup(){return null}assembleDefaultLayout(){return Object.assign({},"vconcat"===this.concatType?
{columns:1}:{},{bounds:"full",align:"each"})}}class ok extends Le{constructor(a={},b={},c=!1){super();this.explicit=a;this.implicit=b;this.mainExtracted=c}clone(){return new ok(ec(this.explicit),ec(this.implicit),this.mainExtracted)}hasAxisPart(a){if("axis"===a)return!0;if("grid"===a||"title"===a)return!!this.get(a);a=this.get(a);return!(!1===a||null===a)}}const Dk={bottom:"top",top:"bottom",left:"right",right:"left"},Fj={area:{vgMark:"area",encodeEntry:a=>Object.assign({},Pe(a,{size:"ignore",orient:"include"}),
Ed("x",a,"zeroOrMin"),Ed("y",a,"zeroOrMin"),Ee(a,"zeroOrMin","horizontal"===a.markDef.orient?"x2":"y2"),wi(a))},bar:{vgMark:"rect",encodeEntry:a=>Object.assign({},Pe(a,{size:"ignore",orient:"ignore"}),ag(a,"x","bar"),ag(a,"y","bar"))},circle:{vgMark:"symbol",encodeEntry:a=>Tg(a,"circle")},geoshape:{vgMark:"shape",encodeEntry:a=>Object.assign({},Pe(a,{size:"ignore",orient:"ignore"})),postEncodingTransform:a=>{var {encoding:b}=a;b=b.shape;return[Object.assign({type:"geoshape",projection:a.projectionName()},
b&&pa(b)&&"geojson"===b.type?{field:ka(b,{expr:"datum"})}:{})]}},line:{vgMark:"line",encodeEntry:a=>{const {width:b,height:c}=a;return Object.assign({},Pe(a,{size:"ignore",orient:"ignore"}),Ed("x",a,Zd(b)),Ed("y",a,Zd(c)),sd("size",a,{vgChannel:"strokeWidth"}),wi(a))}},point:{vgMark:"symbol",encodeEntry:a=>Tg(a)},rect:{vgMark:"rect",encodeEntry:a=>Object.assign({},Pe(a,{size:"ignore",orient:"ignore"}),ag(a,"x","rect"),ag(a,"y","rect"))},rule:{vgMark:"rule",encodeEntry:a=>{const {markDef:b,width:c,
height:d}=a,e=b.orient;return a.encoding.x||a.encoding.y||a.encoding.latitude||a.encoding.longitude?Object.assign({},Pe(a,{size:"ignore",orient:"ignore"}),Ed("x",a,"horizontal"===e?"zeroOrMin":Zd(c)),Ed("y",a,"vertical"===e?"zeroOrMin":Zd(d)),"vertical"!==e?Ee(a,"zeroOrMax","x2"):{},"horizontal"!==e?Ee(a,"zeroOrMax","y2"):{},sd("size",a,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:a=>Tg(a,"square")},text:{vgMark:"text",encodeEntry:a=>{const {config:b,encoding:c,width:d,height:e}=
a;return Object.assign({},Pe(a,{size:"ignore",orient:"ignore"}),Ed("x",a,Zd(d)),Ed("y",a,Zd(e)),xe(a),sd("size",a,{vgChannel:"fontSize"}),xi("align",ti(a.markDef,c,b)),xi("baseline",Xj(a.markDef,c,b)))}},tick:{vgMark:"rect",encodeEntry:a=>{const {config:b,markDef:c,width:d,height:e}=a;var f=c.orient;const g="horizontal"===f?"width":"height";f="horizontal"===f?"height":"width";return Object.assign({},Pe(a,{size:"ignore",orient:"ignore"}),Ed("x",a,Zd(d),"xc"),Ed("y",a,Zd(e),"yc"),sd("size",a,{defaultValue:Bi(a),
vgChannel:g}),{[f]:{value:la(c.thickness,b.tick.thickness)}})}},trail:{vgMark:"trail",encodeEntry:a=>{const {width:b,height:c}=a;return Object.assign({},Pe(a,{size:"include",orient:"ignore"}),Ed("x",a,Zd(b)),Ed("y",a,Zd(c)),sd("size",a),wi(a))}}};class qk extends lk{constructor(a,b,c,d={},e,f,g){super(a,"unit",b,c,f,e,void 0,a.view);this.fit=g;this.specifiedScales={};this.specifiedAxes={};this.specifiedLegends={};this.specifiedProjection={};this.selection={};this.children=[];this.initSize(Object.assign({},
d,a.width?{width:a.width}:{},a.height?{height:a.height}:{}));b=ha(a.mark)?a.mark.type:a.mark;e=uj(a.encoding||{},e);e=this.encoding=kc(e,b);c=a.mark;c=ha(c)?Object.assign({},c):{type:c};d=c.orient||Aa("orient",c,f);c.orient=$h(c.type,e,d);void 0!==d&&d!==c.orient&&E(za.orientOverridden(c.orient,d));void 0===la(c.opacity,Aa("opacity",c,f))&&(d=k(["point","tick","circle","square"],c.type)&&!jc(e)?.7:void 0,c.opacity=d);void 0===c.filled&&(g=c,d=Aa("filled",g,f),g=g.type,d=la(d,"point"!==g&&"line"!==
g&&"rule"!==g),c.filled=d);void 0===(c.cursor||Aa("cursor",c,f))&&(d=c,f=e.href||d.href||Aa("href",d,f)?"pointer":d.cursor,c.cursor=f);this.markDef=f=c;this.stack=wd(b,e,this.config.stack);this.specifiedScales=this.initScales(b,e);this.specifiedAxes=this.initAxes(e);this.specifiedLegends=this.initLegend(e);this.specifiedProjection=a.projection;this.selection=a.selection}get hasProjection(){const {encoding:a}=this,b="geoshape"===this.mark,c=a&&wj.some(b=>pa(a[b]));return b||c}scaleDomain(a){return(a=
this.specifiedScales[a])?a.domain:void 0}axis(a){return this.specifiedAxes[a]}legend(a){return this.specifiedLegends[a]}initScales(a,b){return cg.reduce((a,c)=>{let d,e;const f=b[c];pa(f)?(d=f,e=f.scale):Ja(f)&&(d=f.condition,e=f.condition.scale);d&&(a[c]=e||{});return a},{})}initAxes(a){return["x","y"].reduce((b,c)=>{var d=a[c];if(pa(d)||"x"===c&&pa(a.x2)||"y"===c&&pa(a.y2))d=pa(d)?d.axis:null,null!==d&&(b[c]=Object.assign({},d));return b},{})}initLegend(a){return ci.reduce((b,c)=>{var d=a[c];if(d){const a=
pa(d)?d.legend:Ja(d)?d.condition.legend:null;if(d=null!==a&&!1!==a)a:{switch(c){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":d=!0;break a;case "fillOpacity":case "strokeOpacity":d=!1;break a}d=void 0}d&&(b[c]=Object.assign({},a))}return b},{})}parseData(){this.component.data=lh(this)}parseLayoutSize(){{const b=this.component.layoutSize;if(!b.explicit.width){var a=Ui(this,"width");b.set("width",a,!1)}b.explicit.height||(a=Ui(this,"height"),b.set("height",
a,!1))}}parseSelections(){this.component.selection=nh(this,this.selection)}parseMarkGroup(){var a=this.component;if(k(["line","area","trail"],this.mark)){{var b=rc(this.mark,this.encoding);const a=We(this,{fromPrefix:0<b.length?"faceted_path_":""});b=0<b.length?[{name:this.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+this.requestDataName("main"),data:this.requestDataName("main"),groupby:b}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:a}]:
a}}else b=We(this);a.mark=b}parseAxesAndHeaders(){this.component.axes=mh(this)}assembleSelectionTopLevelSignals(a){return hj(this,a)}assembleSignals(){return[...ca(this),...gj(this,[])]}assembleSelectionData(a){return ij(this,a)}assembleLayout(){return null}assembleLayoutSignals(){return Qd(this)}assembleMarks(){let a=this.component.mark||[];this.parent&&Te(this.parent)||(a=mi(this,a));return a.map(this.correctDataNames)}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(a){return gc(this.encoding,
a)}fieldDef(a){return Eb(this.encoding[a])}}class pk extends Pj{constructor(a,b,c,d,e,f,g){super(a,"layer",b,c,f,e,a.resolve,a.view);const h=Object.assign({},d,a.width?{width:a.width}:{},a.height?{height:a.height}:{});this.initSize(h);this.children=a.layer.map((a,b)=>{if(Pc(a))return new pk(a,this,this.getName("layer_"+b),h,e,f,g);if(aa(a))return new qk(a,this,this.getName("layer_"+b),h,e,f,g);throw Error(za.INVALID_SPEC);})}parseData(){this.component.data=lh(this);for(const a of this.children)a.parseData()}parseLayoutSize(){$f(this)}parseSelections(){this.component.selection=
{};for(const a of this.children)a.parseSelections(),ua(a.component.selection).forEach(b=>{this.component.selection[b]=a.component.selection[b]})}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){{const {axes:b,resolve:c}=this.component,d={top:0,bottom:0,right:0,left:0};for(var a of this.children){a.parseAxesAndHeaders();for(const d of ua(a.component.axes))c.axis[d]=Ag(this.component.resolve,d),"shared"===c.axis[d]&&(b[d]=wg(b[d],a.component.axes[d]),b[d]||(c.axis[d]=
"independent",delete b[d]))}for(const e of["x","y"]){for(const f of this.children)if(f.component.axes[e]){if("independent"===c.axis[e]){b[e]=(b[e]||[]).concat(f.component.axes[e]);for(const b of f.component.axes[e]){const {value:c,explicit:e}=b.getWithExplicit("orient");0<d[c]&&!e&&(a=Dk[c],d[c]>d[a]&&b.set("orient",a,!1));d[c]++}}delete f.component.axes[e]}if("independent"===c.axis[e]&&b[e]&&1<b[e].length)for(const a of b[e])a.get("grid")&&!a.explicit.grid&&(a.implicit.grid=!1)}}}assembleSelectionTopLevelSignals(a){return this.children.reduce((a,
b)=>b.assembleSelectionTopLevelSignals(a),a)}assembleSignals(){return this.children.reduce((a,b)=>a.concat(b.assembleSignals()),ca(this))}assembleLayoutSignals(){return this.children.reduce((a,b)=>a.concat(b.assembleLayoutSignals()),Qd(this))}assembleSelectionData(a){return this.children.reduce((a,b)=>b.assembleSelectionData(a),a)}assembleTitle(){let a=super.assembleTitle();if(a)return a;for(const b of this.children)if(a=b.assembleTitle())return a}assembleLayout(){return null}assembleMarks(){return Ge(this,
O(this.children.map(a=>a.assembleMarks())))}assembleLegends(){return this.children.reduce((a,b)=>a.concat(b.assembleLegends()),pg(this))}}class Ak extends rk{constructor(a,b,c,d,e){super(a,"repeat",b,c,e,d,a.resolve);a.resolve&&a.resolve.axis&&("shared"===a.resolve.axis.x||"shared"===a.resolve.axis.y)&&E(za.REPEAT_CANNOT_SHARE_AXIS);this.repeat=a.repeat;this.children=this._initChildren(a,this.repeat,d,e)}_initChildren(a,b,c,d){const e=[],f=!Ra(b)&&b.row||[c?c.row:null],g=!Ra(b)&&b.column||[c?c.column:
null];b=Ra(b)&&b||[c?c.repeat:null];for(const c of b)for(const h of f)for(const f of g)b={repeat:c,row:h,column:f},e.push(lf(a.spec,this,this.getName("child"+((c?`__repeat_repeat_${c}`:"")+(h?`__repeat_row_${h}`:"")+(f?`__repeat_column_${f}`:""))),void 0,b,d,!1));return e}parseLayoutSize(){$f(this)}assembleDefaultLayout(){var {repeat:a}=this;a=Ra(a)?void 0:a.column?a.column.length:1;return Object.assign({},a?{columns:a}:{},{bounds:"full",align:"all"})}}class Ek extends we{mapUnit(a,{config:b}){if(a.encoding){const {encoding:c,
transform:d}=a,{bins:e,timeUnits:f,aggregate:g,groupby:h,encoding:k}=Ic(c,b);b=[...d?d:[],...e,...f,...g.length?[{aggregate:g,groupby:h}]:[]];return Object.assign({},a,0<b.length?{transform:b}:{},{encoding:k})}return a}}const Fk=new Ek;b.compile=function(a,b={}){b.logger&&(lg=b.logger);b.fieldTitle&&(nd=b.fieldTitle);try{const k=vd(c({},b.config,a.config));var d=vb(a,k),e=Gb(a.autosize,k.autosize,Pc(d)||aa(d));const l=lf(d,null,"",void 0,void 0,k,"fit"===e.type);l.parse();{var f=l.component.data;
d=l;ff(f.sources);let a=0,b=0;for(var g=0;5>g&&Uh(f,d);g++)a++;f.sources.map(Ve);for(g=0;5>g&&Uh(f,d);g++)b++;ff(f.sources);5===Math.max(a,b)&&E("Maximum optimization runs(5) reached.")}f=k;var h=Object.assign({autosize:1===ua(e).length&&e.type?e.type:e},Ia(f),Ia(a));return nf(l,h,a.datasets,a.usermeta)}finally{b.logger&&(lg=zj),b.fieldTitle&&(nd=od)}};b.extractTransforms=function(a,b){return Fk.map(a,{config:b})};b.normalize=vb;b.version="3.4.0";Object.defineProperty(b,"__esModule",{value:!0})})};
shadow$provide[72]=function(G,w,I,u){function a(){throw Error("setTimeout has not been defined");}function b(){throw Error("clearTimeout has not been defined");}function e(b){if(P===setTimeout)return setTimeout(b,0);if((P===a||!P)&&setTimeout)return P=setTimeout,setTimeout(b,0);try{return P(b,0)}catch(z){try{return P.call(null,b,0)}catch(J){return P.call(this,b,0)}}}function H(a){if(ea===clearTimeout)return clearTimeout(a);if((ea===b||!ea)&&clearTimeout)return ea=clearTimeout,clearTimeout(a);try{return ea(a)}catch(z){try{return ea.call(null,
a)}catch(J){return ea.call(this,a)}}}function Sa(){F&&W&&(F=!1,W.length?T=W.concat(T):r=-1,T.length&&t())}function t(){if(!F){var a=e(Sa);F=!0;for(var b=T.length;b;){W=T;for(T=[];++r<b;)W&&W[r].run();r=-1;b=T.length}W=null;F=!1;H(a)}}function C(a,b){this.fun=a;this.array=b}function cc(){}G=I.exports={};try{var P="function"===typeof setTimeout?setTimeout:a}catch(S){P=a}try{var ea="function"===typeof clearTimeout?clearTimeout:b}catch(S){ea=b}var T=[],F=!1,W,r=-1;G.nextTick=function(a){var b=Array(arguments.length-
1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)b[r-1]=arguments[r];T.push(new C(a,b));1!==T.length||F||e(t)};C.prototype.run=function(){this.fun.apply(null,this.array)};G.title="browser";G.browser=!0;G.env={};G.argv=[];G.version="";G.versions={};G.on=cc;G.addListener=cc;G.once=cc;G.off=cc;G.removeListener=cc;G.removeAllListeners=cc;G.emit=cc;G.prependListener=cc;G.prependOnceListener=cc;G.listeners=function(a){return[]};G.binding=function(a){throw Error("process.binding is not supported");
};G.cwd=function(){return"/"};G.chdir=function(a){throw Error("process.chdir is not supported");};G.umask=function(){return 0}};
shadow$provide[73]=function(G,w,I,u){var a=w(72);(function(a,e){"object"===typeof u&&"undefined"!==typeof I?I.exports=e(w(70),w(71)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],e):(a=a||self,a.vegaEmbed=e(a.vega,a.vl))})(this,function(b,e){function u(a){var b=a+="",c=b.indexOf(":");0<=c&&"xmlns"!==(b=a.slice(0,c))&&(a=a.slice(c+1));return rb.hasOwnProperty(b)?{space:rb[b],local:a}:a}function w(a){return function(){var b=this.ownerDocument,c=this.namespaceURI;return"http://www.w3.org/1999/xhtml"===
c&&"http://www.w3.org/1999/xhtml"===b.documentElement.namespaceURI?b.createElement(a):b.createElementNS(c,a)}}function t(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}function C(a){a=u(a);return(a.local?t:w)(a)}function G(){}function P(a){return null==a?G:function(){return this.querySelector(a)}}function I(){return[]}function T(a){return null==a?I:function(){return this.querySelectorAll(a)}}function F(a){return function(){return this.matches(a)}}function W(a){return Array(a.length)}
function r(a,b){this.ownerDocument=a.ownerDocument;this.namespaceURI=a.namespaceURI;this._next=null;this._parent=a;this.__data__=b}function S(a){return function(){return a}}function z(a,b,c,d,e,g){for(var h=0,k,l=b.length,m=g.length;h<m;++h)(k=b[h])?(k.__data__=g[h],d[h]=k):c[h]=new r(a,g[h]);for(;h<l;++h)if(k=b[h])e[h]=k}function J(a,b,c,d,e,g,h){var k,l,m={},p=b.length,t=g.length,u=Array(p),v;for(k=0;k<p;++k)if(l=b[k])u[k]=v="$"+h.call(l,l.__data__,k,b),v in m?e[k]=l:m[v]=l;for(k=0;k<t;++k)v="$"+
h.call(a,g[k],k,g),(l=m[v])?(d[k]=l,l.__data__=g[k],m[v]=null):c[k]=new r(a,g[k]);for(k=0;k<p;++k)(l=b[k])&&m[u[k]]===l&&(e[k]=l)}function p(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function k(a){return function(){this.removeAttribute(a)}}function N(a){return function(){this.removeAttributeNS(a.space,a.local)}}function D(a,b){return function(){this.setAttribute(a,b)}}function O(a,b){return function(){this.setAttributeNS(a.space,a.local,b)}}function c(a,b){return function(){var c=b.apply(this,arguments);
null==c?this.removeAttribute(a):this.setAttribute(a,c)}}function h(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}}function ba(a){return function(){this.style.removeProperty(a)}}function L(a,b,c){return function(){this.style.setProperty(a,b,c)}}function ma(a,b,c){return function(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}}function B(a){return function(){delete this[a]}}
function ia(a,b){return function(){this[a]=b}}function va(a,b){return function(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}}function qa(a){return a.classList||new g(a)}function g(a){this._node=a;this._names=(a.getAttribute("class")||"").trim().split(/^|\s+/)}function d(a,b){a=qa(a);for(var c=-1,d=b.length;++c<d;)a.add(b[c])}function M(a,b){a=qa(a);for(var c=-1,d=b.length;++c<d;)a.remove(b[c])}function Q(a){return function(){d(this,a)}}function la(a){return function(){M(this,a)}}
function Wb(a,b){return function(){(b.apply(this,arguments)?d:M)(this,a)}}function ha(){this.textContent=""}function aa(a){return function(){this.textContent=a}}function sa(a){return function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}}function ya(){this.innerHTML=""}function Na(a){return function(){this.innerHTML=a}}function Ea(a){return function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}}function Ma(){this.nextSibling&&this.parentNode.appendChild(this)}function U(){this.previousSibling&&
this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ba(){return null}function l(){var a=this.parentNode;a&&a.removeChild(this)}function v(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function x(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function m(a,b,c){a=E(a,b,c);return function(b){var c=b.relatedTarget;c&&(c===this||c.compareDocumentPosition(this)&8)||a.call(this,b)}}function E(a,b,c){return function(d){var e=Eb;Eb=
d;try{a.call(this,this.__data__,b,c)}finally{Eb=e}}}function Ua(a){return a.trim().split(/^|\s+/).map(function(a){var b="",c=a.indexOf(".");0<=c&&(b=a.slice(c+1),a=a.slice(0,c));return{type:a,name:b}})}function da(a){return function(){var b=this.__on;if(b){for(var c=0,d=-1,e=b.length,g;c<e;++c)(g=b[c],a.type&&g.type!==a.type||g.name!==a.name)?b[++d]=g:this.removeEventListener(g.type,g.listener,g.capture);++d?b.length=d:delete this.__on}}}function oa(a,b,c){var d=Tb.hasOwnProperty(a.type)?m:E;return function(e,
g,h){e=this.__on;var k;g=d(b,g,h);if(e){h=0;for(var l=e.length;h<l;++h)if((k=e[h]).type===a.type&&k.name===a.name){this.removeEventListener(k.type,k.listener,k.capture);this.addEventListener(k.type,k.listener=g,k.capture=c);k.value=b;return}}this.addEventListener(a.type,g,c);k={type:a.type,name:a.name,value:b,listener:g,capture:c};e?e.push(k):this.__on=[k]}}function Wa(a,b,c){var d=a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView,e=d.CustomEvent;"function"===typeof e?e=new e(b,
c):(e=d.document.createEvent("Event"),c?(e.initEvent(b,c.bubbles,c.cancelable),e.detail=c.detail):e.initEvent(b,!1,!1));a.dispatchEvent(e)}function Qa(a,b){return function(){return Wa(this,a,b)}}function wa(a,b){return function(){return Wa(this,a,b.apply(this,arguments))}}function fa(a,b){this._groups=a;this._parents=b}function cb(){return new fa([[document.documentElement]],Xa)}function kb(a){return"string"===typeof a?new fa([[document.querySelector(a)]],[document.documentElement]):new fa([[a]],
Xa)}function fb(a,b,c,d){return new (c||(c=Promise))(function(e,g){function h(a){try{l(d.next(a))}catch(mc){g(mc)}}function k(a){try{l(d["throw"](a))}catch(mc){g(mc)}}function l(a){a.done?e(a.value):(new c(function(b){b(a.value)})).then(h,k)}l((d=d.apply(a,b||[])).next())})}function qb(a,b){return b={exports:{}},a(b,b.exports),b.exports}function Ja(a,b,c){a.fields=b||[];a.fname=c;return a}function pa(a){function b(){c.push(h+a.substring(k,l));h="";k=l+1}var c=[],d=null,e=0,g=a.length,h="",k,l;a+=
"";for(k=l=0;l<g;++l){var m=a[l];if("\\"===m)h+=a.substring(k,l),k=++l;else if(m===d)b(),d=null,e=-1;else if(!d)if(k===e&&'"'===m)k=l+1,d=m;else if(k===e&&"'"===m)k=l+1,d=m;else if("."===m&&!e)l>k?b():k=l+1;else if("["===m)l>k&&b(),e=k=l+1;else if("]"===m){if(!e)throw Error("Access path missing open bracket: "+a);0<e&&b();e=0;k=l+1}}if(e)throw Error("Access path missing closing bracket: "+a);if(d)throw Error("Access path missing closing quote: "+a);l>k&&(l++,b());return c}function ub(a){return ac(a)?
"["+a.map(ub)+"]":a===Object(a)||"string"===typeof a?JSON.stringify(a).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):a}function Rb(a,b,c){if(ac(a))return`[${a.map(a=>b("string"===typeof a?a:JSON.stringify(a,Va(c)))).join(", ")}]`;if(a===Object(a)){let e="";var {title:d}=a;a=gb(a,["title"]);d&&(e+=`<h2>${b(d)}</h2>`);d=Object.keys(a);if(0<d.length){e+="\x3ctable\x3e";for(const g of d)d=a[g],void 0!==d&&(d===Object(d)&&(d=JSON.stringify(d,Va(c))),e+=`<tr><td class="key">${b(g)}:</td><td class="value">${b(d)}</td></tr>`);
e+="\x3c/table\x3e"}return e||"{}"}return b(a)}function Va(a){const b=[];return function(c,d){if("object"!==typeof d||null===d)return d;c=b.indexOf(this)+1;b.length=c;if(b.length>a)return"[Object]";if(0<=b.indexOf(d))return"[Circular]";b.push(d);return d}}function Bb(a,b,c){function d(b){b.source===g&&(h=0,a.removeEventListener("message",d,!1))}function e(){0>=h||(g.postMessage(c,"*"),setTimeout(e,250),--h)}const g=a.open(b);let h=40;a.addEventListener("message",d,!1);setTimeout(e,250)}function ka(a,
...c){for(const d of c)if(c=d,"object"===typeof c&&null!==c)for(const d in c)c.hasOwnProperty(d)&&void 0!==c[d]&&("object"!==typeof c[d]||b.isArray(c[d])||null===c[d]?a[d]=c[d]:"object"!==typeof a[d]||null===a[d]?a[d]=ka(b.isArray(c[d].constructor)?[]:{},c[d]):ka(a[d],c[d]));return a}function Cb(a,b,c,d){b=`<html><head>${b}</head><body><pre><code class="json">`;c=`</code></pre>${c}</body></html>`;const e=window.open("");e.document.write(b+a+c);e.document.title=`${jc[d]} JSON Source`}function Db(a,
b){return a.$schema?(a=Sb(a.$schema),b&&b!==a.library&&console.warn(`The given visualization spec is written in ${jc[a.library]}, but mode argument sets ${jc[b]||b}.`),b=a.library,qc(Ic[b],`^${a.version.slice(1)}`)||console.warn(`The input spec uses ${jc[b]} ${a.version}, but the current version of ${jc[b]} is v${Ic[b]}.`),b):"mark"in a||"encoding"in a||"layer"in a||"hconcat"in a||"vconcat"in a||"facet"in a||"repeat"in a?"vega-lite":"marks"in a||"signals"in a||"scales"in a||"axes"in a?"vega":b||"vega"}
function $a(a){return!!(a&&"load"in a)}function Lb(a,b,c={}){return fb(this,void 0,void 0,function*(){var d=$a(c.loader)?c.loader:Ob.loader(c.loader);if(Ob.isString(b)){var e=yield d.load(b);return Lb(a,JSON.parse(e),c)}c=ka(c,b.usermeta&&b.usermeta.embedOptions);var g=c.patch||c.onBeforeParse;e=!0===c.actions||!1===c.actions?c.actions:ka({},{export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},c.actions||{});const h=Object.assign({},gc,c.i18n),k=c.renderer||"canvas",l=c.logLevel||Ob.Warn,m=c.downloadFileName||
"visualization";let p=c.config||{};if(Ob.isString(p))return e=yield d.load(p),Lb(a,b,Object.assign({},c,{config:JSON.parse(e)}));if(!1!==c.defaultStyle&&!document.getElementById("vega-embed-style")){var r=document.createElement("style");r.id="vega-embed-style";r.innerText=void 0===c.defaultStyle||!0===c.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  padding-right: 38px; }\n  .vega-embed details:not([open]) \x3e :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    display: flex;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5); }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: scroll;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n'.toString():
c.defaultStyle;document.head.appendChild(r)}c.theme&&(p=ka({},fc[c.theme],p));const t=Db(b,c.mode);let u=td[t](b,p);"vega-lite"===t&&u.$schema&&(r=Sb(u.$schema),qc(Ic.vega,`^${r.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${r.version}, but current version is v${Ic.vega}.`));r=kb(a).classed("vega-embed",!0).html("");g&&(g instanceof Function?u=g(u):Ob.isString(g)?(g=yield d.load(g),u=ka({},u,JSON.parse(g))):u=ka({},u,g));g=Ob.parse(u,"vega-lite"===t?{}:p);const v=new Ob.View(g,{loader:d,
logLevel:l,renderer:k});!1!==c.tooltip&&(d="function"===typeof c.tooltip?c.tooltip:(new db(!0===c.tooltip?{}:c.tooltip)).call,v.tooltip(d));({hover:d}=c);void 0===d&&(d="vega"===t);if(d){const {hoverSet:a,updateSet:b}="boolean"===typeof d?{}:d;v.hover(a,b)}c&&(c.width&&v.width(c.width),c.height&&v.height(c.height),c.padding&&v.padding(c.padding));yield v.initialize(a).runAsync();if(!1!==e){d=r;if(!1!==c.defaultStyle){d=r=r.append("details").attr("title",h.CLICK_TO_VIEW_ACTIONS);r.insert("summary").html('\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round" width\x3d"14" height\x3d"14"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e');
const a=r.node();document.addEventListener("click",b=>{a.contains(b.target)||a.removeAttribute("open")})}r=d.insert("div").attr("class","vega-actions");if(!0===e||!1!==e.export)for(const a of["svg","png"])if(!0===e||!0===e.export||e.export[a])d=h[`${a.toUpperCase()}_ACTION`],r.append("a").text(d).attr("href","#").attr("target","_blank").attr("download",`${m}.${a}`).on("mousedown",function(){v.toImageURL(a,c.scaleFactor).then(a=>{this.href=a}).catch(a=>{throw a;});Eb.preventDefault()});if(!0===e||
!1!==e.source)r.append("a").text(h.SOURCE_ACTION).attr("href","#").on("mousedown",()=>{Cb(Fb(b),c.sourceHeader||"",c.sourceFooter||"",t);Eb.preventDefault()});if("vega-lite"===t&&(!0===e||!1!==e.compiled))r.append("a").text(h.COMPILED_ACTION).attr("href","#").on("mousedown",()=>{Cb(Fb(u),c.sourceHeader||"",c.sourceFooter||"","vega");Eb.preventDefault()});if(!0===e||!1!==e.editor){const a=c.editorUrl||"https://vega.github.io/editor/";r.append("a").text(h.EDITOR_ACTION).attr("href","#").on("mousedown",
()=>{Bb(window,a,{config:p,mode:t,renderer:k,spec:Fb(b)});Eb.preventDefault()})}}return{view:v,spec:b,vgSpec:u}})}function tc(a,b={}){return fb(this,void 0,void 0,function*(){const c=document.createElement("div");c.classList.add("vega-embed-wrapper");var d=document.createElement("div");c.appendChild(d);const e=!0===b.actions||!1===b.actions?b.actions:Object.assign({export:!0,source:!1,compiled:!0,editor:!0},b.actions||{});d=yield Lb(d,a,Object.assign({actions:e},b||{}));c.value=d.view;return c})}
var rb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};r.prototype={constructor:r,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,b){return this._parent.insertBefore(a,b)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};g.prototype=
{add:function(a){0>this._names.indexOf(a)&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){a=this._names.indexOf(a);0<=a&&(this._names.splice(a,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return 0<=this._names.indexOf(a)}};var Tb={},Eb=null;"undefined"!==typeof document&&("onmouseenter"in document.documentElement||(Tb={mouseenter:"mouseover",mouseleave:"mouseout"}));var Xa=[null];fa.prototype=cb.prototype={constructor:fa,
select:function(a){"function"!==typeof a&&(a=P(a));for(var b=this._groups,c=b.length,d=Array(c),e=0;e<c;++e)for(var g=b[e],h=g.length,k=d[e]=Array(h),l,m,p=0;p<h;++p)(l=g[p])&&(m=a.call(l,l.__data__,p,g))&&("__data__"in l&&(m.__data__=l.__data__),k[p]=m);return new fa(d,this._parents)},selectAll:function(a){"function"!==typeof a&&(a=T(a));for(var b=this._groups,c=b.length,d=[],e=[],g=0;g<c;++g)for(var h=b[g],k=h.length,l,m=0;m<k;++m)if(l=h[m])d.push(a.call(l,l.__data__,m,h)),e.push(l);return new fa(d,
e)},filter:function(a){"function"!==typeof a&&(a=F(a));for(var b=this._groups,c=b.length,d=Array(c),e=0;e<c;++e)for(var g=b[e],h=g.length,k=d[e]=[],l,m=0;m<h;++m)(l=g[m])&&a.call(l,l.__data__,m,g)&&k.push(l);return new fa(d,this._parents)},data:function(a,b){if(!a)return u=Array(this.size()),m=-1,this.each(function(a){u[++m]=a}),u;var c=b?J:z,d=this._parents,e=this._groups;"function"!==typeof a&&(a=S(a));for(var g=e.length,h=Array(g),k=Array(g),l=Array(g),m=0;m<g;++m){var p=d[m],r=e[m],t=r.length,
u=a.call(p,p&&p.__data__,m,d),v=u.length,w=k[m]=Array(v),x=h[m]=Array(v);t=l[m]=Array(t);c(p,r,w,x,t,u,b);r=p=0;for(var B;p<v;++p)if(t=w[p]){for(p>=r&&(r=p+1);!(B=x[r])&&++r<v;);t._next=B||null}}h=new fa(h,d);h._enter=k;h._exit=l;return h},enter:function(){return new fa(this._enter||this._groups.map(W),this._parents)},exit:function(){return new fa(this._exit||this._groups.map(W),this._parents)},join:function(a,b,c){var d=this.enter(),e=this,g=this.exit();d="function"===typeof a?a(d):d.append(a+"");
null!=b&&(e=b(e));null==c?g.remove():c(g);return d&&e?d.merge(e).order():e},merge:function(a){var b=this._groups;a=a._groups;for(var c=b.length,d=Math.min(c,a.length),e=Array(c),g=0;g<d;++g)for(var h=b[g],k=a[g],l=h.length,m=e[g]=Array(l),p,r=0;r<l;++r)if(p=h[r]||k[r])m[r]=p;for(;g<c;++g)e[g]=b[g];return new fa(e,this._parents)},order:function(){for(var a=this._groups,b=-1,c=a.length;++b<c;)for(var d=a[b],e=d.length-1,g=d[e],h;0<=--e;)if(h=d[e])g&&h.compareDocumentPosition(g)^4&&g.parentNode.insertBefore(h,
g),g=h;return this},sort:function(a){function b(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}a||(a=p);for(var c=this._groups,d=c.length,e=Array(d),g=0;g<d;++g){for(var h=c[g],k=h.length,l=e[g]=Array(k),m,r=0;r<k;++r)if(m=h[r])l[r]=m;l.sort(b)}return(new fa(e,this._parents)).order()},call:function(){var a=arguments[0];arguments[0]=this;a.apply(null,arguments);return this},nodes:function(){var a=Array(this.size()),b=-1;this.each(function(){a[++b]=this});return a},node:function(){for(var a=this._groups,
b=0,c=a.length;b<c;++b)for(var d=a[b],e=0,g=d.length;e<g;++e){var h=d[e];if(h)return h}return null},size:function(){var a=0;this.each(function(){++a});return a},empty:function(){return!this.node()},each:function(a){for(var b=this._groups,c=0,d=b.length;c<d;++c)for(var e=b[c],g=0,h=e.length,k;g<h;++g)(k=e[g])&&a.call(k,k.__data__,g,e);return this},attr:function(a,b){var d=u(a);if(2>arguments.length){var e=this.node();return d.local?e.getAttributeNS(d.space,d.local):e.getAttribute(d)}return this.each((null==
b?d.local?N:k:"function"===typeof b?d.local?h:c:d.local?O:D)(d,b))},style:function(a,b,c){if(1<arguments.length)var d=this.each((null==b?ba:"function"===typeof b?ma:L)(a,b,null==c?"":c));else d=this.node(),d=d.style.getPropertyValue(a)||(d.ownerDocument&&d.ownerDocument.defaultView||d.document&&d||d.defaultView).getComputedStyle(d,null).getPropertyValue(a);return d},property:function(a,b){return 1<arguments.length?this.each((null==b?B:"function"===typeof b?va:ia)(a,b)):this.node()[a]},classed:function(a,
b){var c=(a+"").trim().split(/^|\s+/);if(2>arguments.length){for(var d=qa(this.node()),e=-1,g=c.length;++e<g;)if(!d.contains(c[e]))return!1;return!0}return this.each(("function"===typeof b?Wb:b?Q:la)(c,b))},text:function(a){return arguments.length?this.each(null==a?ha:("function"===typeof a?sa:aa)(a)):this.node().textContent},html:function(a){return arguments.length?this.each(null==a?ya:("function"===typeof a?Ea:Na)(a)):this.node().innerHTML},raise:function(){return this.each(Ma)},lower:function(){return this.each(U)},
append:function(a){var b="function"===typeof a?a:C(a);return this.select(function(){return this.appendChild(b.apply(this,arguments))})},insert:function(a,b){var c="function"===typeof a?a:C(a),d=null==b?Ba:"function"===typeof b?b:P(b);return this.select(function(){return this.insertBefore(c.apply(this,arguments),d.apply(this,arguments)||null)})},remove:function(){return this.each(l)},clone:function(a){return this.select(a?x:v)},datum:function(a){return arguments.length?this.property("__data__",a):
this.node().__data__},on:function(a,b,c){var d=Ua(a+""),e=d.length,g;if(2>arguments.length){var h=this.node().__on;if(h)for(var k=0,l=h.length,m;k<l;++k){var p=0;for(m=h[k];p<e;++p)if((g=d[p]).type===m.type&&g.name===m.name)return m.value}}else{h=b?oa:da;null==c&&(c=!1);for(p=0;p<e;++p)this.each(h(d[p],b,c));return this}},dispatch:function(a,b){return this.each(("function"===typeof b?wa:Qa)(a,b))}};var xa=/("(?:[^\\"]|\\.)*")|[:,]/g,Fb=function(a,b){b=b||{};var c=JSON.stringify([1],void 0,void 0===
b.indent?2:b.indent).slice(2,-3);var d=""===c?Infinity:void 0===b.maxLength?80:b.maxLength;var e=b.replacer;return function lc(a,b,g){a&&"function"===typeof a.toJSON&&(a=a.toJSON());var h=JSON.stringify(a,e);if(void 0===h)return h;g=d-b.length-g;if(h.length<=g){var k=h.replace(xa,function(a,b){return b||a+" "});if(k.length<=g)return k}null!=e&&(a=JSON.parse(h),e=void 0);if("object"===typeof a&&null!==a){var l=b+c;var m=[];var p=0;if(Array.isArray(a)){var r="[";k="]";for(g=a.length;p<g;p++)m.push(lc(a[p],
l,p===g-1?0:1)||"null")}else{r="{";k="}";var t=Object.keys(a);for(g=t.length;p<g;p++){var u=t[p];var v=JSON.stringify(u)+": ";u=lc(a[u],l,v.length+(p===g-1?0:1));void 0!==u&&m.push(v+u)}}if(0<m.length)return[r,c+m.join(",\n"+l),k].join("\n"+b)}return h}(a,"",0)},qc=qb(function(b,c){function d(a){I[a]=S++}function e(a,b){b&&"object"===typeof b||(b={loose:!!b,includePrerelease:!1});if(a instanceof g)return a;if("string"!==typeof a||a.length>P||!(b.loose?O[I.LOOSE]:O[I.FULL]).test(a))return null;try{return new g(a,
b)}catch(nb){return null}}function g(a,b){b&&"object"===typeof b||(b={loose:!!b,includePrerelease:!1});if(a instanceof g){if(a.loose===b.loose)return a;a=a.version}else if("string"!==typeof a)throw new TypeError("Invalid Version: "+a);if(a.length>P)throw new TypeError("version is longer than "+P+" characters");if(!(this instanceof g))return new g(a,b);M("SemVer",a,b);this.options=b;this.loose=!!b.loose;b=a.trim().match(b.loose?O[I.LOOSE]:O[I.FULL]);if(!b)throw new TypeError("Invalid Version: "+a);
this.raw=a;this.major=+b[1];this.minor=+b[2];this.patch=+b[3];if(this.major>Q||0>this.major)throw new TypeError("Invalid major version");if(this.minor>Q||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>Q||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=b[4]?b[4].split(".").map(function(a){if(/^[0-9]+$/.test(a)){var b=+a;if(0<=b&&b<Q)return b}return a}):[];this.build=b[5]?b[5].split("."):[];this.format()}function h(a,b){var c=U.test(a),d=U.test(b);
c&&d&&(a=+a,b=+b);return a===b?0:c&&!d?-1:d&&!c?1:a<b?-1:1}function k(a,b,c){return(new g(a,c)).compare(new g(b,c))}function l(a,b,c){return 0<k(a,b,c)}function m(a,b,c){return 0>k(a,b,c)}function p(a,b,c){return 0===k(a,b,c)}function r(a,b,c){return 0!==k(a,b,c)}function t(a,b,c){return 0<=k(a,b,c)}function u(a,b,c){return 0>=k(a,b,c)}function v(a,b,c,d){switch(b){case "\x3d\x3d\x3d":return"object"===typeof a&&(a=a.version),"object"===typeof c&&(c=c.version),a===c;case "!\x3d\x3d":return"object"===
typeof a&&(a=a.version),"object"===typeof c&&(c=c.version),a!==c;case "":case "\x3d":case "\x3d\x3d":return p(a,c,d);case "!\x3d":return r(a,c,d);case "\x3e":return l(a,c,d);case "\x3e\x3d":return t(a,c,d);case "\x3c":return m(a,c,d);case "\x3c\x3d":return u(a,c,d);default:throw new TypeError("Invalid operator: "+b);}}function w(a,b){b&&"object"===typeof b||(b={loose:!!b,includePrerelease:!1});if(a instanceof w){if(a.loose===!!b.loose)return a;a=a.value}if(!(this instanceof w))return new w(a,b);M("comparator",
a,b);this.options=b;this.loose=!!b.loose;this.parse(a);this.value=this.semver===W?"":this.operator+this.semver.version;M("comp",this)}function x(a,b){b&&"object"===typeof b||(b={loose:!!b,includePrerelease:!1});if(a instanceof x)return a.loose===!!b.loose&&a.includePrerelease===!!b.includePrerelease?a:new x(a.raw,b);if(a instanceof w)return new x(a.value,b);if(!(this instanceof x))return new x(a,b);this.options=b;this.loose=!!b.loose;this.includePrerelease=!!b.includePrerelease;this.raw=a;this.set=
a.split(/\s*\|\|\s*/).map(function(a){return this.parseRange(a.trim())},this).filter(function(a){return a.length});if(!this.set.length)throw new TypeError("Invalid SemVer Range: "+a);this.format()}function z(a,b){var c=!0;a=a.slice();for(var d=a.pop();c&&a.length;)c=a.every(function(a){return d.intersects(a,b)}),d=a.pop();return c}function B(a){return!a||"x"===a.toLowerCase()||"*"===a}function C(a,b){return a.trim().split(/\s+/).map(function(a){return D(a,b)}).join(" ")}function D(a,b){return a.replace(b.loose?
O[I.TILDELOOSE]:O[I.TILDE],function(b,c,d,e,g){M("tilde",a,b,c,d,e,g);B(c)?b="":B(d)?b="\x3e\x3d"+c+".0.0 \x3c"+(+c+1)+".0.0":B(e)?b="\x3e\x3d"+c+"."+d+".0 \x3c"+c+"."+(+d+1)+".0":g?(M("replaceTilde pr",g),b="\x3e\x3d"+c+"."+d+"."+e+"-"+g+" \x3c"+c+"."+(+d+1)+".0"):b="\x3e\x3d"+c+"."+d+"."+e+" \x3c"+c+"."+(+d+1)+".0";M("tilde return",b);return b})}function E(a,b){return a.trim().split(/\s+/).map(function(a){return F(a,b)}).join(" ")}function F(a,b){M("caret",a,b);return a.replace(b.loose?O[I.CARETLOOSE]:
O[I.CARET],function(b,c,d,e,g){M("caret",a,b,c,d,e,g);B(c)?b="":B(d)?b="\x3e\x3d"+c+".0.0 \x3c"+(+c+1)+".0.0":B(e)?b="0"===c?"\x3e\x3d"+c+"."+d+".0 \x3c"+c+"."+(+d+1)+".0":"\x3e\x3d"+c+"."+d+".0 \x3c"+(+c+1)+".0.0":g?(M("replaceCaret pr",g),b="0"===c?"0"===d?"\x3e\x3d"+c+"."+d+"."+e+"-"+g+" \x3c"+c+"."+d+"."+(+e+1):"\x3e\x3d"+c+"."+d+"."+e+"-"+g+" \x3c"+c+"."+(+d+1)+".0":"\x3e\x3d"+c+"."+d+"."+e+"-"+g+" \x3c"+(+c+1)+".0.0"):(M("no pr"),b="0"===c?"0"===d?"\x3e\x3d"+c+"."+d+"."+e+" \x3c"+c+"."+d+"."+
(+e+1):"\x3e\x3d"+c+"."+d+"."+e+" \x3c"+c+"."+(+d+1)+".0":"\x3e\x3d"+c+"."+d+"."+e+" \x3c"+(+c+1)+".0.0");M("caret return",b);return b})}function J(a,b){M("replaceXRanges",a,b);return a.split(/\s+/).map(function(a){return G(a,b)}).join(" ")}function G(a,b){a=a.trim();return a.replace(b.loose?O[I.XRANGELOOSE]:O[I.XRANGE],function(c,d,e,g,h,k){M("xRange",a,c,d,e,g,h,k);var l=B(e),m=l||B(g);h=m||B(h);"\x3d"===d&&h&&(d="");k=b.includePrerelease?"-0":"";l?c="\x3e"===d||"\x3c"===d?"\x3c0.0.0-0":"*":d&&
h?(m&&(g=0),h=0,"\x3e"===d?(d="\x3e\x3d",m?(e=+e+1,g=0):g=+g+1,h=0):"\x3c\x3d"===d&&(d="\x3c",m?e=+e+1:g=+g+1),c=d+e+"."+g+"."+h+k):m?c="\x3e\x3d"+e+".0.0"+k+" \x3c"+(+e+1)+".0.0"+k:h&&(c="\x3e\x3d"+e+"."+g+".0"+k+" \x3c"+e+"."+(+g+1)+".0"+k);M("xRange return",c);return c})}function H(a,b,c,d,e,g,h,k,l,m,p,r,t){b=B(c)?"":B(d)?"\x3e\x3d"+c+".0.0":B(e)?"\x3e\x3d"+c+"."+d+".0":"\x3e\x3d"+b;k=B(l)?"":B(m)?"\x3c"+(+l+1)+".0.0":B(p)?"\x3c"+l+"."+(+m+1)+".0":r?"\x3c\x3d"+l+"."+m+"."+p+"-"+r:"\x3c\x3d"+k;
return(b+" "+k).trim()}function N(a,b,c){try{b=new x(b,c)}catch(hb){return!1}return b.test(a)}function L(a,b,c,d){a=new g(a,d);b=new x(b,d);switch(c){case "\x3e":var e=l;c=u;var h=m;var k="\x3e";var p="\x3e\x3d";break;case "\x3c":e=m;c=t;h=l;k="\x3c";p="\x3c\x3d";break;default:throw new TypeError('Must provide a hilo val of "\x3c" or "\x3e"');}if(N(a,b,d))return!1;for(var r=0;r<b.set.length;++r){var v=null,z=null;b.set[r].forEach(function(a){a.semver===W&&(a=new w("\x3e\x3d0.0.0"));v=v||a;z=z||a;
e(a.semver,v.semver,d)?v=a:h(a.semver,z.semver,d)&&(z=a)});if(v.operator===k||v.operator===p||(!z.operator||z.operator===k)&&c(a,z.semver)||z.operator===p&&h(a,z.semver))return!1}return!0}c=b.exports=g;var M="object"===typeof a&&a.env&&a.env.NODE_DEBUG&&/\bsemver\b/i.test(a.env.NODE_DEBUG)?function(){var a=Array.prototype.slice.call(arguments,0);a.unshift("SEMVER");console.log.apply(console,a)}:function(){};c.SEMVER_SPEC_VERSION="2.0.0";var P=256,Q=Number.MAX_SAFE_INTEGER||9007199254740991,O=c.re=
[];b=c.src=[];var I=c.tokens={},S=0;d("NUMERICIDENTIFIER");b[I.NUMERICIDENTIFIER]="0|[1-9]\\d*";d("NUMERICIDENTIFIERLOOSE");b[I.NUMERICIDENTIFIERLOOSE]="[0-9]+";d("NONNUMERICIDENTIFIER");b[I.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";d("MAINVERSION");b[I.MAINVERSION]="("+b[I.NUMERICIDENTIFIER]+")\\.("+b[I.NUMERICIDENTIFIER]+")\\.("+b[I.NUMERICIDENTIFIER]+")";d("MAINVERSIONLOOSE");b[I.MAINVERSIONLOOSE]="("+b[I.NUMERICIDENTIFIERLOOSE]+")\\.("+b[I.NUMERICIDENTIFIERLOOSE]+")\\.("+b[I.NUMERICIDENTIFIERLOOSE]+
")";d("PRERELEASEIDENTIFIER");b[I.PRERELEASEIDENTIFIER]="(?:"+b[I.NUMERICIDENTIFIER]+"|"+b[I.NONNUMERICIDENTIFIER]+")";d("PRERELEASEIDENTIFIERLOOSE");b[I.PRERELEASEIDENTIFIERLOOSE]="(?:"+b[I.NUMERICIDENTIFIERLOOSE]+"|"+b[I.NONNUMERICIDENTIFIER]+")";d("PRERELEASE");b[I.PRERELEASE]="(?:-("+b[I.PRERELEASEIDENTIFIER]+"(?:\\."+b[I.PRERELEASEIDENTIFIER]+")*))";d("PRERELEASELOOSE");b[I.PRERELEASELOOSE]="(?:-?("+b[I.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+b[I.PRERELEASEIDENTIFIERLOOSE]+")*))";d("BUILDIDENTIFIER");
b[I.BUILDIDENTIFIER]="[0-9A-Za-z-]+";d("BUILD");b[I.BUILD]="(?:\\+("+b[I.BUILDIDENTIFIER]+"(?:\\."+b[I.BUILDIDENTIFIER]+")*))";d("FULL");d("FULLPLAIN");b[I.FULLPLAIN]="v?"+b[I.MAINVERSION]+b[I.PRERELEASE]+"?"+b[I.BUILD]+"?";b[I.FULL]="^"+b[I.FULLPLAIN]+"$";d("LOOSEPLAIN");b[I.LOOSEPLAIN]="[v\x3d\\s]*"+b[I.MAINVERSIONLOOSE]+b[I.PRERELEASELOOSE]+"?"+b[I.BUILD]+"?";d("LOOSE");b[I.LOOSE]="^"+b[I.LOOSEPLAIN]+"$";d("GTLT");b[I.GTLT]="((?:\x3c|\x3e)?\x3d?)";d("XRANGEIDENTIFIERLOOSE");b[I.XRANGEIDENTIFIERLOOSE]=
b[I.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*";d("XRANGEIDENTIFIER");b[I.XRANGEIDENTIFIER]=b[I.NUMERICIDENTIFIER]+"|x|X|\\*";d("XRANGEPLAIN");b[I.XRANGEPLAIN]="[v\x3d\\s]*("+b[I.XRANGEIDENTIFIER]+")(?:\\.("+b[I.XRANGEIDENTIFIER]+")(?:\\.("+b[I.XRANGEIDENTIFIER]+")(?:"+b[I.PRERELEASE]+")?"+b[I.BUILD]+"?)?)?";d("XRANGEPLAINLOOSE");b[I.XRANGEPLAINLOOSE]="[v\x3d\\s]*("+b[I.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+b[I.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+b[I.XRANGEIDENTIFIERLOOSE]+")(?:"+b[I.PRERELEASELOOSE]+")?"+b[I.BUILD]+
"?)?)?";d("XRANGE");b[I.XRANGE]="^"+b[I.GTLT]+"\\s*"+b[I.XRANGEPLAIN]+"$";d("XRANGELOOSE");b[I.XRANGELOOSE]="^"+b[I.GTLT]+"\\s*"+b[I.XRANGEPLAINLOOSE]+"$";d("COERCE");b[I.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";d("COERCERTL");O[I.COERCERTL]=new RegExp(b[I.COERCE],"g");d("LONETILDE");b[I.LONETILDE]="(?:~\x3e?)";d("TILDETRIM");b[I.TILDETRIM]="(\\s*)"+b[I.LONETILDE]+"\\s+";O[I.TILDETRIM]=new RegExp(b[I.TILDETRIM],"g");d("TILDE");b[I.TILDE]="^"+b[I.LONETILDE]+
b[I.XRANGEPLAIN]+"$";d("TILDELOOSE");b[I.TILDELOOSE]="^"+b[I.LONETILDE]+b[I.XRANGEPLAINLOOSE]+"$";d("LONECARET");b[I.LONECARET]="(?:\\^)";d("CARETTRIM");b[I.CARETTRIM]="(\\s*)"+b[I.LONECARET]+"\\s+";O[I.CARETTRIM]=new RegExp(b[I.CARETTRIM],"g");d("CARET");b[I.CARET]="^"+b[I.LONECARET]+b[I.XRANGEPLAIN]+"$";d("CARETLOOSE");b[I.CARETLOOSE]="^"+b[I.LONECARET]+b[I.XRANGEPLAINLOOSE]+"$";d("COMPARATORLOOSE");b[I.COMPARATORLOOSE]="^"+b[I.GTLT]+"\\s*("+b[I.LOOSEPLAIN]+")$|^$";d("COMPARATOR");b[I.COMPARATOR]=
"^"+b[I.GTLT]+"\\s*("+b[I.FULLPLAIN]+")$|^$";d("COMPARATORTRIM");b[I.COMPARATORTRIM]="(\\s*)"+b[I.GTLT]+"\\s*("+b[I.LOOSEPLAIN]+"|"+b[I.XRANGEPLAIN]+")";O[I.COMPARATORTRIM]=new RegExp(b[I.COMPARATORTRIM],"g");d("HYPHENRANGE");b[I.HYPHENRANGE]="^\\s*("+b[I.XRANGEPLAIN]+")\\s+-\\s+("+b[I.XRANGEPLAIN]+")\\s*$";d("HYPHENRANGELOOSE");b[I.HYPHENRANGELOOSE]="^\\s*("+b[I.XRANGEPLAINLOOSE]+")\\s+-\\s+("+b[I.XRANGEPLAINLOOSE]+")\\s*$";d("STAR");b[I.STAR]="(\x3c|\x3e)?\x3d?\\s*\\*";for(var T=0;T<S;T++)M(T,b[T]),
O[T]||(O[T]=new RegExp(b[T]));c.parse=e;c.valid=function(a,b){return(a=e(a,b))?a.version:null};c.clean=function(a,b){return(a=e(a.trim().replace(/^[=v]+/,""),b))?a.version:null};c.SemVer=g;g.prototype.format=function(){this.version=this.major+"."+this.minor+"."+this.patch;this.prerelease.length&&(this.version+="-"+this.prerelease.join("."));return this.version};g.prototype.toString=function(){return this.version};g.prototype.compare=function(a){M("SemVer.compare",this.version,this.options,a);a instanceof
g||(a=new g(a,this.options));return this.compareMain(a)||this.comparePre(a)};g.prototype.compareMain=function(a){a instanceof g||(a=new g(a,this.options));return h(this.major,a.major)||h(this.minor,a.minor)||h(this.patch,a.patch)};g.prototype.comparePre=function(a){a instanceof g||(a=new g(a,this.options));if(this.prerelease.length&&!a.prerelease.length)return-1;if(!this.prerelease.length&&a.prerelease.length)return 1;if(!this.prerelease.length&&!a.prerelease.length)return 0;var b=0;do{var c=this.prerelease[b],
d=a.prerelease[b];M("prerelease compare",b,c,d);if(void 0===c&&void 0===d)return 0;if(void 0===d)return 1;if(void 0===c)return-1;if(c!==d)return h(c,d)}while(++b)};g.prototype.compareBuild=function(a){a instanceof g||(a=new g(a,this.options));var b=0;do{var c=this.build[b],d=a.build[b];M("prerelease compare",b,c,d);if(void 0===c&&void 0===d)return 0;if(void 0===d)return 1;if(void 0===c)return-1;if(c!==d)return h(c,d)}while(++b)};g.prototype.inc=function(a,b){switch(a){case "premajor":this.minor=this.patch=
this.prerelease.length=0;this.major++;this.inc("pre",b);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",b);break;case "prepatch":this.prerelease.length=0;this.inc("patch",b);this.inc("pre",b);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",b);this.inc("pre",b);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||
this.minor++;this.patch=0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(a=this.prerelease.length;0<=--a;)"number"===typeof this.prerelease[a]&&(this.prerelease[a]++,a=-2);-1===a&&this.prerelease.push(0)}b&&(this.prerelease[0]===b?isNaN(this.prerelease[1])&&(this.prerelease=[b,0]):this.prerelease=[b,0]);break;default:throw Error("invalid increment argument: "+a);}this.format();
this.raw=this.version;return this};c.inc=function(a,b,c,d){"string"===typeof c&&(d=c,c=void 0);try{return(new g(a,c)).inc(b,d).version}catch(vb){return null}};c.diff=function(a,b){if(p(a,b))return null;a=e(a);b=e(b);var c="";if(a.prerelease.length||b.prerelease.length){c="pre";var d="prerelease"}for(var g in a)if(("major"===g||"minor"===g||"patch"===g)&&a[g]!==b[g])return c+g;return d};c.compareIdentifiers=h;var U=/^[0-9]+$/;c.rcompareIdentifiers=function(a,b){return h(b,a)};c.major=function(a,b){return(new g(a,
b)).major};c.minor=function(a,b){return(new g(a,b)).minor};c.patch=function(a,b){return(new g(a,b)).patch};c.compare=k;c.compareLoose=function(a,b){return k(a,b,!0)};c.compareBuild=function(a,b,c){a=new g(a,c);b=new g(b,c);return a.compare(b)||a.compareBuild(b)};c.rcompare=function(a,b,c){return k(b,a,c)};c.sort=function(a,b){return a.sort(function(a,d){return c.compareBuild(a,d,b)})};c.rsort=function(a,b){return a.sort(function(a,d){return c.compareBuild(d,a,b)})};c.gt=l;c.lt=m;c.eq=p;c.neq=r;c.gte=
t;c.lte=u;c.cmp=v;c.Comparator=w;var W={};w.prototype.parse=function(a){var b=a.match(this.options.loose?O[I.COMPARATORLOOSE]:O[I.COMPARATOR]);if(!b)throw new TypeError("Invalid comparator: "+a);this.operator=void 0!==b[1]?b[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=b[2]?new g(b[2],this.options.loose):W};w.prototype.toString=function(){return this.value};w.prototype.test=function(a){M("Comparator.test",a,this.options.loose);if(this.semver===W||a===W)return!0;if("string"===typeof a)try{a=
new g(a,this.options)}catch(Nd){return!1}return v(a,this.operator,this.semver,this.options)};w.prototype.intersects=function(a,b){if(!(a instanceof w))throw new TypeError("a Comparator is required");b&&"object"===typeof b||(b={loose:!!b,includePrerelease:!1});if(""===this.operator){if(""===this.value)return!0;var c=new x(a.value,b);return N(this.value,c,b)}if(""===a.operator){if(""===a.value)return!0;c=new x(this.value,b);return N(a.semver,c,b)}c=("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&
("\x3e\x3d"===a.operator||"\x3e"===a.operator);var d=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===a.operator||"\x3c"===a.operator),e=this.semver.version===a.semver.version,g=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===a.operator||"\x3c\x3d"===a.operator),h=v(this.semver,"\x3c",a.semver,b)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===a.operator||"\x3c"===a.operator);a=v(this.semver,"\x3e",a.semver,b)&&("\x3c\x3d"===this.operator||
"\x3c"===this.operator)&&("\x3e\x3d"===a.operator||"\x3e"===a.operator);return c||d||e&&g||h||a};c.Range=x;x.prototype.format=function(){return this.range=this.set.map(function(a){return a.join(" ").trim()}).join("||").trim()};x.prototype.toString=function(){return this.range};x.prototype.parseRange=function(a){var b=this.options.loose;a=a.trim();a=a.replace(b?O[I.HYPHENRANGELOOSE]:O[I.HYPHENRANGE],H);M("hyphen replace",a);a=a.replace(O[I.COMPARATORTRIM],"$1$2$3");M("comparator trim",a,O[I.COMPARATORTRIM]);
a=a.replace(O[I.TILDETRIM],"$1~");a=a.replace(O[I.CARETTRIM],"$1^");a=a.split(/\s+/).join(" ");var c=b?O[I.COMPARATORLOOSE]:O[I.COMPARATOR];a=a.split(" ").map(function(a){var b=a;a=this.options;M("comp",b,a);b=E(b,a);M("caret",b);b=C(b,a);M("tildes",b);b=J(b,a);M("xrange",b);M("replaceStars",b,a);b=b.trim().replace(O[I.STAR],"");M("stars",b);return b},this).join(" ").split(/\s+/);this.options.loose&&(a=a.filter(function(a){return!!a.match(c)}));return a=a.map(function(a){return new w(a,this.options)},
this)};x.prototype.intersects=function(a,b){if(!(a instanceof x))throw new TypeError("a Range is required");return this.set.some(function(c){return z(c,b)&&a.set.some(function(a){return z(a,b)&&c.every(function(c){return a.every(function(a){return c.intersects(a,b)})})})})};c.toComparators=function(a,b){return(new x(a,b)).set.map(function(a){return a.map(function(a){return a.value}).join(" ").trim().split(" ")})};x.prototype.test=function(a){if(!a)return!1;if("string"===typeof a)try{a=new g(a,this.options)}catch(bc){return!1}for(var b=
0;b<this.set.length;b++){a:{var c=this.set[b];for(var d=a,e=this.options,h=0;h<c.length;h++)if(!c[h].test(d)){c=!1;break a}if(d.prerelease.length&&!e.includePrerelease){for(h=0;h<c.length;h++)if(M(c[h].semver),c[h].semver!==W&&0<c[h].semver.prerelease.length&&(e=c[h].semver,e.major===d.major&&e.minor===d.minor&&e.patch===d.patch)){c=!0;break a}c=!1}else c=!0}if(c)return!0}return!1};c.satisfies=N;c.maxSatisfying=function(a,b,c){var d=null,e=null;try{var h=new x(b,c)}catch(bc){return null}a.forEach(function(a){!h.test(a)||
d&&-1!==e.compare(a)||(d=a,e=new g(d,c))});return d};c.minSatisfying=function(a,b,c){var d=null,e=null;try{var h=new x(b,c)}catch(bc){return null}a.forEach(function(a){!h.test(a)||d&&1!==e.compare(a)||(d=a,e=new g(d,c))});return d};c.minVersion=function(a,b){a=new x(a,b);var c=new g("0.0.0");if(a.test(c))return c;c=new g("0.0.0-0");if(a.test(c))return c;c=null;for(b=0;b<a.set.length;++b)a.set[b].forEach(function(a){var b=new g(a.semver.version);switch(a.operator){case "\x3e":0===b.prerelease.length?
b.patch++:b.prerelease.push(0),b.raw=b.format();case "":case "\x3e\x3d":if(!c||l(c,b))c=b;break;case "\x3c":case "\x3c\x3d":break;default:throw Error("Unexpected operation: "+a.operator);}});return c&&a.test(c)?c:null};c.validRange=function(a,b){try{return(new x(a,b)).range||"*"}catch(nb){return null}};c.ltr=function(a,b,c){return L(a,b,"\x3c",c)};c.gtr=function(a,b,c){return L(a,b,"\x3e",c)};c.outside=L;c.prerelease=function(a,b){return(a=e(a,b))&&a.prerelease.length?a.prerelease:null};c.intersects=
function(a,b,c){a=new x(a,c);b=new x(b,c);return a.intersects(b)};c.coerce=function(a,b){if(a instanceof g)return a;"number"===typeof a&&(a=String(a));if("string"!==typeof a)return null;b=b||{};var c=null;if(b.rtl){for(var d;(d=O[I.COERCERTL].exec(a))&&(!c||c.index+c[0].length!==a.length);)c&&d.index+d[0].length===c.index+c[0].length||(c=d),O[I.COERCERTL].lastIndex=d.index+d[1].length+d[2].length;O[I.COERCERTL].lastIndex=-1}else c=a.match(O[I.COERCE]);return null===c?null:e(c[2]+"."+(c[3]||"0")+"."+
(c[4]||"0"),b)}}).satisfies,Sb=function(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a["default"]:a}(qb(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.default=function(a){a=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(a).slice(1,3);return{library:a[0],version:a[1]}}})),ab={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),
"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},fc=Object.freeze({excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",
labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},
legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},
axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,
tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}},dark:{background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",
grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),
diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},style:{bar:{binSpacing:2,fill:"#30a2da",stroke:null}},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",
strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",
labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:ab["category-6"],diverging:ab["fireandice-6"],heatmap:ab["fire-7"],ordinal:ab["fire-7"],ramp:ab["fire-7"]}}});const sb={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(a){return String(a).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2};var ac=Array.isArray;ab=[];(function(a,
b){var c=pa(a),d="return _["+c.map(ub).join("][")+"];";return Ja(Function("_",d),[a=1===c.length?c[0]:a],b||a)})("id");Ja(function(a){return a},ab,"identity");Ja(function(){return 0},ab,"zero");Ja(function(){return 1},ab,"one");Ja(function(){return!0},ab,"true");Ja(function(){return!1},ab,"false");var gb=function(a,b){var c={},d;for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var e=0;for(d=Object.getOwnPropertySymbols(a);e<
d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]])}return c};class db{constructor(a){this.options=Object.assign({},sb,a);a=this.options.id;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const c=document.createElement("style");c.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(a))throw Error("Invalid HTML ID");var b="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace("vg-tooltip-element",
a);c.innerHTML=b;b=document.head;0<b.childNodes.length?b.insertBefore(c,b.childNodes[0]):b.appendChild(c)}this.el=document.getElementById(a);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",a),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltipHandler(a,b,c,d){if(null==d||""===d)this.el.classList.remove("visible",`${this.options.theme}-theme`);else{this.el.innerHTML=Rb(d,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible",
`${this.options.theme}-theme`);a=this.el.getBoundingClientRect();var e=this.options.offsetX;c=this.options.offsetY;d=b.clientX+e;d+a.width>window.innerWidth&&(d=+b.clientX-e-a.width);e=b.clientY+c;e+a.height>window.innerHeight&&(e=+b.clientY-c-a.height);b={x:d,y:e};var {x:g,y:h}=b;this.el.setAttribute("style",`top: ${h}px; left: ${g}px`)}}}String.prototype.startsWith||(String.prototype.startsWith=function(a,b){return this.substr(!b||0>b?0:+b,a.length)===a});const Ob=b,gc={CLICK_TO_VIEW_ACTIONS:"Click to view actions",
COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},jc={vega:"Vega","vega-lite":"Vega-Lite"},Ic={vega:Ob.version,"vega-lite":e?e.version:"not available"},td={vega:a=>a,"vega-lite":(a,b)=>e.compile(a,{config:b}).spec};ab=(...a)=>{var c;if(c=1<a.length){if(c=b.isString(a[0]))c=a[0],c=!(c.startsWith("http://")||c.startsWith("https://")||c.startsWith("//"));c||(c=a[0],c=c instanceof cb||"object"===typeof HTMLElement?
c instanceof HTMLElement:c&&"object"===typeof c&&null!==c&&1===c.nodeType&&"string"===typeof c.nodeName);c=c||3===a.length}return c?Lb(a[0],a[1],a[2]):tc(a[0],a[1])};ab.vl=e;ab.container=tc;ab.embed=Lb;ab.vega=Ob;ab.default=Lb;ab.version="4.2.5";return ab})};
shadow$provide[74]=function(G,w,I,u){(function(a,b){"object"===typeof u&&"undefined"!==typeof I?b(u):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.vegaTooltip={}))})(this,function(a){function b(a){return String(a).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")}function e(a){if(!/^[A-Za-z]+[-:.\w]*$/.test(a))throw Error("Invalid HTML ID");return"#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace("vg-tooltip-element",
a)}function u(a,b,e){a.fields=b||[];a.fname=e;return a}function w(a){function b(){e.push(u+a.substring(c,h));u="";c=h+1}var e=[],k=null,r=0,t=a.length,u="",c,h;a+="";for(c=h=0;h<t;++h){var w=a[h];if("\\"===w)u+=a.substring(c,h),u+=a.substring(++h,++h),c=h;else if(w===k)b(),k=null,r=-1;else if(!k)if(c===r&&'"'===w)c=h+1,k=w;else if(c===r&&"'"===w)c=h+1,k=w;else if("."===w&&!r)h>c?b():c=h+1;else if("["===w)h>c&&b(),r=c=h+1;else if("]"===w){if(!r)throw Error("Access path missing open bracket: "+a);0<
r&&b();r=0;c=h+1}}if(r)throw Error("Access path missing closing bracket: "+a);if(k)throw Error("Access path missing closing quote: "+a);h>c&&(h++,b());return e}function t(a){return F(a)?"["+a.map(t)+"]":a===Object(a)||"string"===typeof a?JSON.stringify(a).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):a}function C(a,b,e){if(F(a))return`[${a.map(a=>b("string"===typeof a?a:I(a,e))).join(", ")}]`;if(a===Object(a)){let p="";var {title:k}=a;a=r(a,["title"]);k&&(p+=`<h2>${b(k)}</h2>`);k=Object.keys(a);
if(0<k.length){p+="\x3ctable\x3e";for(const r of k)k=a[r],void 0!==k&&(k===Object(k)&&(k=I(k,e)),p+=`<tr><td class="key">${b(r)}:</td><td class="value">${b(k)}</td></tr>`);p+="\x3c/table\x3e"}return p||"{}"}return b(a)}function G(a){const b=[];return function(e,k){if("object"!==typeof k||null===k)return k;e=b.indexOf(this)+1;b.length=e;if(b.length>a)return"[Object]";if(0<=b.indexOf(k))return"[Circular]";b.push(k);return k}}function I(a,b){return JSON.stringify(a,G(b))}function ea(a,b,e,k){let p=a.clientX+
e;p+b.width>window.innerWidth&&(p=+a.clientX-e-b.width);e=a.clientY+k;e+b.height>window.innerHeight&&(e=+a.clientY-k-b.height);return{x:p,y:e}}const T={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:b,maxDepth:2};var F=Array.isArray,W=[];(function(a,b){var e=w(a),k="return _["+e.map(t).join("][")+"];";return u(Function("_",k),[a=1===e.length?e[0]:a],b||a)})("id");u(function(a){return a},W,"identity");u(function(){return 0},
W,"zero");u(function(){return 1},W,"one");u(function(){return!0},W,"true");u(function(){return!1},W,"false");var r=function(a,b){var e={},k;for(k in a)Object.prototype.hasOwnProperty.call(a,k)&&0>b.indexOf(k)&&(e[k]=a[k]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(k=Object.getOwnPropertySymbols(a);r<k.length;r++)0>b.indexOf(k[r])&&Object.prototype.propertyIsEnumerable.call(a,k[r])&&(e[k[r]]=a[k[r]])}return e};class S{constructor(a){this.options=Object.assign(Object.assign({},
T),a);a=this.options.id;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const b=document.createElement("style");b.setAttribute("id",this.options.styleId);b.innerHTML=e(a);const p=document.head;0<p.childNodes.length?p.insertBefore(b,p.childNodes[0]):p.appendChild(b)}this.el=document.getElementById(a);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",a),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltipHandler(a,
b,e,k){if(null==k||""===k)this.el.classList.remove("visible",`${this.options.theme}-theme`);else{this.el.innerHTML=C(k,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible",`${this.options.theme}-theme`);var {x:p,y:r}=ea(b,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${r}px; left: ${p}px`)}}}a.DEFAULT_OPTIONS=T;a.Handler=S;a.calculatePosition=ea;a.createDefaultStyle=e;a.default=function(a,b){b=new S(b);a.tooltip(b.call).run();
return b};a.escapeHTML=b;a.formatValue=C;a.replacer=G;a.stringify=I;a.version="0.22.1";Object.defineProperty(a,"__esModule",{value:!0})})};
var g,aa=this||self;
function u(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
b&&"undefined"==typeof a.call)return"object";return b}function ba(a){return a[ca]||(a[ca]=++da)}var ca="closure_uid_"+(1E9*Math.random()>>>0),da=0;function ea(a,b){a=a.split(".");var c=aa;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b};function fa(a,b){var c=ha;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};function ia(a,b){return new ka(a,b)}function la(a){return 0<a?0x7fffffffffffffff<=a?ma:new ka(a,a/4294967296):0>a?-9223372036854775808>=a?na:oa(new ka(-a,-a/4294967296)):pa}
function qa(a,b){if("-"==a.charAt(0))return oa(qa(a.substring(1),b));var c=parseInt(a,b||10);if(9007199254740991>=c)return new ka(c%4294967296|0,c/4294967296|0);if(0==a.length)throw Error("number format error: empty string");if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character: '+a);b=b||10;if(2>b||36<b)throw Error("radix out of range: "+b);c=la(Math.pow(b,8));for(var d=pa,e=0;e<a.length;e+=8){var f=Math.min(8,a.length-e),h=parseInt(a.substring(e,e+f),b);8>f?(f=la(Math.pow(b,
f)),d=d.multiply(f).add(la(h))):(d=d.multiply(c),d=d.add(la(h)))}return d}function oa(a){var b=~a.oa+1|0;return ia(b,~a.fa+!b|0)}
function ra(a,b){if(sa(b))throw Error("division by zero");if(0>a.fa){if(a.equals(na)){if(b.equals(ta)||b.equals(ua))return na;if(b.equals(na))return ta;var c=1;if(0==c)c=a;else{var d=a.fa;c=32>c?ia(a.oa>>>c|d<<32-c,d>>c):ia(d>>c-32,0<=d?0:-1)}c=ra(c,b).shiftLeft(1);if(c.equals(pa))return 0>b.fa?ta:ua;a=va(a,b.multiply(c));return c.add(ra(a,b))}return 0>b.fa?ra(oa(a),oa(b)):oa(ra(oa(a),b))}if(sa(a))return pa;if(0>b.fa)return b.equals(na)?pa:oa(ra(a,oa(b)));for(d=pa;0<=a.compare(b);){c=Math.max(1,Math.floor(a.toNumber()/
b.toNumber()));var e=Math.ceil(Math.log(c)/Math.LN2);e=48>=e?1:Math.pow(2,e-48);for(var f=la(c),h=f.multiply(b);0>h.fa||0<h.compare(a);)c-=e,f=la(c),h=f.multiply(b);sa(f)&&(f=ta);d=d.add(f);a=va(a,h)}return d}function va(a,b){return a.add(oa(b))}function sa(a){return 0==a.oa&&0==a.fa}
class ka{constructor(a,b){this.oa=a|0;this.fa=b|0}toNumber(){return 4294967296*this.fa+(this.oa>>>0)}isSafeInteger(){var a=this.fa>>21;return 0==a||-1==a&&!(0==this.oa&&-2097152==this.fa)}toString(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(this.isSafeInteger()){var b=this.toNumber();return 10==a?""+b:b.toString(a)}b=14-(a>>2);var c=Math.pow(a,b),d=ia(c,c/4294967296);c=ra(this,d);d=Math.abs(va(this,c.multiply(d)).toNumber());var e=10==a?""+d:d.toString(a);e.length<b&&(e="0000000000000".substr(e.length-
b)+e);d=c.toNumber();return(10==a?d:d.toString(a))+e}equals(a){return this.oa==a.oa&&this.fa==a.fa}compare(a){return this.fa==a.fa?this.oa==a.oa?0:this.oa>>>0>a.oa>>>0?1:-1:this.fa>a.fa?1:-1}add(a){var b=this.fa>>>16,c=this.fa&65535,d=this.oa>>>16,e=a.fa>>>16,f=a.fa&65535,h=a.oa>>>16;a=(this.oa&65535)+(a.oa&65535);h=(a>>>16)+(d+h);d=h>>>16;d+=c+f;b=(d>>>16)+(b+e)&65535;return ia((h&65535)<<16|a&65535,b<<16|d&65535)}multiply(a){if(sa(this))return this;if(sa(a))return a;var b=this.fa>>>16,c=this.fa&
65535,d=this.oa>>>16,e=this.oa&65535,f=a.fa>>>16,h=a.fa&65535,k=a.oa>>>16;a=a.oa&65535;var l=e*a;var m=(l>>>16)+d*a;var n=m>>>16;m=(m&65535)+e*k;n+=m>>>16;n+=c*a;var p=n>>>16;n=(n&65535)+d*k;p+=n>>>16;n=(n&65535)+e*h;p=p+(n>>>16)+(b*a+c*k+d*h+e*f)&65535;return ia((m&65535)<<16|l&65535,p<<16|n&65535)}not(){return ia(~this.oa,~this.fa)}and(a){return ia(this.oa&a.oa,this.fa&a.fa)}or(a){return ia(this.oa|a.oa,this.fa|a.fa)}xor(a){return ia(this.oa^a.oa,this.fa^a.fa)}shiftLeft(a){a&=63;if(0==a)return this;
var b=this.oa;return 32>a?ia(b<<a,this.fa<<a|b>>>32-a):ia(0,b<<a-32)}}const pa=ia(0,0),ta=ia(1,0),ua=ia(-1,-1),ma=ia(4294967295,2147483647),na=ia(0,2147483648);function wa(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};function xa(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b};var ya=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function za(a){return-1!=Aa.toLowerCase().indexOf(a.toLowerCase())}function Ba(a,b){return a<b?-1:a>b?1:0};var Aa;a:{var Ca=aa.navigator;if(Ca){var Da=Ca.userAgent;if(Da){Aa=Da;break a}}Aa=""}function Fa(a){return-1!=Aa.indexOf(a)};var Ga=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function Ha(a,b){null!=a&&this.append.apply(this,arguments)}g=Ha.prototype;g.lb="";g.set=function(a){this.lb=""+a};g.append=function(a,b,c){this.lb+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.lb+=arguments[d];return this};g.clear=function(){this.lb=""};g.getLength=function(){return this.lb.length};g.toString=function(){return this.lb};var Ia={},Ja={},Ka,v={},La=null,Ma=!0,Na=null;function Oa(){return new w(null,5,[Pa,!0,Qa,!0,Ra,!1,Sa,!1,Ta,null],null)}function Ua(){Ma=!1;La=function(){return console.log.apply(console,wa(arguments))}}function x(a){return null!=a&&!1!==a}function Va(a){return a instanceof Array}function Wa(a){return null==a?!0:!1===a?!0:!1}function y(a,b){return a[u(null==b?null:b)]?!0:a._?!0:!1}function Xa(a){return null==a?null:a.constructor}
function B(a,b){var c=Xa(b);c=x(x(c)?c.pc:c)?c.Nb:u(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Ya(a){var b=a.Nb;return x(b)?b:C.j(a)}var Za="undefined"!==typeof Symbol&&"function"===u(Symbol)?Symbol.iterator:"@@iterator";function $a(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function ab(a){function b(d,e){d.push(e);return d}var c=[];return bb.D?bb.D(b,c,a):bb.call(null,b,c,a)}function cb(){}function db(){}
function eb(){}var fb=function fb(a){if(null!=a&&null!=a.ha)return a.ha(a);var c=fb[u(null==a?null:a)];if(null!=c)return c.j?c.j(a):c.call(null,a);c=fb._;if(null!=c)return c.j?c.j(a):c.call(null,a);throw B("ICounted.-count",a);};function gb(){}var hb=function hb(a){if(null!=a&&null!=a.pa)return a.pa(a);var c=hb[u(null==a?null:a)];if(null!=c)return c.j?c.j(a):c.call(null,a);c=hb._;if(null!=c)return c.j?c.j(a):c.call(null,a);throw B("IEmptyableCollection.-empty",a);};function ib(){}
var jb=function jb(a,b){if(null!=a&&null!=a.ra)return a.ra(a,b);var d=jb[u(null==a?null:a)];if(null!=d)return d.B?d.B(a,b):d.call(null,a,b);d=jb._;if(null!=d)return d.B?d.B(a,b):d.call(null,a,b);throw B("ICollection.-conj",a);};function kb(){}var lb=function lb(a){switch(arguments.length){case 2:return lb.B(arguments[0],arguments[1]);case 3:return lb.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.j(arguments.length)].join(""));}};
lb.B=function(a,b){if(null!=a&&null!=a.ga)return a.ga(a,b);var c=lb[u(null==a?null:a)];if(null!=c)return c.B?c.B(a,b):c.call(null,a,b);c=lb._;if(null!=c)return c.B?c.B(a,b):c.call(null,a,b);throw B("IIndexed.-nth",a);};lb.D=function(a,b,c){if(null!=a&&null!=a.Aa)return a.Aa(a,b,c);var d=lb[u(null==a?null:a)];if(null!=d)return d.D?d.D(a,b,c):d.call(null,a,b,c);d=lb._;if(null!=d)return d.D?d.D(a,b,c):d.call(null,a,b,c);throw B("IIndexed.-nth",a);};lb.R=3;function mb(){}
var D=function D(a){if(null!=a&&null!=a.ua)return a.ua(a);var c=D[u(null==a?null:a)];if(null!=c)return c.j?c.j(a):c.call(null,a);c=D._;if(null!=c)return c.j?c.j(a):c.call(null,a);throw B("ISeq.-first",a);},nb=function nb(a){if(null!=a&&null!=a.xa)return a.xa(a);var c=nb[u(null==a?null:a)];if(null!=c)return c.j?c.j(a):c.call(null,a);c=nb._;if(null!=c)return c.j?c.j(a):c.call(null,a);throw B("ISeq.-rest",a);};function ob(){}
var pb=function pb(a){if(null!=a&&null!=a.sa)return a.sa(a);var c=pb[u(null==a?null:a)];if(null!=c)return c.j?c.j(a):c.call(null,a);c=pb._;if(null!=c)return c.j?c.j(a):c.call(null,a);throw B("INext.-next",a);};function qb(){}var rb=function rb(a){switch(arguments.length){case 2:return rb.B(arguments[0],arguments[1]);case 3:return rb.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.j(arguments.length)].join(""));}};
rb.B=function(a,b){if(null!=a&&null!=a.Da)return a.Da(a,b);var c=rb[u(null==a?null:a)];if(null!=c)return c.B?c.B(a,b):c.call(null,a,b);c=rb._;if(null!=c)return c.B?c.B(a,b):c.call(null,a,b);throw B("ILookup.-lookup",a);};rb.D=function(a,b,c){if(null!=a&&null!=a.ia)return a.ia(a,b,c);var d=rb[u(null==a?null:a)];if(null!=d)return d.D?d.D(a,b,c):d.call(null,a,b,c);d=rb._;if(null!=d)return d.D?d.D(a,b,c):d.call(null,a,b,c);throw B("ILookup.-lookup",a);};rb.R=3;
var sb=function sb(a,b,c){if(null!=a&&null!=a.gb)return a.gb(a,b,c);var e=sb[u(null==a?null:a)];if(null!=e)return e.D?e.D(a,b,c):e.call(null,a,b,c);e=sb._;if(null!=e)return e.D?e.D(a,b,c):e.call(null,a,b,c);throw B("IAssociative.-assoc",a);},tb=function tb(a,b){if(null!=a&&null!=a.Ab)return a.Ab(a,b);var d=tb[u(null==a?null:a)];if(null!=d)return d.B?d.B(a,b):d.call(null,a,b);d=tb._;if(null!=d)return d.B?d.B(a,b):d.call(null,a,b);throw B("IFind.-find",a);};function ub(){}
var vb=function vb(a,b){if(null!=a&&null!=a.ic)return a.ic(a,b);var d=vb[u(null==a?null:a)];if(null!=d)return d.B?d.B(a,b):d.call(null,a,b);d=vb._;if(null!=d)return d.B?d.B(a,b):d.call(null,a,b);throw B("IMap.-dissoc",a);},wb=function wb(a){if(null!=a&&null!=a.Rc)return a.key;var c=wb[u(null==a?null:a)];if(null!=c)return c.j?c.j(a):c.call(null,a);c=wb._;if(null!=c)return c.j?c.j(a):c.call(null,a);throw B("IMapEntry.-key",a);},xb=function xb(a){if(null!=a&&null!=a.Sc)return a.aa;var c=xb[u(null==a?
null:a)];if(null!=c)return c.j?c.j(a):c.call(null,a);c=xb._;if(null!=c)return c.j?c.j(a):c.call(null,a);throw B("IMapEntry.-val",a);};function yb(){}
var zb=function zb(a,b){if(null!=a&&null!=a.zc)return a.zc(a,b);var d=zb[u(null==a?null:a)];if(null!=d)return d.B?d.B(a,b):d.call(null,a,b);d=zb._;if(null!=d)return d.B?d.B(a,b):d.call(null,a,b);throw B("ISet.-disjoin",a);},Ab=function Ab(a){if(null!=a&&null!=a.pb)return a.pb(a);var c=Ab[u(null==a?null:a)];if(null!=c)return c.j?c.j(a):c.call(null,a);c=Ab._;if(null!=c)return c.j?c.j(a):c.call(null,a);throw B("IStack.-peek",a);},Bb=function Bb(a){if(null!=a&&null!=a.qb)return a.qb(a);var c=Bb[u(null==
a?null:a)];if(null!=c)return c.j?c.j(a):c.call(null,a);c=Bb._;if(null!=c)return c.j?c.j(a):c.call(null,a);throw B("IStack.-pop",a);};function Cb(){}
var Db=function Db(a,b,c){if(null!=a&&null!=a.rb)return a.rb(a,b,c);var e=Db[u(null==a?null:a)];if(null!=e)return e.D?e.D(a,b,c):e.call(null,a,b,c);e=Db._;if(null!=e)return e.D?e.D(a,b,c):e.call(null,a,b,c);throw B("IVector.-assoc-n",a);},E=function E(a){if(null!=a&&null!=a.ob)return a.ob(a);var c=E[u(null==a?null:a)];if(null!=c)return c.j?c.j(a):c.call(null,a);c=E._;if(null!=c)return c.j?c.j(a):c.call(null,a);throw B("IDeref.-deref",a);};function Eb(){}
var Fb=function Fb(a){if(null!=a&&null!=a.ja)return a.ja(a);var c=Fb[u(null==a?null:a)];if(null!=c)return c.j?c.j(a):c.call(null,a);c=Fb._;if(null!=c)return c.j?c.j(a):c.call(null,a);throw B("IMeta.-meta",a);},Gb=function Gb(a,b){if(null!=a&&null!=a.ma)return a.ma(a,b);var d=Gb[u(null==a?null:a)];if(null!=d)return d.B?d.B(a,b):d.call(null,a,b);d=Gb._;if(null!=d)return d.B?d.B(a,b):d.call(null,a,b);throw B("IWithMeta.-with-meta",a);};function Hb(){}
var Ib=function Ib(a){switch(arguments.length){case 2:return Ib.B(arguments[0],arguments[1]);case 3:return Ib.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.j(arguments.length)].join(""));}};Ib.B=function(a,b){if(null!=a&&null!=a.va)return a.va(a,b);var c=Ib[u(null==a?null:a)];if(null!=c)return c.B?c.B(a,b):c.call(null,a,b);c=Ib._;if(null!=c)return c.B?c.B(a,b):c.call(null,a,b);throw B("IReduce.-reduce",a);};
Ib.D=function(a,b,c){if(null!=a&&null!=a.wa)return a.wa(a,b,c);var d=Ib[u(null==a?null:a)];if(null!=d)return d.D?d.D(a,b,c):d.call(null,a,b,c);d=Ib._;if(null!=d)return d.D?d.D(a,b,c):d.call(null,a,b,c);throw B("IReduce.-reduce",a);};Ib.R=3;function Jb(){}
var Kb=function Kb(a,b,c){if(null!=a&&null!=a.Hb)return a.Hb(a,b,c);var e=Kb[u(null==a?null:a)];if(null!=e)return e.D?e.D(a,b,c):e.call(null,a,b,c);e=Kb._;if(null!=e)return e.D?e.D(a,b,c):e.call(null,a,b,c);throw B("IKVReduce.-kv-reduce",a);},Lb=function Lb(a,b){if(null!=a&&null!=a.P)return a.P(a,b);var d=Lb[u(null==a?null:a)];if(null!=d)return d.B?d.B(a,b):d.call(null,a,b);d=Lb._;if(null!=d)return d.B?d.B(a,b):d.call(null,a,b);throw B("IEquiv.-equiv",a);},Mb=function Mb(a){if(null!=a&&null!=a.da)return a.da(a);
var c=Mb[u(null==a?null:a)];if(null!=c)return c.j?c.j(a):c.call(null,a);c=Mb._;if(null!=c)return c.j?c.j(a):c.call(null,a);throw B("IHash.-hash",a);};function Nb(){}var Ob=function Ob(a){if(null!=a&&null!=a.la)return a.la(a);var c=Ob[u(null==a?null:a)];if(null!=c)return c.j?c.j(a):c.call(null,a);c=Ob._;if(null!=c)return c.j?c.j(a):c.call(null,a);throw B("ISeqable.-seq",a);};function Pb(){}function Qb(){}function Rb(){}function Sb(){}
var Tb=function Tb(a){if(null!=a&&null!=a.Lb)return a.Lb(a);var c=Tb[u(null==a?null:a)];if(null!=c)return c.j?c.j(a):c.call(null,a);c=Tb._;if(null!=c)return c.j?c.j(a):c.call(null,a);throw B("IReversible.-rseq",a);},F=function F(a,b){if(null!=a&&null!=a.Bc)return a.Bc(a,b);var d=F[u(null==a?null:a)];if(null!=d)return d.B?d.B(a,b):d.call(null,a,b);d=F._;if(null!=d)return d.B?d.B(a,b):d.call(null,a,b);throw B("IWriter.-write",a);};function Ub(){}
var Vb=function Vb(a,b,c){if(null!=a&&null!=a.ea)return a.ea(a,b,c);var e=Vb[u(null==a?null:a)];if(null!=e)return e.D?e.D(a,b,c):e.call(null,a,b,c);e=Vb._;if(null!=e)return e.D?e.D(a,b,c):e.call(null,a,b,c);throw B("IPrintWithWriter.-pr-writer",a);},Wb=function Wb(a,b,c){if(null!=a&&null!=a.Yb)return a.Yb(a,b,c);var e=Wb[u(null==a?null:a)];if(null!=e)return e.D?e.D(a,b,c):e.call(null,a,b,c);e=Wb._;if(null!=e)return e.D?e.D(a,b,c):e.call(null,a,b,c);throw B("IWatchable.-add-watch",a);},Xb=function Xb(a,
b){if(null!=a&&null!=a.Zb)return a.Zb(a,b);var d=Xb[u(null==a?null:a)];if(null!=d)return d.B?d.B(a,b):d.call(null,a,b);d=Xb._;if(null!=d)return d.B?d.B(a,b):d.call(null,a,b);throw B("IWatchable.-remove-watch",a);},Yb=function Yb(a){if(null!=a&&null!=a.zb)return a.zb(a);var c=Yb[u(null==a?null:a)];if(null!=c)return c.j?c.j(a):c.call(null,a);c=Yb._;if(null!=c)return c.j?c.j(a):c.call(null,a);throw B("IEditableCollection.-as-transient",a);},Zb=function Zb(a,b){if(null!=a&&null!=a.Cb)return a.Cb(a,b);
var d=Zb[u(null==a?null:a)];if(null!=d)return d.B?d.B(a,b):d.call(null,a,b);d=Zb._;if(null!=d)return d.B?d.B(a,b):d.call(null,a,b);throw B("ITransientCollection.-conj!",a);},$b=function $b(a){if(null!=a&&null!=a.Mb)return a.Mb(a);var c=$b[u(null==a?null:a)];if(null!=c)return c.j?c.j(a):c.call(null,a);c=$b._;if(null!=c)return c.j?c.j(a):c.call(null,a);throw B("ITransientCollection.-persistent!",a);},ac=function ac(a,b,c){if(null!=a&&null!=a.Bb)return a.Bb(a,b,c);var e=ac[u(null==a?null:a)];if(null!=
e)return e.D?e.D(a,b,c):e.call(null,a,b,c);e=ac._;if(null!=e)return e.D?e.D(a,b,c):e.call(null,a,b,c);throw B("ITransientAssociative.-assoc!",a);},bc=function bc(a){if(null!=a&&null!=a.fc)return a.fc(a);var c=bc[u(null==a?null:a)];if(null!=c)return c.j?c.j(a):c.call(null,a);c=bc._;if(null!=c)return c.j?c.j(a):c.call(null,a);throw B("IChunk.-drop-first",a);},cc=function cc(a){if(null!=a&&null!=a.Xb)return a.Xb(a);var c=cc[u(null==a?null:a)];if(null!=c)return c.j?c.j(a):c.call(null,a);c=cc._;if(null!=
c)return c.j?c.j(a):c.call(null,a);throw B("IChunkedSeq.-chunked-first",a);},dc=function dc(a){if(null!=a&&null!=a.yb)return a.yb(a);var c=dc[u(null==a?null:a)];if(null!=c)return c.j?c.j(a):c.call(null,a);c=dc._;if(null!=c)return c.j?c.j(a):c.call(null,a);throw B("IChunkedSeq.-chunked-rest",a);},ec=function ec(a){if(null!=a&&null!=a.Ib)return a.Ib(a);var c=ec[u(null==a?null:a)];if(null!=c)return c.j?c.j(a):c.call(null,a);c=ec._;if(null!=c)return c.j?c.j(a):c.call(null,a);throw B("INamed.-name",a);
},fc=function fc(a){if(null!=a&&null!=a.Jb)return a.Jb(a);var c=fc[u(null==a?null:a)];if(null!=c)return c.j?c.j(a):c.call(null,a);c=fc._;if(null!=c)return c.j?c.j(a):c.call(null,a);throw B("INamed.-namespace",a);},gc=function gc(a,b){if(null!=a&&null!=a.Ya)return a.Ya(a,b);var d=gc[u(null==a?null:a)];if(null!=d)return d.B?d.B(a,b):d.call(null,a,b);d=gc._;if(null!=d)return d.B?d.B(a,b):d.call(null,a,b);throw B("IReset.-reset!",a);},hc=function hc(a){switch(arguments.length){case 2:return hc.B(arguments[0],
arguments[1]);case 3:return hc.D(arguments[0],arguments[1],arguments[2]);case 4:return hc.T(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return hc.ca(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",C.j(arguments.length)].join(""));}};
hc.B=function(a,b){if(null!=a&&null!=a.jc)return a.jc(a,b);var c=hc[u(null==a?null:a)];if(null!=c)return c.B?c.B(a,b):c.call(null,a,b);c=hc._;if(null!=c)return c.B?c.B(a,b):c.call(null,a,b);throw B("ISwap.-swap!",a);};hc.D=function(a,b,c){if(null!=a&&null!=a.kc)return a.kc(a,b,c);var d=hc[u(null==a?null:a)];if(null!=d)return d.D?d.D(a,b,c):d.call(null,a,b,c);d=hc._;if(null!=d)return d.D?d.D(a,b,c):d.call(null,a,b,c);throw B("ISwap.-swap!",a);};
hc.T=function(a,b,c,d){if(null!=a&&null!=a.lc)return a.lc(a,b,c,d);var e=hc[u(null==a?null:a)];if(null!=e)return e.T?e.T(a,b,c,d):e.call(null,a,b,c,d);e=hc._;if(null!=e)return e.T?e.T(a,b,c,d):e.call(null,a,b,c,d);throw B("ISwap.-swap!",a);};hc.ca=function(a,b,c,d,e){if(null!=a&&null!=a.mc)return a.mc(a,b,c,d,e);var f=hc[u(null==a?null:a)];if(null!=f)return f.ca?f.ca(a,b,c,d,e):f.call(null,a,b,c,d,e);f=hc._;if(null!=f)return f.ca?f.ca(a,b,c,d,e):f.call(null,a,b,c,d,e);throw B("ISwap.-swap!",a);};
hc.R=5;function ic(){}var jc=function jc(a){if(null!=a&&null!=a.Ia)return a.Ia(a);var c=jc[u(null==a?null:a)];if(null!=c)return c.j?c.j(a):c.call(null,a);c=jc._;if(null!=c)return c.j?c.j(a):c.call(null,a);throw B("IIterable.-iterator",a);};function kc(a){this.bd=a;this.F=1073741824;this.$=0}kc.prototype.Bc=function(a,b){return this.bd.append(b)};function lc(a){var b=new Ha;a.ea(null,new kc(b),Oa());return C.j(b)}
var mc="undefined"!==typeof Math&&"undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function nc(a){a=mc(a|0,-862048943);return mc(a<<15|a>>>-15,461845907)}function oc(a,b){a=(a|0)^(b|0);return mc(a<<13|a>>>-13,5)+-430675100|0}function pc(a,b){a=(a|0)^b;a=mc(a^a>>>16,-2048144789);a=mc(a^a>>>13,-1028477387);return a^a>>>16}
function qc(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=oc(c,nc(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return pc(1===(a.length&1)?b^nc(a.charCodeAt(a.length-1)):b,mc(2,a.length))}var rc={},sc=0;function tc(a){255<sc&&(rc={},sc=0);if(null==a)return 0;var b=rc[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=mc(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;rc[a]=b;sc+=1;a=b}return a}
function uc(a){if(null!=a&&(a.F&4194304||v===a.Pc))return a.da(null)^0;if("number"===typeof a){if(x(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=tc(a),a=0===a?a:pc(oc(0,nc(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:Mb(a)^0,a}function vc(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function wc(a,b,c,d,e){this.Fb=a;this.name=b;this.str=c;this._hash=d;this.eb=e;this.F=2154168321;this.$=4096}g=wc.prototype;g.toString=function(){return this.str};g.equiv=function(a){return this.P(null,a)};g.P=function(a,b){return b instanceof wc?this.str===b.str:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.j(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat($a(b)))};g.j=function(a){return H.B?H.B(a,this):H.call(null,a,this)};g.B=function(a,b){return H.D?H.D(a,this,b):H.call(null,a,this,b)};g.ja=function(){return this.eb};g.ma=function(a,b){return new wc(this.Fb,this.name,this.str,this._hash,b)};g.da=function(){var a=this._hash;return null!=a?a:this._hash=a=vc(qc(this.name),tc(this.Fb))};g.Ib=function(){return this.name};g.Jb=function(){return this.Fb};g.ea=function(a,b){return F(b,this.str)};
var xc=function xc(a){switch(arguments.length){case 1:return xc.j(arguments[0]);case 2:return xc.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",C.j(arguments.length)].join(""));}};xc.j=function(a){for(;;){if(a instanceof wc)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?xc.B(null,a):xc.B(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof I)a=a.Za;else throw Error("no conversion to symbol");}};
xc.B=function(a,b){var c=null!=a?[C.j(a),"/",C.j(b)].join(""):b;return new wc(a,b,c,null,null)};xc.R=2;function yc(a){return null!=a?a.$&131072||v===a.hd?!0:a.$?!1:y(ic,a):y(ic,a)}function J(a){if(null==a)return null;if(null!=a&&(a.F&8388608||v===a.Vc))return a.la(null);if(Va(a)||"string"===typeof a)return 0===a.length?null:new K(a,0,null);if(y(Nb,a))return Ob(a);throw Error([C.j(a)," is not ISeqable"].join(""));}
function M(a){if(null==a)return null;if(null!=a&&(a.F&64||v===a.Ea))return a.ua(null);a=J(a);return null==a?null:D(a)}function zc(a){return null!=a?null!=a&&(a.F&64||v===a.Ea)?a.xa(null):(a=J(a))?a.xa(null):N:N}function P(a){return null==a?null:null!=a&&(a.F&128||v===a.Kb)?a.sa(null):J(zc(a))}
var Q=function Q(a){switch(arguments.length){case 1:return Q.j(arguments[0]);case 2:return Q.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Q.I(arguments[0],arguments[1],c)}};Q.j=function(){return!0};Q.B=function(a,b){return null==a?null==b:a===b||Lb(a,b)};Q.I=function(a,b,c){for(;;)if(Q.B(a,b))if(P(c))a=b,b=M(c),c=P(c);else return Q.B(b,M(c));else return!1};
Q.Y=function(a){var b=M(a),c=P(a);a=M(c);c=P(c);return this.I(b,a,c)};Q.R=2;function Ac(a){this.s=a}Ac.prototype.next=function(){if(null!=this.s){var a=M(this.s);this.s=P(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function Bc(a){return new Ac(J(a))}function Cc(a){var b=0,c=1;for(a=J(a);;)if(null!=a)b+=1,c=mc(31,c)+uc(M(a))|0,a=P(a);else return pc(oc(0,nc(c)),b)}var Dc=pc(oc(0,nc(1)),0);
function Ec(a){var b=0,c=0;for(a=J(a);;)if(null!=a)b+=1,c=c+uc(M(a))|0,a=P(a);else return pc(oc(0,nc(c)),b)}var Fc=pc(oc(0,nc(0)),0);eb["null"]=!0;fb["null"]=function(){return 0};Date.prototype.P=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Lb.number=function(a,b){return a===b};cb["function"]=!0;Eb["function"]=!0;Fb["function"]=function(){return null};Mb._=function(a){return ba(a)};function Gc(a){return a+1}function Hc(){this.aa=!1;this.F=32768;this.$=0}Hc.prototype.ob=function(){return this.aa};
function Ic(a){return a instanceof Hc}function Jc(a){return E(a)}function Kc(a,b){var c=a.ha(null);if(0===c)return b.N?b.N():b.call(null);for(var d=a.ga(null,0),e=1;;)if(e<c){var f=a.ga(null,e);d=b.B?b.B(d,f):b.call(null,d,f);if(Ic(d))return E(d);e+=1}else return d}function Lc(a,b,c){var d=a.ha(null),e=c;for(c=0;;)if(c<d){var f=a.ga(null,c);e=b.B?b.B(e,f):b.call(null,e,f);if(Ic(e))return E(e);c+=1}else return e}
function Mc(a,b){var c=a.length;if(0===a.length)return b.N?b.N():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.B?b.B(d,f):b.call(null,d,f);if(Ic(d))return E(d);e+=1}else return d}function Nc(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.B?b.B(e,f):b.call(null,e,f);if(Ic(e))return E(e);c+=1}else return e}function Oc(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.B?b.B(c,f):b.call(null,c,f);if(Ic(c))return E(c);d+=1}else return c}
function Pc(a){return null!=a?a.F&2||v===a.Ic?!0:a.F?!1:y(eb,a):y(eb,a)}function Qc(a){return null!=a?a.F&16||v===a.wc?!0:a.F?!1:y(kb,a):y(kb,a)}function R(a,b,c){var d=S.j?S.j(a):S.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(Q.B(Rc?Rc(a,c):Sc.call(null,a,c),b))return c;c+=1}else return-1}
function T(a,b,c){var d=S.j?S.j(a):S.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(Q.B(Rc?Rc(a,c):Sc.call(null,a,c),b))return c;--c}else return-1}function Tc(a,b){this.C=a;this.i=b}Tc.prototype.ta=function(){return this.i<this.C.length};Tc.prototype.next=function(){var a=this.C[this.i];this.i+=1;return a};function K(a,b,c){this.C=a;this.i=b;this.meta=c;this.F=166592766;this.$=139264}g=K.prototype;g.toString=function(){return lc(this)};
g.equiv=function(a){return this.P(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return R(this,b,0);case 2:return R(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return R(this,b,0)};a.B=function(b,c){return R(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return T(this,c,S.j?S.j(this):S.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return T(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return T(this,c,d)};return b}();g.ga=function(a,b){a=b+this.i;if(0<=a&&a<this.C.length)return this.C[a];throw Error("Index out of bounds");};g.Aa=function(a,b,c){a=b+this.i;return 0<=a&&a<this.C.length?this.C[a]:c};
g.Ia=function(){return new Tc(this.C,this.i)};g.ja=function(){return this.meta};g.sa=function(){return this.i+1<this.C.length?new K(this.C,this.i+1,null):null};g.ha=function(){var a=this.C.length-this.i;return 0>a?0:a};g.Lb=function(){var a=this.ha(null);return 0<a?new Uc(this,a-1,null):null};g.da=function(){return Cc(this)};g.P=function(a,b){return Vc.B?Vc.B(this,b):Vc.call(null,this,b)};g.pa=function(){return N};g.va=function(a,b){return Oc(this.C,b,this.C[this.i],this.i+1)};
g.wa=function(a,b,c){return Oc(this.C,b,c,this.i)};g.ua=function(){return this.C[this.i]};g.xa=function(){return this.i+1<this.C.length?new K(this.C,this.i+1,null):N};g.la=function(){return this.i<this.C.length?this:null};g.ma=function(a,b){return b===this.meta?this:new K(this.C,this.i,b)};g.ra=function(a,b){return U.B?U.B(b,this):U.call(null,b,this)};K.prototype[Za]=function(){return Bc(this)};function Wc(a){return 0<a.length?new K(a,0,null):null}
function Uc(a,b,c){this.ci=a;this.i=b;this.meta=c;this.F=32374990;this.$=8192}g=Uc.prototype;g.toString=function(){return lc(this)};g.equiv=function(a){return this.P(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return R(this,b,0);case 2:return R(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return R(this,b,0)};a.B=function(b,c){return R(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return T(this,c,S.j?S.j(this):S.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return T(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return T(this,c,d)};return b}();g.ja=function(){return this.meta};g.sa=function(){return 0<this.i?new Uc(this.ci,this.i-1,null):null};g.ha=function(){return this.i+1};g.da=function(){return Cc(this)};
g.P=function(a,b){return Vc.B?Vc.B(this,b):Vc.call(null,this,b)};g.pa=function(){return N};g.va=function(a,b){return Xc?Xc(b,this):Yc.call(null,b,this)};g.wa=function(a,b,c){return Zc?Zc(b,c,this):Yc.call(null,b,c,this)};g.ua=function(){return lb(this.ci,this.i)};g.xa=function(){return 0<this.i?new Uc(this.ci,this.i-1,null):N};g.la=function(){return this};g.ma=function(a,b){return b===this.meta?this:new Uc(this.ci,this.i,b)};g.ra=function(a,b){return U.B?U.B(b,this):U.call(null,b,this)};
Uc.prototype[Za]=function(){return Bc(this)};function $c(a){for(;;){var b=P(a);if(null!=b)a=b;else return M(a)}}Lb._=function(a,b){return a===b};var ad=function ad(a){switch(arguments.length){case 0:return ad.N();case 1:return ad.j(arguments[0]);case 2:return ad.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return ad.I(arguments[0],arguments[1],c)}};ad.N=function(){return bd};ad.j=function(a){return a};
ad.B=function(a,b){return null!=a?jb(a,b):new cd(null,b,null,1,null)};ad.I=function(a,b,c){for(;;)if(x(c))a=ad.B(a,b),b=M(c),c=P(c);else return ad.B(a,b)};ad.Y=function(a){var b=M(a),c=P(a);a=M(c);c=P(c);return this.I(b,a,c)};ad.R=2;function dd(a){return null==a?null:null!=a&&(a.F&4||v===a.Kc)?a.pa(null):(null!=a?a.F&4||v===a.Kc||(a.F?0:y(gb,a)):y(gb,a))?hb(a):null}
function S(a){if(null!=a)if(null!=a&&(a.F&2||v===a.Ic))a=a.ha(null);else if(Va(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.F&8388608||v===a.Vc))a:{a=J(a);for(var b=0;;){if(Pc(a)){a=b+fb(a);break a}a=P(a);b+=1}}else a=fb(a);else a=0;return a}function ed(a,b,c){for(;;){if(null==a)return c;if(0===b)return J(a)?M(a):c;if(Qc(a))return lb(a,b,c);if(J(a))a=P(a),--b;else return c}}
function Sc(a){switch(arguments.length){case 2:return Rc(arguments[0],arguments[1]);case 3:return V(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.j(arguments.length)].join(""));}}
function Rc(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.F&16||v===a.wc))return a.ga(null,b);if(Va(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.F&64||v===a.Ea)||null!=a&&(a.F&16777216||v===a.yc)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(J(a)){a=M(a);break a}throw Error("Index out of bounds");}if(Qc(a)){a=lb(a,b);break a}if(J(a))a=P(a),--b;else throw Error("Index out of bounds");}return a}if(y(kb,a))return lb(a,b);throw Error(["nth not supported on this type ",C.j(Ya(Xa(a)))].join(""));}
function V(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.F&16||v===a.wc))return a.Aa(null,b,c);if(Va(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.F&64||v===a.Ea)||null!=a&&(a.F&16777216||v===a.yc))return 0>b?c:ed(a,b,c);if(y(kb,a))return lb(a,b,c);throw Error(["nth not supported on this type ",C.j(Ya(Xa(a)))].join(""));}
var H=function H(a){switch(arguments.length){case 2:return H.B(arguments[0],arguments[1]);case 3:return H.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.j(arguments.length)].join(""));}};H.B=function(a,b){return null==a?null:null!=a&&(a.F&256||v===a.Qc)?a.Da(null,b):Va(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&b<a.length?a.charAt(b|0):null:y(qb,a)?rb(a,b):null};
H.D=function(a,b,c){return null!=a?null!=a&&(a.F&256||v===a.Qc)?a.ia(null,b,c):Va(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:y(qb,a)?rb(a,b,c):c:c};H.R=3;var fd=function fd(a){switch(arguments.length){case 3:return fd.D(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(3),0,null);return fd.I(arguments[0],arguments[1],arguments[2],c)}};
fd.D=function(a,b,c){return null!=a&&(a.F&512||v===a.cd)?a.gb(null,b,c):null!=a?sb(a,b,c):gd([b,c])};fd.I=function(a,b,c,d){for(;;)if(a=fd.D(a,b,c),x(d))b=M(d),c=M(P(d)),d=P(P(d));else return a};fd.Y=function(a){var b=M(a),c=P(a);a=M(c);var d=P(c);c=M(d);d=P(d);return this.I(b,a,c,d)};fd.R=3;
var hd=function hd(a){switch(arguments.length){case 1:return hd.j(arguments[0]);case 2:return hd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return hd.I(arguments[0],arguments[1],c)}};hd.j=function(a){return a};hd.B=function(a,b){return null==a?null:vb(a,b)};hd.I=function(a,b,c){for(;;){if(null==a)return null;a=hd.B(a,b);if(x(c))b=M(c),c=P(c);else return a}};
hd.Y=function(a){var b=M(a),c=P(a);a=M(c);c=P(c);return this.I(b,a,c)};hd.R=2;function id(a){var b="function"==u(a);return b?b:null!=a?v===a.Hc?!0:a.oc?!1:y(cb,a):y(cb,a)}function jd(a,b){this.K=a;this.meta=b;this.F=393217;this.$=0}g=jd.prototype;g.ja=function(){return this.meta};g.ma=function(a,b){return new jd(this.K,b)};g.Hc=v;
g.call=function(a){switch(arguments.length-1){case 0:return this.N();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.T(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Wa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Xa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ma(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Oa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Qa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ra(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Sa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ta(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Ua(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Va(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.hc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",C.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat($a(b)))};g.N=function(){return this.K.N?this.K.N():this.K.call(null)};g.j=function(a){return this.K.j?this.K.j(a):this.K.call(null,a)};g.B=function(a,b){return this.K.B?this.K.B(a,b):this.K.call(null,a,b)};g.D=function(a,b,c){return this.K.D?this.K.D(a,b,c):this.K.call(null,a,b,c)};
g.T=function(a,b,c,d){return this.K.T?this.K.T(a,b,c,d):this.K.call(null,a,b,c,d)};g.ca=function(a,b,c,d,e){return this.K.ca?this.K.ca(a,b,c,d,e):this.K.call(null,a,b,c,d,e)};g.Ga=function(a,b,c,d,e,f){return this.K.Ga?this.K.Ga(a,b,c,d,e,f):this.K.call(null,a,b,c,d,e,f)};g.Wa=function(a,b,c,d,e,f,h){return this.K.Wa?this.K.Wa(a,b,c,d,e,f,h):this.K.call(null,a,b,c,d,e,f,h)};g.Ha=function(a,b,c,d,e,f,h,k){return this.K.Ha?this.K.Ha(a,b,c,d,e,f,h,k):this.K.call(null,a,b,c,d,e,f,h,k)};
g.Xa=function(a,b,c,d,e,f,h,k,l){return this.K.Xa?this.K.Xa(a,b,c,d,e,f,h,k,l):this.K.call(null,a,b,c,d,e,f,h,k,l)};g.La=function(a,b,c,d,e,f,h,k,l,m){return this.K.La?this.K.La(a,b,c,d,e,f,h,k,l,m):this.K.call(null,a,b,c,d,e,f,h,k,l,m)};g.Ma=function(a,b,c,d,e,f,h,k,l,m,n){return this.K.Ma?this.K.Ma(a,b,c,d,e,f,h,k,l,m,n):this.K.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Na=function(a,b,c,d,e,f,h,k,l,m,n,p){return this.K.Na?this.K.Na(a,b,c,d,e,f,h,k,l,m,n,p):this.K.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Oa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){return this.K.Oa?this.K.Oa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.K.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};g.Pa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){return this.K.Pa?this.K.Pa(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.K.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};g.Qa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t){return this.K.Qa?this.K.Qa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t):this.K.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,t)};
g.Ra=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A){return this.K.Ra?this.K.Ra(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A):this.K.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A)};g.Sa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z){return this.K.Sa?this.K.Sa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z):this.K.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z)};g.Ta=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G){return this.K.Ta?this.K.Ta(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G):this.K.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G)};
g.Ua=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G,O){return this.K.Ua?this.K.Ua(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G,O):this.K.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G,O)};g.Va=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G,O,W){return this.K.Va?this.K.Va(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G,O,W):this.K.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G,O,W)};
g.hc=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G,O,W,ja){return kd.Oc?kd.Oc(this.K,a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G,O,W,ja):kd.call(null,this.K,a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G,O,W,ja)};function ld(a,b){return"function"==u(a)?new jd(a,b):null==a?null:Gb(a,b)}function md(a){return null!=a&&(null!=a?a.F&131072||v===a.Tc||(a.F?0:y(Eb,a)):y(Eb,a))?Fb(a):null}
var nd=function nd(a){switch(arguments.length){case 1:return nd.j(arguments[0]);case 2:return nd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return nd.I(arguments[0],arguments[1],c)}};nd.j=function(a){return a};nd.B=function(a,b){return null==a?null:zb(a,b)};nd.I=function(a,b,c){for(;;){if(null==a)return null;a=nd.B(a,b);if(x(c))b=M(c),c=P(c);else return a}};
nd.Y=function(a){var b=M(a),c=P(a);a=M(c);c=P(c);return this.I(b,a,c)};nd.R=2;function od(a){return null==a||Wa(J(a))}function pd(a){return null==a?!1:null!=a?a.F&8||v===a.ed?!0:a.F?!1:y(ib,a):y(ib,a)}function qd(a){return null==a?!1:null!=a?a.F&4096||v===a.pd?!0:a.F?!1:y(yb,a):y(yb,a)}function rd(a){return null!=a?a.F&16777216||v===a.yc?!0:a.F?!1:y(Pb,a):y(Pb,a)}function sd(a){return null==a?!1:null!=a?a.F&1024||v===a.ld?!0:a.F?!1:y(ub,a):y(ub,a)}
function td(a){return null!=a?a.F&67108864||v===a.nd?!0:a.F?!1:y(Rb,a):y(Rb,a)}function ud(a){return null!=a?a.F&16384||v===a.qd?!0:a.F?!1:y(Cb,a):y(Cb,a)}function vd(a){return null!=a?a.$&512||v===a.dd?!0:!1:!1}function wd(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var xd={};function yd(a){return null==a?!1:null!=a?a.F&64||v===a.Ea?!0:a.F?!1:y(mb,a):y(mb,a)}function zd(a){return null==a?!1:!1===a?!1:!0}function Ad(a){var b=id(a);return b?b:null!=a?a.F&1||v===a.gd?!0:a.F?!1:y(db,a):y(db,a)}
function Bd(a,b){return H.D(a,b,xd)===xd?!1:!0}function Yc(a){switch(arguments.length){case 2:return Xc(arguments[0],arguments[1]);case 3:return Zc(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.j(arguments.length)].join(""));}}function Xc(a,b){var c=J(b);return c?(b=M(c),c=P(c),bb.D?bb.D(a,b,c):bb.call(null,a,b,c)):a.N?a.N():a.call(null)}function Zc(a,b,c){for(c=J(c);;)if(c){var d=M(c);b=a.B?a.B(b,d):a.call(null,b,d);if(Ic(b))return E(b);c=P(c)}else return b}
function Cd(a,b){a=jc(a);if(x(a.ta()))for(var c=a.next();;)if(a.ta()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(Ic(c))return E(c)}else return c;else return b.N?b.N():b.call(null)}function Dd(a,b,c){for(a=jc(a);;)if(a.ta()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(Ic(c))return E(c)}else return c}
var bb=function bb(a){switch(arguments.length){case 2:return bb.B(arguments[0],arguments[1]);case 3:return bb.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.j(arguments.length)].join(""));}};bb.B=function(a,b){return null!=b&&(b.F&524288||v===b.Uc)?b.va(null,a):Va(b)?Mc(b,a):"string"===typeof b?Mc(b,a):y(Hb,b)?Ib(b,a):yc(b)?Cd(b,a):Xc(a,b)};
bb.D=function(a,b,c){return null!=c&&(c.F&524288||v===c.Uc)?c.wa(null,a,b):Va(c)?Nc(c,a,b):"string"===typeof c?Nc(c,a,b):y(Hb,c)?Ib(c,a,b):yc(c)?Dd(c,a,b):Zc(a,b,c)};bb.R=3;function Ed(a,b,c){return null!=c?Kb(c,a,b):b}function Fd(a){return a}function Gd(a,b,c,d){a=a.j?a.j(b):a.call(null,b);c=bb.D(a,c,d);return a.j?a.j(c):a.call(null,c)}function Id(a){return 0<=a?Math.floor(a):Math.ceil(a)}function Jd(a,b){return Id((a-a%b)/b)}
function Kd(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}function Ld(a){switch(arguments.length){case 1:return!0;case 2:return Lb(arguments[0],arguments[1]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;d=new K(b.slice(2),0,null);a:for(b=arguments[0],c=arguments[1];;)if(b===c)if(P(d))b=c,c=M(d),d=P(d);else{b=c===M(d);break a}else{b=!1;break a}return b}}function Md(a,b){return Lb(a,b)}
var C=function C(a){switch(arguments.length){case 0:return C.N();case 1:return C.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return C.I(arguments[0],c)}};C.N=function(){return""};C.j=function(a){return null==a?"":[a].join("")};C.I=function(a,b){for(a=new Ha(C.j(a));;)if(x(b))a=a.append(C.j(M(b))),b=P(b);else return a.toString()};C.Y=function(a){var b=M(a);a=P(a);return this.I(b,a)};C.R=1;
function Vc(a,b){if(rd(b))if(Pc(a)&&Pc(b)&&S(a)!==S(b))a=!1;else a:for(a=J(a),b=J(b);;){if(null==a){a=null==b;break a}if(null!=b&&Q.B(M(a),M(b)))a=P(a),b=P(b);else{a=!1;break a}}else a=null;return zd(a)}function cd(a,b,c,d,e){this.meta=a;this.first=b;this.kb=c;this.count=d;this.J=e;this.F=65937646;this.$=8192}g=cd.prototype;g.toString=function(){return lc(this)};g.equiv=function(a){return this.P(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return R(this,b,0);case 2:return R(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return R(this,b,0)};a.B=function(b,c){return R(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return T(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return T(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return T(this,c,d)};return b}();g.ja=function(){return this.meta};g.sa=function(){return 1===this.count?null:this.kb};g.ha=function(){return this.count};g.pb=function(){return this.first};g.qb=function(){return this.xa(null)};
g.da=function(){var a=this.J;return null!=a?a:this.J=a=Cc(this)};g.P=function(a,b){return Vc(this,b)};g.pa=function(){return Gb(N,this.meta)};g.va=function(a,b){return Xc(b,this)};g.wa=function(a,b,c){return Zc(b,c,this)};g.ua=function(){return this.first};g.xa=function(){return 1===this.count?N:this.kb};g.la=function(){return this};g.ma=function(a,b){return b===this.meta?this:new cd(b,this.first,this.kb,this.count,this.J)};g.ra=function(a,b){return new cd(this.meta,b,this,this.count+1,null)};
function Nd(a){return null!=a?a.F&33554432||v===a.kd?!0:a.F?!1:y(Qb,a):y(Qb,a)}cd.prototype[Za]=function(){return Bc(this)};function Od(a){this.meta=a;this.F=65937614;this.$=8192}g=Od.prototype;g.toString=function(){return lc(this)};g.equiv=function(a){return this.P(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return R(this,b,0);case 2:return R(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return R(this,b,0)};a.B=function(b,c){return R(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return T(this,c,S(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return T(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return T(this,c,d)};return b}();g.ja=function(){return this.meta};g.sa=function(){return null};g.ha=function(){return 0};g.pb=function(){return null};g.qb=function(){throw Error("Can't pop empty list");};g.da=function(){return Dc};
g.P=function(a,b){return Nd(b)||rd(b)?null==J(b):!1};g.pa=function(){return this};g.va=function(a,b){return Xc(b,this)};g.wa=function(a,b,c){return Zc(b,c,this)};g.ua=function(){return null};g.xa=function(){return N};g.la=function(){return null};g.ma=function(a,b){return b===this.meta?this:new Od(b)};g.ra=function(a,b){return new cd(this.meta,b,null,1,null)};var N=new Od(null);Od.prototype[Za]=function(){return Bc(this)};
function Pd(a){return(null!=a?a.F&134217728||v===a.od||(a.F?0:y(Sb,a)):y(Sb,a))?(a=Tb(a))?a:N:bb.D(ad,N,a)}var Qd=function Qd(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Qd.I(c)};Qd.I=function(a){if(a instanceof K&&0===a.i)var b=a.C;else a:for(b=[];;)if(null!=a)b.push(D(a)),a=pb(a);else break a;a=b.length;for(var c=N;;)if(0<a){var d=a-1;c=jb(c,b[a-1]);a=d}else return c};Qd.R=0;Qd.Y=function(a){return this.I(J(a))};
function Rd(a,b,c,d){this.meta=a;this.first=b;this.kb=c;this.J=d;this.F=65929452;this.$=8192}g=Rd.prototype;g.toString=function(){return lc(this)};g.equiv=function(a){return this.P(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return R(this,b,0);case 2:return R(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return R(this,b,0)};a.B=function(b,c){return R(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return T(this,c,S(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return T(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return T(this,c,d)};return b}();g.ja=function(){return this.meta};g.sa=function(){return null==this.kb?null:J(this.kb)};g.da=function(){var a=this.J;return null!=a?a:this.J=a=Cc(this)};g.P=function(a,b){return Vc(this,b)};g.pa=function(){return N};
g.va=function(a,b){return Xc(b,this)};g.wa=function(a,b,c){return Zc(b,c,this)};g.ua=function(){return this.first};g.xa=function(){return null==this.kb?N:this.kb};g.la=function(){return this};g.ma=function(a,b){return b===this.meta?this:new Rd(b,this.first,this.kb,this.J)};g.ra=function(a,b){return new Rd(null,b,this,null)};Rd.prototype[Za]=function(){return Bc(this)};
function U(a,b){return null==b?new cd(null,a,null,1,null):null!=b&&(b.F&64||v===b.Ea)?new Rd(null,a,b,null):new Rd(null,a,J(b),null)}function I(a,b,c,d){this.Fb=a;this.name=b;this.Za=c;this._hash=d;this.F=2153775105;this.$=4096}g=I.prototype;g.toString=function(){return[":",C.j(this.Za)].join("")};g.equiv=function(a){return this.P(null,a)};g.P=function(a,b){return b instanceof I?this.Za===b.Za:!1};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat($a(b)))};g.j=function(a){return H.B(a,this)};g.B=function(a,b){return H.D(a,this,b)};g.da=function(){var a=this._hash;return null!=a?a:this._hash=a=vc(qc(this.name),tc(this.Fb))+2654435769|0};g.Ib=function(){return this.name};
g.Jb=function(){return this.Fb};g.ea=function(a,b){return F(b,[":",C.j(this.Za)].join(""))};function Sd(a){if(null!=a&&(a.$&4096||v===a.xc))return a.Jb(null);throw Error(["Doesn't support namespace: ",C.j(a)].join(""));}var Td=function Td(a){switch(arguments.length){case 1:return Td.j(arguments[0]);case 2:return Td.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",C.j(arguments.length)].join(""));}};
Td.j=function(a){if(a instanceof I)return a;if(a instanceof wc)return new I(Sd(a),Ud.j?Ud.j(a):Ud.call(null,a),a.str,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new I(b[0],b[1],a,null):new I(null,b[0],a,null)}return null};
Td.B=function(a,b){a=a instanceof I?Ud.j?Ud.j(a):Ud.call(null,a):a instanceof wc?Ud.j?Ud.j(a):Ud.call(null,a):a;b=b instanceof I?Ud.j?Ud.j(b):Ud.call(null,b):b instanceof wc?Ud.j?Ud.j(b):Ud.call(null,b):b;return new I(a,b,[x(a)?[C.j(a),"/"].join(""):null,C.j(b)].join(""),null)};Td.R=2;function Vd(a,b,c,d){this.meta=a;this.fn=b;this.s=c;this.J=d;this.F=32374988;this.$=1}g=Vd.prototype;g.toString=function(){return lc(this)};g.equiv=function(a){return this.P(null,a)};
function Wd(a){null!=a.fn&&(a.s=a.fn.N?a.fn.N():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return R(this,b,0);case 2:return R(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return R(this,b,0)};a.B=function(b,c){return R(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return T(this,c,S(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return T(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return T(this,c,d)};return b}();g.ja=function(){return this.meta};g.sa=function(){this.la(null);return null==this.s?null:P(this.s)};g.da=function(){var a=this.J;return null!=a?a:this.J=a=Cc(this)};g.P=function(a,b){return Vc(this,b)};
g.pa=function(){return Gb(N,this.meta)};g.va=function(a,b){return Xc(b,this)};g.wa=function(a,b,c){return Zc(b,c,this)};g.ua=function(){this.la(null);return null==this.s?null:M(this.s)};g.xa=function(){this.la(null);return null!=this.s?zc(this.s):N};g.la=function(){Wd(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof Vd)a=Wd(a);else return this.s=a,J(this.s)};g.ma=function(a,b){var c=this;return b===this.meta?c:new Vd(b,function(){return c.la(null)},null,this.J)};
g.ra=function(a,b){return U(b,this)};Vd.prototype[Za]=function(){return Bc(this)};function Xd(a){this.cc=a;this.end=0;this.F=2;this.$=0}Xd.prototype.add=function(a){this.cc[this.end]=a;return this.end+=1};Xd.prototype.Ca=function(){var a=new Yd(this.cc,0,this.end);this.cc=null;return a};Xd.prototype.ha=function(){return this.end};function Yd(a,b,c){this.C=a;this.off=b;this.end=c;this.F=524306;this.$=0}g=Yd.prototype;g.ha=function(){return this.end-this.off};
g.ga=function(a,b){return this.C[this.off+b]};g.Aa=function(a,b,c){return 0<=b&&b<this.end-this.off?this.C[this.off+b]:c};g.fc=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Yd(this.C,this.off+1,this.end)};g.va=function(a,b){return Oc(this.C,b,this.C[this.off],this.off+1)};g.wa=function(a,b,c){return Oc(this.C,b,c,this.off)};function Zd(a,b,c,d){this.Ca=a;this.bb=b;this.meta=c;this.J=d;this.F=31850732;this.$=1536}g=Zd.prototype;g.toString=function(){return lc(this)};
g.equiv=function(a){return this.P(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return R(this,b,0);case 2:return R(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return R(this,b,0)};a.B=function(b,c){return R(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return T(this,c,S(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return T(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return T(this,c,d)};return b}();g.ja=function(){return this.meta};g.sa=function(){return 1<fb(this.Ca)?new Zd(bc(this.Ca),this.bb,null,null):null==this.bb?null:Ob(this.bb)};g.da=function(){var a=this.J;return null!=a?a:this.J=a=Cc(this)};
g.P=function(a,b){return Vc(this,b)};g.pa=function(){return N};g.ua=function(){return lb(this.Ca,0)};g.xa=function(){return 1<fb(this.Ca)?new Zd(bc(this.Ca),this.bb,null,null):null==this.bb?N:this.bb};g.la=function(){return this};g.Xb=function(){return this.Ca};g.yb=function(){return null==this.bb?N:this.bb};g.ma=function(a,b){return b===this.meta?this:new Zd(this.Ca,this.bb,b,this.J)};g.ra=function(a,b){return U(b,this)};g.gc=function(){return null==this.bb?null:this.bb};Zd.prototype[Za]=function(){return Bc(this)};
function $d(a,b){return 0===fb(a)?b:new Zd(a,b,null,null)}function ae(a,b){a.add(b)}function be(a,b){if(Pc(b))return S(b);var c=0;for(b=J(b);;)if(null!=b&&c<a)c+=1,b=P(b);else return c}
var ce=function ce(a){if(null==a)return null;var c=P(a);return null==c?J(M(a)):U(M(a),ce.j?ce.j(c):ce.call(null,c))},de=function de(a){switch(arguments.length){case 0:return de.N();case 1:return de.j(arguments[0]);case 2:return de.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return de.I(arguments[0],arguments[1],c)}};de.N=function(){return new Vd(null,function(){return null},null,null)};
de.j=function(a){return new Vd(null,function(){return a},null,null)};de.B=function(a,b){return new Vd(null,function(){var c=J(a);return c?vd(c)?$d(cc(c),de.B(dc(c),b)):U(M(c),de.B(zc(c),b)):b},null,null)};de.I=function(a,b,c){return function h(e,f){return new Vd(null,function(){var k=J(e);return k?vd(k)?$d(cc(k),h(dc(k),f)):U(M(k),h(zc(k),f)):x(f)?h(M(f),P(f)):null},null,null)}(de.B(a,b),c)};de.Y=function(a){var b=M(a),c=P(a);a=M(c);c=P(c);return this.I(b,a,c)};de.R=2;
var ee=function ee(a){switch(arguments.length){case 0:return ee.N();case 1:return ee.j(arguments[0]);case 2:return ee.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return ee.I(arguments[0],arguments[1],c)}};ee.N=function(){return Yb(bd)};ee.j=function(a){return a};ee.B=function(a,b){return Zb(a,b)};ee.I=function(a,b,c){for(;;)if(a=Zb(a,b),x(c))b=M(c),c=P(c);else return a};
ee.Y=function(a){var b=M(a),c=P(a);a=M(c);c=P(c);return this.I(b,a,c)};ee.R=2;function fe(a,b,c){return ac(a,b,c)}
function ge(a,b,c){var d=J(c);if(0===b)return a.N?a.N():a.call(null);c=D(d);var e=nb(d);if(1===b)return a.j?a.j(c):a.call(null,c);d=D(e);var f=nb(e);if(2===b)return a.B?a.B(c,d):a.call(null,c,d);e=D(f);var h=nb(f);if(3===b)return a.D?a.D(c,d,e):a.call(null,c,d,e);f=D(h);var k=nb(h);if(4===b)return a.T?a.T(c,d,e,f):a.call(null,c,d,e,f);h=D(k);var l=nb(k);if(5===b)return a.ca?a.ca(c,d,e,f,h):a.call(null,c,d,e,f,h);k=D(l);var m=nb(l);if(6===b)return a.Ga?a.Ga(c,d,e,f,h,k):a.call(null,c,d,e,f,h,k);l=
D(m);var n=nb(m);if(7===b)return a.Wa?a.Wa(c,d,e,f,h,k,l):a.call(null,c,d,e,f,h,k,l);m=D(n);var p=nb(n);if(8===b)return a.Ha?a.Ha(c,d,e,f,h,k,l,m):a.call(null,c,d,e,f,h,k,l,m);n=D(p);var q=nb(p);if(9===b)return a.Xa?a.Xa(c,d,e,f,h,k,l,m,n):a.call(null,c,d,e,f,h,k,l,m,n);p=D(q);var r=nb(q);if(10===b)return a.La?a.La(c,d,e,f,h,k,l,m,n,p):a.call(null,c,d,e,f,h,k,l,m,n,p);q=D(r);var t=nb(r);if(11===b)return a.Ma?a.Ma(c,d,e,f,h,k,l,m,n,p,q):a.call(null,c,d,e,f,h,k,l,m,n,p,q);r=D(t);var A=nb(t);if(12===
b)return a.Na?a.Na(c,d,e,f,h,k,l,m,n,p,q,r):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r);t=D(A);var z=nb(A);if(13===b)return a.Oa?a.Oa(c,d,e,f,h,k,l,m,n,p,q,r,t):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,t);A=D(z);var G=nb(z);if(14===b)return a.Pa?a.Pa(c,d,e,f,h,k,l,m,n,p,q,r,t,A):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,t,A);z=D(G);var O=nb(G);if(15===b)return a.Qa?a.Qa(c,d,e,f,h,k,l,m,n,p,q,r,t,A,z):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z);G=D(O);var W=nb(O);if(16===b)return a.Ra?a.Ra(c,d,e,f,h,k,l,m,n,p,q,r,t,
A,z,G):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G);O=D(W);var ja=nb(W);if(17===b)return a.Sa?a.Sa(c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G,O):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G,O);W=D(ja);var Ea=nb(ja);if(18===b)return a.Ta?a.Ta(c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G,O,W):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G,O,W);ja=D(Ea);Ea=nb(Ea);if(19===b)return a.Ua?a.Ua(c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G,O,W,ja):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G,O,W,ja);var Hd=D(Ea);nb(Ea);if(20===b)return a.Va?a.Va(c,
d,e,f,h,k,l,m,n,p,q,r,t,A,z,G,O,W,ja,Hd):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G,O,W,ja,Hd);throw Error("Only up to 20 arguments supported on functions");}function he(a){return null!=a&&(a.F&128||v===a.Kb)?a.sa(null):J(zc(a))}function ie(a,b,c){return null==c?a.j?a.j(b):a.call(a,b):je(a,b,D(c),he(c))}function je(a,b,c,d){return null==d?a.B?a.B(b,c):a.call(a,b,c):ke(a,b,c,D(d),he(d))}function ke(a,b,c,d,e){return null==e?a.D?a.D(b,c,d):a.call(a,b,c,d):le(a,b,c,d,D(e),he(e))}
function le(a,b,c,d,e,f){if(null==f)return a.T?a.T(b,c,d,e):a.call(a,b,c,d,e);var h=D(f),k=P(f);if(null==k)return a.ca?a.ca(b,c,d,e,h):a.call(a,b,c,d,e,h);f=D(k);var l=P(k);if(null==l)return a.Ga?a.Ga(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=D(l);var m=P(l);if(null==m)return a.Wa?a.Wa(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);l=D(m);var n=P(m);if(null==n)return a.Ha?a.Ha(b,c,d,e,h,f,k,l):a.call(a,b,c,d,e,h,f,k,l);m=D(n);var p=P(n);if(null==p)return a.Xa?a.Xa(b,c,d,e,h,f,k,l,m):a.call(a,b,c,d,e,h,f,k,l,m);
n=D(p);var q=P(p);if(null==q)return a.La?a.La(b,c,d,e,h,f,k,l,m,n):a.call(a,b,c,d,e,h,f,k,l,m,n);p=D(q);var r=P(q);if(null==r)return a.Ma?a.Ma(b,c,d,e,h,f,k,l,m,n,p):a.call(a,b,c,d,e,h,f,k,l,m,n,p);q=D(r);var t=P(r);if(null==t)return a.Na?a.Na(b,c,d,e,h,f,k,l,m,n,p,q):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q);r=D(t);var A=P(t);if(null==A)return a.Oa?a.Oa(b,c,d,e,h,f,k,l,m,n,p,q,r):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r);t=D(A);var z=P(A);if(null==z)return a.Pa?a.Pa(b,c,d,e,h,f,k,l,m,n,p,q,r,t):a.call(a,b,c,d,
e,h,f,k,l,m,n,p,q,r,t);A=D(z);var G=P(z);if(null==G)return a.Qa?a.Qa(b,c,d,e,h,f,k,l,m,n,p,q,r,t,A):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,t,A);z=D(G);var O=P(G);if(null==O)return a.Ra?a.Ra(b,c,d,e,h,f,k,l,m,n,p,q,r,t,A,z):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,t,A,z);G=D(O);var W=P(O);if(null==W)return a.Sa?a.Sa(b,c,d,e,h,f,k,l,m,n,p,q,r,t,A,z,G):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,t,A,z,G);O=D(W);var ja=P(W);if(null==ja)return a.Ta?a.Ta(b,c,d,e,h,f,k,l,m,n,p,q,r,t,A,z,G,O):a.call(a,b,c,d,e,h,f,k,l,m,n,p,
q,r,t,A,z,G,O);W=D(ja);var Ea=P(ja);if(null==Ea)return a.Ua?a.Ua(b,c,d,e,h,f,k,l,m,n,p,q,r,t,A,z,G,O,W):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,t,A,z,G,O,W);ja=D(Ea);Ea=P(Ea);if(null==Ea)return a.Va?a.Va(b,c,d,e,h,f,k,l,m,n,p,q,r,t,A,z,G,O,W,ja):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,t,A,z,G,O,W,ja);b=[b,c,d,e,h,f,k,l,m,n,p,q,r,t,A,z,G,O,W,ja];for(c=Ea;;)if(c)b.push(D(c)),c=P(c);else break;return a.apply(a,b)}
function kd(a){switch(arguments.length){case 2:return me(arguments[0],arguments[1]);case 3:return ne(arguments[0],arguments[1],arguments[2]);case 4:var b=arguments[0];var c=arguments[1],d=arguments[2],e=arguments[3];b.Y?(c=U(c,U(d,e)),d=b.R,e=2+be(d-1,e),b=e<=d?ge(b,e,c):b.Y(c)):b=je(b,c,d,J(e));return b;case 5:return oe(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:b=[];e=arguments.length;for(c=0;;)if(c<e)b.push(arguments[c]),c+=1;else break;b=new K(b.slice(5),0,null);
return pe(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}function me(a,b){if(a.Y){var c=a.R,d=be(c+1,b);return d<=c?ge(a,d,b):a.Y(b)}b=J(b);return null==b?a.N?a.N():a.call(a):ie(a,D(b),he(b))}function ne(a,b,c){if(a.Y){b=U(b,c);var d=a.R;c=be(d,c)+1;return c<=d?ge(a,c,b):a.Y(b)}return ie(a,b,J(c))}function oe(a,b,c,d,e){return a.Y?(b=U(b,U(c,U(d,e))),c=a.R,e=3+be(c-2,e),e<=c?ge(a,e,b):a.Y(b)):ke(a,b,c,d,J(e))}
function pe(a,b,c,d,e,f){return a.Y?(f=ce(f),b=U(b,U(c,U(d,U(e,f)))),c=a.R,f=4+be(c-3,f),f<=c?ge(a,f,b):a.Y(b)):le(a,b,c,d,e,ce(f))}function qe(a){return J(a)?a:null}
function re(){if("undefined"===typeof Ia||"undefined"===typeof Ja||"undefined"===typeof Ka)Ka=function(a){this.Yc=a;this.F=393216;this.$=0},Ka.prototype.ma=function(a,b){return new Ka(b)},Ka.prototype.ja=function(){return this.Yc},Ka.prototype.ta=function(){return!1},Ka.prototype.next=function(){return Error("No such element")},Ka.prototype.remove=function(){return Error("Unsupported operation")},Ka.Xc=function(){return new X(null,1,5,Y,[se],null)},Ka.pc=!0,Ka.Nb="cljs.core/t_cljs$core39091",Ka.Cc=
function(a){return F(a,"cljs.core/t_cljs$core39091")};return new Ka(te)}var ue={},ve={};function we(a){this.Gb=ue;this._next=a}we.prototype.ta=function(){this.Gb===ue?(this.Gb=ve,this._next=J(this._next)):this.Gb===this._next&&(this._next=P(this.Gb));return null!=this._next};we.prototype.next=function(){if(this.ta())return this.Gb=this._next,M(this._next);throw Error("No such element");};we.prototype.remove=function(){return Error("Unsupported operation")};
function xe(a,b){for(;;){if(null==J(b))return!0;var c=M(b);c=a.j?a.j(c):a.call(null,c);if(x(c))b=P(b);else return!1}}function ye(a){for(var b=Fd;;)if(a=J(a)){var c=M(a);c=b.j?b.j(c):b.call(null,c);if(x(c))return c;a=P(a)}else return null}
var ze=function ze(a){switch(arguments.length){case 0:return ze.N();case 1:return ze.j(arguments[0]);case 2:return ze.B(arguments[0],arguments[1]);case 3:return ze.D(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(3),0,null);return ze.I(arguments[0],arguments[1],arguments[2],c)}};ze.N=function(){return Fd};ze.j=function(a){return a};
ze.B=function(a,b){return function(){function c(l,m,n){l=b.D?b.D(l,m,n):b.call(null,l,m,n);return a.j?a.j(l):a.call(null,l)}function d(l,m){l=b.B?b.B(l,m):b.call(null,l,m);return a.j?a.j(l):a.call(null,l)}function e(l){l=b.j?b.j(l):b.call(null,l);return a.j?a.j(l):a.call(null,l)}function f(){var l=b.N?b.N():b.call(null);return a.j?a.j(l):a.call(null,l)}var h=null,k=function(){function l(n,p,q,r){var t=null;if(3<arguments.length){t=0;for(var A=Array(arguments.length-3);t<A.length;)A[t]=arguments[t+
3],++t;t=new K(A,0,null)}return m.call(this,n,p,q,t)}function m(n,p,q,r){n=oe(b,n,p,q,r);return a.j?a.j(n):a.call(null,n)}l.R=3;l.Y=function(n){var p=M(n);n=P(n);var q=M(n);n=P(n);var r=M(n);n=zc(n);return m(p,q,r,n)};l.I=m;return l}();h=function(l,m,n,p){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,m);case 3:return c.call(this,l,m,n);default:var q=null;if(3<arguments.length){q=0;for(var r=Array(arguments.length-3);q<r.length;)r[q]=arguments[q+
3],++q;q=new K(r,0,null)}return k.I(l,m,n,q)}throw Error("Invalid arity: "+arguments.length);};h.R=3;h.Y=k.Y;h.N=f;h.j=e;h.B=d;h.D=c;h.I=k.I;return h}()};
ze.D=function(a,b,c){return function(){function d(m,n,p){m=c.D?c.D(m,n,p):c.call(null,m,n,p);m=b.j?b.j(m):b.call(null,m);return a.j?a.j(m):a.call(null,m)}function e(m,n){m=c.B?c.B(m,n):c.call(null,m,n);m=b.j?b.j(m):b.call(null,m);return a.j?a.j(m):a.call(null,m)}function f(m){m=c.j?c.j(m):c.call(null,m);m=b.j?b.j(m):b.call(null,m);return a.j?a.j(m):a.call(null,m)}function h(){var m=c.N?c.N():c.call(null);m=b.j?b.j(m):b.call(null,m);return a.j?a.j(m):a.call(null,m)}var k=null,l=function(){function m(p,
q,r,t){var A=null;if(3<arguments.length){A=0;for(var z=Array(arguments.length-3);A<z.length;)z[A]=arguments[A+3],++A;A=new K(z,0,null)}return n.call(this,p,q,r,A)}function n(p,q,r,t){p=oe(c,p,q,r,t);p=b.j?b.j(p):b.call(null,p);return a.j?a.j(p):a.call(null,p)}m.R=3;m.Y=function(p){var q=M(p);p=P(p);var r=M(p);p=P(p);var t=M(p);p=zc(p);return n(q,r,t,p)};m.I=n;return m}();k=function(m,n,p,q){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,m);case 2:return e.call(this,
m,n);case 3:return d.call(this,m,n,p);default:var r=null;if(3<arguments.length){r=0;for(var t=Array(arguments.length-3);r<t.length;)t[r]=arguments[r+3],++r;r=new K(t,0,null)}return l.I(m,n,p,r)}throw Error("Invalid arity: "+arguments.length);};k.R=3;k.Y=l.Y;k.N=h;k.j=f;k.B=e;k.D=d;k.I=l.I;return k}()};
ze.I=function(a,b,c,d){var e=Pd(U(a,U(b,U(c,d))));return function(){function f(k){var l=null;if(0<arguments.length){l=0;for(var m=Array(arguments.length-0);l<m.length;)m[l]=arguments[l+0],++l;l=new K(m,0,null)}return h.call(this,l)}function h(k){k=me(M(e),k);for(var l=P(e);;)if(l){var m=M(l);k=m.j?m.j(k):m.call(null,k);l=P(l)}else return k}f.R=0;f.Y=function(k){k=J(k);return h(k)};f.I=h;return f}()};ze.Y=function(a){var b=M(a),c=P(a);a=M(c);var d=P(c);c=M(d);d=P(d);return this.I(b,a,c,d)};ze.R=3;
var Ae=function Ae(a){switch(arguments.length){case 1:return Ae.j(arguments[0]);case 2:return Ae.B(arguments[0],arguments[1]);case 3:return Ae.D(arguments[0],arguments[1],arguments[2]);case 4:return Ae.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return Ae.I(arguments[0],arguments[1],arguments[2],arguments[3],c)}};Ae.j=function(a){return a};
Ae.B=function(a,b){return function(){function c(l,m,n){return a.T?a.T(b,l,m,n):a.call(null,b,l,m,n)}function d(l,m){return a.D?a.D(b,l,m):a.call(null,b,l,m)}function e(l){return a.B?a.B(b,l):a.call(null,b,l)}function f(){return a.j?a.j(b):a.call(null,b)}var h=null,k=function(){function l(n,p,q,r){var t=null;if(3<arguments.length){t=0;for(var A=Array(arguments.length-3);t<A.length;)A[t]=arguments[t+3],++t;t=new K(A,0,null)}return m.call(this,n,p,q,t)}function m(n,p,q,r){return pe(a,b,n,p,q,Wc([r]))}
l.R=3;l.Y=function(n){var p=M(n);n=P(n);var q=M(n);n=P(n);var r=M(n);n=zc(n);return m(p,q,r,n)};l.I=m;return l}();h=function(l,m,n,p){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,m);case 3:return c.call(this,l,m,n);default:var q=null;if(3<arguments.length){q=0;for(var r=Array(arguments.length-3);q<r.length;)r[q]=arguments[q+3],++q;q=new K(r,0,null)}return k.I(l,m,n,q)}throw Error("Invalid arity: "+arguments.length);};h.R=3;h.Y=k.Y;h.N=
f;h.j=e;h.B=d;h.D=c;h.I=k.I;return h}()};
Ae.D=function(a,b,c){return function(){function d(m,n,p){return a.ca?a.ca(b,c,m,n,p):a.call(null,b,c,m,n,p)}function e(m,n){return a.T?a.T(b,c,m,n):a.call(null,b,c,m,n)}function f(m){return a.D?a.D(b,c,m):a.call(null,b,c,m)}function h(){return a.B?a.B(b,c):a.call(null,b,c)}var k=null,l=function(){function m(p,q,r,t){var A=null;if(3<arguments.length){A=0;for(var z=Array(arguments.length-3);A<z.length;)z[A]=arguments[A+3],++A;A=new K(z,0,null)}return n.call(this,p,q,r,A)}function n(p,q,r,t){return pe(a,
b,c,p,q,Wc([r,t]))}m.R=3;m.Y=function(p){var q=M(p);p=P(p);var r=M(p);p=P(p);var t=M(p);p=zc(p);return n(q,r,t,p)};m.I=n;return m}();k=function(m,n,p,q){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,m);case 2:return e.call(this,m,n);case 3:return d.call(this,m,n,p);default:var r=null;if(3<arguments.length){r=0;for(var t=Array(arguments.length-3);r<t.length;)t[r]=arguments[r+3],++r;r=new K(t,0,null)}return l.I(m,n,p,r)}throw Error("Invalid arity: "+arguments.length);
};k.R=3;k.Y=l.Y;k.N=h;k.j=f;k.B=e;k.D=d;k.I=l.I;return k}()};
Ae.T=function(a,b,c,d){return function(){function e(n,p,q){return a.Ga?a.Ga(b,c,d,n,p,q):a.call(null,b,c,d,n,p,q)}function f(n,p){return a.ca?a.ca(b,c,d,n,p):a.call(null,b,c,d,n,p)}function h(n){return a.T?a.T(b,c,d,n):a.call(null,b,c,d,n)}function k(){return a.D?a.D(b,c,d):a.call(null,b,c,d)}var l=null,m=function(){function n(q,r,t,A){var z=null;if(3<arguments.length){z=0;for(var G=Array(arguments.length-3);z<G.length;)G[z]=arguments[z+3],++z;z=new K(G,0,null)}return p.call(this,q,r,t,z)}function p(q,
r,t,A){return pe(a,b,c,d,q,Wc([r,t,A]))}n.R=3;n.Y=function(q){var r=M(q);q=P(q);var t=M(q);q=P(q);var A=M(q);q=zc(q);return p(r,t,A,q)};n.I=p;return n}();l=function(n,p,q,r){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,n);case 2:return f.call(this,n,p);case 3:return e.call(this,n,p,q);default:var t=null;if(3<arguments.length){t=0;for(var A=Array(arguments.length-3);t<A.length;)A[t]=arguments[t+3],++t;t=new K(A,0,null)}return m.I(n,p,q,t)}throw Error("Invalid arity: "+
arguments.length);};l.R=3;l.Y=m.Y;l.N=k;l.j=h;l.B=f;l.D=e;l.I=m.I;return l}()};Ae.I=function(a,b,c,d,e){return function(){function f(k){var l=null;if(0<arguments.length){l=0;for(var m=Array(arguments.length-0);l<m.length;)m[l]=arguments[l+0],++l;l=new K(m,0,null)}return h.call(this,l)}function h(k){return oe(a,b,c,d,de.B(e,k))}f.R=0;f.Y=function(k){k=J(k);return h(k)};f.I=h;return f}()};Ae.Y=function(a){var b=M(a),c=P(a);a=M(c);var d=P(c);c=M(d);var e=P(d);d=M(e);e=P(e);return this.I(b,a,c,d,e)};
Ae.R=4;function Be(a,b){return function f(d,e){return new Vd(null,function(){var h=J(e);if(h){if(vd(h)){for(var k=cc(h),l=S(k),m=new Xd(Array(l)),n=0;;)if(n<l)ae(m,function(){var p=d+n,q=lb(k,n);return a.B?a.B(p,q):a.call(null,p,q)}()),n+=1;else break;return $d(m.Ca(),f(d+l,dc(h)))}return U(function(){var p=M(h);return a.B?a.B(d,p):a.call(null,d,p)}(),f(d+1,zc(h)))}return null},null,null)}(0,b)}function Ce(a){this.state=a;this.za=this.tc=this.meta=null;this.$=16386;this.F=6455296}g=Ce.prototype;
g.equiv=function(a){return this.P(null,a)};g.P=function(a,b){return this===b};g.ob=function(){return this.state};g.ja=function(){return this.meta};g.nc=function(a,b){for(var c=J(this.za),d=null,e=0,f=0;;)if(f<e){var h=d.ga(null,f),k=V(h,0,null);h=V(h,1,null);h.T?h.T(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=J(c))vd(c)?(d=cc(c),c=dc(c),k=d,e=S(d),d=k):(d=M(c),k=V(d,0,null),h=V(d,1,null),h.T?h.T(k,this,a,b):h.call(null,k,this,a,b),c=P(c),d=null,e=0),f=0;else break};
g.Yb=function(a,b,c){this.za=fd.D(this.za,b,c);return this};g.Zb=function(a,b){return this.za=hd.B(this.za,b)};g.da=function(){return ba(this)};function De(a,b){if(a instanceof Ce){var c=a.tc;if(null!=c&&!x(c.j?c.j(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.za&&a.nc(c,b);return b}return gc(a,b)}
var Ee=function Ee(a){switch(arguments.length){case 2:return Ee.B(arguments[0],arguments[1]);case 3:return Ee.D(arguments[0],arguments[1],arguments[2]);case 4:return Ee.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return Ee.I(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Ee.B=function(a,b){if(a instanceof Ce){var c=a.state;b=b.j?b.j(c):b.call(null,c);a=De(a,b)}else a=hc(a,b);return a};Ee.D=function(a,b,c){if(a instanceof Ce){var d=a.state;b=b.B?b.B(d,c):b.call(null,d,c);a=De(a,b)}else a=hc(a,b,c);return a};Ee.T=function(a,b,c,d){if(a instanceof Ce){var e=a.state;b=b.D?b.D(e,c,d):b.call(null,e,c,d);a=De(a,b)}else a=hc(a,b,c,d);return a};Ee.I=function(a,b,c,d,e){return a instanceof Ce?De(a,oe(b,a.state,c,d,e)):hc(a,b,c,d,e)};
Ee.Y=function(a){var b=M(a),c=P(a);a=M(c);var d=P(c);c=M(d);var e=P(d);d=M(e);e=P(e);return this.I(b,a,c,d,e)};Ee.R=4;function Fe(a){this.state=a;this.F=32768;this.$=0}Fe.prototype.Ac=function(a,b){return this.state=b};Fe.prototype.ob=function(){return this.state};
var Z=function Z(a){switch(arguments.length){case 1:return Z.j(arguments[0]);case 2:return Z.B(arguments[0],arguments[1]);case 3:return Z.D(arguments[0],arguments[1],arguments[2]);case 4:return Z.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return Z.I(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Z.j=function(a){return function(b){return function(){function c(k,l){l=a.j?a.j(l):a.call(null,l);return b.B?b.B(k,l):b.call(null,k,l)}function d(k){return b.j?b.j(k):b.call(null,k)}function e(){return b.N?b.N():b.call(null)}var f=null,h=function(){function k(m,n,p){var q=null;if(2<arguments.length){q=0;for(var r=Array(arguments.length-2);q<r.length;)r[q]=arguments[q+2],++q;q=new K(r,0,null)}return l.call(this,m,n,q)}function l(m,n,p){n=ne(a,n,p);return b.B?b.B(m,n):b.call(null,m,n)}k.R=2;k.Y=function(m){var n=
M(m);m=P(m);var p=M(m);m=zc(m);return l(n,p,m)};k.I=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new K(p,0,null)}return h.I(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.R=2;f.Y=h.Y;f.N=e;f.j=d;f.B=c;f.I=h.I;return f}()}};
Z.B=function(a,b){return new Vd(null,function(){var c=J(b);if(c){if(vd(c)){for(var d=cc(c),e=S(d),f=new Xd(Array(e)),h=0;;)if(h<e)ae(f,function(){var k=lb(d,h);return a.j?a.j(k):a.call(null,k)}()),h+=1;else break;return $d(f.Ca(),Z.B(a,dc(c)))}return U(function(){var k=M(c);return a.j?a.j(k):a.call(null,k)}(),Z.B(a,zc(c)))}return null},null,null)};
Z.D=function(a,b,c){return new Vd(null,function(){var d=J(b),e=J(c);if(d&&e){var f=M(d);var h=M(e);f=a.B?a.B(f,h):a.call(null,f,h);d=U(f,Z.D(a,zc(d),zc(e)))}else d=null;return d},null,null)};Z.T=function(a,b,c,d){return new Vd(null,function(){var e=J(b),f=J(c),h=J(d);if(e&&f&&h){var k=M(e);var l=M(f),m=M(h);k=a.D?a.D(k,l,m):a.call(null,k,l,m);e=U(k,Z.T(a,zc(e),zc(f),zc(h)))}else e=null;return e},null,null)};
Z.I=function(a,b,c,d,e){return Z.B(function(f){return me(a,f)},function k(h){return new Vd(null,function(){var l=Z.B(J,h);return xe(Fd,l)?U(Z.B(M,l),k(Z.B(zc,l))):null},null,null)}(ad.I(e,d,Wc([c,b]))))};Z.Y=function(a){var b=M(a),c=P(a);a=M(c);var d=P(c);c=M(d);var e=P(d);d=M(e);e=P(e);return this.I(b,a,c,d,e)};Z.R=4;function Ge(a,b){return new Vd(null,function(){if(0<a){var c=J(b);return c?U(M(c),Ge(a-1,zc(c))):null}return null},null,null)}
function He(a,b){return new Vd(null,function(){a:for(var c=a,d=b;;)if(d=J(d),0<c&&d)--c,d=zc(d);else break a;return d},null,null)}function Ie(a){return Z.D(function(b){return b},a,He(2,a))}function Je(a,b){return new Vd(null,function(){a:for(var c=a,d=b;;){d=J(d);var e;if(e=d)e=M(d),e=c.j?c.j(e):c.call(null,e);if(x(e))d=zc(d);else break a}return d},null,null)}function Ke(a,b,c,d){this.meta=a;this.count=b;this.aa=c;this.next=d;this.J=null;this.F=32374988;this.$=1}g=Ke.prototype;g.toString=function(){return lc(this)};
g.equiv=function(a){return this.P(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return R(this,b,0);case 2:return R(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return R(this,b,0)};a.B=function(b,c){return R(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return T(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return T(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return T(this,c,d)};return b}();g.ja=function(){return this.meta};g.sa=function(){return null==this.next?1<this.count?this.next=new Ke(null,this.count-1,this.aa,null):-1===this.count?this:null:this.next};
g.da=function(){var a=this.J;return null!=a?a:this.J=a=Cc(this)};g.P=function(a,b){return Vc(this,b)};g.pa=function(){return N};g.va=function(a,b){if(-1===this.count)for(var c=b.B?b.B(this.aa,this.aa):b.call(null,this.aa,this.aa);;){if(Ic(c))return E(c);c=b.B?b.B(c,this.aa):b.call(null,c,this.aa)}else for(a=1,c=this.aa;;)if(a<this.count){c=b.B?b.B(c,this.aa):b.call(null,c,this.aa);if(Ic(c))return E(c);a+=1}else return c};
g.wa=function(a,b,c){if(-1===this.count)for(c=b.B?b.B(c,this.aa):b.call(null,c,this.aa);;){if(Ic(c))return E(c);c=b.B?b.B(c,this.aa):b.call(null,c,this.aa)}else for(a=0;;)if(a<this.count){c=b.B?b.B(c,this.aa):b.call(null,c,this.aa);if(Ic(c))return E(c);a+=1}else return c};g.ua=function(){return this.aa};g.xa=function(){return null==this.next?1<this.count?this.next=new Ke(null,this.count-1,this.aa,null):-1===this.count?this:N:this.next};g.la=function(){return this};
g.ma=function(a,b){return b===this.meta?this:new Ke(b,this.count,this.aa,this.next)};g.ra=function(a,b){return U(b,this)};var Le=function Le(a){switch(arguments.length){case 0:return Le.N();case 1:return Le.j(arguments[0]);case 2:return Le.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Le.I(arguments[0],arguments[1],c)}};Le.N=function(){return N};
Le.j=function(a){return new Vd(null,function(){return a},null,null)};Le.B=function(a,b){return new Vd(null,function(){var c=J(a),d=J(b);return c&&d?U(M(c),U(M(d),Le.B(zc(c),zc(d)))):null},null,null)};Le.I=function(a,b,c){return new Vd(null,function(){var d=Z.B(J,ad.I(c,b,Wc([a])));return xe(Fd,d)?de.B(Z.B(M,d),me(Le,Z.B(zc,d))):null},null,null)};Le.Y=function(a){var b=M(a),c=P(a);a=M(c);c=P(c);return this.I(b,a,c)};Le.R=2;
function Me(a,b){return new Vd(null,function(){var c=J(b);if(c){if(vd(c)){for(var d=cc(c),e=S(d),f=new Xd(Array(e)),h=0;;)if(h<e){var k=lb(d,h);k=a.j?a.j(k):a.call(null,k);x(k)&&(k=lb(d,h),f.add(k));h+=1}else break;return $d(f.Ca(),Me(a,dc(c)))}d=M(c);c=zc(c);return x(a.j?a.j(d):a.call(null,d))?U(d,Me(a,c)):Me(a,c)}return null},null,null)}
var Ne=function Ne(a){switch(arguments.length){case 0:return Ne.N();case 1:return Ne.j(arguments[0]);case 2:return Ne.B(arguments[0],arguments[1]);case 3:return Ne.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.j(arguments.length)].join(""));}};Ne.N=function(){return bd};Ne.j=function(a){return a};Ne.B=function(a,b){return null!=a?null!=a&&(a.$&4||v===a.Jc)?Gb($b(bb.D(Zb,Yb(a),b)),md(a)):bb.D(jb,a,b):bb.D(ad,a,b)};
Ne.D=function(a,b,c){return null!=a&&(a.$&4||v===a.Jc)?Gb($b(Gd(b,ee,Yb(a),c)),md(a)):Gd(b,ad,a,c)};Ne.R=3;function Oe(a,b){return $b(bb.D(function(c,d){return ee.B(c,a.j?a.j(d):a.call(null,d))},Yb(bd),b))}function Pe(a,b){this.ka=a;this.C=b}function Qe(a){return new Pe(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function Re(a){return new Pe(a.ka,$a(a.C))}
function Se(a){a=a.G;return 32>a?0:a-1>>>5<<5}function Te(a,b,c){for(;;){if(0===b)return c;var d=Qe(a);d.C[0]=c;c=d;b-=5}}var Ue=function Ue(a,b,c,d){var f=Re(c),h=a.G-1>>>b&31;5===b?f.C[h]=d:(c=c.C[h],null!=c?(b-=5,a=Ue.T?Ue.T(a,b,c,d):Ue.call(null,a,b,c,d)):a=Te(null,b-5,d),f.C[h]=a);return f};function Ve(a,b){throw Error(["No item ",C.j(a)," in vector of length ",C.j(b)].join(""));}
function We(a,b){if(b>=Se(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.C[b>>>a&31];a=d}else return c.C}function Xe(a,b){return 0<=b&&b<a.G?We(a,b):Ve(b,a.G)}
var Ye=function Ye(a,b,c,d,e){var h=Re(c);if(0===b)h.C[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.C[k];a=Ye.ca?Ye.ca(a,b,c,d,e):Ye.call(null,a,b,c,d,e);h.C[k]=a}return h},Ze=function Ze(a,b,c){var e=a.G-2>>>b&31;if(5<b){b-=5;var f=c.C[e];a=Ze.D?Ze.D(a,b,f):Ze.call(null,a,b,f);if(null==a&&0===e)return null;c=Re(c);c.C[e]=a;return c}if(0===e)return null;c=Re(c);c.C[e]=null;return c};function $e(a,b,c,d,e,f){this.i=a;this.base=b;this.C=c;this.v=d;this.start=e;this.end=f}
$e.prototype.ta=function(){return this.i<this.end};$e.prototype.next=function(){32===this.i-this.base&&(this.C=We(this.v,this.i),this.base+=32);var a=this.C[this.i&31];this.i+=1;return a};function af(a,b,c){return new $e(b,b-b%32,b<S(a)?We(a,b):null,a,b,c)}function bf(a,b,c,d){return c<d?cf(a,b,Rc(a,c),c+1,d):b.N?b.N():b.call(null)}
function cf(a,b,c,d,e){var f=c;c=d;for(d=We(a,d);;)if(c<e){var h=c&31;d=0===h?We(a,c):d;h=d[h];f=b.B?b.B(f,h):b.call(null,f,h);if(Ic(f))return E(f);c+=1}else return f}function X(a,b,c,d,e,f){this.meta=a;this.G=b;this.shift=c;this.root=d;this.tail=e;this.J=f;this.F=167666463;this.$=139268}g=X.prototype;g.Ab=function(a,b){return 0<=b&&b<this.G?new df(b,We(this,b)[b&31]):null};g.toString=function(){return lc(this)};g.equiv=function(a){return this.P(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return R(this,b,0);case 2:return R(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return R(this,b,0)};a.B=function(b,c){return R(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return T(this,c,S(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return T(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return T(this,c,d)};return b}();g.Da=function(a,b){return this.ia(null,b,null)};g.ia=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Hb=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=We(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.D?b.D(d,h,k):b.call(null,d,h,k);if(Ic(d)){e=d;break a}f+=1}else{e=d;break a}if(Ic(e))return E(e);a+=c;d=e}else return d};g.ec=v;g.ga=function(a,b){return Xe(this,b)[b&31]};g.Aa=function(a,b,c){return 0<=b&&b<this.G?We(this,b)[b&31]:c};
g.rb=function(a,b,c){if(0<=b&&b<this.G)return Se(this)<=b?(a=$a(this.tail),a[b&31]=c,new X(this.meta,this.G,this.shift,this.root,a,null)):new X(this.meta,this.G,this.shift,Ye(this,this.shift,this.root,b,c),this.tail,null);if(b===this.G)return this.ra(null,c);throw Error(["Index ",C.j(b)," out of bounds  [0,",C.j(this.G),"]"].join(""));};g.Ia=function(){return af(this,0,this.G)};g.ja=function(){return this.meta};g.ha=function(){return this.G};
g.pb=function(){return 0<this.G?this.ga(null,this.G-1):null};g.qb=function(){if(0===this.G)throw Error("Can't pop empty vector");if(1===this.G)return Gb(bd,this.meta);if(1<this.G-Se(this))return new X(this.meta,this.G-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=We(this,this.G-2),b=Ze(this,this.shift,this.root);b=null==b?Y:b;var c=this.G-1;return 5<this.shift&&null==b.C[1]?new X(this.meta,c,this.shift-5,b.C[0],a,null):new X(this.meta,c,this.shift,b,a,null)};
g.Lb=function(){return 0<this.G?new Uc(this,this.G-1,null):null};g.da=function(){var a=this.J;return null!=a?a:this.J=a=Cc(this)};g.P=function(a,b){if(b instanceof X)if(this.G===S(b))for(a=this.Ia(null),b=b.Ia(null);;)if(a.ta()){var c=a.next(),d=b.next();if(!Q.B(c,d))return!1}else return!0;else return!1;else return Vc(this,b)};g.zb=function(){return new ef(this.G,this.shift,ff.j?ff.j(this.root):ff.call(null,this.root),gf.j?gf.j(this.tail):gf.call(null,this.tail))};g.pa=function(){return Gb(bd,this.meta)};
g.va=function(a,b){return bf(this,b,0,this.G)};g.wa=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=We(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.B?b.B(d,h):b.call(null,d,h);if(Ic(d)){e=d;break a}f+=1}else{e=d;break a}if(Ic(e))return E(e);a+=c;d=e}else return d};g.gb=function(a,b,c){if("number"===typeof b)return this.rb(null,b,c);throw Error("Vector's key for assoc must be a number.");};
g.la=function(){if(0===this.G)return null;if(32>=this.G)return new K(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.C[0];else{a=a.C;break a}}return hf?hf(this,a,0,0):jf.call(null,this,a,0,0)};g.ma=function(a,b){return b===this.meta?this:new X(b,this.G,this.shift,this.root,this.tail,this.J)};
g.ra=function(a,b){if(32>this.G-Se(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new X(this.meta,this.G+1,this.shift,this.root,c,null)}a=(c=this.G>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=Qe(null),c.C[0]=this.root,d=Te(null,this.shift,new Pe(null,this.tail)),c.C[1]=d):c=Ue(this,this.shift,this.root,new Pe(null,this.tail));return new X(this.meta,this.G+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat($a(b)))};g.j=function(a){return this.ga(null,a)};g.B=function(a,b){return this.Aa(null,a,b)};
var Y=new Pe(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),bd=new X(null,0,5,Y,[],Dc);function kf(a,b){var c=a.length;a=b?a:$a(a);if(32>c)return new X(null,c,5,Y,a,null);var d=a.slice(0,32);b=32;for(var e=(new X(null,32,5,Y,d,null)).zb(null);;)if(b<c)d=b+1,e=ee.B(e,a[b]),b=d;else return $b(e)}X.prototype[Za]=function(){return Bc(this)};
function lf(a){return x(mf.j?mf.j(a):mf.call(null,a))?new X(null,2,5,Y,[nf.j?nf.j(a):nf.call(null,a),of.j?of.j(a):of.call(null,a)],null):ud(a)?ld(a,null):Va(a)?kf(a,!0):$b(bb.D(Zb,Yb(bd),a))}var pf=function pf(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return pf.I(c)};pf.I=function(a){return a instanceof K&&0===a.i?kf(a.C,!Va(a.C)):lf(a)};pf.R=0;pf.Y=function(a){return this.I(J(a))};
function qf(a,b,c,d,e){this.Ka=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.J=null;this.F=32375020;this.$=1536}g=qf.prototype;g.toString=function(){return lc(this)};g.equiv=function(a){return this.P(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return R(this,b,0);case 2:return R(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return R(this,b,0)};a.B=function(b,c){return R(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return T(this,c,S(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return T(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return T(this,c,d)};return b}();g.ja=function(){return this.meta};g.sa=function(){if(this.off+1<this.node.length){var a=this.Ka;var b=this.node,c=this.i,d=this.off+1;a=hf?hf(a,b,c,d):jf.call(null,a,b,c,d);return null==a?null:a}return this.gc()};
g.da=function(){var a=this.J;return null!=a?a:this.J=a=Cc(this)};g.P=function(a,b){return Vc(this,b)};g.pa=function(){return N};g.va=function(a,b){return bf(this.Ka,b,this.i+this.off,S(this.Ka))};g.wa=function(a,b,c){return cf(this.Ka,b,c,this.i+this.off,S(this.Ka))};g.ua=function(){return this.node[this.off]};g.xa=function(){if(this.off+1<this.node.length){var a=this.Ka;var b=this.node,c=this.i,d=this.off+1;a=hf?hf(a,b,c,d):jf.call(null,a,b,c,d);return null==a?N:a}return this.yb(null)};g.la=function(){return this};
g.Xb=function(){var a=this.node;return new Yd(a,this.off,a.length)};g.yb=function(){var a=this.i+this.node.length;if(a<fb(this.Ka)){var b=this.Ka,c=We(this.Ka,a);return hf?hf(b,c,a,0):jf.call(null,b,c,a,0)}return N};g.ma=function(a,b){return b===this.meta?this:rf?rf(this.Ka,this.node,this.i,this.off,b):jf.call(null,this.Ka,this.node,this.i,this.off,b)};g.ra=function(a,b){return U(b,this)};
g.gc=function(){var a=this.i+this.node.length;if(a<fb(this.Ka)){var b=this.Ka,c=We(this.Ka,a);return hf?hf(b,c,a,0):jf.call(null,b,c,a,0)}return null};qf.prototype[Za]=function(){return Bc(this)};
function jf(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new qf(b,Xe(b,c),c,d,null);case 4:return hf(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return rf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",C.j(arguments.length)].join(""));}}function hf(a,b,c,d){return new qf(a,b,c,d,null)}function rf(a,b,c,d,e){return new qf(a,b,c,d,e)}
function sf(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.J=e;this.F=167666463;this.$=139264}g=sf.prototype;g.Ab=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new df(b,rb(this.v,a)):null};g.toString=function(){return lc(this)};g.equiv=function(a){return this.P(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return R(this,b,0);case 2:return R(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return R(this,b,0)};a.B=function(b,c){return R(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return T(this,c,S(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return T(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return T(this,c,d)};return b}();g.Da=function(a,b){return this.ia(null,b,null)};g.ia=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Hb=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=lb(this.v,a);c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(Ic(c))return E(c);d+=1;a+=1}else return c};g.ga=function(a,b){return 0>b||this.end<=this.start+b?Ve(b,this.end-this.start):lb(this.v,this.start+b)};g.Aa=function(a,b,c){return 0>b||this.end<=this.start+b?c:lb(this.v,this.start+b,c)};
g.rb=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",C.j(b)," out of bounds [0,",C.j(this.ha(null)),"]"].join(""));b=this.meta;c=fd.D(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return tf.ca?tf.ca(b,c,d,a,null):tf.call(null,b,c,d,a,null)};g.Ia=function(){return null!=this.v&&v===this.v.ec?af(this.v,this.start,this.end):new we(this)};g.ja=function(){return this.meta};g.ha=function(){return this.end-this.start};
g.pb=function(){return this.start===this.end?null:lb(this.v,this.end-1)};g.qb=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return tf.ca?tf.ca(a,b,c,d,null):tf.call(null,a,b,c,d,null)};g.Lb=function(){return this.start!==this.end?new Uc(this,this.end-this.start-1,null):null};g.da=function(){var a=this.J;return null!=a?a:this.J=a=Cc(this)};g.P=function(a,b){return Vc(this,b)};g.pa=function(){return Gb(bd,this.meta)};
g.va=function(a,b){return null!=this.v&&v===this.v.ec?bf(this.v,b,this.start,this.end):Kc(this,b)};g.wa=function(a,b,c){return null!=this.v&&v===this.v.ec?cf(this.v,b,c,this.start,this.end):Lc(this,b,c)};g.gb=function(a,b,c){if("number"===typeof b)return this.rb(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.la=function(){var a=this;return function d(c){return c===a.end?null:U(lb(a.v,c),new Vd(null,function(){return d(c+1)},null,null))}(a.start)};
g.ma=function(a,b){return b===this.meta?this:tf.ca?tf.ca(b,this.v,this.start,this.end,this.J):tf.call(null,b,this.v,this.start,this.end,this.J)};g.ra=function(a,b){a=this.meta;b=Db(this.v,this.end,b);var c=this.start,d=this.end+1;return tf.ca?tf.ca(a,b,c,d,null):tf.call(null,a,b,c,d,null)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.j(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat($a(b)))};g.j=function(a){return this.ga(null,a)};g.B=function(a,b){return this.Aa(null,a,b)};sf.prototype[Za]=function(){return Bc(this)};function tf(a,b,c,d,e){for(;;)if(b instanceof sf)c=b.start+c,d=b.start+d,b=b.v;else{if(!ud(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>S(b))throw Error("Index out of bounds");return new sf(a,b,c,d,e)}}function uf(a,b,c){return tf(null,a,b|0,c|0,null)}
function vf(a,b){return a===b.ka?b:new Pe(a,$a(b.C))}function ff(a){return new Pe({},$a(a.C))}function gf(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];wd(a,0,b,0,a.length);return b}var wf=function wf(a,b,c,d){c=vf(a.root.ka,c);var f=a.G-1>>>b&31;if(5===b)a=d;else{var h=c.C[f];null!=h?(b-=5,a=wf.T?wf.T(a,b,h,d):wf.call(null,a,b,h,d)):a=Te(a.root.ka,b-5,d)}c.C[f]=a;return c};
function ef(a,b,c,d){this.G=a;this.shift=b;this.root=c;this.tail=d;this.$=88;this.F=275}g=ef.prototype;
g.Cb=function(a,b){if(this.root.ka){if(32>this.G-Se(this))this.tail[this.G&31]=b;else{a=new Pe(this.root.ka,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.G>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=Te(this.root.ka,this.shift,a),this.root=new Pe(this.root.ka,b),this.shift=c):this.root=wf(this,this.shift,this.root,a)}this.G+=1;return this}throw Error("conj! after persistent!");};g.Mb=function(){if(this.root.ka){this.root.ka=null;var a=this.G-Se(this),b=Array(a);wd(this.tail,0,b,0,a);return new X(null,this.G,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.Bb=function(a,b,c){if("number"===typeof b)return xf(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function xf(a,b,c){if(a.root.ka){if(0<=b&&b<a.G){if(Se(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=vf(a.root.ka,h);if(0===f)h.C[b&31]=c;else{var l=b>>>f&31;f=k(f-5,h.C[l]);h.C[l]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.G)return a.Cb(null,c);throw Error(["Index ",C.j(b)," out of bounds for TransientVector of length",C.j(a.G)].join(""));}throw Error("assoc! after persistent!");}g.ha=function(){if(this.root.ka)return this.G;throw Error("count after persistent!");};
g.ga=function(a,b){if(this.root.ka)return Xe(this,b)[b&31];throw Error("nth after persistent!");};g.Aa=function(a,b,c){return 0<=b&&b<this.G?this.ga(null,b):c};g.Da=function(a,b){return this.ia(null,b,null)};g.ia=function(a,b,c){if(this.root.ka)return"number"===typeof b?this.Aa(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat($a(b)))};g.j=function(a){return this.Da(null,a)};g.B=function(a,b){return this.ia(null,a,b)};function yf(a,b){this.Eb=a;this.Ub=b}yf.prototype.ta=function(){var a=null!=this.Eb&&J(this.Eb);return a?a:null!=this.Ub?this.Ub.ta():!1};
yf.prototype.next=function(){if(null!=this.Eb){var a=M(this.Eb);this.Eb=P(this.Eb);return a}if(null!=this.Ub&&this.Ub.ta())return this.Ub.next();throw Error("No such element");};yf.prototype.remove=function(){return Error("Unsupported operation")};function zf(a,b,c,d){this.meta=a;this.Fa=b;this.Ja=c;this.J=d;this.F=31850700;this.$=0}g=zf.prototype;g.toString=function(){return lc(this)};g.equiv=function(a){return this.P(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return R(this,b,0);case 2:return R(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return R(this,b,0)};a.B=function(b,c){return R(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return T(this,c,S(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return T(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return T(this,c,d)};return b}();g.ja=function(){return this.meta};g.sa=function(){var a=P(this.Fa);return a?new zf(this.meta,a,this.Ja,null):null!=this.Ja?new zf(this.meta,this.Ja,null,null):null};g.da=function(){var a=this.J;return null!=a?a:this.J=a=Cc(this)};
g.P=function(a,b){return Vc(this,b)};g.pa=function(){return Gb(N,this.meta)};g.ua=function(){return M(this.Fa)};g.xa=function(){var a=P(this.Fa);return a?new zf(this.meta,a,this.Ja,null):null==this.Ja?this.pa(null):new zf(this.meta,this.Ja,null,null)};g.la=function(){return this};g.ma=function(a,b){return b===this.meta?this:new zf(b,this.Fa,this.Ja,this.J)};g.ra=function(a,b){return U(b,this)};zf.prototype[Za]=function(){return Bc(this)};
function Af(a,b,c,d,e){this.meta=a;this.count=b;this.Fa=c;this.Ja=d;this.J=e;this.$=139264;this.F=31858766}g=Af.prototype;g.toString=function(){return lc(this)};g.equiv=function(a){return this.P(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return R(this,b,0);case 2:return R(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return R(this,b,0)};a.B=function(b,c){return R(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return T(this,c,this.count.j?this.count.j(this):this.count.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return T(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return T(this,c,d)};return b}();g.Ia=function(){return new yf(this.Fa,jc(this.Ja))};g.ja=function(){return this.meta};g.ha=function(){return this.count};g.pb=function(){return M(this.Fa)};
g.qb=function(){if(x(this.Fa)){var a=P(this.Fa);return a?new Af(this.meta,this.count-1,a,this.Ja,null):new Af(this.meta,this.count-1,J(this.Ja),bd,null)}return this};g.da=function(){var a=this.J;return null!=a?a:this.J=a=Cc(this)};g.P=function(a,b){return Vc(this,b)};g.pa=function(){return Gb(Bf,this.meta)};g.ua=function(){return M(this.Fa)};g.xa=function(){return zc(J(this))};g.la=function(){var a=J(this.Ja),b=this.Fa;return x(x(b)?b:a)?new zf(null,this.Fa,J(a),null):null};
g.ma=function(a,b){return b===this.meta?this:new Af(b,this.count,this.Fa,this.Ja,this.J)};g.ra=function(a,b){x(this.Fa)?(a=this.Ja,b=new Af(this.meta,this.count+1,this.Fa,ad.B(x(a)?a:bd,b),null)):b=new Af(this.meta,this.count+1,ad.B(this.Fa,b),bd,null);return b};var Bf=new Af(null,0,null,bd,Dc);Af.prototype[Za]=function(){return Bc(this)};function Cf(){this.F=2097152;this.$=0}Cf.prototype.equiv=function(a){return this.P(null,a)};Cf.prototype.P=function(){return!1};var Df=new Cf;
function Ef(a,b){return zd(sd(b)&&!td(b)?S(a)===S(b)?(null!=a?a.F&1048576||v===a.jd||(a.F?0:y(Jb,a)):y(Jb,a))?Ed(function(c,d,e){return Q.B(H.D(b,d,Df),e)?!0:new Hc},!0,a):xe(function(c){return Q.B(H.D(b,M(c),Df),M(P(c)))},a):null:null)}function Ff(a){this.s=a}Ff.prototype.next=function(){if(null!=this.s){var a=M(this.s),b=V(a,0,null);a=V(a,1,null);this.s=P(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Gf(a){this.s=a}
Gf.prototype.next=function(){if(null!=this.s){var a=M(this.s);this.s=P(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Hf(a,b){if(b instanceof I)a:{var c=a.length;b=b.Za;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof I&&b===a[d].Za){a=d;break a}d+=2}}else if("string"==typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof wc)a:for(c=a.length,b=b.str,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof wc&&b===a[d].str){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(Q.B(b,a[d])){a=d;break a}d+=2}return a}function df(a,b){this.key=a;this.aa=b;this.J=null;this.F=166619935;this.$=0}g=df.prototype;g.Ab=function(a,b){switch(b){case 0:return new df(0,this.key);case 1:return new df(1,this.aa);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return R(this,b,0);case 2:return R(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return R(this,b,0)};a.B=function(b,c){return R(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return T(this,c,S(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return T(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return T(this,c,d)};return b}();g.Da=function(a,b){return this.Aa(null,b,null)};g.ia=function(a,b,c){return this.Aa(null,b,c)};g.ga=function(a,b){if(0===b)return this.key;if(1===b)return this.aa;throw Error("Index out of bounds");};
g.Aa=function(a,b,c){return 0===b?this.key:1===b?this.aa:c};g.rb=function(a,b,c){return(new X(null,2,5,Y,[this.key,this.aa],null)).rb(null,b,c)};g.ja=function(){return null};g.ha=function(){return 2};g.Rc=function(){return this.key};g.Sc=function(){return this.aa};g.pb=function(){return this.aa};g.qb=function(){return new X(null,1,5,Y,[this.key],null)};g.Lb=function(){return new K([this.aa,this.key],0,null)};g.da=function(){var a=this.J;return null!=a?a:this.J=a=Cc(this)};
g.P=function(a,b){return Vc(this,b)};g.pa=function(){return null};g.va=function(a,b){return Kc(this,b)};g.wa=function(a,b,c){return Lc(this,b,c)};g.gb=function(a,b,c){return fd.D(new X(null,2,5,Y,[this.key,this.aa],null),b,c)};g.la=function(){return new K([this.key,this.aa],0,null)};g.ma=function(a,b){return ld(new X(null,2,5,Y,[this.key,this.aa],null),b)};g.ra=function(a,b){return new X(null,3,5,Y,[this.key,this.aa,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat($a(b)))};g.j=function(a){return this.ga(null,a)};g.B=function(a,b){return this.Aa(null,a,b)};function mf(a){return null!=a?a.F&2048||v===a.md?!0:!1:!1}function If(a,b,c){this.C=a;this.i=b;this.eb=c;this.F=32374990;this.$=0}g=If.prototype;
g.toString=function(){return lc(this)};g.equiv=function(a){return this.P(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return R(this,b,0);case 2:return R(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return R(this,b,0)};a.B=function(b,c){return R(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return T(this,c,S(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return T(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return T(this,c,d)};return b}();g.ja=function(){return this.eb};g.sa=function(){return this.i<this.C.length-2?new If(this.C,this.i+2,null):null};g.ha=function(){return(this.C.length-this.i)/2};g.da=function(){return Cc(this)};
g.P=function(a,b){return Vc(this,b)};g.pa=function(){return N};g.va=function(a,b){return Xc(b,this)};g.wa=function(a,b,c){return Zc(b,c,this)};g.ua=function(){return new df(this.C[this.i],this.C[this.i+1])};g.xa=function(){return this.i<this.C.length-2?new If(this.C,this.i+2,null):N};g.la=function(){return this};g.ma=function(a,b){return b===this.eb?this:new If(this.C,this.i,b)};g.ra=function(a,b){return U(b,this)};If.prototype[Za]=function(){return Bc(this)};
function Jf(a,b){this.C=a;this.i=0;this.G=b}Jf.prototype.ta=function(){return this.i<this.G};Jf.prototype.next=function(){var a=new df(this.C[this.i],this.C[this.i+1]);this.i+=2;return a};function w(a,b,c,d){this.meta=a;this.G=b;this.C=c;this.J=d;this.F=16647951;this.$=139268}g=w.prototype;g.Ab=function(a,b){a=Hf(this.C,b);return-1===a?null:new df(this.C[a],this.C[a+1])};g.toString=function(){return lc(this)};g.equiv=function(a){return this.P(null,a)};
g.keys=function(){return Bc(Kf.j?Kf.j(this):Kf.call(null,this))};g.entries=function(){return new Ff(J(J(this)))};g.values=function(){return Bc(Lf.j?Lf.j(this):Lf.call(null,this))};g.has=function(a){return Bd(this,a)};g.get=function(a,b){return this.ia(null,a,b)};
g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ga(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))vd(b)?(c=cc(b),b=dc(b),h=c,d=S(c),c=h):(c=M(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=P(b),c=null,d=0),e=0;else return null};g.Da=function(a,b){return this.ia(null,b,null)};g.ia=function(a,b,c){a=Hf(this.C,b);return-1===a?c:this.C[a+1]};
g.Hb=function(a,b,c){a=this.C.length;for(var d=0;;)if(d<a){var e=this.C[d],f=this.C[d+1];c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(Ic(c))return E(c);d+=2}else return c};g.Ia=function(){return new Jf(this.C,2*this.G)};g.ja=function(){return this.meta};g.ha=function(){return this.G};g.da=function(){var a=this.J;return null!=a?a:this.J=a=Ec(this)};
g.P=function(a,b){if(sd(b)&&!td(b))if(a=this.C.length,this.G===b.ha(null))for(var c=0;;)if(c<a){var d=b.ia(null,this.C[c],xd);if(d!==xd)if(Q.B(this.C[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.zb=function(){return new Mf(this.C.length,$a(this.C))};g.pa=function(){return Gb(te,this.meta)};g.va=function(a,b){return Cd(this,b)};g.wa=function(a,b,c){return Dd(this,b,c)};
g.ic=function(a,b){if(0<=Hf(this.C,b)){a=this.C.length;var c=a-2;if(0===c)return this.pa(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new w(this.meta,this.G-1,c,null);Q.B(b,this.C[d])?d+=2:(c[e]=this.C[d],c[e+1]=this.C[d+1],e+=2,d+=2)}}else return this};
g.gb=function(a,b,c){a=Hf(this.C,b);if(-1===a){if(this.G<Nf){a=this.C;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new w(this.meta,this.G+1,e,null)}return Gb(sb(Ne.B(Of,this),b,c),this.meta)}if(c===this.C[a+1])return this;b=$a(this.C);b[a+1]=c;return new w(this.meta,this.G,b,null)};g.la=function(){var a=this.C;return 0<=a.length-2?new If(a,0,null):null};g.ma=function(a,b){return b===this.meta?this:new w(b,this.G,this.C,this.J)};
g.ra=function(a,b){if(ud(b))return this.gb(null,lb(b,0),lb(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=M(b);if(ud(c))a=sb(a,lb(c,0),lb(c,1)),b=P(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat($a(b)))};
g.j=function(a){return this.Da(null,a)};g.B=function(a,b){return this.ia(null,a,b)};var te=new w(null,0,[],Fc),Nf=8;function gd(a){for(var b=[],c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=Hf(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;return new w(null,b.length/2,b,null)}w.prototype[Za]=function(){return Bc(this)};function Mf(a,b){this.Db={};this.ub=a;this.C=b;this.F=259;this.$=56}g=Mf.prototype;
g.ha=function(){if(this.Db)return Jd(this.ub,2);throw Error("count after persistent!");};g.Da=function(a,b){return this.ia(null,b,null)};g.ia=function(a,b,c){if(this.Db)return a=Hf(this.C,b),-1===a?c:this.C[a+1];throw Error("lookup after persistent!");};
g.Cb=function(a,b){if(this.Db){if(mf(b))return this.Bb(null,nf.j?nf.j(b):nf.call(null,b),of.j?of.j(b):of.call(null,b));if(ud(b))return this.Bb(null,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));a=J(b);for(b=this;;){var c=M(a);if(x(c))a=P(a),b=ac(b,nf.j?nf.j(c):nf.call(null,c),of.j?of.j(c):of.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.Mb=function(){if(this.Db)return this.Db=!1,new w(null,Jd(this.ub,2),this.C,null);throw Error("persistent! called twice");};
g.Bb=function(a,b,c){if(this.Db){a=Hf(this.C,b);if(-1===a)return this.ub+2<=2*Nf?(this.ub+=2,this.C.push(b),this.C.push(c),this):fe(Pf.B?Pf.B(this.ub,this.C):Pf.call(null,this.ub,this.C),b,c);c!==this.C[a+1]&&(this.C[a+1]=c);return this}throw Error("assoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.j(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat($a(b)))};g.j=function(a){return this.ia(null,a,null)};g.B=function(a,b){return this.ia(null,a,b)};function Pf(a,b){for(var c=Yb(Of),d=0;;)if(d<a)c=ac(c,b[d],b[d+1]),d+=2;else return c}function Qf(){this.aa=!1}function Rf(a,b){return a===b?!0:a===b||a instanceof I&&b instanceof I&&a.Za===b.Za?!0:Q.B(a,b)}function Sf(a,b,c){a=$a(a);a[b]=c;return a}
function Tf(a,b){var c=Array(a.length-2);wd(a,0,c,0,2*b);wd(a,2*(b+1),c,2*b,c.length-2*b);return c}function Uf(a,b,c,d){a=a.sb(b);a.C[c]=d;return a}function Vf(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.D?b.D(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Sb(b,f):f;if(Ic(c))return c;e+=2;f=c}else return f}function Wf(a){this.C=a;this.i=0;this.cb=this.Tb=null}
Wf.prototype.advance=function(){for(var a=this.C.length;;)if(this.i<a){var b=this.C[this.i],c=this.C[this.i+1];null!=b?b=this.Tb=new df(b,c):null!=c?(b=jc(c),b=b.ta()?this.cb=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};Wf.prototype.ta=function(){var a=null!=this.Tb;return a?a:(a=null!=this.cb)?a:this.advance()};
Wf.prototype.next=function(){if(null!=this.Tb){var a=this.Tb;this.Tb=null;return a}if(null!=this.cb)return a=this.cb.next(),this.cb.ta()||(this.cb=null),a;if(this.advance())return this.next();throw Error("No such element");};Wf.prototype.remove=function(){return Error("Unsupported operation")};function Xf(a,b,c){this.ka=a;this.na=b;this.C=c;this.$=131072;this.F=0}g=Xf.prototype;
g.sb=function(a){if(a===this.ka)return this;var b=Kd(this.na),c=Array(0>b?4:2*(b+1));wd(this.C,0,c,0,2*b);return new Xf(a,this.na,c)};g.Qb=function(){return Yf?Yf(this.C):Zf.call(null,this.C)};g.Sb=function(a,b){return Vf(this.C,a,b)};g.tb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.na&e))return d;var f=Kd(this.na&e-1);e=this.C[2*f];f=this.C[2*f+1];return null==e?f.tb(a+5,b,c,d):Rf(c,e)?f:d};
g.ab=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=Kd(this.na&h-1);if(0===(this.na&h)){var l=Kd(this.na);if(2*l<this.C.length){a=this.sb(a);b=a.C;f.aa=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.na|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=$f.ab(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===(this.na>>>
d&1)?d+=1:(k[d]=null!=this.C[e]?$f.ab(a,b+5,uc(this.C[e]),this.C[e],this.C[e+1],f):this.C[e+1],e+=2,d+=1);else break;return new ag(a,l+1,k)}b=Array(2*(l+4));wd(this.C,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;wd(this.C,2*k,b,2*(k+1),2*(l-k));f.aa=!0;a=this.sb(a);a.C=b;a.na|=h;return a}l=this.C[2*k];h=this.C[2*k+1];if(null==l)return l=h.ab(a,b+5,c,d,e,f),l===h?this:Uf(this,a,2*k+1,l);if(Rf(d,l))return e===h?this:Uf(this,a,2*k+1,e);f.aa=!0;f=b+5;d=bg?bg(a,f,l,h,c,d,e):cg.call(null,a,f,l,h,c,d,e);e=2*k;k=2*k+1;
a=this.sb(a);a.C[e]=null;a.C[k]=d;return a};
g.$a=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=Kd(this.na&f-1);if(0===(this.na&f)){var k=Kd(this.na);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=$f.$a(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.na>>>c&1)?c+=1:(h[c]=null!=this.C[d]?$f.$a(a+5,uc(this.C[d]),this.C[d],this.C[d+1],e):this.C[d+1],d+=2,c+=1);else break;return new ag(null,k+1,h)}a=Array(2*(k+1));wd(this.C,
0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;wd(this.C,2*h,a,2*(h+1),2*(k-h));e.aa=!0;return new Xf(null,this.na|f,a)}var l=this.C[2*h];f=this.C[2*h+1];if(null==l)return k=f.$a(a+5,b,c,d,e),k===f?this:new Xf(null,this.na,Sf(this.C,2*h+1,k));if(Rf(c,l))return d===f?this:new Xf(null,this.na,Sf(this.C,2*h+1,d));e.aa=!0;e=this.na;k=this.C;a+=5;a=dg?dg(a,l,f,b,c,d):cg.call(null,a,l,f,b,c,d);c=2*h;h=2*h+1;d=$a(k);d[c]=null;d[h]=a;return new Xf(null,e,d)};
g.Pb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.na&e))return d;var f=Kd(this.na&e-1);e=this.C[2*f];f=this.C[2*f+1];return null==e?f.Pb(a+5,b,c,d):Rf(c,e)?new df(e,f):d};g.Rb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.na&d))return this;var e=Kd(this.na&d-1),f=this.C[2*e],h=this.C[2*e+1];return null==f?(a=h.Rb(a+5,b,c),a===h?this:null!=a?new Xf(null,this.na,Sf(this.C,2*e+1,a)):this.na===d?null:new Xf(null,this.na^d,Tf(this.C,e))):Rf(c,f)?new Xf(null,this.na^d,Tf(this.C,e)):this};
g.Ia=function(){return new Wf(this.C)};var $f=new Xf(null,0,[]);function eg(a){this.C=a;this.i=0;this.cb=null}eg.prototype.ta=function(){for(var a=this.C.length;;){if(null!=this.cb&&this.cb.ta())return!0;if(this.i<a){var b=this.C[this.i];this.i+=1;null!=b&&(this.cb=jc(b))}else return!1}};eg.prototype.next=function(){if(this.ta())return this.cb.next();throw Error("No such element");};eg.prototype.remove=function(){return Error("Unsupported operation")};
function ag(a,b,c){this.ka=a;this.G=b;this.C=c;this.$=131072;this.F=0}g=ag.prototype;g.sb=function(a){return a===this.ka?this:new ag(a,this.G,$a(this.C))};g.Qb=function(){return fg?fg(this.C):gg.call(null,this.C)};g.Sb=function(a,b){for(var c=this.C.length,d=0;;)if(d<c){var e=this.C[d];if(null!=e){b=e.Sb(a,b);if(Ic(b))return b;d+=1}else d+=1}else return b};g.tb=function(a,b,c,d){var e=this.C[b>>>a&31];return null!=e?e.tb(a+5,b,c,d):d};
g.ab=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.C[h];if(null==k)return a=Uf(this,a,h,$f.ab(a,b+5,c,d,e,f)),a.G+=1,a;b=k.ab(a,b+5,c,d,e,f);return b===k?this:Uf(this,a,h,b)};g.$a=function(a,b,c,d,e){var f=b>>>a&31,h=this.C[f];if(null==h)return new ag(null,this.G+1,Sf(this.C,f,$f.$a(a+5,b,c,d,e)));a=h.$a(a+5,b,c,d,e);return a===h?this:new ag(null,this.G,Sf(this.C,f,a))};g.Pb=function(a,b,c,d){var e=this.C[b>>>a&31];return null!=e?e.Pb(a+5,b,c,d):d};
g.Rb=function(a,b,c){var d=b>>>a&31,e=this.C[d];if(null!=e){a=e.Rb(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.G)a:{e=this.C;a=e.length;b=Array(2*(this.G-1));c=0;for(var f=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,h|=1<<c,c+=1):c+=1;else{d=new Xf(null,h,b);break a}}else d=new ag(null,this.G-1,Sf(this.C,d,a));else d=new ag(null,this.G,Sf(this.C,d,a));return d}return this};g.Ia=function(){return new eg(this.C)};
function hg(a,b,c){b*=2;for(var d=0;;)if(d<b){if(Rf(c,a[d]))return d;d+=2}else return-1}function ig(a,b,c,d){this.ka=a;this.hb=b;this.G=c;this.C=d;this.$=131072;this.F=0}g=ig.prototype;g.sb=function(a){if(a===this.ka)return this;var b=Array(2*(this.G+1));wd(this.C,0,b,0,2*this.G);return new ig(a,this.hb,this.G,b)};g.Qb=function(){return Yf?Yf(this.C):Zf.call(null,this.C)};g.Sb=function(a,b){return Vf(this.C,a,b)};
g.tb=function(a,b,c,d){a=hg(this.C,this.G,c);return 0>a?d:Rf(c,this.C[a])?this.C[a+1]:d};
g.ab=function(a,b,c,d,e,f){if(c===this.hb){b=hg(this.C,this.G,d);if(-1===b){if(this.C.length>2*this.G)return b=2*this.G,c=2*this.G+1,a=this.sb(a),a.C[b]=d,a.C[c]=e,f.aa=!0,a.G+=1,a;c=this.C.length;b=Array(c+2);wd(this.C,0,b,0,c);b[c]=d;b[c+1]=e;f.aa=!0;d=this.G+1;a===this.ka?(this.C=b,this.G=d,a=this):a=new ig(this.ka,this.hb,d,b);return a}return this.C[b+1]===e?this:Uf(this,a,b+1,e)}return(new Xf(a,1<<(this.hb>>>b&31),[null,this,null,null])).ab(a,b,c,d,e,f)};
g.$a=function(a,b,c,d,e){return b===this.hb?(a=hg(this.C,this.G,c),-1===a?(a=2*this.G,b=Array(a+2),wd(this.C,0,b,0,a),b[a]=c,b[a+1]=d,e.aa=!0,new ig(null,this.hb,this.G+1,b)):Q.B(this.C[a+1],d)?this:new ig(null,this.hb,this.G,Sf(this.C,a+1,d))):(new Xf(null,1<<(this.hb>>>a&31),[null,this])).$a(a,b,c,d,e)};g.Pb=function(a,b,c,d){a=hg(this.C,this.G,c);return 0>a?d:Rf(c,this.C[a])?new df(this.C[a],this.C[a+1]):d};
g.Rb=function(a,b,c){a=hg(this.C,this.G,c);return-1===a?this:1===this.G?null:new ig(null,this.hb,this.G-1,Tf(this.C,Jd(a,2)))};g.Ia=function(){return new Wf(this.C)};function cg(a){switch(arguments.length){case 6:return dg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return bg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",C.j(arguments.length)].join(""));}}
function dg(a,b,c,d,e,f){var h=uc(b);if(h===d)return new ig(null,h,2,[b,c,e,f]);var k=new Qf;return $f.$a(a,h,b,c,k).$a(a,d,e,f,k)}function bg(a,b,c,d,e,f,h){var k=uc(c);if(k===e)return new ig(null,k,2,[c,d,f,h]);var l=new Qf;return $f.ab(a,b,k,c,d,l).ab(a,b,e,f,h,l)}function jg(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.J=e;this.F=32374988;this.$=0}g=jg.prototype;g.toString=function(){return lc(this)};g.equiv=function(a){return this.P(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return R(this,b,0);case 2:return R(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return R(this,b,0)};a.B=function(b,c){return R(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return T(this,c,S(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return T(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return T(this,c,d)};return b}();g.ja=function(){return this.meta};g.sa=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return kg?kg(a,b,null):Zf.call(null,a,b,null)}a=this.nodes;b=this.i;var c=P(this.s);return kg?kg(a,b,c):Zf.call(null,a,b,c)};
g.da=function(){var a=this.J;return null!=a?a:this.J=a=Cc(this)};g.P=function(a,b){return Vc(this,b)};g.pa=function(){return N};g.va=function(a,b){return Xc(b,this)};g.wa=function(a,b,c){return Zc(b,c,this)};g.ua=function(){return null==this.s?new df(this.nodes[this.i],this.nodes[this.i+1]):M(this.s)};
g.xa=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return kg?kg(c,d,null):Zf.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=P(a.s);return kg?kg(c,d,e):Zf.call(null,c,d,e)}();return null!=b?b:N};g.la=function(){return this};g.ma=function(a,b){return b===this.meta?this:new jg(b,this.nodes,this.i,this.s,this.J)};g.ra=function(a,b){return U(b,this)};jg.prototype[Za]=function(){return Bc(this)};
function Zf(a){switch(arguments.length){case 1:return Yf(arguments[0]);case 3:return kg(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.j(arguments.length)].join(""));}}function Yf(a){return kg(a,0,null)}function kg(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new jg(null,a,b,null,null);var d=a[b+1];if(x(d)&&(d=d.Qb(),x(d)))return new jg(null,a,b+2,d,null);b+=2}else return null;else return new jg(null,a,b,c,null)}
function lg(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.J=e;this.F=32374988;this.$=0}g=lg.prototype;g.toString=function(){return lc(this)};g.equiv=function(a){return this.P(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return R(this,b,0);case 2:return R(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return R(this,b,0)};a.B=function(b,c){return R(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return T(this,c,S(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return T(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return T(this,c,d)};return b}();g.ja=function(){return this.meta};g.sa=function(){var a=this.nodes,b=this.i,c=P(this.s);return mg?mg(a,b,c):gg.call(null,a,b,c)};g.da=function(){var a=this.J;return null!=a?a:this.J=a=Cc(this)};
g.P=function(a,b){return Vc(this,b)};g.pa=function(){return N};g.va=function(a,b){return Xc(b,this)};g.wa=function(a,b,c){return Zc(b,c,this)};g.ua=function(){return M(this.s)};g.xa=function(){var a=this.nodes;var b=this.i,c=P(this.s);a=mg?mg(a,b,c):gg.call(null,a,b,c);return null!=a?a:N};g.la=function(){return this};g.ma=function(a,b){return b===this.meta?this:new lg(b,this.nodes,this.i,this.s,this.J)};g.ra=function(a,b){return U(b,this)};lg.prototype[Za]=function(){return Bc(this)};
function gg(a){switch(arguments.length){case 1:return fg(arguments[0]);case 3:return mg(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.j(arguments.length)].join(""));}}function fg(a){return mg(a,0,null)}function mg(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(x(d)&&(d=d.Qb(),x(d)))return new lg(null,a,b+1,d,null);b+=1}else return null;else return new lg(null,a,b,c,null)}function ng(a,b){this.ya=a;this.Fc=b;this.seen=!1}
ng.prototype.ta=function(){return!this.seen||this.Fc.ta()};ng.prototype.next=function(){if(this.seen)return this.Fc.next();this.seen=!0;return new df(null,this.ya)};ng.prototype.remove=function(){return Error("Unsupported operation")};function og(a,b,c,d,e,f){this.meta=a;this.G=b;this.root=c;this.Ba=d;this.ya=e;this.J=f;this.F=16123663;this.$=139268}g=og.prototype;g.Ab=function(a,b){return null==b?this.Ba?new df(null,this.ya):null:null==this.root?null:this.root.Pb(0,uc(b),b,null)};g.toString=function(){return lc(this)};
g.equiv=function(a){return this.P(null,a)};g.keys=function(){return Bc(Kf.j?Kf.j(this):Kf.call(null,this))};g.entries=function(){return new Ff(J(J(this)))};g.values=function(){return Bc(Lf.j?Lf.j(this):Lf.call(null,this))};g.has=function(a){return Bd(this,a)};g.get=function(a,b){return this.ia(null,a,b)};
g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ga(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))vd(b)?(c=cc(b),b=dc(b),h=c,d=S(c),c=h):(c=M(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=P(b),c=null,d=0),e=0;else return null};g.Da=function(a,b){return this.ia(null,b,null)};g.ia=function(a,b,c){return null==b?this.Ba?this.ya:c:null==this.root?c:this.root.tb(0,uc(b),b,c)};
g.Hb=function(a,b,c){a=this.Ba?b.D?b.D(c,null,this.ya):b.call(null,c,null,this.ya):c;Ic(a)?b=E(a):null!=this.root?(b=this.root.Sb(b,a),b=Ic(b)?Jc.j?Jc.j(b):Jc.call(null,b):b):b=a;return b};g.Ia=function(){var a=this.root?jc(this.root):re();return this.Ba?new ng(this.ya,a):a};g.ja=function(){return this.meta};g.ha=function(){return this.G};g.da=function(){var a=this.J;return null!=a?a:this.J=a=Ec(this)};g.P=function(a,b){return Ef(this,b)};g.zb=function(){return new pg(this.root,this.G,this.Ba,this.ya)};
g.pa=function(){return Gb(Of,this.meta)};g.ic=function(a,b){if(null==b)return this.Ba?new og(this.meta,this.G-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Rb(0,uc(b),b);return a===this.root?this:new og(this.meta,this.G-1,a,this.Ba,this.ya,null)};
g.gb=function(a,b,c){if(null==b)return this.Ba&&c===this.ya?this:new og(this.meta,this.Ba?this.G:this.G+1,this.root,!0,c,null);a=new Qf;b=(null==this.root?$f:this.root).$a(0,uc(b),b,c,a);return b===this.root?this:new og(this.meta,a.aa?this.G+1:this.G,b,this.Ba,this.ya,null)};g.la=function(){if(0<this.G){var a=null!=this.root?this.root.Qb():null;return this.Ba?U(new df(null,this.ya),a):a}return null};g.ma=function(a,b){return b===this.meta?this:new og(b,this.G,this.root,this.Ba,this.ya,this.J)};
g.ra=function(a,b){if(ud(b))return this.gb(null,lb(b,0),lb(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=M(b);if(ud(c))a=sb(a,lb(c,0),lb(c,1)),b=P(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat($a(b)))};
g.j=function(a){return this.Da(null,a)};g.B=function(a,b){return this.ia(null,a,b)};var Of=new og(null,0,null,!1,null,Fc);og.prototype[Za]=function(){return Bc(this)};function pg(a,b,c,d){this.ka={};this.root=a;this.count=b;this.Ba=c;this.ya=d;this.F=259;this.$=56}
function qg(a,b,c){if(a.ka){if(null==b)a.ya!==c&&(a.ya=c),a.Ba||(a.count+=1,a.Ba=!0);else{var d=new Qf;b=(null==a.root?$f:a.root).ab(a.ka,0,uc(b),b,c,d);b!==a.root&&(a.root=b);d.aa&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=pg.prototype;g.ha=function(){if(this.ka)return this.count;throw Error("count after persistent!");};g.Da=function(a,b){return null==b?this.Ba?this.ya:null:null==this.root?null:this.root.tb(0,uc(b),b)};
g.ia=function(a,b,c){return null==b?this.Ba?this.ya:c:null==this.root?c:this.root.tb(0,uc(b),b,c)};g.Cb=function(a,b){a:if(this.ka)if(mf(b))a=qg(this,nf.j?nf.j(b):nf.call(null,b),of.j?of.j(b):of.call(null,b));else if(ud(b))a=qg(this,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));else for(a=J(b),b=this;;){var c=M(a);if(x(c))a=P(a),b=qg(b,nf.j?nf.j(c):nf.call(null,c),of.j?of.j(c):of.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Mb=function(){if(this.ka){this.ka=null;var a=new og(null,this.count,this.root,this.Ba,this.ya,null)}else throw Error("persistent! called twice");return a};g.Bb=function(a,b,c){return qg(this,b,c)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat($a(b)))};
g.j=function(a){return this.Da(null,a)};g.B=function(a,b){return this.ia(null,a,b)};var rg=function rg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return rg.I(c)};rg.I=function(a){a=J(a);for(var b=Yb(Of);;)if(a){var c=P(P(a));b=fe(b,M(a),M(P(a)));a=c}else return $b(b)};rg.R=0;rg.Y=function(a){return this.I(J(a))};
var sg=function sg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return sg.I(c)};sg.I=function(a){a=a instanceof K&&0===a.i?a.C:ab(a);return gd(a)};sg.R=0;sg.Y=function(a){return this.I(J(a))};function tg(a,b){this.ba=a;this.eb=b;this.F=32374988;this.$=0}g=tg.prototype;g.toString=function(){return lc(this)};g.equiv=function(a){return this.P(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return R(this,b,0);case 2:return R(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return R(this,b,0)};a.B=function(b,c){return R(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return T(this,c,S(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return T(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return T(this,c,d)};return b}();g.ja=function(){return this.eb};g.sa=function(){var a=(null!=this.ba?this.ba.F&128||v===this.ba.Kb||(this.ba.F?0:y(ob,this.ba)):y(ob,this.ba))?this.ba.sa(null):P(this.ba);return null==a?null:new tg(a,null)};g.da=function(){return Cc(this)};
g.P=function(a,b){return Vc(this,b)};g.pa=function(){return N};g.va=function(a,b){return Xc(b,this)};g.wa=function(a,b,c){return Zc(b,c,this)};g.ua=function(){return this.ba.ua(null).key};g.xa=function(){var a=(null!=this.ba?this.ba.F&128||v===this.ba.Kb||(this.ba.F?0:y(ob,this.ba)):y(ob,this.ba))?this.ba.sa(null):P(this.ba);return null!=a?new tg(a,null):N};g.la=function(){return this};g.ma=function(a,b){return b===this.eb?this:new tg(this.ba,b)};g.ra=function(a,b){return U(b,this)};
tg.prototype[Za]=function(){return Bc(this)};function Kf(a){return(a=J(a))?new tg(a,null):null}function nf(a){return wb(a)}function ug(a,b){this.ba=a;this.eb=b;this.F=32374988;this.$=0}g=ug.prototype;g.toString=function(){return lc(this)};g.equiv=function(a){return this.P(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return R(this,b,0);case 2:return R(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return R(this,b,0)};a.B=function(b,c){return R(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return T(this,c,S(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return T(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return T(this,c,d)};return b}();g.ja=function(){return this.eb};g.sa=function(){var a=(null!=this.ba?this.ba.F&128||v===this.ba.Kb||(this.ba.F?0:y(ob,this.ba)):y(ob,this.ba))?this.ba.sa(null):P(this.ba);return null==a?null:new ug(a,null)};g.da=function(){return Cc(this)};
g.P=function(a,b){return Vc(this,b)};g.pa=function(){return N};g.va=function(a,b){return Xc(b,this)};g.wa=function(a,b,c){return Zc(b,c,this)};g.ua=function(){return this.ba.ua(null).aa};g.xa=function(){var a=(null!=this.ba?this.ba.F&128||v===this.ba.Kb||(this.ba.F?0:y(ob,this.ba)):y(ob,this.ba))?this.ba.sa(null):P(this.ba);return null!=a?new ug(a,null):N};g.la=function(){return this};g.ma=function(a,b){return b===this.eb?this:new ug(this.ba,b)};g.ra=function(a,b){return U(b,this)};
ug.prototype[Za]=function(){return Bc(this)};function Lf(a){return(a=J(a))?new ug(a,null):null}function of(a){return xb(a)}var vg=function vg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return vg.I(c)};vg.I=function(a){return x(ye(a))?bb.B(function(b,c){return ad.B(x(b)?b:te,c)},a):null};vg.R=0;vg.Y=function(a){return this.I(J(a))};function wg(a){this.rc=a}wg.prototype.ta=function(){return this.rc.ta()};
wg.prototype.next=function(){if(this.rc.ta())return this.rc.next().key;throw Error("No such element");};wg.prototype.remove=function(){return Error("Unsupported operation")};function xg(a,b,c){this.meta=a;this.jb=b;this.J=c;this.F=15077647;this.$=139268}g=xg.prototype;g.toString=function(){return lc(this)};g.equiv=function(a){return this.P(null,a)};g.keys=function(){return Bc(J(this))};g.entries=function(){return new Gf(J(J(this)))};g.values=function(){return Bc(J(this))};
g.has=function(a){return Bd(this,a)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ga(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))vd(b)?(c=cc(b),b=dc(b),h=c,d=S(c),c=h):(c=M(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=P(b),c=null,d=0),e=0;else return null};g.Da=function(a,b){return this.ia(null,b,null)};g.ia=function(a,b,c){a=tb(this.jb,b);return x(a)?wb(a):c};g.Ia=function(){return new wg(jc(this.jb))};g.ja=function(){return this.meta};
g.ha=function(){return fb(this.jb)};g.da=function(){var a=this.J;return null!=a?a:this.J=a=Ec(this)};g.P=function(a,b){if(qd(b))if(S(this)===S(b))try{return Ed(function(c,d){return(c=Bd(b,d))?c:new Hc},!0,this.jb)}catch(c){if(c instanceof Error)return!1;throw c;}else return!1;else return!1};g.zb=function(){return new yg(Yb(this.jb))};g.pa=function(){return Gb(zg,this.meta)};g.zc=function(a,b){return new xg(this.meta,vb(this.jb,b),null)};g.la=function(){return Kf(this.jb)};
g.ma=function(a,b){return b===this.meta?this:new xg(b,this.jb,this.J)};g.ra=function(a,b){return new xg(this.meta,fd.D(this.jb,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat($a(b)))};g.j=function(a){return this.Da(null,a)};
g.B=function(a,b){return this.ia(null,a,b)};var zg=new xg(null,te,Fc);xg.prototype[Za]=function(){return Bc(this)};function yg(a){this.vb=a;this.$=136;this.F=259}g=yg.prototype;g.Cb=function(a,b){this.vb=ac(this.vb,b,null);return this};g.Mb=function(){return new xg(null,$b(this.vb),null)};g.ha=function(){return S(this.vb)};g.Da=function(a,b){return this.ia(null,b,null)};g.ia=function(a,b,c){return rb(this.vb,b,xd)===xd?c:b};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat($a(b)))};g.j=function(a){return rb(this.vb,a,xd)===xd?null:a};g.B=function(a,b){return rb(this.vb,a,xd)===xd?b:a};
function Ag(a){if(qd(a))return ld(a,null);a=J(a);if(null==a)return zg;if(a instanceof K&&0===a.i){a=a.C;for(var b=a.length,c=Yb(zg),d=0;;)if(d<b)Zb(c,a[d]),d+=1;else break;return $b(c)}for(c=Yb(zg);;)if(null!=a)b=P(a),c=Zb(c,D(a)),a=b;else return $b(c)}function Ud(a){if(null!=a&&(a.$&4096||v===a.xc))return a.Ib(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",C.j(a)].join(""));}function Bg(a,b,c){this.start=a;this.step=b;this.count=c;this.F=82;this.$=0}g=Bg.prototype;
g.ha=function(){return this.count};g.ua=function(){return this.start};g.ga=function(a,b){return this.start+b*this.step};g.Aa=function(a,b,c){return 0<=b&&b<this.count?this.start+b*this.step:c};g.fc=function(){if(1>=this.count)throw Error("-drop-first of empty chunk");return new Bg(this.start+this.step,this.step,this.count-1)};function Cg(a,b,c){this.i=a;this.end=b;this.step=c}Cg.prototype.ta=function(){return 0<this.step?this.i<this.end:this.i>this.end};
Cg.prototype.next=function(){var a=this.i;this.i+=this.step;return a};function Dg(a,b,c,d,e,f,h){this.meta=a;this.start=b;this.end=c;this.step=d;this.Ca=e;this.Wb=f;this.J=h;this.F=32375006;this.$=140800}g=Dg.prototype;g.toString=function(){return lc(this)};g.equiv=function(a){return this.P(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return R(this,b,0);case 2:return R(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return R(this,b,0)};a.B=function(b,c){return R(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return T(this,c,S(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return T(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return T(this,c,d)};return b}();function Eg(a){if(null==a.Ca){var b=a.ha(null);32<b?(a.Wb=new Dg(null,a.start+32*a.step,a.end,a.step,null,null,null),a.Ca=new Bg(a.start,a.step,32)):a.Ca=new Bg(a.start,a.step,b)}}
g.ga=function(a,b){if(0<=b&&b<this.ha(null))return this.start+b*this.step;if(0<=b&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};g.Aa=function(a,b,c){return 0<=b&&b<this.ha(null)?this.start+b*this.step:0<=b&&this.start>this.end&&0===this.step?this.start:c};g.Ia=function(){return new Cg(this.start,this.end,this.step)};g.ja=function(){return this.meta};
g.sa=function(){return 0<this.step?this.start+this.step<this.end?new Dg(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new Dg(null,this.start+this.step,this.end,this.step,null,null,null):null};g.ha=function(){return Math.ceil((this.end-this.start)/this.step)};g.da=function(){var a=this.J;return null!=a?a:this.J=a=Cc(this)};g.P=function(a,b){return Vc(this,b)};g.pa=function(){return N};g.va=function(a,b){return Kc(this,b)};
g.wa=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.B?b.B(c,a):b.call(null,c,a);if(Ic(c))return E(c);a+=this.step}else return c};g.ua=function(){return this.start};g.xa=function(){var a=this.sa(null);return null==a?N:a};g.la=function(){return this};g.Xb=function(){Eg(this);return this.Ca};g.yb=function(){Eg(this);return null==this.Wb?N:this.Wb};g.ma=function(a,b){return b===this.meta?this:new Dg(b,this.start,this.end,this.step,this.Ca,this.Wb,this.J)};
g.ra=function(a,b){return U(b,this)};g.gc=function(){return J(this.yb(null))};Dg.prototype[Za]=function(){return Bc(this)};function Fg(a){a:for(var b=a;;)if(b=J(b))b=P(b);else break a;return a}function Gg(a,b){if("string"===typeof b)return a=a.exec(b),Q.B(M(a),b)?1===S(a)?M(a):lf(a):null;throw new TypeError("re-matches must match against a string.");}
var Hg=function Hg(a,b){var d=a.exec(b);if(null==d)return null;var e=d[0],f=1===d.length?e:lf(d);return U(f,new Vd(null,function(){var h=e.length;h=d.index+(1>h?1:h);return h<=b.length?(h=b.substring(h),Hg.B?Hg.B(a,h):Hg.call(null,a,h)):null},null,null))};
function Ig(a,b,c,d,e,f,h){var k=Na;Na=null==Na?null:Na-1;try{if(null!=Na&&0>Na)return F(a,"#");F(a,c);if(0===Ta.j(f))J(h)&&F(a,function(){var r=Jg.j(f);return x(r)?r:"..."}());else{if(J(h)){var l=M(h);b.D?b.D(l,a,f):b.call(null,l,a,f)}for(var m=P(h),n=Ta.j(f)-1;;)if(!m||null!=n&&0===n){J(m)&&0===n&&(F(a,d),F(a,function(){var r=Jg.j(f);return x(r)?r:"..."}()));break}else{F(a,d);var p=M(m);c=a;h=f;b.D?b.D(p,c,h):b.call(null,p,c,h);var q=P(m);c=n-1;m=q;n=c}}return F(a,e)}finally{Na=k}}
function Kg(a,b){b=J(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.ga(null,e);F(a,f);e+=1}else if(b=J(b))c=b,vd(c)?(b=cc(c),d=dc(c),c=b,f=S(b),b=d,d=f):(f=M(c),F(a,f),b=P(c),c=null,d=0),e=0;else return null}function Lg(a){if(null==La)throw Error("No *print-fn* fn set for evaluation environment");La.call(null,a)}var Mg={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function Ng(a){return['"',C.j(a.replace(/[\\"\b\f\n\r\t]/g,function(b){return Mg[b]})),'"'].join("")}
function Og(a,b){return zd(H.B(a,Ra))?null!=b&&(b.F&131072||v===b.Tc)?null!=md(b):!1:!1}
function Pg(a,b,c){if(null==a)return F(b,"nil");if(Og(c,a)){F(b,"^");var d=md(a);Qg.D?Qg.D(d,b,c):Qg.call(null,d,b,c);F(b," ")}if(a.pc)return a.Cc(b);if(null!=a?a.F&2147483648||v===a.qa||(a.F?0:y(Ub,a)):y(Ub,a))return Vb(a,b,c);if(!0===a||!1===a)return F(b,C.j(a));if("number"===typeof a)return F(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":C.j(a));if(null!=a&&a.constructor===Object)return F(b,"#js "),d=Z.B(function(f){return new df(null!=Gg(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?Td.j(f):f,a[f])},xa(a)),Rg.T?Rg.T(d,Qg,b,c):Rg.call(null,d,Qg,b,c);if(Va(a))return Ig(b,Qg,"#js ["," ","]",c,a);if("string"==typeof a)return x(Qa.j(c))?F(b,Ng(a)):F(b,a);if("function"==u(a)){var e=a.name;c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Function":e;return Kg(b,Wc(["#object[",c,x(!1)?[' "',C.j(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=C.j(f);;)if(f.length<h)f=["0",f].join("");else return f},Kg(b,Wc(['#inst "',C.j(a.getUTCFullYear()),
"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return Kg(b,Wc(['#"',a.source,'"']));if(x(function(){var f=null==a?null:a.constructor;return null==f?null:f.Nb}()))return Kg(b,Wc(["#object[",a.constructor.Nb.replace(/\//g,"."),"]"]));e=function(){var f=null==a?null:a.constructor;return null==f?null:f.name}();c=x(function(){var f=null==e;return f?f:
/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?Kg(b,Wc(["#object[",c,"]"])):Kg(b,Wc(["#object[",c," ",C.j(a),"]"]))}function Qg(a,b,c){var d=Sg.j(c);return x(d)?(c=fd.D(c,Tg,Pg),d.D?d.D(a,b,c):d.call(null,a,b,c)):Pg(a,b,c)}
function Ug(a,b){var c=new Ha;a:{var d=new kc(c);Qg(M(a),d,b);a=J(P(a));for(var e=null,f=0,h=0;;)if(h<f){var k=e.ga(null,h);F(d," ");Qg(k,d,b);h+=1}else if(a=J(a))e=a,vd(e)?(a=cc(e),f=dc(e),e=a,k=S(a),a=f,f=k):(k=M(e),F(d," "),Qg(k,d,b),a=P(e),e=null,f=0),h=0;else break a}return c}function Vg(a,b){return od(a)?"":C.j(Ug(a,b))}function Wg(a){return a instanceof wc?xc.B(null,Ud(a)):Td.B(null,Ud(a))}
function Xg(a){if(x(!1)){var b=J(a),c=J(b),d=M(c);P(c);V(d,0,null);V(d,1,null);c=dd(a);for(a=null;;){d=a;b=J(b);a=M(b);var e=P(b),f=a;a=V(f,0,null);b=V(f,1,null);if(x(f))if(a instanceof I||a instanceof wc)if(x(d))if(Q.B(d,Sd(a)))c=fd.D(c,Wg(a),b),a=d,b=e;else return null;else if(d=Sd(a),x(d))c=fd.D(c,Wg(a),b),a=d,b=e;else return null;else return null;else return new X(null,2,5,Y,[d,c],null)}}else return null}
function Yg(a,b,c,d,e){return Ig(d,function(f,h,k){var l=wb(f);c.D?c.D(l,h,k):c.call(null,l,h,k);F(h," ");f=xb(f);return c.D?c.D(f,h,k):c.call(null,f,h,k)},[C.j(a),"{"].join(""),", ","}",e,J(b))}function Rg(a,b,c,d){var e=sd(a)?Xg(a):null,f=V(e,0,null);e=V(e,1,null);return x(f)?Yg(["#:",C.j(f)].join(""),e,b,c,d):Yg(null,a,b,c,d)}Fe.prototype.qa=v;Fe.prototype.ea=function(a,b,c){F(b,"#object[cljs.core.Volatile ");Qg(new w(null,1,[Zg,this.state],null),b,c);return F(b,"]")};K.prototype.qa=v;
K.prototype.ea=function(a,b,c){return Ig(b,Qg,"("," ",")",c,this)};Vd.prototype.qa=v;Vd.prototype.ea=function(a,b,c){return Ig(b,Qg,"("," ",")",c,this)};df.prototype.qa=v;df.prototype.ea=function(a,b,c){return Ig(b,Qg,"["," ","]",c,this)};jg.prototype.qa=v;jg.prototype.ea=function(a,b,c){return Ig(b,Qg,"("," ",")",c,this)};If.prototype.qa=v;If.prototype.ea=function(a,b,c){return Ig(b,Qg,"("," ",")",c,this)};qf.prototype.qa=v;qf.prototype.ea=function(a,b,c){return Ig(b,Qg,"("," ",")",c,this)};
Rd.prototype.qa=v;Rd.prototype.ea=function(a,b,c){return Ig(b,Qg,"("," ",")",c,this)};Uc.prototype.qa=v;Uc.prototype.ea=function(a,b,c){return Ig(b,Qg,"("," ",")",c,this)};og.prototype.qa=v;og.prototype.ea=function(a,b,c){return Rg(this,Qg,b,c)};lg.prototype.qa=v;lg.prototype.ea=function(a,b,c){return Ig(b,Qg,"("," ",")",c,this)};sf.prototype.qa=v;sf.prototype.ea=function(a,b,c){return Ig(b,Qg,"["," ","]",c,this)};xg.prototype.qa=v;xg.prototype.ea=function(a,b,c){return Ig(b,Qg,"#{"," ","}",c,this)};
Zd.prototype.qa=v;Zd.prototype.ea=function(a,b,c){return Ig(b,Qg,"("," ",")",c,this)};Ce.prototype.qa=v;Ce.prototype.ea=function(a,b,c){F(b,"#object[cljs.core.Atom ");Qg(new w(null,1,[Zg,this.state],null),b,c);return F(b,"]")};ug.prototype.qa=v;ug.prototype.ea=function(a,b,c){return Ig(b,Qg,"("," ",")",c,this)};Ke.prototype.qa=v;Ke.prototype.ea=function(a,b,c){return Ig(b,Qg,"("," ",")",c,this)};X.prototype.qa=v;X.prototype.ea=function(a,b,c){return Ig(b,Qg,"["," ","]",c,this)};zf.prototype.qa=v;
zf.prototype.ea=function(a,b,c){return Ig(b,Qg,"("," ",")",c,this)};Od.prototype.qa=v;Od.prototype.ea=function(a,b){return F(b,"()")};Af.prototype.qa=v;Af.prototype.ea=function(a,b,c){return Ig(b,Qg,"#queue ["," ","]",c,J(this))};w.prototype.qa=v;w.prototype.ea=function(a,b,c){return Rg(this,Qg,b,c)};Dg.prototype.qa=v;Dg.prototype.ea=function(a,b,c){return Ig(b,Qg,"("," ",")",c,this)};tg.prototype.qa=v;tg.prototype.ea=function(a,b,c){return Ig(b,Qg,"("," ",")",c,this)};cd.prototype.qa=v;
cd.prototype.ea=function(a,b,c){return Ig(b,Qg,"("," ",")",c,this)};var $g=null;function ah(){null==$g&&($g=new Ce(0));return xc.j([C.j("reagent"),C.j(Ee.B($g,Gc))].join(""))}function bh(){}var ch=function ch(a){if(null!=a&&null!=a.Nc)return a.Nc(a);var c=ch[u(null==a?null:a)];if(null!=c)return c.j?c.j(a):c.call(null,a);c=ch._;if(null!=c)return c.j?c.j(a):c.call(null,a);throw B("IEncodeJS.-clj-\x3ejs",a);};
function dh(a,b){return(null!=a?v===a.Mc||(a.oc?0:y(bh,a)):y(bh,a))?ch(a):"string"===typeof a||"number"===typeof a||a instanceof I||a instanceof wc?b.j?b.j(a):b.call(null,a):Vg(Wc([a]),Oa())}var eh=function eh(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new K(c.slice(1),0,null):null;return eh.I(arguments[0],c)};
eh.I=function(a,b){b=null!=b&&(b.F&64||v===b.Ea)?me(rg,b):b;var c=H.D(b,fh,Ud),d=function h(f){if(null==f)return null;if(null!=f?v===f.Mc||(f.oc?0:y(bh,f)):y(bh,f))return ch(f);if(f instanceof I)return c.j?c.j(f):c.call(null,f);if(f instanceof wc)return C.j(f);if(sd(f)){var k={};f=J(f);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ga(null,n),q=V(p,0,null);p=V(p,1,null);q=dh(q,d);p=h(p);k[q]=p;n+=1}else if(f=J(f))vd(f)?(m=cc(f),f=dc(f),l=m,m=S(m)):(m=M(f),l=V(m,0,null),m=V(m,1,null),l=dh(l,d),m=h(m),k[l]=
m,f=P(f),l=null,m=0),n=0;else break;return k}if(pd(f)){k=[];f=J(Z.B(h,f));l=null;for(n=m=0;;)if(n<m)q=l.ga(null,n),k.push(q),n+=1;else if(f=J(f))l=f,vd(l)?(f=cc(l),n=dc(l),l=f,m=S(f),f=n):(f=M(l),k.push(f),f=P(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};eh.R=1;eh.Y=function(a){var b=M(a);a=P(a);return this.I(b,a)};function gh(){}
var hh=function hh(a,b){if(null!=a&&null!=a.Lc)return a.Lc(a,b);var d=hh[u(null==a?null:a)];if(null!=d)return d.B?d.B(a,b):d.call(null,a,b);d=hh._;if(null!=d)return d.B?d.B(a,b):d.call(null,a,b);throw B("IEncodeClojure.-js-\x3eclj",a);};
function ih(a){var b=Wc([jh,!1]),c=null!=b&&(b.F&64||v===b.Ea)?me(rg,b):b;c=H.B(c,jh);var d=x(c)?Td:C;return function h(f){return(null!=f?v===f.fd||(f.oc?0:y(gh,f)):y(gh,f))?hh(f,me(sg,b)):yd(f)?Fg(Z.B(h,f)):mf(f)?new df(h(wb(f)),h(xb(f))):pd(f)?Ne.D(dd(f),Z.j(h),f):Va(f)?$b(bb.D(function(k,l){return ee.B(k,h(l))},Yb(bd),f)):Xa(f)===Object?$b(bb.D(function(k,l){var m=d.j?d.j(l):d.call(null,l);return fe(k,m,h(null!==f&&l in f?f[l]:void 0))},Yb(te),xa(f))):f}(a)}var kh=null;
function lh(){null==kh&&(kh=new Ce(new w(null,3,[mh,te,nh,te,oh,te],null)));return kh}function ph(a,b,c){var d=Q.B(b,c);if(d)return d;d=oh.j(a);d=d.j?d.j(b):d.call(null,b);if(d=Bd(d,c))return d;if(ud(c))if(ud(b))if(S(c)===S(b)){d=!0;for(var e=0;;)if(d&&e!==S(c))d=ph(a,b.j?b.j(e):b.call(null,e),c.j?c.j(e):c.call(null,e)),e+=1;else return d}else return!1;else return!1;else return!1}function qh(a){var b=E(lh());return qe(H.B(mh.j(b),a))}
function rh(a,b,c,d){Ee.B(a,function(){return E(b)});Ee.B(c,function(){return E(d)})}
var sh=function sh(a,b,c){var e=function(){var f=E(c);return f.j?f.j(a):f.call(null,a)}();e=x(x(e)?e.j?e.j(b):e.call(null,b):e)?!0:null;if(x(e))return e;e=function(){for(var f=qh(b);;)if(0<S(f)){var h=M(f);sh.D?sh.D(a,h,c):sh.call(null,a,h,c);f=zc(f)}else return null}();if(x(e))return e;e=function(){for(var f=qh(a);;)if(0<S(f)){var h=M(f);sh.D?sh.D(h,b,c):sh.call(null,h,b,c);f=zc(f)}else return null}();return x(e)?e:!1};function th(a,b,c,d){c=sh(a,b,c);return x(c)?c:ph(d,a,b)}
var uh=function uh(a,b,c,d,e,f,h,k){var m=bb.D(function(p,q){var r=V(q,0,null);V(q,1,null);if(ph(E(c),b,r)&&(p=null==p||th(r,M(p),e,E(c))?q:p,!th(M(p),r,e,E(c))))throw Error(["Multiple methods in multimethod '",C.j(a),"' match dispatch value: ",C.j(b)," -\x3e ",C.j(r)," and ",C.j(M(p)),", and neither is preferred"].join(""));return p},null,E(d)),n=function(){if(null==m){var p=E(d);p=p.j?p.j(k):p.call(null,k)}else p=!1;return x(p)?new X(null,2,5,Y,[k,p],null):m}();if(x(n)){if(Q.B(E(h),E(c)))return Ee.T(f,
fd,b,M(P(n))),M(P(n));rh(f,d,h,c);return uh.Ha?uh.Ha(a,b,c,d,e,f,h,k):uh.call(null,a,b,c,d,e,f,h,k)}return null};function vh(a,b){throw Error(["No method in multimethod '",C.j(a),"' for dispatch value: ",C.j(b)].join(""));}function wh(){var a=xc.B("cljs.tools.reader.impl.inspect","inspect*"),b=xh,c=yh,d=zh,e=Ah,f=Bh,h=Ch,k=Dh;this.name=a;this.O=h;this.Wc=k;this.hierarchy=b;this.ac=c;this.ad=d;this.$b=e;this.Vb=f;this.F=4194305;this.$=4352}g=wh.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.N();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.T(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Wa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Xa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ma(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Oa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Qa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ra(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Sa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ta(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Ua(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Va(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.hc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",C.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat($a(b)))};g.N=function(){var a=this.O.N?this.O.N():this.O.call(null),b=Eh(this,a);x(b)||vh(this.name,a);return b.N?b.N():b.call(null)};g.j=function(a){var b=this.O.j?this.O.j(a):this.O.call(null,a),c=Eh(this,b);x(c)||vh(this.name,b);return c.j?c.j(a):c.call(null,a)};
g.B=function(a,b){var c=this.O.B?this.O.B(a,b):this.O.call(null,a,b),d=Eh(this,c);x(d)||vh(this.name,c);return d.B?d.B(a,b):d.call(null,a,b)};g.D=function(a,b,c){var d=this.O.D?this.O.D(a,b,c):this.O.call(null,a,b,c),e=Eh(this,d);x(e)||vh(this.name,d);return e.D?e.D(a,b,c):e.call(null,a,b,c)};g.T=function(a,b,c,d){var e=this.O.T?this.O.T(a,b,c,d):this.O.call(null,a,b,c,d),f=Eh(this,e);x(f)||vh(this.name,e);return f.T?f.T(a,b,c,d):f.call(null,a,b,c,d)};
g.ca=function(a,b,c,d,e){var f=this.O.ca?this.O.ca(a,b,c,d,e):this.O.call(null,a,b,c,d,e),h=Eh(this,f);x(h)||vh(this.name,f);return h.ca?h.ca(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.Ga=function(a,b,c,d,e,f){var h=this.O.Ga?this.O.Ga(a,b,c,d,e,f):this.O.call(null,a,b,c,d,e,f),k=Eh(this,h);x(k)||vh(this.name,h);return k.Ga?k.Ga(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Wa=function(a,b,c,d,e,f,h){var k=this.O.Wa?this.O.Wa(a,b,c,d,e,f,h):this.O.call(null,a,b,c,d,e,f,h),l=Eh(this,k);x(l)||vh(this.name,k);return l.Wa?l.Wa(a,b,c,d,e,f,h):l.call(null,a,b,c,d,e,f,h)};g.Ha=function(a,b,c,d,e,f,h,k){var l=this.O.Ha?this.O.Ha(a,b,c,d,e,f,h,k):this.O.call(null,a,b,c,d,e,f,h,k),m=Eh(this,l);x(m)||vh(this.name,l);return m.Ha?m.Ha(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.Xa=function(a,b,c,d,e,f,h,k,l){var m=this.O.Xa?this.O.Xa(a,b,c,d,e,f,h,k,l):this.O.call(null,a,b,c,d,e,f,h,k,l),n=Eh(this,m);x(n)||vh(this.name,m);return n.Xa?n.Xa(a,b,c,d,e,f,h,k,l):n.call(null,a,b,c,d,e,f,h,k,l)};g.La=function(a,b,c,d,e,f,h,k,l,m){var n=this.O.La?this.O.La(a,b,c,d,e,f,h,k,l,m):this.O.call(null,a,b,c,d,e,f,h,k,l,m),p=Eh(this,n);x(p)||vh(this.name,n);return p.La?p.La(a,b,c,d,e,f,h,k,l,m):p.call(null,a,b,c,d,e,f,h,k,l,m)};
g.Ma=function(a,b,c,d,e,f,h,k,l,m,n){var p=this.O.Ma?this.O.Ma(a,b,c,d,e,f,h,k,l,m,n):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n),q=Eh(this,p);x(q)||vh(this.name,p);return q.Ma?q.Ma(a,b,c,d,e,f,h,k,l,m,n):q.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Na=function(a,b,c,d,e,f,h,k,l,m,n,p){var q=this.O.Na?this.O.Na(a,b,c,d,e,f,h,k,l,m,n,p):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n,p),r=Eh(this,q);x(r)||vh(this.name,q);return r.Na?r.Na(a,b,c,d,e,f,h,k,l,m,n,p):r.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Oa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){var r=this.O.Oa?this.O.Oa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q),t=Eh(this,r);x(t)||vh(this.name,r);return t.Oa?t.Oa(a,b,c,d,e,f,h,k,l,m,n,p,q):t.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};
g.Pa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){var t=this.O.Pa?this.O.Pa(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r),A=Eh(this,t);x(A)||vh(this.name,t);return A.Pa?A.Pa(a,b,c,d,e,f,h,k,l,m,n,p,q,r):A.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};
g.Qa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t){var A=this.O.Qa?this.O.Qa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,t),z=Eh(this,A);x(z)||vh(this.name,A);return z.Qa?z.Qa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t):z.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,t)};
g.Ra=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A){var z=this.O.Ra?this.O.Ra(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A),G=Eh(this,z);x(G)||vh(this.name,z);return G.Ra?G.Ra(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A):G.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A)};
g.Sa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z){var G=this.O.Sa?this.O.Sa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z),O=Eh(this,G);x(O)||vh(this.name,G);return O.Sa?O.Sa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z):O.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z)};
g.Ta=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G){var O=this.O.Ta?this.O.Ta(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G),W=Eh(this,O);x(W)||vh(this.name,O);return W.Ta?W.Ta(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G):W.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G)};
g.Ua=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G,O){var W=this.O.Ua?this.O.Ua(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G,O):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G,O),ja=Eh(this,W);x(ja)||vh(this.name,W);return ja.Ua?ja.Ua(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G,O):ja.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G,O)};
g.Va=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G,O,W){var ja=this.O.Va?this.O.Va(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G,O,W):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G,O,W),Ea=Eh(this,ja);x(Ea)||vh(this.name,ja);return Ea.Va?Ea.Va(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G,O,W):Ea.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G,O,W)};
g.hc=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,t,A,z,G,O,W,ja){var Ea=pe(this.O,a,b,c,d,Wc([e,f,h,k,l,m,n,p,q,r,t,A,z,G,O,W,ja])),Hd=Eh(this,Ea);x(Hd)||vh(this.name,Ea);return pe(Hd,a,b,c,d,Wc([e,f,h,k,l,m,n,p,q,r,t,A,z,G,O,W,ja]))};function Fh(a,b){var c=Gh;Ee.T(c.ac,fd,a,b);rh(c.$b,c.ac,c.Vb,c.hierarchy)}function Eh(a,b){Q.B(E(a.Vb),E(a.hierarchy))||rh(a.$b,a.ac,a.Vb,a.hierarchy);var c=E(a.$b);c=c.j?c.j(b):c.call(null,b);return x(c)?c:uh(a.name,b,a.hierarchy,a.ac,a.ad,a.$b,a.Vb,a.Wc)}g.Ib=function(){return ec(this.name)};
g.Jb=function(){return fc(this.name)};g.da=function(){return ba(this)};function Hh(a){this.wb=a;this.J=null;this.F=2153775104;this.$=2048}g=Hh.prototype;g.toString=function(){return this.wb};g.equiv=function(a){return this.P(null,a)};g.P=function(a,b){return b instanceof Hh&&this.wb===b.wb};g.ea=function(a,b){return F(b,['#uuid "',C.j(this.wb),'"'].join(""))};g.da=function(){null==this.J&&(this.J=uc(this.wb));return this.J};
function Ih(a,b){var c=Error(a);this.message=a;this.data=b;this.vc=null;this.name=c.name;this.description=c.description;this.number=c.number;this.fileName=c.fileName;this.lineNumber=c.lineNumber;this.columnNumber=c.columnNumber;this.stack=c.stack;return this}Ih.prototype.__proto__=Error.prototype;Ih.prototype.qa=v;
Ih.prototype.ea=function(a,b,c){F(b,"#error {:message ");Qg(this.message,b,c);x(this.data)&&(F(b,", :data "),Qg(this.data,b,c));x(this.vc)&&(F(b,", :cause "),Qg(this.vc,b,c));return F(b,"}")};Ih.prototype.toString=function(){return lc(this)};function Jh(a,b){return new Ih(a,b)}"undefined"!==typeof console&&Ua();Q.B("nodejs","default")&&(aa=global);Ua();var Kh=new I(null,"offset","offset",296498311),Lh=new I(null,"level","level",1290497552),Zg=new I(null,"val","val",128701612),Mh=new I(null,"ms","ms",-1152709733),Nh=new I(null,"render","render",-1408033454),Oh=new I(null,"auto-run","auto-run",1958400437),Ph=new I(null,"min-version","min-version",-1697197126),Qh=new I(null,"hours","hours",58380855),Rh=new I(null,"renderer","renderer",336841071),Sh=new I(null,"on-dispose","on-dispose",2105306360),Th=new I(null,"axis","axis",-1215390822),Uh=new I(null,
"div#vis","div#vis",730109291),Vh=new I(null,"string","string",-1989541586),Wh=new I(null,"data","data",-232669377),Xh=new I(null,"years","years",-1298579689),Yh=new I(null,"version","version",425292698),nh=new I(null,"descendants","descendants",1824886031),Zh=new I(null,"report","report",1394055010),$h=new I(null,"mins","mins",467369676),ai=new I(null,"days","days",-1394072564),bi=new I(null,"ns-whitelist","ns-whitelist",-1717299774),ci=new I(null,"hostname_","hostname_",-2091647379),di=new I(null,
"synthetic-on-change","synthetic-on-change",-2073813537),ei=new I(null,"color","color",1011675173),fi=new I(null,"?line","?line",-631853385),Sg=new I(null,"alt-impl","alt-impl",670969595),gi=new I(null,"given","given",716253602),hi=new wc(null,"meta40764","meta40764",504408723,null),ii=new I(null,"no-cache","no-cache",1588056370),ji=new I(null,"raw-console?","raw-console?",-2061489061),Pa=new I(null,"flush-on-newline","flush-on-newline",-151457939),se=new wc(null,"meta39092","meta39092",-1639384365,
null),ki=new I(null,"values","values",372645556),li=new I(null,"reagent-render","reagent-render",-985383853),mi=new I(null,"hierarchy","hierarchy",-1053470341),ni=new I(null,"trace","trace",-1082747415),oi=new I(null,"set","set",304602554),pi=new I(null,"y","y",-1757859776),qi=new I(null,"x","x",2099068185),ri=new I(null,"strable","strable",1877668047),si=new I(null,"componentWillUnmount","componentWillUnmount",1573788814),ti=new I(null,"error","error",-978969032),ui=new I(null,"mark","mark",-373816345),
vi=new I(null,"middleware","middleware",1462115504),wi=new I(null,"div","div",1057191632),Tg=new I(null,"fallback-impl","fallback-impl",-1501286995),xi=new I(null,"display-name","display-name",694513143),yi=new I(null,"enabled?","enabled?",-1376075057),zi=new I(null,"height","height",1025178622),fh=new I(null,"keyword-fn","keyword-fn",-64566675),Ai=new I(null,"confirmed","confirmed",-487126323),Bi=new I(null,"width","width",-384071477),Ci=new I(null,"debug","debug",-1608172596),Di=new I(null,"vector",
"vector",1902966158),Ei=new I(null,"component-will-unmount","component-will-unmount",-2058314698),Fi=new I(null,"ns-blacklist","ns-blacklist",1957763142),Gi=new I(null,"?err","?err",549653299),Hi=new I(null,"appenders","appenders",1245583998),Ii=new wc(null,"f","f",43394975,null),Ji=new wc(null,"js","js",-886355190,null),Ki=new I(null,"type","type",1174270348),Li=new I(null,"style","style",-496642736),Jg=new I(null,"more-marker","more-marker",-14717935),Mi=new I(null,"async?","async?",1523057758),
Ni=new I(null,"component-will-update","component-will-update",335247566),Oi=new I(null,"no-stacktrace?","no-stacktrace?",1701072694),Pi=new I(null,"qualifier","qualifier",125841738),Qi=new I(null,"growth","growth",-2026162821),Ra=new I(null,"meta","meta",1499536964),Ri=new I(null,"componentFunction","componentFunction",825866104),Si=new I(null,"displayName","displayName",-809144601),Ti=new I(null,"?file","?file",1533429675),Ui=new I(null,"map","map",1371690461),Vi=new I(null,"mode","mode",654403691),
Wi=new I(null,"fatal","fatal",1874419888),Xi=new I(null,"rate-limit","rate-limit",1748082022),Yi=new I(null,"your-version","your-version",-351781765),Zi=new I(null,"field","field",-1302436500),$i=new I(null,"?ns-str","?ns-str",2012733966),aj=new I(null,"class","class",-2030961996),bj=new wc(null,"inst","inst",-2008473268,null),cj=new I(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),dj=new I(null,"?meta","?meta",-793560773),ej=new I(null,"reagentRender","reagentRender",-358306383),fj=new I(null,
"name","name",1843675177),gj=new I(null,"vargs","vargs",-966597273),hj=new I(null,"stacktrace-fonts","stacktrace-fonts",830799382),ij=new I(null,"warn","warn",-436710552),jj=new I(null,"on-set","on-set",-140953470),kj=new I(null,"synthetic-on-update","synthetic-on-update",1615571932),Dh=new I(null,"default","default",-1987822328),lj=new I(null,"secs","secs",1532330091),Sa=new I(null,"dup","dup",556298533),mj=new I(null,"timestamp_","timestamp_",-954533417),nj=new I(null,"h1","h1",-1896887462),oj=
new I(null,"fn","fn",-1175266204),pj=new I(null,"args","args",1315556576),Ta=new I(null,"print-length","print-length",1931866356),qj=new I(null,"nil","nil",99600501),rj=new I(null,"inherit","inherit",-1840815422),sj=new I(null,"component-did-update","component-did-update",-1468549173),tj=new I(null,"msg_","msg_",-1925147E3),uj=new I(null,"component-did-mount","component-did-mount",-1126910518),vj=new I(null,"console","console",1228072057),wj=new I(null,"encoding","encoding",1728578272),jh=new I(null,
"keywordize-keys","keywordize-keys",1310784252),xj=new I(null,"min-level","min-level",1634684919),yj=new I(null,"list","list",765357683),zj=new I(null,"stub","stub",1339145807),Aj=new I(null,"on-write","on-write",31519475),Bj=new I(null,"key","key",-1516042587),Cj=new I(null,"info","info",-317069002),Dj=new I(null,"output-fn","output-fn",1600951539),Ej=new I(null,"weeks","weeks",1844596125),mh=new I(null,"parents","parents",-2027538891),Fj=new I(null,"validator","validator",-1966190681),Gj=new I(null,
"autobind","autobind",-570650245),Qa=new I(null,"readably","readably",1129599760),Hj=new I(null,"output_","output_",-36797880),Ij=new wc(null,"blockable","blockable",-28395259,null),Jj=new I(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),Kj=new I(null,"months","months",-45571637),Lj=new I(null,"text","text",-1790561697),Mj=new wc(null,"uuid","uuid",-504564192,null),Nj=new I(null,"msecs","msecs",1711980553),Oj=new wc(null,"queue","queue",-1198599890,null),Pj=new I(null,"componentWillMount",
"componentWillMount",-285327619),oh=new I(null,"ancestors","ancestors",-776045424);var Qj={},Rj={},Sj=[];function Tj(a,b){var c=Rj[a];if(void 0!==c)return c;try{Sj.push(a);var d=Qj[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};Qj[a]=d}if(e){delete shadow$provide[a];try{e.call(d,aa,Tj,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{Sj.pop()}return d.exports};var Uj=Tj(5,{});function Vj(a,b,c){var d=RegExp,e=b.source,f=x(b.ignoreCase)?"gi":"g";f=x(b.multiline)?[f,"m"].join(""):f;b=x(b.sd)?[f,"u"].join(""):f;d=new d(e,b);return a.replace(d,c)}
function Wj(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){d=Ie(d);if(Q.B(S(d),1))return d=M(d),a.j?a.j(d):a.call(null,d);d=lf(d);return a.j?a.j(d):a.call(null,d)}b.R=0;b.Y=function(d){d=J(d);return c(d)};b.I=c;return b}()}
function Xj(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?Vj(a,b,c):Vj(a,b,Wj(c));throw["Invalid match arg: ",C.j(b)].join("");}function Yj(a,b){var c=new Ha;for(b=J(b);;)if(null!=b)c.append(C.j(M(b))),b=P(b),null!=b&&c.append(a);else return c.toString()}
function Zj(a,b){if(0>=b||b>=2+S(a))return ad.B(lf(U("",Z.B(C,J(a)))),"");if(x(Md?Lb(1,b):Ld.call(null,1,b)))return new X(null,1,5,Y,[a],null);if(x(Md?Lb(2,b):Ld.call(null,2,b)))return new X(null,2,5,Y,["",a],null);b-=2;return ad.B(lf(U("",uf(lf(Z.B(C,J(a))),0,b))),a.substring(b))}
function ak(a,b){var c=/-/;if("/(?:)/"===C.j(c))c=Zj(a,b);else if(1>b)c=lf(C.j(a).split(c));else a:for(var d=b,e=bd;;){if(1===d){c=ad.B(e,a);break a}if("string"===typeof a){var f=c.exec(a);var h=null==f?null:1===S(f)?M(f):lf(f)}else throw new TypeError("re-find must match against a string.");if(null!=h)f=a.indexOf(h),h=a.substring(f+S(h)),--d,e=ad.B(e,a.substring(0,f)),a=h;else{c=ad.B(e,a);break a}}if(0===b&&1<S(c))a:for(b=c;;)if(""===(null==b?null:Ab(b)))b=null==b?null:Bb(b);else break a;else b=
c;return b};function bk(a,b,c){if(Nd(c)){var d=me(Qd,Z.B(a,c));return b.j?b.j(d):b.call(null,d)}return mf(c)?(d=new df(function(){var e=wb(c);return a.j?a.j(e):a.call(null,e)}(),function(){var e=xb(c);return a.j?a.j(e):a.call(null,e)}()),b.j?b.j(d):b.call(null,d)):yd(c)?(d=Fg(Z.B(a,c)),b.j?b.j(d):b.call(null,d)):td(c)?(d=bb.D(function(e,f){return ad.B(e,a.j?a.j(f):a.call(null,f))},c,c),b.j?b.j(d):b.call(null,d)):pd(c)?(d=Ne.B(dd(c),Z.B(a,c)),b.j?b.j(d):b.call(null,d)):b.j?b.j(c):b.call(null,c)}
var ck=function ck(a,b){return bk(Ae.B(ck,a),a,b)};function dk(a){function b(c){var d=V(c,0,null);c=V(c,1,null);return"string"===typeof d?new X(null,2,5,Y,[Td.j(d),c],null):new X(null,2,5,Y,[d,c],null)}return ck(function(c){return sd(c)?Ne.B(te,Z.B(b,c)):c},a)};var ek="undefined"!==typeof window&&null!=window.document,fk=new xg(null,new w(null,2,["aria",null,"data",null],null),null);function gk(a){return 2>S(a)?a.toUpperCase():[a.substring(0,1).toUpperCase(),a.substring(1)].join("")}function hk(a){if("string"===typeof a)return a;a=Ud(a);var b=ak(a,0);var c=J(b);b=M(c);c=P(c);return x(fk.j?fk.j(b):fk.call(null,b))?a:ne(C,b,Z.B(gk,c))}
function ik(a){var b=function(){if(id(a)){var c=a.displayName;c=x(c)?c:a.name}else c=!1;if(x(c))return c;c=null!=a&&(a.$&4096||v===a.xc)?Ud(a):!1;if(x(c))return c;c=md(a);return sd(c)?fj.j(c):null}();return Xj(C.j(b),"$",".")}var jk=!1;var kk=Tj(11,{});var lk=0;function mk(a){return setTimeout(a,16)}var nk=ek?function(){var a=window,b=a.requestAnimationFrame;if(x(b))return b;b=a.webkitRequestAnimationFrame;if(x(b))return b;b=a.mozRequestAnimationFrame;if(x(b))return b;a=a.msRequestAnimationFrame;return x(a)?a:mk}():mk;function ok(a,b){return a.cljsMountOrder-b.cljsMountOrder}function pk(){return null}function qk(){this.bc=!1}g=qk.prototype;
g.run_funs=function(a){var b=this[a];if(null==b)return null;this[a]=null;a=b.length;for(var c=0;;)if(c<a){var d=b[c];d.N?d.N():d.call(null);c+=1}else return null};g.flush_after_render=function(){return this.run_funs("afterRender")};g.queue_render=function(a){return this.enqueue("componentQueue",a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.bc)return null;this.bc=!0;return nk.j?nk.j(a):nk.call(null,a)};
g.flush_queues=function(){this.run_funs("beforeFlush");pk();var a=this.componentQueue;if(null!=a)a:{this.componentQueue=null,a.sort(ok);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return this.flush_after_render()};g.run_queues=function(){this.bc=!1;return this.flush_queues()};g.enqueue=function(a,b){null==this[a]&&(this[a]=[]);this[a].push(b);return this.schedule()};g.add_before_flush=function(a){return this.enqueue("beforeFlush",a)};
g.add_after_render=function(a){return this.enqueue("afterRender",a)};var rk=new qk;function sk(a){if(x(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return rk.queue_render(a)};var tk=function tk(a){switch(arguments.length){case 1:return tk.j(arguments[0]);case 2:return tk.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return tk.I(arguments[0],arguments[1],c)}};tk.j=function(a){return a};tk.B=function(a,b){return S(a)<S(b)?bb.D(function(c,d){return Bd(b,d)?nd.B(c,d):c},a,a):bb.D(nd,a,b)};tk.I=function(a,b,c){return bb.D(tk,a,ad.B(c,b))};
tk.Y=function(a){var b=M(a),c=P(a);a=M(c);c=P(c);return this.I(b,a,c)};tk.R=2;var uk;function vk(a,b){b.captured=null;a:{var c=uk;uk=b;try{var d=a.N?a.N():a.call(null);break a}finally{uk=c}d=void 0}a=b.captured;b.mb=!1;a:{c=b.xb;var e=null==a?0:a.length;if(e===(null==c?0:c.length))for(var f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=!1}c||b._update_watching(a);return d}function wk(a){var b=uk;if(null!=b){var c=b.captured;null==c?b.captured=[a]:c.push(a)}}function xk(a,b,c){a.za=fd.D(a.za,b,c);return a.uc=null}
function yk(a,b){a.za=hd.B(a.za,b);return a.uc=null}function zk(a,b,c){var d=a.uc;d=null==d?a.uc=Ed(function(l,m,n){l.push(m);l.push(n);return l},[],a.za):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.T?k.T(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function Ak(a,b,c,d){F(b,["#\x3c",C.j(d)," "].join(""));a:{d=uk;uk=null;try{var e=E(a);break a}finally{uk=d}e=void 0}Qg(e,b,c);return F(b,"\x3e")}var Bk=null;
function Ck(){for(;;){var a=Bk;if(null==a)return null;Bk=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}pk=Ck;function Dk(a,b,c,d){this.state=a;this.meta=b;this.tc=c;this.za=d;this.F=2154201088;this.$=114690}g=Dk.prototype;g.ea=function(a,b,c){return Ak(this,b,c,"Atom:")};g.ja=function(){return this.meta};g.da=function(){return ba(this)};g.P=function(a,b){return this===b};g.Ya=function(a,b){a=this.state;this.state=b;null!=this.za&&zk(this,a,b);return b};
g.jc=function(a,b){return this.Ya(null,b.j?b.j(this.state):b.call(null,this.state))};g.kc=function(a,b,c){return this.Ya(null,b.B?b.B(this.state,c):b.call(null,this.state,c))};g.lc=function(a,b,c,d){return this.Ya(null,b.D?b.D(this.state,c,d):b.call(null,this.state,c,d))};g.mc=function(a,b,c,d,e){return this.Ya(null,oe(b,this.state,c,d,e))};g.nc=function(a,b){zk(this,a,b)};g.Yb=function(a,b,c){return xk(this,b,c)};g.Zb=function(a,b){return yk(this,b)};
g.ma=function(a,b){return new Dk(this.state,b,this.tc,this.za)};g.ob=function(){wk(this);return this.state};var Ek=function Ek(a){switch(arguments.length){case 1:return Ek.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return Ek.I(arguments[0],c)}};Ek.j=function(a){return new Dk(a,null,null,null)};Ek.I=function(a,b){var c=null!=b&&(b.F&64||v===b.Ea)?me(rg,b):b;b=H.B(c,Ra);c=H.B(c,Fj);return new Dk(a,b,c,null)};
Ek.Y=function(a){var b=M(a);a=P(a);return this.I(b,a)};Ek.R=1;var Fk=function Fk(a){if(null!=a&&null!=a.sc)return a.sc(a);var c=Fk[u(null==a?null:a)];if(null!=c)return c.j?c.j(a):c.call(null,a);c=Fk._;if(null!=c)return c.j?c.j(a):c.call(null,a);throw B("IDisposable.dispose!",a);};function Gk(a,b,c,d){return a._handle_change(b,c,d)}function Hk(a){this.nb=a;this.state=null;this.mb=!0;this.Dc=!1;this.dc=this.fb=this.za=this.xb=null;this.F=2153807872;this.$=114690}g=Hk.prototype;
g._peek_at=function(){var a=uk;uk=null;try{return this.ob(null)}finally{uk=a}};g._handle_change=function(a,b,c){return b===c||this.mb?null:null==this.fb?(this.mb=!0,null==Bk&&(Bk=[],!1===rk.bc&&rk.schedule()),Bk.push(this)):!0===this.fb?this._run(!1):this.fb.j?this.fb.j(this):this.fb.call(null,this)};
g._update_watching=function(a){var b=Ag(a),c=Ag(this.xb);this.xb=a;a=J(tk.B(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.ga(null,f);Wb(h,this,Gk);f+=1}else if(a=J(a))d=a,vd(d)?(a=cc(d),f=dc(d),d=a,e=S(a),a=f):(a=M(d),Wb(a,this,Gk),a=P(d),d=null,e=0),f=0;else break;b=J(tk.B(c,b));c=null;for(e=d=0;;)if(e<d)a=c.ga(null,e),Xb(a,this),e+=1;else if(b=J(b))c=b,vd(c)?(b=cc(c),d=dc(c),c=b,a=S(b),b=d,d=a):(a=M(c),Xb(a,this),b=P(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.mb&&null!=this.xb?this._run(!0):null};g._try_capture=function(a){try{return this.dc=null,vk(a,this)}catch(b){return this.dc=this.state=a=b,this.mb=!1}};g._run=function(a){var b=this.state;a=x(a)?this._try_capture(this.nb):vk(this.nb,this);this.Dc||(this.state=a,null==this.za||Q.B(b,a)||zk(this,b,a));return a};
g._set_opts=function(a){var b=null!=a&&(a.F&64||v===a.Ea)?me(rg,a):a;a=H.B(b,Oh);var c=H.B(b,jj),d=H.B(b,Sh);b=H.B(b,ii);null!=a&&(this.fb=a);null!=c&&(this.$c=c);null!=d&&(this.Ec=d);return null!=b?this.Dc=b:null};g.ea=function(a,b,c){return Ak(this,b,c,["Reaction ",C.j(uc(this)),":"].join(""))};g.da=function(){return ba(this)};g.P=function(a,b){return this===b};
g.sc=function(){var a=this.state,b=this.xb;this.fb=this.state=this.xb=null;this.mb=!0;b=J(Ag(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.ga(null,e);Xb(f,this);e+=1}else if(b=J(b))c=b,vd(c)?(b=cc(c),e=dc(c),c=b,d=S(b),b=e):(b=M(c),Xb(b,this),b=P(c),c=null,d=0),e=0;else break;null!=this.Ec&&this.Ec(a);a=this.rd;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.j?d.j(this):d.call(null,this),c+=1;else return null};g.Ya=function(a,b){a=this.state;this.state=b;this.$c(a,b);zk(this,a,b);return b};
g.jc=function(a,b){var c=this;return c.Ya(null,function(){var d=c._peek_at();return b.j?b.j(d):b.call(null,d)}())};g.kc=function(a,b,c){var d=this;return d.Ya(null,function(){var e=d._peek_at();return b.B?b.B(e,c):b.call(null,e,c)}())};g.lc=function(a,b,c,d){var e=this;return e.Ya(null,function(){var f=e._peek_at();return b.D?b.D(f,c,d):b.call(null,f,c,d)}())};g.mc=function(a,b,c,d,e){return this.Ya(null,oe(b,this._peek_at(),c,d,e))};g.nc=function(a,b){zk(this,a,b)};
g.Yb=function(a,b,c){return xk(this,b,c)};g.Zb=function(a,b){a=od(this.za);yk(this,b);return!a&&od(this.za)&&null==this.fb?this.sc(null):null};g.ob=function(){var a=this.dc;if(null!=a)throw a;(a=null==uk)&&Ck();a&&null==this.fb?this.mb&&(a=this.state,this.state=this.nb.N?this.nb.N():this.nb.call(null),null==this.za||Q.B(a,this.state)||zk(this,a,this.state)):(wk(this),this.mb&&this._run(!1));return this.state};
function Ik(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new K(b.slice(1),0,null):null;b=arguments[0];var e=null!=c&&(c.F&64||v===c.Ea)?me(rg,c):c;c=H.B(e,Oh);d=H.B(e,jj);e=H.B(e,Sh);b=new Hk(b);b._set_opts(new w(null,3,[Oh,c,jj,d,Sh,e],null));return b}var Jk=Ik(null);function Kk(a,b){var c=Lk,d=Jk,e=vk(a,d);null!=d.xb&&(Jk=Ik(null),d._set_opts(c),d.nb=a,d.fb=function(){return sk.j?sk.j(b):sk.call(null,b)},b.cljsRatom=d);return e};var Mk;function Nk(a,b){var c=b.argv;if(null==c){c=Y;a=a.constructor;a:for(var d=xa(b),e=d.length,f=te,h=0;;)if(h<e){var k=d[h];f=fd.D(f,Td.j(k),b[k]);h+=1}else break a;b=new X(null,2,5,c,[a,f],null)}else b=c;return b}function Ok(a){var b;if(b=id(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.reagentRender);return b}var Pk=null;
function Qk(a){for(;;){var b=a.reagentRender,c=!0===a.cljsLegacyRender?b.call(a,a):function(){var d=Nk(a,a.props);switch(S(d)){case 1:return b.call(a);case 2:return b.call(a,Rc(d,1));case 3:return b.call(a,Rc(d,1),Rc(d,2));case 4:return b.call(a,Rc(d,1),Rc(d,2),Rc(d,3));case 5:return b.call(a,Rc(d,1),Rc(d,2),Rc(d,3),Rc(d,4));default:return b.apply(a,ab(d).slice(1))}}();if(ud(c))return Pk.j?Pk.j(c):Pk.call(null,c);if(Ad(c))c=Ok(c)?function(d,e,f,h){return function(){function k(m){var n=null;if(0<arguments.length){n=
0;for(var p=Array(arguments.length-0);n<p.length;)p[n]=arguments[n+0],++n;n=new K(p,0,null)}return l.call(this,n)}function l(m){m=ne(pf,h,m);return Pk.j?Pk.j(m):Pk.call(null,m)}k.R=0;k.Y=function(m){m=J(m);return l(m)};k.I=l;return k}()}(a,b,null,c):c,a.reagentRender=c;else return c}}
var Lk=new w(null,1,[ii,!0],null),Rk=new w(null,1,[Nh,function(){var a=this,b=a.cljsRatom;a.cljsIsDirty=!1;return null==b?Kk(function(){a:{var c=Mk;Mk=a;try{var d=Qk(a);break a}finally{Mk=c}d=void 0}return d},a):b._run(!1)}],null);
function Sk(a,b){switch(a instanceof I?a.Za:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getInitialState":return function(){var c=this.cljsState;c=null!=c?c:this.cljsState=Ek.j(null);return De(c,b.call(this,this))};case "componentWillReceiveProps":return function(c){return b.call(this,this,Nk(this,c))};case "shouldComponentUpdate":return function(c){var d=jk;if(x(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;return null==b?f||!Q.B(d,e):f?b.call(this,
this,Nk(this,this.props),Nk(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c){return b.call(this,this,Nk(this,c))};case "componentDidUpdate":return function(c){return b.call(this,this,Nk(this,c))};case "componentWillMount":return function(){this.cljsMountOrder=lk+=1;return null==b?null:b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=this.cljsRatom;null!=c&&Fk(c);this.cljsIsDirty=
!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,d){return b.call(this,this,c,d)};default:return null}}function Tk(a,b){a=Sk(a,b);return x(a)?a:b}var Uk=new w(null,3,[Jj,null,Pj,null,si,null],null),Vk=function(a){var b=new Ce(te);return function(c){var d=H.B(E(b),c);if(null!=d)return d;d=a.j?a.j(c):a.call(null,c);Ee.T(b,fd,c,d);return d}}(hk);function Wk(a){return Ed(function(b,c,d){return fd.D(b,Td.j(Vk(c)),d)},te,a)}
function Xk(a){var b=function(){var f=ej.j(a);return x(f)?f:Ri.j(a)}(),c=null==b,d=x(b)?b:Nh.j(a);b=C.j(function(){var f=Si.j(a);return x(f)?f:ik(d)}());switch(b){case "":b=C.j(ah())}var e=Ed(function(f,h,k){return fd.D(f,h,Tk(h,k))},te,a);return fd.I(e,Si,b,Wc([Gj,!1,cj,c,ej,d,Nh,Nh.j(Rk)]))}function Yk(a){return Ed(function(b,c,d){b[Ud(c)]=d;return b},{},a)}function Zk(a){return Yk(Xk(vg.I(Wc([Uk,Wk(a)]))))};var $k=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/;function al(a){return a instanceof I||a instanceof wc}var bl={"class":"className","for":"htmlFor",charset:"charSet"};function cl(a,b,c){if(al(b)){var d=Ud(b);d=bl.hasOwnProperty(d)?bl[d]:null;b=null==d?bl[Ud(b)]=hk(b):d}a[b]=dl.j?dl.j(c):dl.call(null,c);return a}
function dl(a){return"object"!==u(a)?a:al(a)?Ud(a):sd(a)?Ed(cl,{},a):pd(a)?eh(a):Ad(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return me(a,d)}b.R=0;b.Y=function(d){d=J(d);return c(d)};b.I=c;return b}():eh(a)}function el(a,b,c){a=null==a?{}:a;a[b]=c;return a}
var fl=null,gl=new xg(null,new w(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function hl(a,b,c,d,e){e=null!=e&&(e.F&64||v===e.Ea)?me(rg,e):e;e=H.B(e,Aj);if(a===document.activeElement&&Bd(gl,a.type)&&"string"===typeof b&&"string"===typeof c){var f=a.value;if(!Q.B(f,c))return rk.add_after_render(function(){return il.j?il.j(d):il.call(null,d)});c=S(f)-a.selectionStart;c=S(b)-c;d.cljsDOMValue=b;a.value=b;id(e)&&(e.j?e.j(b):e.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.cljsDOMValue=b;a.value=b;return id(e)?e.j?e.j(b):e.call(null,b):null}
function il(a){if(x(a.cljsInputLive)){a.cljsInputDirty=!1;var b=a.cljsRenderedValue,c=a.cljsDOMValue,d=fl.j?fl.j(a):fl.call(null,a),e=a.cljsSyntheticOnUpdate;return Q.B(b,c)?null:id(e)?e.ca?e.ca(hl,d,b,c,a):e.call(null,hl,d,b,c,a):hl(d,b,c,a,te)}return null}function jl(a,b,c){a.cljsDOMValue=c.target.value;x(a.cljsInputDirty)||(a.cljsInputDirty=!0,rk.add_after_render(function(){return il(a)}));return b.j?b.j(c):b.call(null,c)}
function kl(a,b){var c=Mk;b=null!=b&&(b.F&64||v===b.Ea)?me(rg,b):b;var d=H.B(b,kj);b=H.B(b,di);if(x(null!=a?function(){var h=a.hasOwnProperty("onChange");return x(h)?a.hasOwnProperty("value"):h}():!1)){x(d)&&(c.cljsSyntheticOnUpdate=d);d=a.value;d=null==d?"":d;var e=a.onChange,f=x(b)?Ae.B(b,e):e;x(c.cljsInputLive)||(c.cljsInputLive=!0,c.cljsDOMValue=d);c.cljsRenderedValue=d;delete a.value;a.defaultValue=d;a.onChange=function(h){return jl(c,f,h)}}}function ll(a){return a.cljsInputLive=null}
var ml=null,nl=null,pl=new w(null,4,[xi,"ReagentInput",sj,il,Ei,ll,li,function(a,b,c,d){kl(c,te);return ol.T?ol.T(a,b,c,d):ol.call(null,a,b,c,d)}],null),ql=new w(null,4,[xi,"ReagentSyntheticInput",sj,il,Ei,ll,li,function(a,b,c,d,e,f){kl(e,new w(null,2,[kj,a,di,b],null));return ol.T?ol.T(c,d,e,f):ol.call(null,c,d,e,f)}],null);function rl(a){if(sd(a))try{var b=H.B(a,Bj)}catch(c){b=null}else b=null;return b}var sl={};
function tl(a,b,c){var d=a.name,e=a.syntheticInput,f=V(b,c,null),h=null==f||sd(f),k=h?f:null;f=dl;k=null!=k&&(k.F&64||v===k.Ea)?me(rg,k):k;var l=H.B(k,aj);k=pd(l)?fd.D(k,aj,Yj(" ",Me(Fd,l))):k;f=f(k);k=a.id;f=null!=k&&null==(null==f?null:f.id)?el(f,"id",k):f;k=a.className;null!=k&&(l=null==f?null:f.className,f=el(f,"className",null==l?k:[C.j(k)," ",C.j(l)].join("")));c+=h?1:0;if(x(e))h=e;else a:switch(d){case "input":case "textarea":h=!0;break a;default:h=!1}if(x(h))return x(e)?(e=Y,null==nl&&(nl=
kk(Zk(ql))),d=new X(null,7,5,e,[nl,a.syntheticOnUpdate,a.syntheticOnChange,b,d,f,c],null)):(a=Y,null==ml&&(ml=kk(Zk(pl))),d=new X(null,5,5,a,[ml,b,d,f,c],null)),b=ld(d,md(b)),ul.j?ul.j(b):ul.call(null,b);a=rl(md(b));a=null==a?f:el(f,"key",a);return ol.T?ol.T(b,d,a,c):ol.call(null,b,d,a,c)}
function wl(a){for(;;){var b=V(a,0,null);if(al(b)||"string"===typeof b){b=Ud(b);var c=b.indexOf("\x3e");switch(c){case -1:c=b;b=sl;var d=c;b=b.hasOwnProperty(d)?b[d]:null;if(null==b){b=c;var e=P(Gg($k,Ud(c)));c=V(e,0,null);d=V(e,1,null);e=V(e,2,null);e=null==e?null:Xj(e,/\./," ");b=sl[b]={name:c,id:d,className:e}}return tl(b,a,1);case 0:return b=V(a,1,null),tl({name:b},a,2);default:a=new X(null,2,5,Y,[b.substring(0,c),fd.D(a,0,b.substring(c+1))],null)}}else return c=b.cljsReactClass,null==c?Ok(b)?
b=b.cljsReactClass=b:(c=md(b),c=fd.D(c,li,b),c=kk(Zk(c)),b=b.cljsReactClass=c):b=c,c={argv:a},d=rl(md(a)),a=null==d?rl(V(a,1,null)):d,null!=a&&(c.key=a),Uj.createElement(b,c)}}function ul(a){return"object"!==u(a)?a:ud(a)?wl(a):yd(a)?xl.j?xl.j(a):xl.call(null,a):al(a)?Ud(a):(null!=a?a.F&2147483648||v===a.qa||(a.F?0:y(Ub,a)):y(Ub,a))?Vg(Wc([a]),Oa()):a}Pk=ul;function xl(a){a=ab(a);for(var b=a.length,c=0;;)if(c<b)a[c]=ul(a[c]),c+=1;else break;return a}
function ol(a,b,c,d){switch(S(a)-d){case 0:return Uj.createElement(b,c);case 1:return Uj.createElement(b,c,ul(V(a,d,null)));default:return Uj.createElement.apply(null,Ed(function(e,f,h){f>=d&&e.push(ul(h));return e},[b,c],a))}};var yl=Tj(20,{});var zl=new Ce(te);function Al(a,b,c){var d=jk;jk=!0;try{return yl.render(a.N?a.N():a.call(null),b,function(){var e=jk;jk=!1;try{return Ee.T(zl,fd,b,new X(null,2,5,Y,[a,b],null)),rk.flush_after_render(),null!=c?c.N?c.N():c.call(null):null}finally{jk=e}})}finally{jk=d}}function Bl(a,b){return Al(a,b,null)}function Cl(a,b,c){Ck();return Al(function(){return ul(id(a)?a.N?a.N():a.call(null):a)},b,c)}function Dl(a){return yl.findDOMNode(a)}fl=Dl;function El(a){switch(arguments.length){case 2:return Cl(arguments[0],arguments[1],null);case 3:return Cl(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.j(arguments.length)].join(""));}}function Fl(a,b){return Cl(a,b,null)}
ea("reagent.core.force_update_all",function(){Ck();Ck();for(var a=J(Lf(E(zl))),b=null,c=0,d=0;;)if(d<c){var e=b.ga(null,d);me(Bl,e);d+=1}else if(a=J(a))b=a,vd(b)?(a=cc(b),d=dc(b),b=a,c=S(a),a=d):(a=M(b),me(Bl,a),a=P(b),b=null,c=0),d=0;else break;return rk.flush_after_render()});var Gl={},Hl;function Il(){return Fa("iPhone")&&!Fa("iPod")&&!Fa("iPad")};var Jl=Fa("Opera"),Kl=Fa("Trident")||Fa("MSIE"),Ll=Fa("Edge"),Ml=Fa("Gecko")&&!(za("WebKit")&&!Fa("Edge"))&&!(Fa("Trident")||Fa("MSIE"))&&!Fa("Edge"),Nl=za("WebKit")&&!Fa("Edge");Nl&&Fa("Mobile");Fa("Macintosh");Fa("Windows");Fa("Linux")||Fa("CrOS");var Ol=aa.navigator||null;Ol&&(Ol.appVersion||"").indexOf("X11");Fa("Android");Il();Fa("iPad");Fa("iPod");Il()||Fa("iPad")||Fa("iPod");za("KaiOS");za("GAFP");function Pl(){var a=aa.document;return a?a.documentMode:void 0}var Ql;
a:{var Rl="",Sl=function(){var a=Aa;if(Ml)return/rv:([^\);]+)(\)|;)/.exec(a);if(Ll)return/Edge\/([\d\.]+)/.exec(a);if(Kl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Nl)return/WebKit\/(\S+)/.exec(a);if(Jl)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Sl&&(Rl=Sl?Sl[1]:"");if(Kl){var Tl=Pl();if(null!=Tl&&Tl>parseFloat(Rl)){Ql=String(Tl);break a}}Ql=Rl}var ha={};
function Ul(a){return fa(a,function(){{var b=0;const e=ya(String(Ql)).split("."),f=ya(String(a)).split("."),h=Math.max(e.length,f.length);for(let k=0;0==b&&k<h;k++){var c=e[k]||"",d=f[k]||"";do{c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""];d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""];if(0==c[0].length&&0==d[0].length)break;b=Ba(0==c[1].length?0:parseInt(c[1],10),0==d[1].length?0:parseInt(d[1],10))||Ba(0==c[2].length,0==d[2].length)||Ba(c[2],d[2]);c=c[3];d=d[3]}while(0==b)}}return 0<=b})}var Vl;
Vl=aa.document&&Kl?Pl():void 0;!Ml&&!Kl||Kl&&9<=Number(Vl)||Ml&&Ul("1.9.1");Kl&&Ul("9");(function(a){if("undefined"===typeof Ia||"undefined"===typeof Ja||"undefined"===typeof Gl||"undefined"===typeof Hl)Hl=function(b,c,d){this.nb=b;this.Gc=c;this.Zc=d;this.F=393216;this.$=0},Hl.prototype.ma=function(b,c){return new Hl(this.nb,this.Gc,c)},Hl.prototype.ja=function(){return this.Zc},Hl.Xc=function(){return new X(null,3,5,Y,[Ii,Ij,hi],null)},Hl.pc=!0,Hl.Nb="cljs.core.async/t_cljs$core$async40763",Hl.Cc=function(b){return F(b,"cljs.core.async/t_cljs$core$async40763")};return new Hl(a,!0,
te)})(function(){return null});function Wl(a,b,c,d){var e=S(b);a=x(a)?0:10<e?10:e;b=Z.B(Ae.B(Gh,!0),Ge(a,b));b=me(C,He(1,Le.B(new Ke(null,-1," ",null),b)));e=a<e?"...":null;return[C.j(c),C.j(b),e,C.j(d)].join("")}function Ch(a,b){return null==b?qj:"string"===typeof b?Vh:b instanceof I?ri:"number"===typeof b?ri:b instanceof wc?ri:ud(b)?Di:Nd(b)?yj:sd(b)?Ui:qd(b)?oi:Q.B(b,!0)?ri:Q.B(b,!1)?ri:Xa(b)}var Gh,yh=new Ce(te),zh=new Ce(te),Ah=new Ce(te),Bh=new Ce(te),xh=H.D(te,mi,lh.N?lh.N():lh.call(null));Gh=new wh;
Fh(Vh,function(a,b){a=x(a)?5:20;var c=b.length>a?'..."':'"',d=b.length;return['"',C.j(b.substring(0,a<d?a:d)),c].join("")});Fh(ri,function(a,b){return C.j(b)});Fh(K,function(){return"\x3cindexed seq\x3e"});Fh(If,function(){return"\x3cmap seq\x3e"});Fh(jg,function(){return"\x3cmap seq\x3e"});Fh(Rd,function(){return"\x3ccons\x3e"});Fh(Vd,function(){return"\x3clazy seq\x3e"});Fh(qj,function(){return"nil"});Fh(yj,function(a,b){return Wl(a,b,"(",")")});
Fh(Ui,function(a,b){var c=S(b),d=x(a)?0:c;b=me(de,Ge(d,b));return Wl(a,b,"{",c>d?"...}":"}")});Fh(oi,function(a,b){return Wl(a,b,"#{","}")});Fh(Di,function(a,b){return Wl(a,b,"[","]")});Fh(Dh,function(a,b){return Vg(Wc([Xa(b)]),Oa())});new Ha;var Xl=function(){var a=new X(null,13,5,Y,[null,31,28,31,30,31,30,31,31,30,31,30,31],null),b=new X(null,13,5,Y,[null,31,29,31,30,31,30,31,31,30,31,30,31],null);return function(c,d){return H.B(x(d)?b:a,c)}}(),Yl=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/;function Zl(a){a=parseInt(a,10);return Wa(isNaN(a))?a:null}
function $l(a,b,c,d){if(!(a<=b&&b<=c))throw Error([C.j(d)," Failed:  ",C.j(a),"\x3c\x3d",C.j(b),"\x3c\x3d",C.j(c)].join(""));return b}
function am(a){var b=Gg(Yl,a);V(b,0,null);var c=V(b,1,null),d=V(b,2,null),e=V(b,3,null),f=V(b,4,null),h=V(b,5,null),k=V(b,6,null),l=V(b,7,null),m=V(b,8,null),n=V(b,9,null),p=V(b,10,null);if(Wa(b))throw Error(["Unrecognized date/time syntax: ",C.j(a)].join(""));a=Zl(c);b=function(){var z=Zl(d);return x(z)?z:1}();c=function(){var z=Zl(e);return x(z)?z:1}();var q=function(){var z=Zl(f);return x(z)?z:0}(),r=function(){var z=Zl(h);return x(z)?z:0}(),t=function(){var z=Zl(k);return x(z)?z:0}(),A=function(){a:if(Q.B(3,
S(l)))var z=l;else if(3<S(l))z=l.substring(0,3);else for(z=new Ha(l);;)if(3>z.getLength())z=z.append("0");else{z=z.toString();break a}z=Zl(z);return x(z)?z:0}();m=(Q.B(m,"-")?-1:1)*(60*function(){var z=Zl(n);return x(z)?z:0}()+function(){var z=Zl(p);return x(z)?z:0}());return new X(null,8,5,Y,[a,$l(1,b,12,"timestamp month field must be in range 1..12"),$l(1,c,Xl(b,0===(a%4+4)%4&&(0!==(a%100+100)%100||0===(a%400+400)%400)),"timestamp day field must be in range 1..last day in month"),$l(0,q,23,"timestamp hour field must be in range 0..23"),
$l(0,r,59,"timestamp minute field must be in range 0..59"),$l(0,t,Q.B(r,59)?60:59,"timestamp second field must be in range 0..60"),$l(0,A,999,"timestamp millisecond field must be in range 0..999"),m],null)}
vg.I(Wc([new w(null,4,[bj,function(a){if("string"===typeof a){var b=am(a);if(x(b)){a=V(b,0,null);var c=V(b,1,null),d=V(b,2,null),e=V(b,3,null),f=V(b,4,null),h=V(b,5,null),k=V(b,6,null);b=V(b,7,null);b=new Date(Date.UTC(a,c-1,d,e,f,h,k)-6E4*b)}else throw Error(["Unrecognized date/time syntax: ",C.j(a)].join(""));return b}throw Error("Instance literal expects a string for its timestamp.");},Mj,function(a){if("string"===typeof a)return new Hh(a.toLowerCase());throw Error("UUID literal expects a string as its representation.");
},Oj,function(a){if(ud(a))return Ne.B(Bf,a);throw Error("Queue literal expects a vector for its elements.");},Ji,function(a){if(ud(a)){var b=[];a=J(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.ga(null,e);b.push(f);e+=1}else if(a=J(a))c=a,vd(c)?(a=cc(c),e=dc(c),c=a,d=S(a),a=e):(a=M(c),b.push(a),a=P(c),c=null,d=0),e=0;else break;return b}if(sd(a)){b={};a=J(a);c=null;for(e=d=0;;)if(e<d){var h=c.ga(null,e);f=V(h,0,null);h=V(h,1,null);f=Ud(f);b[f]=h;e+=1}else if(a=J(a))vd(a)?(d=cc(a),a=dc(a),c=d,d=S(d)):
(d=M(a),c=V(d,0,null),d=V(d,1,null),c=Ud(c),b[c]=d,a=P(a),c=null,d=0),e=0;else break;return b}throw Error("JS literal expects a vector or map containing only string or unqualified keyword keys");}],null),te]));function bm(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\- \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(e,f,h,k,l,m,n,p){if("%"==m)return"%";var q=c.shift();if("undefined"==typeof q)throw Error("[goog.string.format] Not enough arguments");arguments[0]=q;return bm.ib[m].apply(null,arguments)})}bm.ib={};
bm.ib.s=function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?a+Ga(" ",Number(c)-a.length):Ga(" ",Number(c)-a.length)+a};
bm.ib.f=function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));var f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-f.length;0<=b.indexOf("-",0)?d=f+d+Ga(" ",a):(b=0<=b.indexOf("0",0)?"0":" ",d=f+Ga(b,a)+d);return d};bm.ib.d=function(a,b,c,d,e,f,h,k){return bm.ib.f(parseInt(a,10),b,c,d,0,f,h,k)};
bm.ib.i=bm.ib.d;bm.ib.u=bm.ib.d;Kl&&Ul("9");!Nl||Ul("528");Ml&&Ul("1.9b")||Kl&&Ul("8")||Jl&&Ul("9.5")||Nl&&Ul("528");Ml&&!Ul("8")||Kl&&Ul("9");var cm=new X(null,3,5,Y,[2,96,0],null);function dm(a){return"string"===typeof a?Q.B(a,"")?null:a:null}function em(a){return"number"===typeof a?Id(a):"string"===typeof a?(a=parseInt(a,10),x(isNaN(a))?null:a):null}Q.B("default","nodejs");function fm(a){a=ak(C.j(a),2);var b=V(a,0,null);a=V(a,1,null);var c=/\d+/;if("string"===typeof b)b=Hg(c,b);else throw new TypeError("re-seq must match against a string.");b=x(b)?Oe(em,b):null;return new w(null,2,[Yh,b,Pi,x(a)?a.toLowerCase():null],null)}
function gm(a){var b=V(cm,0,null),c=V(cm,1,null),d=V(cm,2,null),e=ud(a)?a:Yh.j(fm(a));a=V(e,0,null);var f=V(e,1,null);e=V(e,2,null);e=Oe(function(h){return x(h)?h:0},new X(null,3,5,Y,[a,f,e],null));a=V(e,0,null);f=V(e,1,null);e=V(e,2,null);if(!(b>a||Q.B(b,a)&&(c>f||Q.B(c,f)&&d>=e)))throw Jh("Insufficient `com.taoensso/encore` version, you may have a dependency conflict: see http://goo.gl/qBbLvC for solutions.",new w(null,2,[Ph,Yj(".",new X(null,3,5,Y,[a,f,e],null)),Yi,Yj(".",new X(null,3,5,Y,[b,c,
d],null))],null));}var hm=function hm(a){switch(arguments.length){case 2:return hm.B(arguments[0],arguments[1]);case 3:return hm.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.j(arguments.length)].join(""));}};hm.B=function(a,b){b=0>b?0:b;var c=S(a);return b>=c?bd:uf(a,b,c)};hm.D=function(a,b,c){b=0>b?0:b;var d=Id(S(a));c=c>d?d:c;return b>=c?bd:uf(a,b,c)};hm.R=3;
var im=function im(a){switch(arguments.length){case 2:return im.B(arguments[0],arguments[1]);case 3:return im.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.j(arguments.length)].join(""));}};im.B=function(a,b){var c=S(a);return 0>b?(b+=c,uf(a,0>b?0:b,c)):b>=c?bd:uf(a,b,c)};im.D=function(a,b,c){if(0>=c)return bd;var d=Id(S(a));if(0>b)return b+=d,b=0>b?0:b,c=b+c,uf(a,b,c>d?d:c);c=b+c;d=c>d?d:c;return b>=d?bd:uf(a,b,d)};im.R=3;Ae.B(bb,de);
var jm=function jm(a){switch(arguments.length){case 2:return jm.B(arguments[0],arguments[1]);case 3:return jm.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.j(arguments.length)].join(""));}};jm.B=function(a,b){return a.substring(b)};jm.D=function(a,b,c){return b>=c?"":a.substring(b,c)};jm.R=3;
var km=function km(a){switch(arguments.length){case 2:return km.B(arguments[0],arguments[1]);case 3:return km.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.j(arguments.length)].join(""));}};km.B=function(a,b){return dm(a.substr(b))};km.D=function(a,b,c){return dm(a.substr(b,c))};km.R=3;var lm=function lm(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return lm.I(c)};
lm.I=function(a){a=null!=a&&(a.F&64||v===a.Ea)?me(rg,a):a;var b=H.B(a,Mh),c=H.B(a,Ej),d=H.B(a,Nj),e=H.B(a,Kj),f=H.B(a,lj),h=H.B(a,$h),k=H.B(a,ai),l=H.B(a,Qh),m=H.B(a,Xh);Kf(a);return Math.round((x(m)?31536E6*m:0)+(x(e)?2551392E3*e:0)+(x(c)?6048E5*c:0)+(x(k)?864E5*k:0)+(x(l)?36E5*l:0)+(x(h)?6E4*h:0)+(x(f)?1E3*f:0)+(x(d)?d:0)+(x(b)?b:0))};lm.R=0;lm.Y=function(a){return this.I(J(a))};ze.B(function(a){return Jd(Id(a),1E3)},lm);
var mm=function(a){return new Fe(function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){throw Jh(["Attempting to call uninitialized stub fn (",C.j(a),")"].join(""),new w(null,2,[zj,a,pj,d],null));}b.R=0;b.Y=function(d){d=J(d);return c(d)};b.I=c;return b}())}("stub-test"),nm;
if(id(Fd))nm=Fd;else throw Jh("Unstub value must be a fn",new w(null,2,[gi,Fd,Ki,Xa(Fd)],null));(function om(a,b){if(null!=a&&null!=a.Ac)return a.Ac(a,b);var d=om[u(null==a?null:a)];if(null!=d)return d.B?d.B(a,b):d.call(null,a,b);d=om._;if(null!=d)return d.B?d.B(a,b):d.call(null,a,b);throw B("IVolatile.-vreset!",a);})(mm,nm);ze.B(qe,hm);ze.B(qe,im);ze.B(dm,jm);ze.B(dm,km);function pm(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new K(b.slice(0),0,null):null;return qm(b)}
function qm(a){V(a,0,null);return new w(null,6,[yi,!0,Mi,!1,xj,null,Xi,null,Dj,rj,oj,"undefined"!==typeof console?function(){function b(c){var d=function(){var e=c instanceof I?c.Za:null;switch(e){case "trace":return console.trace;case "debug":return console.debug;case "info":return console.info;case "warn":return console.warn;case "error":return console.error;case "fatal":return console.error;case "report":return console.info;default:throw Error(["No matching clause: ",C.j(e)].join(""));}}();return x(d)?
d:console.log}return function(c){var d=b(Lh.j(c));if(x(d)){if(x(function(){var h=ji.j(c);return x(h)?h:bb.D(H,c,new X(null,2,5,Y,[dj,ji],null))}())){var e=function(){var h=fd.I(c,tj,"",Wc([Gi,null])),k=Dj.j(c);return k.j?k.j(h):k.call(null,h)}(),f=function(){var h=gj.j(c),k=Gi.j(c);return x(k)?U(e,U(k,h)):U(e,h)}();return d.apply(console,ab(f))}return d.call(console,Hj.j(c))}return null}}():function(){return null}],null)};ud(cm)?gm(new X(null,3,5,Y,[2,87,0],null)):gm(2.87);var rm=function rm(a){switch(arguments.length){case 1:return rm.j(arguments[0]);case 2:return rm.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",C.j(arguments.length)].join(""));}};rm.j=function(a){return rm.B(null,a)};
rm.B=function(a,b){var c=null!=a&&(a.F&64||v===a.Ea)?me(rg,a):a,d=H.B(c,Oi);H.B(c,hj);var e=null!=b&&(b.F&64||v===b.Ea)?me(rg,b):b;b=H.B(e,Lh);c=H.B(e,Gi);var f=H.B(e,tj),h=H.B(e,$i),k=H.B(e,Ti);H.B(e,ci);H.B(e,mj);e=H.B(e,fi);return[Ud(b).toUpperCase()," [",C.j(x(h)?h:x(k)?k:"?"),":",C.j(x(e)?e:"?"),"] - ",C.j(f),x(d)?null:x(c)?["\n",C.j(sm?sm(c,a):tm.call(null,c,a))].join(""):null].join("")};rm.R=2;
var um=new w(null,6,[Lh,Ci,bi,bd,Fi,bd,vi,bd,Dj,rm,Hi,new w(null,1,[vj,pm.j?pm.j(te):pm.call(null,te)],null)],null);function vm(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new K(b.slice(1),0,null):null;return um=ne(arguments[0],um,b)}Ag(new X(null,7,5,Y,[ni,Ci,Cj,ij,ti,Wi,Zh],null));
a:for(var wm=new X(null,7,5,Y,[ni,Ci,Cj,ij,ti,Wi,Zh],null),xm=Number.MAX_VALUE,ym=P(0>=xm?N:new Dg(null,0,xm,1,null,null,null)),zm=Yb(te),Am=J(wm),Bm=J(ym);;)if(Am&&Bm){var Cm=fe(zm,M(Am),M(Bm)),Dm=P(Am),Em=P(Bm);zm=Cm;Am=Dm;Bm=Em}else{$b(zm);break a}function tm(a){switch(arguments.length){case 1:return sm(arguments[0],null);case 2:return sm(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",C.j(arguments.length)].join(""));}}function sm(a){return C.j(a)};ud(cm)?gm(new X(null,3,5,Y,[2,79,1],null)):gm(2.79);Q.B("default","nodejs");lm.I(Wc([lj,60]));var Fm="undefined"!=typeof Object.keys?function(a){return Object.keys(a)}:function(a){return xa(a)},Gm="undefined"!=typeof Array.isArray?function(a){return Array.isArray(a)}:function(a){return"array"===u(a)};function Hm(){Math.round(15*Math.random()).toString(16)};var Im=1;function Jm(a,b){if(null==a)return null==b;if(a===b)return!0;if("object"===typeof a){if(Gm(a)){if(Gm(b)&&a.length===b.length){for(var c=0;c<a.length;c++)if(!Jm(a[c],b[c]))return!1;return!0}return!1}if(a.Ob)return a.Ob(b);if(null!=b&&"object"===typeof b){if(b.Ob)return b.Ob(a);c=0;var d=Fm(b).length,e;for(e in a)if(a.hasOwnProperty(e)&&(c++,!b.hasOwnProperty(e)||!Jm(a[e],b[e])))return!1;return c===d}}return!1}function Km(a,b){return a^b+2654435769+(a<<6)+(a>>2)}var Lm={},Mm=0;
function Nm(a){var b=0;if(null!=a.forEach)a.forEach(function(h,k){b=(b+(Om(k)^Om(h)))%4503599627370496});else for(var c=Fm(a),d=0;d<c.length;d++){var e=c[d],f=a[e];b=(b+(Om(e)^Om(f)))%4503599627370496}return b}function Pm(a){var b=0;if(Gm(a))for(var c=0;c<a.length;c++)b=Km(b,Om(a[c]));else a.forEach&&a.forEach(function(d){b=Km(b,Om(d))});return b}
function Om(a){if(null==a)return 0;switch(typeof a){case "number":return a;case "boolean":return!0===a?1:0;case "string":var b=Lm[a];if(null!=b)a=b;else{for(var c=b=0;c<a.length;++c)b=31*b+a.charCodeAt(c),b%=4294967296;Mm++;256<=Mm&&(Lm={},Mm=1);a=Lm[a]=b}return a;case "function":return b=a.transit$hashCode$,b||(b=Im,"undefined"!=typeof Object.defineProperty?Object.defineProperty(a,"transit$hashCode$",{value:b,enumerable:!1}):a.transit$hashCode$=b,Im++),b;default:return a instanceof Date?a.valueOf():
Gm(a)?Pm(a):a.qc?a.qc():Nm(a)}};qa("9007199254740991");qa("-9007199254740991");ka.prototype.equiv=function(a){return Jm(this,a)};ka.prototype.equiv=ka.prototype.equiv;ka.prototype.Ob=function(a){return a instanceof ka&&this.equals(a)};ka.prototype.qc=function(){return this.oa};Date.prototype.Ob=function(a){return a instanceof Date?this.valueOf()===a.valueOf():!1};Date.prototype.qc=function(){return this.valueOf()};(8|3&Math.round(14*Math.random())).toString(16);Hm();Hm();Hm();Hm();Hm();Hm();Hm();Hm();Hm();Hm();Hm();Hm();Hm();Hm();Hm();Hm();Hm();Hm();Hm();Hm();Hm();Hm();Hm();Hm();Hm();Hm();Hm();Hm();Hm();Hm();Hh.prototype.P=function(a,b){return b instanceof Hh?this.wb===b.wb:!1};ka.prototype.P=function(a,b){return this.equiv(b)};ka.prototype.Pc=v;ka.prototype.da=function(){return Om(this)};var Qm=Tj(70,{});ea("vega",Qm);var Rm=Tj(71,{});ea("vl",Rm);var Sm=Tj(73,{});ea("vegaEmbed",Sm);var Tm=Tj(74,{});ea("vegaTooltip",Tm);(function(a){return vm(function(b){return fd.D(b,Lh,a)})})(Cj);Ua();function Um(a,b){if(x(a)){var c=eh(a);return vegaEmbed(b,c,eh(new w(null,2,[Rh,"canvas",Vi,"vega-lite"],null))).then(function(d){return vegaTooltip.vegaLite(d.view,c)}).catch(function(d){return console.log(d)})}return null}
function Vm(a){return kk(Zk(new w(null,4,[xi,"vega-lite",uj,function(b){return Um(a,Dl(b))},Ni,function(b,c){V(c,0,null);c=V(c,1,null);return Um(c,Dl(b))},li,function(){return new X(null,1,5,Y,[Uh],null)}],null)))};var Wm=Ek.j(new w(null,2,[Lj,"Tabla comparativa",Wh,te],null));function Xm(a){return bb.D(function(b,c){var d=null!=b&&(b.F&64||v===b.Ea)?me(rg,b):b;b=H.B(d,Ai);d=H.B(d,Qi);return new w(null,2,[Ai,ad.B(b,c.j?c.j(Ai):c.call(null,Ai)),Qi,ad.B(d,0<$c(b)?(c.j?c.j(Ai):c.call(null,Ai))/$c(b):0)],null)},new w(null,2,[Ai,new X(null,1,5,Y,[0],null),Qi,new X(null,1,5,Y,[0],null)],null),a)}
function Ym(){var a=Wh.j(E(Wm));return Ne.B(te,Z.B(function(b){var c=V(b,0,null);b=V(b,1,null);return new X(null,2,5,Y,[c,Xm(b)],null)},a))}function Zm(){return me(de,ne(Z,function(a){return Be(function(b,c){return new w(null,3,["País",a,"Día",b,"Crecimiento",c],null)},Je(function(b){return Q.B(0,b)},Qi.j(H.B(Ym(),a))))},Wc([Wc(["Mexico","Spain","US","Italy"])])))}
function $m(){return new X(null,4,5,Y,[wi,new w(null,1,[Li,new w(null,1,[Bi,"500px"],null)],null),new X(null,2,5,Y,[nj,"Tabla comparativa del aumento diario de casos de COVID-19"],null),new X(null,2,5,Y,[Vm,new w(null,6,[Wh,new w(null,1,[ki,Zm()],null),wj,new w(null,3,[qi,new w(null,2,[Zi,"Día",Ki,"quantitative"],null),pi,new w(null,2,[Zi,"Crecimiento",Ki,"quantitative"],null),ei,new w(null,2,[Zi,"País",Ki,"nominal"],null)],null),ui,"line",Bi,500,zi,500,Th,new w(null,1,[Kh,1],null)],null)],null)],
null)}(function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new K(b.slice(0),0,null):null;c=fd.D(Oa(),Qa,!1);Lg(Vg(b,c));x(Ma)?(b=Oa(),Lg("\n"),b=(H.B(b,Pa),null)):b=null;return b})();Qi.j(H.B(Ym(),"Mexico"));H.B(Ym(),"Mexico");
function an(){fetch("https://pomber.github.io/covid19/timeseries.json").then(function(c){return c.json()}).then(function(c){return Ee.T(Wm,fd,Wh,Ne.B(te,Z.B(dk,ih(c))))});var a=new X(null,1,5,Y,[$m],null),b=document.getElementById("app");return Fl?Cl(a,b,null):El.call(null,a,b)}ea("codiv_spread.core.init",function(){return an()});
}).call(this);